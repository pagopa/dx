<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Benchmark for Typescript Code Generators from OpenAPI | DX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pagopa.github.io/dx/pr-preview/pr-518/img/pagopa-logo.png"><meta data-rh="true" name="twitter:image" content="https://pagopa.github.io/dx/pr-preview/pr-518/img/pagopa-logo.png"><meta data-rh="true" property="og:url" content="https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Benchmark for Typescript Code Generators from OpenAPI | DX"><meta data-rh="true" name="description" content="Generating TypeScript Code from OpenAPI Specification"><meta data-rh="true" property="og:description" content="Generating TypeScript Code from OpenAPI Specification"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-09-24T17:00:00.000Z"><link data-rh="true" rel="icon" href="/dx/pr-preview/pr-518/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha" hreflang="en"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha","mainEntityOfPage":"https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha","url":"https://pagopa.github.io/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha","headline":"Benchmark for Typescript Code Generators from OpenAPI","name":"Benchmark for Typescript Code Generators from OpenAPI","description":"Generating TypeScript Code from OpenAPI Specification","datePublished":"2024-09-24T17:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://pagopa.github.io/dx/pr-preview/pr-518/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/dx/pr-preview/pr-518/blog/rss.xml" title="DX RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/dx/pr-preview/pr-518/blog/atom.xml" title="DX Atom Feed"><link rel="stylesheet" href="/dx/pr-preview/pr-518/assets/css/styles.89df9373.css">
<script src="/dx/pr-preview/pr-518/assets/js/runtime~main.ad3a0724.js" defer="defer"></script>
<script src="/dx/pr-preview/pr-518/assets/js/main.b57e5e8f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_zRNq" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dx/pr-preview/pr-518/"><div class="navbar__logo"><img src="/dx/pr-preview/pr-518/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--light_Vqq4"><img src="/dx/pr-preview/pr-518/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--dark_QX9o"></div><b class="navbar__title text--truncate">DX</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pagopa/dx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SVY_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_fqNg colorModeToggle_Ps8L"><button class="clean-btn toggleButton_N5dx toggleButtonDisabled_RVMO" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bCLk"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_gaJe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_VVrK"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_O0Ef"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_rQXG thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_GaKG margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_FSVb">2025</h3><ul class="sidebarItemList_ZG5X clean-list"><li class="sidebarItem_KSFB"><a class="sidebarItemLink_foH9" href="/dx/pr-preview/pr-518/blog/devex-azure-bootstrap-0.1-alpha">Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_FSVb">2024</h3><ul class="sidebarItemList_ZG5X clean-list"><li class="sidebarItem_KSFB"><a aria-current="page" class="sidebarItemLink_foH9 sidebarItemLinkActive_LrCC" href="/dx/pr-preview/pr-518/blog/typescript-openapi-generators-0.1-alpha">Benchmark for Typescript Code Generators from OpenAPI</a></li><li class="sidebarItem_KSFB"><a class="sidebarItemLink_foH9" href="/dx/pr-preview/pr-518/blog/devex-initiative-0.1-alpha">DevEx Initiative: Transforming the Development Experience at PagoPA</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_GTXQ">Benchmark for Typescript Code Generators from OpenAPI</h1><div class="container_cY2F margin-vert--md"><time datetime="2024-09-24T17:00:00.000Z">September 24, 2024</time> · <!-- -->6 min read</div></header><div id="__blog-post-container" class="markdown"><p>The digital services we provide interact through REST APIs that are documented
using OpenAPI specifications.</p>
<p>Using API clients requires the code that handles HTTP requests and responses to
strictly adhere to the OpenAPI specifications. This is crucial to ensure that
the exchanged data is valid and consistent with the defined schemas. Similarly,
when providing APIs through NodeJS services, such as Express or similar
frameworks, it is important to follow the same standards. This ensures that the
APIs are reliable, scalable, and easy to maintain.</p>
<p>The purpose of this document is to evaluate and compare various TypeScript
OpenAPI generators for both frontend and backend development. The evaluation
will focus on critical features and help determine whether to invest in a custom
tool (make) or adopt an existing tool.</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="guiding-principles">Guiding Principles<a href="#guiding-principles" class="hash-link" aria-label="Direct link to Guiding Principles" title="Direct link to Guiding Principles">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="main-requirements">Main Requirements<a href="#main-requirements" class="hash-link" aria-label="Direct link to Main Requirements" title="Direct link to Main Requirements">​</a></h3>
<ol>
<li>
<p><strong>Runtime Payload Control</strong> The generators must provide runtime controls on
the payloads to ensure data integrity and adherence to defined schemas. We
believe runtime control is necessary to guarantee that the Typescript type
matches the actual structure of the payload. Without this, there&#x27;s a higher
chance of runtime errors due to discrepancies in the data format.</p>
</li>
<li>
<p><strong>Generation of Isomorphic Types</strong> The ability to generate types usable both
on the client and server sides (e.g., in Express route handlers).</p>
</li>
<li>
<p><strong>Support for String Patterns (Regex)</strong> Generators must support string
patterns using regular expressions to enforce constraints on string values.</p>
</li>
<li>
<p><strong>Support for JSON Schema Constraints</strong> For example, the handling of
constraints such as minimum, maximum, exclusiveMinimum, and exclusiveMaximum
is essential for validating numeric data.</p>
</li>
<li>
<p><strong>Community and Maintainability</strong> A strong community and/or easily
maintainable codebase are crucial for the long-term viability and support of
the generator.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="additional-features-nice-to-have">Additional Features (Nice to Have)<a href="#additional-features-nice-to-have" class="hash-link" aria-label="Direct link to Additional Features (Nice to Have)" title="Direct link to Additional Features (Nice to Have)">​</a></h3>
<ol>
<li>
<p><strong>Support for Security Headers</strong> Generators should support security headers
to enhance API security.</p>
</li>
<li>
<p><strong>Support for File Uploads</strong> The ability to handle file uploads seamlessly
within the API.</p>
</li>
<li>
<p><strong>Support for File Downloads (Octet Stream)</strong> There must be support for file
downloads, specifically as an octet stream.</p>
</li>
<li>
<p><strong>Minimal Footprint</strong> Generators should aim for minimal footprint, e.g.,
generating one type per file with tree-shaking capabilities to optimize
performance.</p>
</li>
<li>
<p><strong>Developer Experience</strong> High performance during code generation is
important. The generator should be fast and not slow down the IDE, even
during type inference.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="comparison">Comparison<a href="#comparison" class="hash-link" aria-label="Direct link to Comparison" title="Direct link to Comparison">​</a></h2>
<ul>
<li><strong>typed-openapi</strong>: Converts to Typescript before converting to runtime types
(typebox-codegen → zod), losing information on constraints.</li>
<li><strong>openapi-generator</strong>: Runtime checks are limited to verifying if the value is
defined.</li>
<li><strong>swagger-codegen</strong>: An older version of openapi-generator.</li>
<li><strong>autorest</strong>: Seems promising on paper, but couldn&#x27;t get it to start (freezes
on startup).</li>
<li><strong>openapi-io-ts</strong>: Inexistent community, doesn&#x27;t work with our specs, not
maintained.</li>
<li><strong>orval</strong>: Primarily targets React; generates code that works on our specs.</li>
</ul>
<table><thead><tr><th>Generator</th><th>Server Types</th><th>Community</th><th>Supports Regex (Pattern String)</th><th>Supports Min/Max (Number)</th><th>Supports HTTP Headers</th></tr></thead><tbody><tr><td>typed-openapi</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td>openapi-generator</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td>swagger-codegen</td><td>Yes</td><td>Yes</td><td>No</td><td>No</td><td>Yes</td></tr><tr><td>autorest</td><td>???</td><td>Yes</td><td>???</td><td>???</td><td>???</td></tr><tr><td>openapi-io-ts</td><td>???</td><td>No</td><td>???</td><td>???</td><td>???</td></tr><tr><td>orval</td><td>No</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="exclusion-criteria">Exclusion Criteria<a href="#exclusion-criteria" class="hash-link" aria-label="Direct link to Exclusion Criteria" title="Direct link to Exclusion Criteria">​</a></h2>
<p>Some tools are excluded from this benchmark due to lack of runtime controls (at
least, as of the writing of this document):</p>
<ul>
<li>heyapi</li>
<li>oazapfts</li>
<li>openapi-backend</li>
<li>openapi-typescript</li>
<li>swagger-typescript-api</li>
</ul>
<p>Although it is possible to translate the generated Typescript types into
structures (e.g., zod/typebox) that allow runtime controls, this kind of
conversion results in a loss of information on constraints (e.g., maximum,
minimum, maxLength, pattern, etc.).</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="generated-code-repository">Generated Code Repository<a href="#generated-code-repository" class="hash-link" aria-label="Direct link to Generated Code Repository" title="Direct link to Generated Code Repository">​</a></h2>
<p>A repository is available to compare the code of different generators:
<a href="https://github.com/gunzip/openapi-generator-benchmark" target="_blank" rel="noopener noreferrer">GitHub - gunzip/openapi-generator-benchmark</a></p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="issues-with-openapi-zod-client">Issues with openapi-zod-client<a href="#issues-with-openapi-zod-client" class="hash-link" aria-label="Direct link to Issues with openapi-zod-client" title="Direct link to Issues with openapi-zod-client">​</a></h2>
<ol>
<li>Inaccurate type generation.</li>
<li>Poor performance in the IDE due to type inference from the single object
passed to the zodios <code>makeApi</code> method.</li>
<li>Dependency on <code>@zodios/core</code> for HTTP calls (via Axios), parameter
validation, and query string handling.</li>
<li>Does not support multiple successful values (2xx codes).</li>
<li>Both the client and types are contained in a single file, making it hard to
optimize the bundle (important for frontend clients).</li>
<li>The maintainer of zodios has been inactive for a while.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="example-of-inaccurate-type-generation">Example of Inaccurate Type Generation<a href="#example-of-inaccurate-type-generation" class="hash-link" aria-label="Direct link to Example of Inaccurate Type Generation" title="Direct link to Example of Inaccurate Type Generation">​</a></h3>
<div class="language-typescript codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-typescript codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> MessageSubject </span><span class="token operator">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> MessageBodyMarkdown </span><span class="token operator">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> MessageContent </span><span class="token operator">=</span><span class="token plain"> z</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subject</span><span class="token operator">:</span><span class="token plain"> MessageSubject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">120</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">optional</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    markdown</span><span class="token operator">:</span><span class="token plain"> MessageBodyMarkdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">80</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">passthrough</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Generated from the foloowing OpenAPI schema:</p>
<div class="language-yaml codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-yaml codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">MessageSubject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">minLength</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">maxLength</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">120</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">MessageBodyMarkdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">minLength</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">maxLength</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">MessageContent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> object</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">MessageContent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">properties</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">subject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">$ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;#/components/schemas/MessageSubject&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">markdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">$ref</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;#/components/schemas/MessageBodyMarkdown&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">required</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> markdown</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="issues-with-swagger-typescript-api--ts-to-zod">Issues with swagger-typescript-api + ts-to-zod<a href="#issues-with-swagger-typescript-api--ts-to-zod" class="hash-link" aria-label="Direct link to Issues with swagger-typescript-api + ts-to-zod" title="Direct link to Issues with swagger-typescript-api + ts-to-zod">​</a></h2>
<p>Unlike other Typescript type generators, <code>swagger-typescript-api</code> retains
information on constraints (minimum, maximum, maxLength, pattern, etc.) in JSDoc
comments associated with type definitions. This allows for the reconstruction of
runtime schemas, for example, using tools like <code>ts-to-zod</code>. However:</p>
<ol>
<li>The generated runtime schemas are separate from the client code, so the
“plumbing” to connect the runtime validation (ts-to-zod) to the generated
types (<code>swagger-typescript-api</code>) must be implemented manually.</li>
<li>Types are not always accurate due to discrepancies between the annotations
generated by swagger-typescript-api and those expected by ts-to-zod (e.g.,
<code>@min</code> vs <code>@minimum</code>).</li>
<li>Some inaccuracies in type generation produce invalid Typescript code.</li>
</ol>
<p>Nevertheless, the zod schemas are more faithful than those generated by
openapi-zod-client.</p>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="example-of-accurate-type-generation">Example of Accurate Type Generation<a href="#example-of-accurate-type-generation" class="hash-link" aria-label="Direct link to Example of Accurate Type Generation" title="Direct link to Example of Accurate Type Generation">​</a></h3>
<div class="language-typescript codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-typescript codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> messageSubjectSchema </span><span class="token operator">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">120</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> messageBodyMarkdownSchema </span><span class="token operator">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">min</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">80</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">max</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> messageContentSchema </span><span class="token operator">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">object</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  subject</span><span class="token operator">:</span><span class="token plain"> messageSubjectSchema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">optional</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  markdown</span><span class="token operator">:</span><span class="token plain"> messageBodyMarkdownSchema</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>As of Jun 2024, no OpenAPI generator fully meets our guiding principles. While
<code>openapi-zod-client</code> seems to cover most of the desired features, it still
appears to be an immature project, not always accurate in type generation.</p>
<p>It is appropriate to invest in the development of a Typescript code generator
from OpenAPI that performs correct and complete runtime checks.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/pagopa/dx/tree/main/website/blog/002-benchmark-openapi-gen.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_kpxt" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_kx3P"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/dx/pr-preview/pr-518/blog/devex-azure-bootstrap-0.1-alpha"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dx/pr-preview/pr-518/blog/devex-initiative-0.1-alpha"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">DevEx Initiative: Transforming the Development Experience at PagoPA</div></a></nav></main><div class="col col--2"><div class="tableOfContents_ZaAn thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#guiding-principles" class="table-of-contents__link toc-highlight">Guiding Principles</a></li><li><a href="#comparison" class="table-of-contents__link toc-highlight">Comparison</a></li><li><a href="#exclusion-criteria" class="table-of-contents__link toc-highlight">Exclusion Criteria</a></li><li><a href="#generated-code-repository" class="table-of-contents__link toc-highlight">Generated Code Repository</a></li><li><a href="#issues-with-openapi-zod-client" class="table-of-contents__link toc-highlight">Issues with openapi-zod-client</a></li><li><a href="#issues-with-swagger-typescript-api--ts-to-zod" class="table-of-contents__link toc-highlight">Issues with swagger-typescript-api + ts-to-zod</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/pr-preview/pr-518/docs/">Start here</a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/pr-preview/pr-518/blog/">Read announcements</a></li></ul></div></div></div></footer></div>
</body>
</html>