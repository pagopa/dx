<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup | DX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pagopa.github.io/dx/img/pagopa-logo.png"><meta data-rh="true" name="twitter:image" content="https://pagopa.github.io/dx/img/pagopa-logo.png"><meta data-rh="true" property="og:url" content="https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup | DX"><meta data-rh="true" name="description" content="Boosting Brand New Repository Setup"><meta data-rh="true" property="og:description" content="Boosting Brand New Repository Setup"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-03-28T17:00:00.000Z"><link data-rh="true" rel="icon" href="/dx/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha" hreflang="en"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha","mainEntityOfPage":"https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha","url":"https://pagopa.github.io/dx/blog/devex-azure-bootstrap-0.1-alpha","headline":"Introducing the 'Azure GitHub Environment Bootstrap' Terraform Module to Enhance New Project Startup","name":"Introducing the 'Azure GitHub Environment Bootstrap' Terraform Module to Enhance New Project Startup","description":"Boosting Brand New Repository Setup","datePublished":"2025-03-28T17:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://pagopa.github.io/dx/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/dx/blog/rss.xml" title="DX RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/dx/blog/atom.xml" title="DX Atom Feed"><link rel="stylesheet" href="/dx/assets/css/styles.89df9373.css">
<script src="/dx/assets/js/runtime~main.66d53d71.js" defer="defer"></script>
<script src="/dx/assets/js/main.3a3ebf76.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_zRNq" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dx/"><div class="navbar__logo"><img src="/dx/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--light_Vqq4"><img src="/dx/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--dark_QX9o"></div><b class="navbar__title text--truncate">DX</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pagopa/dx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SVY_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_fqNg colorModeToggle_Ps8L"><button class="clean-btn toggleButton_N5dx toggleButtonDisabled_RVMO" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bCLk"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_gaJe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_VVrK"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_O0Ef"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_rQXG thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_GaKG margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_FSVb">2025</h3><ul class="sidebarItemList_ZG5X clean-list"><li class="sidebarItem_KSFB"><a aria-current="page" class="sidebarItemLink_foH9 sidebarItemLinkActive_LrCC" href="/dx/blog/devex-azure-bootstrap-0.1-alpha">Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_FSVb">2024</h3><ul class="sidebarItemList_ZG5X clean-list"><li class="sidebarItem_KSFB"><a class="sidebarItemLink_foH9" href="/dx/blog/typescript-openapi-generators-0.1-alpha">Benchmark for Typescript Code Generators from OpenAPI</a></li><li class="sidebarItem_KSFB"><a class="sidebarItemLink_foH9" href="/dx/blog/devex-initiative-0.1-alpha">DevEx Initiative: Transforming the Development Experience at PagoPA</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_GTXQ">Introducing the &#x27;Azure GitHub Environment Bootstrap&#x27; Terraform Module to Enhance New Project Startup</h1><div class="container_cY2F margin-vert--md"><time datetime="2025-03-28T17:00:00.000Z">March 28, 2025</time> Â· <!-- -->3 min read</div></header><div id="__blog-post-container" class="markdown"><p>The new Terraform module
<a href="https://github.com/pagopa/dx/blob/main/infra/modules/azure_github_environment_bootstrap" target="_blank" rel="noopener noreferrer"><code>Azure GitHub Environment Bootstrap</code></a>
developed by the DevEx team, has finally left the beta status by reaching its
first major version release!</p>
<p>This module is useful for anybody that has just created a new repository and
wants to focus quickly on their goals rather than spending hours in setting up
everything around the new repository. The module focuses on projects which
leverage Azure, GitHub, and a single environment (production). After applying
this module, the repository will have:</p>
<ul>
<li>completed the setup needed to launch <strong>GitHub Actions</strong> workflows</li>
<li>a dedicated private <strong>GitHub Runner</strong> to connect to private Azure resources
from GitHub pipelines</li>
<li>an Azure <strong>resource group</strong> to deploy resources generally contained in
<code>infra/resources</code></li>
<li>the <strong>required permissions</strong> to operate on domain resources</li>
<li>a secure and smooth configuration</li>
</ul>
<p>To accomplish the setup, the module provisions:</p>
<ul>
<li>an Azure Container App Job to run workflows in a private <strong>GitHub Runner</strong>
integrated with an Azure VNet</li>
<li>a federation between the GitHub repository and Azure user-assigned <strong>managed
identities</strong> to allow workflows to connect with Azure tenant</li>
<li>the creation of a project-specific Azure resource group which will contain the
infrastructure of the entire repository as it will share the same lifecycle
and IAM setup</li>
<li>the IAM setup of both team and Azure user-assigned managed identities
following the <a href="/dx/docs/infrastructure/azure/azure-iam">latest DevEx framework</a></li>
<li>the GitHub repository settings according to the best practices found by the DX
team</li>
</ul>
<p>As the <code>Azure GitHub Environment Bootstrap</code> module is designed to support teams
in new project development, it is particularly indicated for mono repositories
which traditionally require more time to be properly prepared: in just a few
minutes, the repository will be ready to be used.</p>
<p>On the other hand, the new module may be a bit overwhelming for small
repositories, where you may have only one application. For this reason, the
module
<a href="https://github.com/pagopa/dx/blob/main/infra/modules/azure_federated_identity_with_github" target="_blank" rel="noopener noreferrer"><code>azure_federated_identity_with_github</code></a>
is still maintained and available, and is suggested for those cases. However,
please note that this design is not advisable, and instead, the use of mono
repositories is recommended.</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">â</a></h2>
<p>We recommend to reference the module via the Terraform Registry, and pin the
version to the latest stable release:</p>
<div class="language-hcl codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-hcl codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">module</span><span class="token keyword type variable" style="color:rgb(189, 147, 249);font-style:italic"> &quot;repo&quot; </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">source</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pagopa-dx/azure-github-environment-bootstrap/azurerm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;~&gt;1.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Despite the <code>Azure GitHub Environment Bootstrap</code> module requiring a lot of
inputs, its usage remains easy. In fact, a lot of values are the same for
different projects under the same product&#x27;s umbrella, and moreover are
well-known by our user base. The following data is requested:</p>
<ul>
<li>the Azure subscription and tenant IDs</li>
<li>the IDs of team-specific Entra ID groups as expected by
<a href="/dx/docs/infrastructure/azure/azure-iam">DevEx IAM framework</a></li>
<li>the ID of an existing Azure Container App Environment</li>
<li>the details of the Storage Account holding the Terraform state file</li>
<li>the details of the current repository (name, description, topics, optionally
reviewers, etc.)</li>
<li>the IDs of the product-shared cloud resources, if any (API Management, Private
Endpoints, VNet, etc.)</li>
</ul>
<p>More details about the usage can be found in the documentation, which is
available in the
<a href="https://registry.terraform.io/modules/pagopa-dx/azure-github-environment-bootstrap/azurerm/latest" target="_blank" rel="noopener noreferrer">module entry in the Terraform Registry</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">â</a></h3>
<p>Explore these repositories, which have successfully adopted the
<code>Azure GitHub Environment Bootstrap</code> module from its early stages:</p>
<ul>
<li><a href="https://github.com/pagopa/io-messages/tree/main/infra/repository" target="_blank" rel="noopener noreferrer">IO Messages</a></li>
<li><a href="https://github.com/pagopa/io-wallet/tree/main/infra/repository" target="_blank" rel="noopener noreferrer">IO Wallet</a></li>
<li><a href="https://github.com/pagopa/io-services-cms/tree/main/infra/repository" target="_blank" rel="noopener noreferrer">IO Services CMS</a></li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/pagopa/dx/tree/main/website/blog/003-azure-github-environment-bootstrap.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_kpxt" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_kx3P"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/dx/blog/typescript-openapi-generators-0.1-alpha"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Benchmark for Typescript Code Generators from OpenAPI</div></a></nav></main><div class="col col--2"><div class="tableOfContents_ZaAn thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/docs/">Start here</a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/blog/">Read announcements</a></li></ul></div></div></div></footer></div>
</body>
</html>