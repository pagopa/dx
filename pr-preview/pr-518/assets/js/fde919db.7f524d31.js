"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5939],{4718:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>o});var i=n(3309);const s={},t=i.createContext(s);function d(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(t.Provider,{value:r},e.children)}},7597:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"infrastructure/using-terraform-registry-provider","title":"Using DX Azure Terraform Provider","description":"The DX Azure Terraform provider simplifies the creation and management of Azure","source":"@site/docs/infrastructure/using-terraform-registry-provider.md","sourceDirName":"infrastructure","slug":"/infrastructure/using-terraform-registry-provider","permalink":"/dx/docs/infrastructure/using-terraform-registry-provider","draft":false,"unlisted":false,"editUrl":"https://github.com/pagopa/dx/tree/main/website/docs/infrastructure/using-terraform-registry-provider.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"Using DX Azure Terraform Provider","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Using DX Terraform Modules","permalink":"/dx/docs/infrastructure/using-terraform-registry-modules"},"next":{"title":"Contributing to DX Azure Provider","permalink":"/dx/docs/infrastructure/contributing-to-dx-provider"}}');var s=n(3881),t=n(4718);const d={sidebar_label:"Using DX Azure Terraform Provider",sidebar_position:3},o="Using DX Azure Terraform Provider",a={},c=[{value:"Why Use the DX Azure Provider?",id:"why-use-the-dx-azure-provider",level:2},{value:"Installation",id:"installation",level:2},{value:"Provider Configuration",id:"provider-configuration",level:3},{value:"Functions",id:"functions",level:2},{value:"resource_name Function",id:"resource_name-function",level:3},{value:"Inputs",id:"inputs",level:4},{value:"Example",id:"example",level:4},{value:"Semantic Versioning",id:"semantic-versioning",level:2},{value:"Getting Support",id:"getting-support",level:2}];function l(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"using-dx-azure-terraform-provider",children:"Using DX Azure Terraform Provider"})}),"\n",(0,s.jsxs)(r.p,{children:["The DX Azure Terraform provider simplifies the creation and management of Azure\nresources by enforcing standardized naming conventions and configurations. This\nprovider is maintained by the ",(0,s.jsx)(r.a,{href:"https://github.com/pagopa",children:"PagoPA organization"}),"\nand is available in the Terraform Registry under the namespace\n",(0,s.jsx)(r.a,{href:"https://registry.terraform.io/namespaces/pagopa-dx",children:"pagopa-dx"}),"."]}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsx)(r.p,{children:"This documentation is relevant for all individual contributors using the DX\nAzure Terraform provider."})}),"\n",(0,s.jsx)(r.h2,{id:"why-use-the-dx-azure-provider",children:"Why Use the DX Azure Provider?"}),"\n",(0,s.jsx)(r.p,{children:"The DX Azure provider offers several advantages for managing Azure resources:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Consistency"}),": Ensures resources follow a unified naming convention,\nreducing errors and improving maintainability."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Ease of Use"}),": Abstracts complex configurations into reusable functions,\nsimplifying resource creation."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Integration"}),": Seamlessly integrates with Terraform workflows and pipelines,\nenabling efficient infrastructure management."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(r.p,{children:"To use the DX Azure provider, include it in your Terraform configuration as\nfollows:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'terraform {\n  required_providers {\n    dx = {\n      source  = "pagopa-dx/azure"\n      version = "~> 0.0"\n    }\n  }\n}\n\nprovider "dx" {}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"provider-configuration",children:"Provider Configuration"}),"\n",(0,s.jsx)(r.p,{children:"The DX Azure provider accepts the following inputs (all currently optional):"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"prefix"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Two-character project prefix."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"environment"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Deployment environment (d, u, or p)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"location"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Deployment location (itn/italynorth or weu/westeurope)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"domain"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Optional domain for naming."})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsxs)(r.p,{children:["The DX Azure provider includes a ",(0,s.jsx)(r.code,{children:"resource_name"})," function to generate\nstandardized resource names."]}),"\n",(0,s.jsx)(r.h3,{id:"resource_name-function",children:"resource_name Function"}),"\n",(0,s.jsx)(r.p,{children:"Generates a resource name based on the standardized prefix and additional\nparameters."}),"\n",(0,s.jsx)(r.h4,{id:"inputs",children:"Inputs"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"prefix"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsx)(r.td,{children:"Prefix that defines the repository domain."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"environment"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsx)(r.td,{children:"Deployment environment (d, u, or p)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"location"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsx)(r.td,{children:"Deployment location (itn, weu, italynorth or westeurope)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"domain"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Optional value specifying the domain."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"name"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsx)(r.td,{children:"Name of the resource."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"resource_type"})}),(0,s.jsx)(r.td,{children:"String"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsxs)(r.td,{children:["Type of the resource. The list of supported resource types can be found in the ",(0,s.jsx)(r.a,{href:"https://registry.terraform.io/providers/pagopa-dx/azure/latest/docs/functions/resource_name#resource-types",children:"documentation table"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"instance_number"})}),(0,s.jsx)(r.td,{children:"Integer"}),(0,s.jsx)(r.td,{children:"Yes"}),(0,s.jsx)(r.td,{children:"Instance number of the resource."})]})]})]}),"\n",(0,s.jsx)(r.h4,{id:"example",children:"Example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'output "resource_name" {\n  value = provider::dx::resource_name({\n    prefix = "dx",\n    environment = "d",\n    location = "itn",\n    domain = "test",\n    name = "app",\n    resource_type = "api_management",\n    instance_number = 1,\n  })\n}\n'})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Output"}),": ",(0,s.jsx)(r.code,{children:"dx-d-itn-app-apim-pep-01"})]}),"\n",(0,s.jsx)(r.admonition,{type:"note",children:(0,s.jsxs)(r.p,{children:["To call a function, use the syntax:\n",(0,s.jsx)(r.code,{children:"provider::PROVIDER_NAME::FUNCTION_NAME(...)"}),"."]})}),"\n",(0,s.jsx)(r.h2,{id:"semantic-versioning",children:"Semantic Versioning"}),"\n",(0,s.jsxs)(r.p,{children:["The DX Azure provider follows ",(0,s.jsx)(r.a,{href:"https://semver.org/",children:"semantic versioning"}),", which\nensures compatibility and stability across updates. When specifying the provider\nversion in your Terraform configuration, use the ",(0,s.jsx)(r.code,{children:"~>"})," operator to allow updates\nwithin the same major version:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'version = "~> 0.0"\n'})}),"\n",(0,s.jsx)(r.p,{children:"This ensures that breaking changes are avoided while allowing minor updates and\npatches. For example:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"~> 0.0"})," allows updates to ",(0,s.jsx)(r.code,{children:"0.x.x"})," but not ",(0,s.jsx)(r.code,{children:"1.0.0"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["When publishing a new release, ensure the version tag starts with a ",(0,s.jsx)(r.code,{children:"v"})," (e.g.,\n",(0,s.jsx)(r.code,{children:"v0.1.0"}),") as required by the\n",(0,s.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/registry/providers/publishing#creating-a-github-release",children:"Terraform Registry"}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"getting-support",children:"Getting Support"}),"\n",(0,s.jsx)(r.p,{children:"For assistance with the DX Azure provider:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Join the ",(0,s.jsx)(r.code,{children:"#team_devex_help"})," channel for direct support."]}),"\n",(0,s.jsx)(r.li,{children:"Provide specific error messages or logs when seeking help."}),"\n",(0,s.jsx)(r.li,{children:"Share your Terraform configuration and provider setup details."}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The DX Azure provider is designed to simplify and standardize Azure resource\nmanagement. Don't hesitate to reach out for help as you integrate it into your\nworkflows."})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);