<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-infrastructure/azure/azure-policies" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Creating and Managing Azure Policies | DX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pagopa.github.io/dx/img/pagopa-logo.png"><meta data-rh="true" name="twitter:image" content="https://pagopa.github.io/dx/img/pagopa-logo.png"><meta data-rh="true" property="og:url" content="https://pagopa.github.io/dx/docs/infrastructure/azure/azure-policies"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating and Managing Azure Policies | DX"><meta data-rh="true" name="description" content="Azure Policies are governance tools provided by Microsoft Azure to create,"><meta data-rh="true" property="og:description" content="Azure Policies are governance tools provided by Microsoft Azure to create,"><link data-rh="true" rel="icon" href="/dx/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pagopa.github.io/dx/docs/infrastructure/azure/azure-policies"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/docs/infrastructure/azure/azure-policies" hreflang="en"><link data-rh="true" rel="alternate" href="https://pagopa.github.io/dx/docs/infrastructure/azure/azure-policies" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/dx/blog/rss.xml" title="DX RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/dx/blog/atom.xml" title="DX Atom Feed"><link rel="stylesheet" href="/dx/assets/css/styles.89df9373.css">
<script src="/dx/assets/js/runtime~main.66d53d71.js" defer="defer"></script>
<script src="/dx/assets/js/main.3a3ebf76.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_zRNq" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dx/"><div class="navbar__logo"><img src="/dx/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--light_Vqq4"><img src="/dx/img/pagopa-logo.png" alt="DX Logo" class="themedComponent_jECA themedComponent--dark_QX9o"></div><b class="navbar__title text--truncate">DX</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pagopa/dx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_SVY_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_fqNg colorModeToggle_Ps8L"><button class="clean-btn toggleButton_N5dx toggleButtonDisabled_RVMO" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bCLk"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_gaJe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_VVrK"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_O0Ef"><div class="docsWrapper_leh4"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_QxQO" type="button"></button><div class="docRoot_KioV"><aside class="theme-doc-sidebar-container docSidebarContainer_EHVu"><div class="sidebarViewport_gRYp"><div class="sidebar_gJbf"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jiHa"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dx/docs/">Developer Experience Initiative</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dx/docs/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dx/docs/articles/">Articles</a><button aria-label="Expand sidebar category &#x27;Articles&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dx/docs/conventions/">Conventions</a><button aria-label="Expand sidebar category &#x27;Conventions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dx/docs/infrastructure/">Infrastructure</a><button aria-label="Collapse sidebar category &#x27;Infrastructure&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/using-terraform-registry-modules">Using DX Terraform Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/using-terraform-registry-provider">Using DX Azure Terraform Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/contributing-to-dx-provider">Contributing to DX Azure Provider</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dx/docs/infrastructure/contributing-to-dx-terraform-modules/">Contributing to DX Terraform Modules</a><button aria-label="Expand sidebar category &#x27;Contributing to DX Terraform Modules&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/dx/docs/infrastructure/azure/">Azure</a><button aria-label="Collapse sidebar category &#x27;Azure&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dx/docs/infrastructure/azure/azure-policies">Creating and Managing Azure Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/appservice-hidden-appsettings">Using Secrets in AppService Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/appservice-plan-dns-resolution">Verifying Online Service Reachability from an App Service Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/archive-data">Archiving Data for Decommissioned Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/azure-iam">Managing Azure IAM Roles and Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/iam-cross-subscription">Implementing Azure IAM Across Subscriptions using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dx/docs/infrastructure/azure/peps-cross-subscription">Connecting Resources Across Azure Subscription via Private Endpoints</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dx/docs/infrastructure/azure/policy-catalog/">DX Policy Rules Catalog</a><button aria-label="Expand sidebar category &#x27;DX Policy Rules Catalog&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dx/docs/pipelines/">Pipelines</a><button aria-label="Expand sidebar category &#x27;Pipelines&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_KToB"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_SC0d"><div class="docItemContainer_iHos"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Sy1s" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dx/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon__noQ"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dx/docs/infrastructure/"><span itemprop="name">Infrastructure</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dx/docs/infrastructure/azure/"><span itemprop="name">Azure</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating and Managing Azure Policies</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_hfZj theme-doc-toc-mobile tocMobile_PU7Q"><button type="button" class="clean-btn tocCollapsibleButton_VVfl">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Creating and Managing Azure Policies</h1></header>
<p>Azure Policies are governance tools provided by Microsoft Azure to create,
assign, and manage rules that ensure compliance and adherence to enterprise
standards for cloud resources. More information is available in the official
documentation:
<a href="https://learn.microsoft.com/en-us/azure/governance/policy/overview" target="_blank" rel="noopener noreferrer">Azure Policy Overview</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="goal-of-dx-azure-policies">Goal of DX Azure Policies<a href="#goal-of-dx-azure-policies" class="hash-link" aria-label="Direct link to Goal of DX Azure Policies" title="Direct link to Goal of DX Azure Policies">​</a></h2>
<p>To improve the control and management of resources across different Azure
environments, the DX team provides a predefined set of policies that product
teams can apply to their Subscriptions. These policies allow better monitoring
of critical configurations and resources, ensuring higher standardization and
security:</p>
<ul>
<li><a href="/dx/docs/infrastructure/azure/policy-catalog/">List of predefined DX policies</a></li>
<li><a href="https://github.com/pagopa/dx/tree/main/infra/policy" target="_blank" rel="noopener noreferrer">Repository with predefined DX policies</a></li>
</ul>
<p>Once applied, these policies help maintain an organized and compliant
environment, reducing the risk of misconfigurations or unauthorized changes.</p>
<p><strong>DX Policies</strong> extend the functionalities of the
<a href="https://pagopa.atlassian.net/wiki/spaces/DEVOPS/pages/459375134" target="_blank" rel="noopener noreferrer">Technology Policies</a>.
Unlike DX Policies, which have a limited scope, Technology Policies apply to all
corporate subscriptions without distinction.</p>
<p>Product teams can also propose new DX Policies for additional requirements.</p>
<p>Policies are applied via Terraform, and the rules that implement them
(<code>policyRule</code>) are stored in the <a href="https://github.com/pagopa/dx" target="_blank" rel="noopener noreferrer">DX Repository</a>.</p>
<p>This guide explains the steps required to apply existing policies or add new
ones.</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="policy-configuration">Policy Configuration<a href="#policy-configuration" class="hash-link" aria-label="Direct link to Policy Configuration" title="Direct link to Policy Configuration">​</a></h2>
<p>Azure Policies are commonly defined in <em>JSON</em> and consist of multiple
components: <code>policyRule</code> definitions, <code>parameters</code>, and metadata required for
deployment on Azure. Since we manage the latter using Terraform, the only two
sections that remain defined in <em>JSON</em> are lists of <code>policyRule</code> and
<code>parameters</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="defining-policy-rules">Defining Policy Rules<a href="#defining-policy-rules" class="hash-link" aria-label="Direct link to Defining Policy Rules" title="Direct link to Defining Policy Rules">​</a></h3>
<p>Policy Rules consist of if/then blocks that define the conditions to be
evaluated once the policy is assigned and the action to be taken if the
conditions are met.</p>
<p>To add a new rule, create a file named <code>&lt;POLICY_SUMMARY&gt;_rule_v&lt;VERSION&gt;.json</code>
inside the <code>infra/policy/_policy_rules</code> directory of the <strong>DX</strong> repository.
Define the <code>policyRule</code> within the file, ensuring it adheres to the
documentation guidelines.</p>
<p>For example, to create a policy that prevents resource creation outside a
configurable region, create the file <code>allowed_location_rule_v1.json</code> with the
following content:</p>
<div class="language-json codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-json codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;if&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;not&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;field&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;location&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;equals&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;[parameters(&#x27;location&#x27;)]&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;then&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;effect&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;deny&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, <code>[parameters(&#x27;location&#x27;)]</code> is the reference to the associated parameter.</p>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="defining-policy-rules-parameters">Defining Policy Rules Parameters<a href="#defining-policy-rules-parameters" class="hash-link" aria-label="Direct link to Defining Policy Rules Parameters" title="Direct link to Defining Policy Rules Parameters">​</a></h3>
<p>When defining a rule, parameters can be specified as configurable variables.
These must also be defined in a <em>JSON</em> file.</p>
<p>To add a new set of parameters, create a file named
<code>&lt;POLICY_SUMMARY&gt;_parameters_v&lt;VERSION&gt;.json</code> within the
<code>infra/policy/_policy_rules</code> directory of the DX repository. Define the
parameters inside the file according to the documentation guidelines.</p>
<p>Continuing the previous example, create the file
<code>allowed_location_parameters_v1.json</code> with the following content:</p>
<div class="language-json codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-json codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;location&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;String&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;displayName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Allowed Locations&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Specify the allowed Locations value.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This ensures that when the policy is assigned, a parameter must be set.</p>
<p>It is also possible to specify a list of <strong>allowed</strong> values and a <strong>default</strong>
value. For more details, refer to the
<a href="https://learn.microsoft.com/en-us/azure/governance/policy/concepts/definition-structure-parameters" target="_blank" rel="noopener noreferrer">official documentation</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_YRFy" id="applying-policies-via-terraform">Applying Policies via Terraform<a href="#applying-policies-via-terraform" class="hash-link" aria-label="Direct link to Applying Policies via Terraform" title="Direct link to Applying Policies via Terraform">​</a></h3>
<p>Once the Policy Rule and its corresponding <code>Parameters</code> are defined, the policy
must be deployed using Terraform. Product teams that wish to apply DX Policy
Rules to one or more subscriptions should create the necessary descriptors in
<strong>their repository</strong> following this file structure:</p>
<div class="language-plaintext codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-plaintext codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token plain">infra/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├── policy/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ├── &lt;dev/uat/prod&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          ├── &lt;policy_name&gt;.tf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          ├── data.tf</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_YRFy" id="example-of-terraform-definition">Example of Terraform Definition<a href="#example-of-terraform-definition" class="hash-link" aria-label="Direct link to Example of Terraform Definition" title="Direct link to Example of Terraform Definition">​</a></h4>
<div class="language-hcl codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-hcl codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># data.tf File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data </span><span class="token keyword type variable" style="color:rgb(189, 147, 249);font-style:italic">&quot;http&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;allowed_location_policy_rule&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">url</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://raw.githubusercontent.com/pagopa/dx/refs/heads/main/infra/policy/_policy_rules/allowed_location_rule_v1.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">data </span><span class="token keyword type variable" style="color:rgb(189, 147, 249);font-style:italic">&quot;http&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;allowed_location_policy_parameters&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">url</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://raw.githubusercontent.com/pagopa/dx/refs/heads/main/infra/policy/_policy_rules/allowed_location_parameters_v1.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-hcl codeBlockContainer_s8SY theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_JcMR"><pre tabindex="0" class="prism-code language-hcl codeBlock_xLE2 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_MviW"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># allowed_locations.tf File</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">resource </span><span class="token keyword type variable" style="color:rgb(189, 147, 249);font-style:italic">&quot;azurerm_policy_definition&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;allowed_location_policy&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">name</span><span class="token plain">         </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">$</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string interpolation keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string interpolation type variable" style="color:rgb(189, 147, 249);font-style:italic">project</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string" style="color:rgb(255, 121, 198)">-allowed-location-policy&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">policy_type</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Custom&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">mode</span><span class="token plain">         </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Indexed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">display_name</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Enforce Italy North region&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">description</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Ensures that resources have Italy North region during creation.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">metadata</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> jsonencode(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">category</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Custom DevEx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">version</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">policy_rule</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> data.http.allowed_location_policy_rule.response_body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">parameters</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> data.http.allowed_location_policy_parameters.response_body</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">resource </span><span class="token keyword type variable" style="color:rgb(189, 147, 249);font-style:italic">&quot;azurerm_subscription_policy_assignment&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;allowed_location_assignment&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">name</span><span class="token plain">                 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">$</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string interpolation keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string interpolation type variable" style="color:rgb(189, 147, 249);font-style:italic">project</span><span class="token string interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string" style="color:rgb(255, 121, 198)">-allowed-location-assignment&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">display_name</span><span class="token plain">         </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Enforce Italy North region&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">policy_definition_id</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> azurerm_policy_definition.allowed_location_policy.id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">subscription_id</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> data.azurerm_subscription.current.id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">parameters</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> jsonencode(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;location&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;value&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Italy North&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_rC9G"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_sWaF" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_IVNQ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_C7p9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="versioning-policy-rules-and-parameters">Versioning Policy Rules and Parameters<a href="#versioning-policy-rules-and-parameters" class="hash-link" aria-label="Direct link to Versioning Policy Rules and Parameters" title="Direct link to Versioning Policy Rules and Parameters">​</a></h2>
<p>When creating or modifying Policy Rules and/or Parameters in the DX repository,
the version must be updated only in the case of breaking changes. To update the
version, modify the <code>&lt;VERSION&gt;</code> reference in the <em>JSON</em> file name:</p>
<ul>
<li><code>&lt;POLICY_SUMMARY&gt;_rule_v&lt;VERSION&gt;.json</code></li>
<li><code>&lt;POLICY_SUMMARY&gt;_parameters_v&lt;VERSION&gt;.json</code></li>
</ul>
<p>Where version is an incrementing integer (e.g., v1, v2, …).</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="deploying-policies">Deploying Policies<a href="#deploying-policies" class="hash-link" aria-label="Direct link to Deploying Policies" title="Direct link to Deploying Policies">​</a></h2>
<p>Once everything is configured, the product team should submit a Pull Request in
their own repository. Optionally, they can share it with the DX team for review
before merging and applying it in production via the GitHub Action that triggers
<code>terraform apply</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_YRFy" id="reference-documentation">Reference Documentation<a href="#reference-documentation" class="hash-link" aria-label="Direct link to Reference Documentation" title="Direct link to Reference Documentation">​</a></h2>
<ul>
<li><a href="https://github.com/Azure/azure-policy" target="_blank" rel="noopener noreferrer">Azure Repository with Built-in Policies</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/policy/tutorials/create-and-manage" target="_blank" rel="noopener noreferrer">Tutorial: Creating and Managing Policies</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/policy/concepts/definition-structure-policy-rule" target="_blank" rel="noopener noreferrer">Structure definition: Azure Policy Rule</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/policy/concepts/definition-structure-parameters" target="_blank" rel="noopener noreferrer">Structure definition: Azure Policy Parameters</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/pagopa/dx/tree/main/website/docs/infrastructure/azure/azure-policies.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_kpxt" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_kx3P"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dx/docs/infrastructure/azure/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Azure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dx/docs/infrastructure/azure/appservice-hidden-appsettings"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Secrets in AppService Environment Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_ZaAn thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#goal-of-dx-azure-policies" class="table-of-contents__link toc-highlight">Goal of DX Azure Policies</a></li><li><a href="#policy-configuration" class="table-of-contents__link toc-highlight">Policy Configuration</a><ul><li><a href="#defining-policy-rules" class="table-of-contents__link toc-highlight">Defining Policy Rules</a></li><li><a href="#defining-policy-rules-parameters" class="table-of-contents__link toc-highlight">Defining Policy Rules Parameters</a></li><li><a href="#applying-policies-via-terraform" class="table-of-contents__link toc-highlight">Applying Policies via Terraform</a></li></ul></li><li><a href="#versioning-policy-rules-and-parameters" class="table-of-contents__link toc-highlight">Versioning Policy Rules and Parameters</a></li><li><a href="#deploying-policies" class="table-of-contents__link toc-highlight">Deploying Policies</a></li><li><a href="#reference-documentation" class="table-of-contents__link toc-highlight">Reference Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/docs/">Start here</a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dx/blog/">Read announcements</a></li></ul></div></div></div></footer></div>
</body>
</html>