'use strict';var N8=require('util'),perf_hooks=require('perf_hooks'),O8=require('child_process'),es=require('fs'),us=require('process'),mp=require('os'),crypto$1=require('crypto'),Tl=require('path'),Po=require('zlib'),stream=require('stream'),tp=require('http'),rp=require('https'),module$1=require('module'),x6e=require('url'),promises=require('fs/promises');var _documentCurrentScript=typeof document!=='undefined'?document.currentScript:null;function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var N8__namespace=/*#__PURE__*/_interopNamespace(N8);var O8__namespace=/*#__PURE__*/_interopNamespace(O8);var es__default=/*#__PURE__*/_interopDefault(es);var us__namespace=/*#__PURE__*/_interopNamespace(us);var mp__namespace=/*#__PURE__*/_interopNamespace(mp);var Tl__namespace=/*#__PURE__*/_interopNamespace(Tl);var Po__namespace=/*#__PURE__*/_interopNamespace(Po);var tp__namespace=/*#__PURE__*/_interopNamespace(tp);var rp__namespace=/*#__PURE__*/_interopNamespace(rp);var x6e__default=/*#__PURE__*/_interopDefault(x6e);var vge=Object.create;var Wg=Object.defineProperty;var Age=Object.getOwnPropertyDescriptor;var Rge=Object.getOwnPropertyNames;var Oge=Object.getPrototypeOf,Nge=Object.prototype.hasOwnProperty;var U=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var _=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ne=(t,e)=>{for(var r in e)Wg(t,r,{get:e[r],enumerable:true});},TG=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Rge(e))!Nge.call(t,n)&&n!==r&&Wg(t,n,{get:()=>e[n],enumerable:!(i=Age(e,n))||i.enumerable});return t};var He=(t,e,r)=>(r=t!=null?vge(Oge(t)):{},TG(e||!t||!t.__esModule?Wg(r,"default",{value:t,enumerable:true}):r,t)),$=t=>TG(Wg({},"__esModule",{value:true}),t);var yG,vG=_(()=>{yG=typeof globalThis=="object"?globalThis:global;});var AG=_(()=>{vG();});var RG=_(()=>{AG();});var wo,bC=_(()=>{wo="1.9.0";});function bge(t){var e=new Set([t]),r=new Set,i=t.match(OG);if(!i)return function(){return  false};var n={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(n.prerelease!=null)return function(c){return c===t};function a(s){return r.add(s),false}function o(s){return e.add(s),true}return function(c){if(e.has(c))return  true;if(r.has(c))return  false;var l=c.match(OG);if(!l)return a(c);var u={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return u.prerelease!=null||n.major!==u.major?a(c):n.major===0?n.minor===u.minor&&n.patch<=u.patch?o(c):a(c):n.minor<=u.minor?o(c):a(c)}}var OG,NG,bG=_(()=>{bC();OG=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;NG=bge(wo);});function wi(t,e,r,i){var n;i===void 0&&(i=false);var a=yf[Tf]=(n=yf[Tf])!==null&&n!==void 0?n:{version:wo};if(!i&&a[t]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(o.stack||o.message),false}if(a.version!==wo){var o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+wo);return r.error(o.stack||o.message),false}return a[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+wo+"."),true}function _n(t){var e,r,i=(e=yf[Tf])===null||e===void 0?void 0:e.version;if(!(!i||!NG(i)))return (r=yf[Tf])===null||r===void 0?void 0:r[t]}function Li(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+wo+".");var r=yf[Tf];r&&delete r[t];}var Pge,Tf,yf,Sc=_(()=>{RG();bC();bG();Pge=wo.split(".")[0],Tf=Symbol.for("opentelemetry.js.api."+Pge),yf=yG;});function vf(t,e,r){var i=_n("diag");if(i)return r.unshift(e),i[t].apply(i,xge([],Cge(r),false))}var Cge,xge,PG,CG=_(()=>{Sc();Cge=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},xge=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},PG=(function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger";}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vf("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vf("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vf("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vf("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return vf("verbose",this._namespace,e)},t})();});var Se,Kg=_(()=>{(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL";})(Se||(Se={}));});function xG(t,e){t<Se.NONE?t=Se.NONE:t>Se.ALL&&(t=Se.ALL),e=e||{};function r(i,n){var a=e[i];return typeof a=="function"&&t>=n?a.bind(e):function(){}}return {error:r("error",Se.ERROR),warn:r("warn",Se.WARN),info:r("info",Se.INFO),debug:r("debug",Se.DEBUG),verbose:r("verbose",Se.VERBOSE)}}var IG=_(()=>{Kg();});var Ige,Mge,wge,_r,Tc=_(()=>{CG();IG();Kg();Sc();Ige=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},Mge=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},wge="diag",_r=(function(){function t(){function e(n){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=_n("diag");if(s)return s[n].apply(s,Mge([],Ige(a),false))}}var r=this,i=function(n,a){var o,s,c;if(a===void 0&&(a={logLevel:Se.INFO}),n===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=l.stack)!==null&&o!==void 0?o:l.message),false}typeof a=="number"&&(a={logLevel:a});var u=_n("diag"),d=xG((s=a.logLevel)!==null&&s!==void 0?s:Se.INFO,n);if(u&&!a.suppressOverrideMessage){var p=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p);}return wi("diag",d,r,true)};r.setLogger=i,r.disable=function(){Li(wge,r);},r.createComponentLogger=function(n){return new PG(n)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error");}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t})();});var Lge,Dge,MG,wG=_(()=>{Lge=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},Dge=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return {next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MG=(function(){function t(e){this._entries=e?new Map(e):new Map;}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=Lge(e,2),i=r[0],n=r[1];return [i,n]})},t.prototype.setEntry=function(e,r){var i=new t(this._entries);return i._entries.set(e,r),i},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=new t(this._entries);try{for(var o=Dge(i),s=o.next();!s.done;s=o.next()){var c=s.value;a._entries.delete(c);}}catch(l){e={error:l};}finally{try{s&&!s.done&&(r=o.return)&&r.call(o);}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t})();});var LG,DG=_(()=>{LG=Symbol("BaggageEntryMetadata");});function UG(t){return t===void 0&&(t={}),new MG(new Map(Object.entries(t)))}function Zl(t){return typeof t!="string"&&(Uge.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:LG,toString:function(){return t}}}var Uge,PC=_(()=>{Tc();wG();DG();Uge=_r.instance();});function gr(t){return Symbol.for(t)}var kge,Zg,Af=_(()=>{kge=(function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(i){return r._currentContext.get(i)},r.setValue=function(i,n){var a=new t(r._currentContext);return a._currentContext.set(i,n),a},r.deleteValue=function(i){var n=new t(r._currentContext);return n._currentContext.delete(i),n};}return t})(),Zg=new kge;});var CC,kG,$G=_(()=>{CC=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],kG=(function(){function t(){function e(i){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(console){var o=console[i];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,n)}}}for(var r=0;r<CC.length;r++)this[CC[r].n]=e(CC[r].c);}return t})();});function Jg(){return IC}var yc,$ge,Xg,Vge,Bge,zge,Fge,xC,Hge,Gge,jge,IC,qge,Yge,Wge,Kge,Zge,Xge,Jge,MC=_(()=>{yc=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n;}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a]);},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e;}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i);}})(),$ge=(function(){function t(){}return t.prototype.createGauge=function(e,r){return Yge},t.prototype.createHistogram=function(e,r){return Wge},t.prototype.createCounter=function(e,r){return qge},t.prototype.createUpDownCounter=function(e,r){return Kge},t.prototype.createObservableGauge=function(e,r){return Xge},t.prototype.createObservableCounter=function(e,r){return Zge},t.prototype.createObservableUpDownCounter=function(e,r){return Jge},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t})(),Xg=(function(){function t(){}return t})(),Vge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,i){},e})(Xg),Bge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,i){},e})(Xg),zge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,i){},e})(Xg),Fge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,i){},e})(Xg),xC=(function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t})(),Hge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(xC),Gge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(xC),jge=(function(t){yc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(xC),IC=new $ge,qge=new Vge,Yge=new zge,Wge=new Fge,Kge=new Bge,Zge=new Hge,Xge=new Gge,Jge=new jge;});var Me,VG=_(()=>{(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE";})(Me||(Me={}));});var Xl,Jl,wC=_(()=>{Xl={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},Jl={set:function(t,e,r){t!=null&&(t[e]=r);}};});var Qge,eEe,BG,zG=_(()=>{Af();Qge=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},eEe=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},BG=(function(){function t(){}return t.prototype.active=function(){return Zg},t.prototype.with=function(e,r,i){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return r.call.apply(r,eEe([i],Qge(n),false))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t})();});var tEe,rEe,LC,nEe,Ts,Rf=_(()=>{zG();Sc();Tc();tEe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},rEe=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},LC="context",nEe=new BG,Ts=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return wi(LC,e,_r.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,i){for(var n,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return (n=this._getContextManager()).with.apply(n,rEe([e,r,i],tEe(a),false))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return _n(LC)||nEe},t.prototype.disable=function(){this._getContextManager().disable(),Li(LC,_r.instance());},t})();});var Ce,DC=_(()=>{(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED";})(Ce||(Ce={}));});var Of,Nf,ys,Qg=_(()=>{DC();Of="0000000000000000",Nf="00000000000000000000000000000000",ys={traceId:Nf,spanId:Of,traceFlags:Ce.NONE};});var vs,eE=_(()=>{Qg();vs=(function(){function t(e){e===void 0&&(e=ys),this._spanContext=e;}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return  false},t.prototype.recordException=function(e,r){},t})();});function tE(t){return t.getValue(UC)||void 0}function FG(){return tE(Ts.getInstance().active())}function bf(t,e){return t.setValue(UC,e)}function HG(t){return t.deleteValue(UC)}function GG(t,e){return bf(t,new vs(e))}function rE(t){var e;return (e=tE(t))===null||e===void 0?void 0:e.spanContext()}var UC,kC=_(()=>{Af();eE();Rf();UC=gr("OpenTelemetry Context Key SPAN");});function Lo(t){return iEe.test(t)&&t!==Nf}function vc(t){return oEe.test(t)&&t!==Of}function jt(t){return Lo(t.traceId)&&vc(t.spanId)}function jG(t){return new vs(t)}var iEe,oEe,nE=_(()=>{Qg();eE();iEe=/^([0-9a-f]{32})$/i,oEe=/^[0-9a-f]{16}$/i;});function sEe(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var $C,iE,VC=_(()=>{Rf();kC();eE();nE();$C=Ts.getInstance(),iE=(function(){function t(){}return t.prototype.startSpan=function(e,r,i){i===void 0&&(i=$C.active());var n=!!r?.root;if(n)return new vs;var a=i&&rE(i);return sEe(a)&&jt(a)?new vs(a):new vs},t.prototype.startActiveSpan=function(e,r,i,n){var a,o,s;if(!(arguments.length<2)){arguments.length===2?s=r:arguments.length===3?(a=r,s=i):(a=r,o=i,s=n);var c=o??$C.active(),l=this.startSpan(e,a,c),u=bf(c,l);return $C.with(u,s,void 0,l)}},t})();});var aEe,oE,BC=_(()=>{VC();aEe=new iE,oE=(function(){function t(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}return t.prototype.startSpan=function(e,r,i){return this._getTracer().startSpan(e,r,i)},t.prototype.startActiveSpan=function(e,r,i,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):aEe},t})();});var qG,YG=_(()=>{VC();qG=(function(){function t(){}return t.prototype.getTracer=function(e,r,i){return new iE},t})();});var cEe,Pf,zC=_(()=>{BC();YG();cEe=new qG,Pf=(function(){function t(){}return t.prototype.getTracer=function(e,r,i){var n;return (n=this.getDelegateTracer(e,r,i))!==null&&n!==void 0?n:new oE(this,e,r,i)},t.prototype.getDelegate=function(){var e;return (e=this._delegate)!==null&&e!==void 0?e:cEe},t.prototype.setDelegate=function(e){this._delegate=e;},t.prototype.getDelegateTracer=function(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,r,i)},t})();});var Ac,WG=_(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";})(Ac||(Ac={}));});var ge,KG=_(()=>{(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER";})(ge||(ge={}));});var Qe,ZG=_(()=>{(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR";})(Qe||(Qe={}));});function XG(t){return dEe.test(t)}function JG(t){return pEe.test(t)&&!fEe.test(t)}var FC,lEe,uEe,dEe,pEe,fEe,QG=_(()=>{FC="[_0-9a-z-*/]",lEe="[a-z]"+FC+"{0,255}",uEe="[a-z0-9]"+FC+"{0,240}@[a-z]"+FC+"{0,13}",dEe=new RegExp("^(?:"+lEe+"|"+uEe+")$"),pEe=/^[ -~]{0,255}[!-~]$/,fEe=/,|=/;});var e2,hEe,t2,r2,n2,i2=_(()=>{QG();e2=32,hEe=512,t2=",",r2="=",n2=(function(){function t(e){this._internalState=new Map,e&&this._parse(e);}return t.prototype.set=function(e,r){var i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,r),i},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,i){return r.push(i+r2+e.get(i)),r},[]).join(t2)},t.prototype._parse=function(e){e.length>hEe||(this._internalState=e.split(t2).reverse().reduce(function(r,i){var n=i.trim(),a=n.indexOf(r2);if(a!==-1){var o=n.slice(0,a),s=n.slice(a+1,i.length);XG(o)&&JG(s)&&r.set(o,s);}return r},new Map),this._internalState.size>e2&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,e2))));},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t})();});function o2(t){return new n2(t)}var s2=_(()=>{i2();});var pe,a2=_(()=>{Rf();pe=Ts.getInstance();});var T,c2=_(()=>{Tc();T=_r.instance();});var mEe,l2,u2=_(()=>{MC();mEe=(function(){function t(){}return t.prototype.getMeter=function(e,r,i){return IC},t})(),l2=new mEe;});var HC,d2,p2=_(()=>{u2();Sc();Tc();HC="metrics",d2=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return wi(HC,e,_r.instance())},t.prototype.getMeterProvider=function(){return _n(HC)||l2},t.prototype.getMeter=function(e,r,i){return this.getMeterProvider().getMeter(e,r,i)},t.prototype.disable=function(){Li(HC,_r.instance());},t})();});var br,f2=_(()=>{p2();br=d2.getInstance();});var h2,m2=_(()=>{h2=(function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return []},t})();});function jC(t){return t.getValue(GC)||void 0}function _2(){return jC(Ts.getInstance().active())}function g2(t,e){return t.setValue(GC,e)}function E2(t){return t.deleteValue(GC)}var GC,S2=_(()=>{Rf();Af();GC=gr("OpenTelemetry Baggage Key");});var qC,_Ee,T2,y2=_(()=>{Sc();m2();wC();S2();PC();Tc();qC="propagation",_Ee=new h2,T2=(function(){function t(){this.createBaggage=UG,this.getBaggage=jC,this.getActiveBaggage=_2,this.setBaggage=g2,this.deleteBaggage=E2;}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return wi(qC,e,_r.instance())},t.prototype.inject=function(e,r,i){return i===void 0&&(i=Jl),this._getGlobalPropagator().inject(e,r,i)},t.prototype.extract=function(e,r,i){return i===void 0&&(i=Xl),this._getGlobalPropagator().extract(e,r,i)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Li(qC,_r.instance());},t.prototype._getGlobalPropagator=function(){return _n(qC)||_Ee},t})();});var qt,v2=_(()=>{y2();qt=T2.getInstance();});var YC,A2,R2=_(()=>{Sc();zC();nE();kC();Tc();YC="trace",A2=(function(){function t(){this._proxyTracerProvider=new Pf,this.wrapSpanContext=jG,this.isSpanContextValid=jt,this.deleteSpan=HG,this.getSpan=tE,this.getActiveSpan=FG,this.getSpanContext=rE,this.setSpan=bf,this.setSpanContext=GG;}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=wi(YC,this._proxyTracerProvider,_r.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return _n(YC)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Li(YC,_r.instance()),this._proxyTracerProvider=new Pf;},t})();});var se,O2=_(()=>{R2();se=A2.getInstance();});var Ve={};Ne(Ve,{DiagConsoleLogger:()=>kG,DiagLogLevel:()=>Se,INVALID_SPANID:()=>Of,INVALID_SPAN_CONTEXT:()=>ys,INVALID_TRACEID:()=>Nf,ProxyTracer:()=>oE,ProxyTracerProvider:()=>Pf,ROOT_CONTEXT:()=>Zg,SamplingDecision:()=>Ac,SpanKind:()=>ge,SpanStatusCode:()=>Qe,TraceFlags:()=>Ce,ValueType:()=>Me,baggageEntryMetadataFromString:()=>Zl,context:()=>pe,createContextKey:()=>gr,createNoopMeter:()=>Jg,createTraceState:()=>o2,default:()=>gEe,defaultTextMapGetter:()=>Xl,defaultTextMapSetter:()=>Jl,diag:()=>T,isSpanContextValid:()=>jt,isValidSpanId:()=>vc,isValidTraceId:()=>Lo,metrics:()=>br,propagation:()=>qt,trace:()=>se});var gEe,P=_(()=>{PC();Af();$G();Kg();MC();VG();wC();BC();zC();WG();KG();ZG();DC();s2();nE();Qg();a2();c2();f2();v2();O2();gEe={context:pe,diag:T,metrics:br,propagation:qt,trace:se};});var xn,N2=_(()=>{(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TRACE=1]="TRACE",t[t.TRACE2=2]="TRACE2",t[t.TRACE3=3]="TRACE3",t[t.TRACE4=4]="TRACE4",t[t.DEBUG=5]="DEBUG",t[t.DEBUG2=6]="DEBUG2",t[t.DEBUG3=7]="DEBUG3",t[t.DEBUG4=8]="DEBUG4",t[t.INFO=9]="INFO",t[t.INFO2=10]="INFO2",t[t.INFO3=11]="INFO3",t[t.INFO4=12]="INFO4",t[t.WARN=13]="WARN",t[t.WARN2=14]="WARN2",t[t.WARN3=15]="WARN3",t[t.WARN4=16]="WARN4",t[t.ERROR=17]="ERROR",t[t.ERROR2=18]="ERROR2",t[t.ERROR3=19]="ERROR3",t[t.ERROR4=20]="ERROR4",t[t.FATAL=21]="FATAL",t[t.FATAL2=22]="FATAL2",t[t.FATAL3=23]="FATAL3",t[t.FATAL4=24]="FATAL4";})(xn||(xn={}));});var Rc,Ql,sE=_(()=>{Rc=class{emit(e){}},Ql=new Rc;});var Cf,eu,aE=_(()=>{sE();Cf=class{getLogger(e,r,i){return new Rc}},eu=new Cf;});var tu,WC=_(()=>{sE();tu=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ql}};});var Oc,KC=_(()=>{aE();WC();Oc=class{getLogger(e,r,i){var n;return (n=this._getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new tu(this,e,r,i)}_getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:eu}_setDelegate(e){this._delegate=e;}_getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};});var cE,b2=_(()=>{cE=typeof globalThis=="object"?globalThis:global;});var P2=_(()=>{b2();});var C2=_(()=>{P2();});function x2(t,e,r){return i=>i===t?e:r}var xf,ru,ZC,I2=_(()=>{C2();xf=Symbol.for("io.opentelemetry.js.api.logs"),ru=cE;ZC=1;});var lE,M2=_(()=>{I2();aE();KC();lE=class t{constructor(){this._proxyLoggerProvider=new Oc;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return ru[xf]?this.getLoggerProvider():(ru[xf]=x2(ZC,e,eu),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=ru[xf])===null||e===void 0?void 0:e.call(ru,ZC))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete ru[xf],this._proxyLoggerProvider=new Oc;}};});var bc={};Ne(bc,{NOOP_LOGGER:()=>Ql,NOOP_LOGGER_PROVIDER:()=>eu,NoopLogger:()=>Rc,NoopLoggerProvider:()=>Cf,ProxyLogger:()=>tu,ProxyLoggerProvider:()=>Oc,SeverityNumber:()=>xn,logs:()=>Nc});var Nc,In=_(()=>{N2();sE();aE();WC();KC();M2();Nc=lE.getInstance();});function Er(t){return t.setValue(XC,true)}function w2(t){return t.deleteValue(XC)}function Sr(t){return t.getValue(XC)===true}var XC,If=_(()=>{P();XC=gr("OpenTelemetry SDK Context Key SUPPRESS_TRACING");});var uE,L2=_(()=>{uE="baggage";});function U2(t){return t.reduce((e,r)=>{let i=`${e}${e!==""?",":""}${r}`;return i.length>8192?e:i},"")}function k2(t){return t.getAllEntries().map(([e,r])=>{let i=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(i+=";"+r.metadata.toString()),i})}function JC(t){let e=t.split(";");if(e.length<=0)return;let r=e.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let n=decodeURIComponent(r.substring(0,i).trim()),a=decodeURIComponent(r.substring(i+1).trim()),o;return e.length>0&&(o=Zl(e.join(";"))),{key:n,value:a,metadata:o}}function Pc(t){let e={};return typeof t=="string"&&t.length>0&&t.split(",").forEach(r=>{let i=JC(r);i!==void 0&&i.value.length>0&&(e[i.key]=i.value);}),e}var QC=_(()=>{P();});var pE,$2=_(()=>{P();If();L2();QC();pE=class{inject(e,r,i){let n=qt.getBaggage(e);if(!n||Sr(e))return;let a=k2(n).filter(s=>s.length<=4096).slice(0,180),o=U2(a);o.length>0&&i.set(r,uE,o);}extract(e,r,i){let n=i.get(r,uE),a=Array.isArray(n)?n.join(","):n;if(!a)return e;let o={};return a.length===0||(a.split(",").forEach(c=>{let l=JC(c);if(l){let u={value:l.value};l.metadata&&(u.metadata=l.metadata),o[l.key]=u;}}),Object.entries(o).length===0)?e:qt.setBaggage(e,qt.createBaggage(o))}fields(){return [uE]}};});var fE,V2=_(()=>{fE=class{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now();}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};});function As(t){let e={};if(typeof t!="object"||t==null)return e;for(let[r,i]of Object.entries(t)){if(!TEe(r)){T.warn(`Invalid attribute key: ${r}`);continue}if(!Rs(i)){T.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?e[r]=i.slice():e[r]=i;}return e}function TEe(t){return typeof t=="string"&&t.length>0}function Rs(t){return t==null?true:Array.isArray(t)?yEe(t):B2(t)}function yEe(t){let e;for(let r of t)if(r!=null){if(!e){if(B2(r)){e=typeof r;continue}return  false}if(typeof r!==e)return  false}return  true}function B2(t){switch(typeof t){case "number":case "boolean":case "string":return  true}return  false}var z2=_(()=>{P();});function hE(){return t=>{T.error(vEe(t));}}function vEe(t){return typeof t=="string"?t:JSON.stringify(AEe(t))}function AEe(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(i=>{if(e[i])return;let n=r[i];n&&(e[i]=String(n));}),r=Object.getPrototypeOf(r);return e}var ex=_(()=>{P();});function H2(t){F2=t;}function ft(t){try{F2(t);}catch{}}var F2,G2=_(()=>{ex();F2=hE();});function De(t){let e=process.env[t];if(e==null||e.trim()==="")return;let r=Number(e);if(isNaN(r)){T.warn(`Unknown value ${N8.inspect(e)} for ${t}, expected a number, using defaults`);return}return r}function zt(t){let e=process.env[t];if(!(e==null||e.trim()===""))return e}function mE(t){let e=process.env[t]?.trim().toLowerCase();return e==null||e===""?false:e==="true"?true:(e==="false"||T.warn(`Unknown value ${N8.inspect(e)} for ${t}, expected 'true' or 'false', falling back to 'false' (default)`),false)}function _E(t){return zt(t)?.split(",").map(e=>e.trim()).filter(e=>e!=="")}var q2=_(()=>{P();});var gE,Y2=_(()=>{gE=typeof globalThis=="object"?globalThis:global;});var Mn,W2=_(()=>{Mn=perf_hooks.performance;});var K2,Z2=_(()=>{K2="2.1.0";});function bt(t){let e={},r=t.length;for(let i=0;i<r;i++){let n=t[i];n&&(e[String(n).toUpperCase().replace(/[-.]/g,"_")]=n);}return e}var tx=_(()=>{});var X2,J2,Q2,ej,tj,rj,nj,ij,oj,sj,aj,cj,lj,uj,dj,pj,fj,hj,mj,_j,gj,Ej,Sj,Tj,yj,vj,Aj,Rj,Oj,Nj,bj,Pj,Cj,xj,Ij,Mj,wj,Lj,Dj,Uj,kj,$j,Vj,Bj,zj,Fj,Hj,Gj,jj,qj,Yj,Wj,Kj,Zj,Xj,Jj,Qj,eq,tq,rq,nq,iq,oq,sq,aq,cq,lq,uq,dq,pq,fq,hq,mq,_q,gq,Eq,Sq,Tq,yq,vq,Aq,Rq,Oq,Nq,bq,Pq,Cq,xq,Iq,Mq,wq,Lq,Dq,Uq,kq,$q,Vq,Bq,zq,Fq,Hq,Gq,jq,qq,Yq,Wq,Kq,Zq,Xq,Jq,Qq,e4,t4,r4,n4,i4,o4,s4,a4,c4,l4,u4,d4,p4,f4,h4,m4,_4,OEe,NEe,bEe,PEe,CEe,xEe,IEe,MEe,wEe,LEe,DEe,UEe,kEe,$Ee,VEe,BEe,zEe,FEe,HEe,GEe,jEe,qEe,YEe,WEe,KEe,ZEe,XEe,JEe,QEe,eSe,tSe,rSe,nSe,iSe,oSe,sSe,aSe,cSe,lSe,uSe,dSe,pSe,fSe,hSe,mSe,_Se,gSe,ESe,SSe,TSe,ySe,vSe,ASe,RSe,OSe,NSe,bSe,PSe,CSe,xSe,ISe,MSe,wSe,LSe,DSe,USe,kSe,$Se,VSe,BSe,zSe,FSe,HSe,GSe,jSe,qSe,YSe,WSe,KSe,ZSe,XSe,JSe,QSe,eTe,tTe,rTe,nTe,iTe,oTe,sTe,aTe,cTe,lTe,uTe,dTe,pTe,fTe,hTe,mTe,_Te,gTe,ETe,STe,TTe,yTe,vTe,ATe,RTe,OTe,NTe,bTe,PTe,CTe,xTe,ITe,MTe,wTe,LTe,DTe,UTe,kTe,$Te,VTe,BTe,zTe,FTe,HTe,GTe,jTe,g4,E4,S4,T4,y4,v4,A4,R4,O4,N4,b4,P4,C4,x4,I4,M4,w4,L4,D4,U4,k4,$4,V4,B4,z4,F4,H4,G4,j4,q4,Y4,W4,K4,Z4,X4,J4,Q4,e6,t6,r6,n6,i6,o6,s6,a6,c6,l6,qTe,YTe,WTe,KTe,ZTe,XTe,JTe,QTe,eye,tye,rye,nye,iye,oye,sye,aye,cye,lye,uye,dye,pye,fye,hye,mye,_ye,gye,Eye,Sye,Tye,yye,vye,Aye,Rye,Oye,Nye,bye,Pye,Cye,xye,Iye,Mye,wye,Lye,Dye,Uye,kye,$ye,Vye,u6,d6,p6,f6,h6,m6,_6,g6,E6,S6,T6,Bye,zye,Fye,Hye,Gye,jye,qye,Yye,Wye,Kye,Zye,Xye,y6,v6,A6,R6,O6,Jye,Qye,eve,tve,rve,nve,N6,b6,P6,ive,ove,sve,ave,C6,x6,I6,M6,cve,lve,uve,dve,pve,w6,L6,D6,U6,k6,$6,V6,fve,hve,mve,_ve,gve,Eve,Sve,Tve,B6,z6,F6,H6,G6,yve,vve,Ave,Rve,Ove,Nve,j6,q6,Y6,W6,K6,Z6,X6,J6,Q6,e3,t3,r3,n3,i3,o3,s3,a3,c3,l3,u3,d3,bve,Pve,Cve,xve,Ive,Mve,wve,Lve,Dve,Uve,kve,$ve,Vve,Bve,zve,Fve,Hve,Gve,jve,qve,Yve,Wve,p3,f3,h3,m3,_3,Kve,Zve,Xve,Jve,Qve,eAe,g3,E3,tAe,rAe,nAe,S3,T3,iAe,oAe,sAe,y3,v3,A3,R3,O3,N3,b3,P3,C3,x3,I3,M3,w3,L3,D3,U3,k3,aAe,cAe,lAe,uAe,dAe,pAe,fAe,hAe,mAe,_Ae,gAe,EAe,SAe,TAe,yAe,vAe,AAe,RAe,$3,V3,OAe,NAe,bAe,B3=_(()=>{tx();X2="aws.lambda.invoked_arn",J2="db.system",Q2="db.connection_string",ej="db.user",tj="db.jdbc.driver_classname",rj="db.name",nj="db.statement",ij="db.operation",oj="db.mssql.instance_name",sj="db.cassandra.keyspace",aj="db.cassandra.page_size",cj="db.cassandra.consistency_level",lj="db.cassandra.table",uj="db.cassandra.idempotence",dj="db.cassandra.speculative_execution_count",pj="db.cassandra.coordinator.id",fj="db.cassandra.coordinator.dc",hj="db.hbase.namespace",mj="db.redis.database_index",_j="db.mongodb.collection",gj="db.sql.table",Ej="exception.type",Sj="exception.message",Tj="exception.stacktrace",yj="exception.escaped",vj="faas.trigger",Aj="faas.execution",Rj="faas.document.collection",Oj="faas.document.operation",Nj="faas.document.time",bj="faas.document.name",Pj="faas.time",Cj="faas.cron",xj="faas.coldstart",Ij="faas.invoked_name",Mj="faas.invoked_provider",wj="faas.invoked_region",Lj="net.transport",Dj="net.peer.ip",Uj="net.peer.port",kj="net.peer.name",$j="net.host.ip",Vj="net.host.port",Bj="net.host.name",zj="net.host.connection.type",Fj="net.host.connection.subtype",Hj="net.host.carrier.name",Gj="net.host.carrier.mcc",jj="net.host.carrier.mnc",qj="net.host.carrier.icc",Yj="peer.service",Wj="enduser.id",Kj="enduser.role",Zj="enduser.scope",Xj="thread.id",Jj="thread.name",Qj="code.function",eq="code.namespace",tq="code.filepath",rq="code.lineno",nq="http.method",iq="http.url",oq="http.target",sq="http.host",aq="http.scheme",cq="http.status_code",lq="http.flavor",uq="http.user_agent",dq="http.request_content_length",pq="http.request_content_length_uncompressed",fq="http.response_content_length",hq="http.response_content_length_uncompressed",mq="http.server_name",_q="http.route",gq="http.client_ip",Eq="aws.dynamodb.table_names",Sq="aws.dynamodb.consumed_capacity",Tq="aws.dynamodb.item_collection_metrics",yq="aws.dynamodb.provisioned_read_capacity",vq="aws.dynamodb.provisioned_write_capacity",Aq="aws.dynamodb.consistent_read",Rq="aws.dynamodb.projection",Oq="aws.dynamodb.limit",Nq="aws.dynamodb.attributes_to_get",bq="aws.dynamodb.index_name",Pq="aws.dynamodb.select",Cq="aws.dynamodb.global_secondary_indexes",xq="aws.dynamodb.local_secondary_indexes",Iq="aws.dynamodb.exclusive_start_table",Mq="aws.dynamodb.table_count",wq="aws.dynamodb.scan_forward",Lq="aws.dynamodb.segment",Dq="aws.dynamodb.total_segments",Uq="aws.dynamodb.count",kq="aws.dynamodb.scanned_count",$q="aws.dynamodb.attribute_definitions",Vq="aws.dynamodb.global_secondary_index_updates",Bq="messaging.system",zq="messaging.destination",Fq="messaging.destination_kind",Hq="messaging.temp_destination",Gq="messaging.protocol",jq="messaging.protocol_version",qq="messaging.url",Yq="messaging.message_id",Wq="messaging.conversation_id",Kq="messaging.message_payload_size_bytes",Zq="messaging.message_payload_compressed_size_bytes",Xq="messaging.operation",Jq="messaging.consumer_id",Qq="messaging.rabbitmq.routing_key",e4="messaging.kafka.message_key",t4="messaging.kafka.consumer_group",r4="messaging.kafka.client_id",n4="messaging.kafka.partition",i4="messaging.kafka.tombstone",o4="rpc.system",s4="rpc.service",a4="rpc.method",c4="rpc.grpc.status_code",l4="rpc.jsonrpc.version",u4="rpc.jsonrpc.request_id",d4="rpc.jsonrpc.error_code",p4="rpc.jsonrpc.error_message",f4="message.type",h4="message.id",m4="message.compressed_size",_4="message.uncompressed_size",OEe=X2,NEe=J2,bEe=Q2,PEe=ej,CEe=tj,xEe=rj,IEe=nj,MEe=ij,wEe=oj,LEe=sj,DEe=aj,UEe=cj,kEe=lj,$Ee=uj,VEe=dj,BEe=pj,zEe=fj,FEe=hj,HEe=mj,GEe=_j,jEe=gj,qEe=Ej,YEe=Sj,WEe=Tj,KEe=yj,ZEe=vj,XEe=Aj,JEe=Rj,QEe=Oj,eSe=Nj,tSe=bj,rSe=Pj,nSe=Cj,iSe=xj,oSe=Ij,sSe=Mj,aSe=wj,cSe=Lj,lSe=Dj,uSe=Uj,dSe=kj,pSe=$j,fSe=Vj,hSe=Bj,mSe=zj,_Se=Fj,gSe=Hj,ESe=Gj,SSe=jj,TSe=qj,ySe=Yj,vSe=Wj,ASe=Kj,RSe=Zj,OSe=Xj,NSe=Jj,bSe=Qj,PSe=eq,CSe=tq,xSe=rq,ISe=nq,MSe=iq,wSe=oq,LSe=sq,DSe=aq,USe=cq,kSe=lq,$Se=uq,VSe=dq,BSe=pq,zSe=fq,FSe=hq,HSe=mq,GSe=_q,jSe=gq,qSe=Eq,YSe=Sq,WSe=Tq,KSe=yq,ZSe=vq,XSe=Aq,JSe=Rq,QSe=Oq,eTe=Nq,tTe=bq,rTe=Pq,nTe=Cq,iTe=xq,oTe=Iq,sTe=Mq,aTe=wq,cTe=Lq,lTe=Dq,uTe=Uq,dTe=kq,pTe=$q,fTe=Vq,hTe=Bq,mTe=zq,_Te=Fq,gTe=Hq,ETe=Gq,STe=jq,TTe=qq,yTe=Yq,vTe=Wq,ATe=Kq,RTe=Zq,OTe=Xq,NTe=Jq,bTe=Qq,PTe=e4,CTe=t4,xTe=r4,ITe=n4,MTe=i4,wTe=o4,LTe=s4,DTe=a4,UTe=c4,kTe=l4,$Te=u4,VTe=d4,BTe=p4,zTe=f4,FTe=h4,HTe=m4,GTe=_4,jTe=bt([X2,J2,Q2,ej,tj,rj,nj,ij,oj,sj,aj,cj,lj,uj,dj,pj,fj,hj,mj,_j,gj,Ej,Sj,Tj,yj,vj,Aj,Rj,Oj,Nj,bj,Pj,Cj,xj,Ij,Mj,wj,Lj,Dj,Uj,kj,$j,Vj,Bj,zj,Fj,Hj,Gj,jj,qj,Yj,Wj,Kj,Zj,Xj,Jj,Qj,eq,tq,rq,nq,iq,oq,sq,aq,cq,lq,uq,dq,pq,fq,hq,mq,_q,gq,Eq,Sq,Tq,yq,vq,Aq,Rq,Oq,Nq,bq,Pq,Cq,xq,Iq,Mq,wq,Lq,Dq,Uq,kq,$q,Vq,Bq,zq,Fq,Hq,Gq,jq,qq,Yq,Wq,Kq,Zq,Xq,Jq,Qq,e4,t4,r4,n4,i4,o4,s4,a4,c4,l4,u4,d4,p4,f4,h4,m4,_4]),g4="other_sql",E4="mssql",S4="mysql",T4="oracle",y4="db2",v4="postgresql",A4="redshift",R4="hive",O4="cloudscape",N4="hsqldb",b4="progress",P4="maxdb",C4="hanadb",x4="ingres",I4="firstsql",M4="edb",w4="cache",L4="adabas",D4="firebird",U4="derby",k4="filemaker",$4="informix",V4="instantdb",B4="interbase",z4="mariadb",F4="netezza",H4="pervasive",G4="pointbase",j4="sqlite",q4="sybase",Y4="teradata",W4="vertica",K4="h2",Z4="coldfusion",X4="cassandra",J4="hbase",Q4="mongodb",e6="redis",t6="couchbase",r6="couchdb",n6="cosmosdb",i6="dynamodb",o6="neo4j",s6="geode",a6="elasticsearch",c6="memcached",l6="cockroachdb",qTe=g4,YTe=E4,WTe=S4,KTe=T4,ZTe=y4,XTe=v4,JTe=A4,QTe=R4,eye=O4,tye=N4,rye=b4,nye=P4,iye=C4,oye=x4,sye=I4,aye=M4,cye=w4,lye=L4,uye=D4,dye=U4,pye=k4,fye=$4,hye=V4,mye=B4,_ye=z4,gye=F4,Eye=H4,Sye=G4,Tye=j4,yye=q4,vye=Y4,Aye=W4,Rye=K4,Oye=Z4,Nye=X4,bye=J4,Pye=Q4,Cye=e6,xye=t6,Iye=r6,Mye=n6,wye=i6,Lye=o6,Dye=s6,Uye=a6,kye=c6,$ye=l6,Vye=bt([g4,E4,S4,T4,y4,v4,A4,R4,O4,N4,b4,P4,C4,x4,I4,M4,w4,L4,D4,U4,k4,$4,V4,B4,z4,F4,H4,G4,j4,q4,Y4,W4,K4,Z4,X4,J4,Q4,e6,t6,r6,n6,i6,o6,s6,a6,c6,l6]),u6="all",d6="each_quorum",p6="quorum",f6="local_quorum",h6="one",m6="two",_6="three",g6="local_one",E6="any",S6="serial",T6="local_serial",Bye=u6,zye=d6,Fye=p6,Hye=f6,Gye=h6,jye=m6,qye=_6,Yye=g6,Wye=E6,Kye=S6,Zye=T6,Xye=bt([u6,d6,p6,f6,h6,m6,_6,g6,E6,S6,T6]),y6="datasource",v6="http",A6="pubsub",R6="timer",O6="other",Jye=y6,Qye=v6,eve=A6,tve=R6,rve=O6,nve=bt([y6,v6,A6,R6,O6]),N6="insert",b6="edit",P6="delete",ive=N6,ove=b6,sve=P6,ave=bt([N6,b6,P6]),C6="alibaba_cloud",x6="aws",I6="azure",M6="gcp",cve=C6,lve=x6,uve=I6,dve=M6,pve=bt([C6,x6,I6,M6]),w6="ip_tcp",L6="ip_udp",D6="ip",U6="unix",k6="pipe",$6="inproc",V6="other",fve=w6,hve=L6,mve=D6,_ve=U6,gve=k6,Eve=$6,Sve=V6,Tve=bt([w6,L6,D6,U6,k6,$6,V6]),B6="wifi",z6="wired",F6="cell",H6="unavailable",G6="unknown",yve=B6,vve=z6,Ave=F6,Rve=H6,Ove=G6,Nve=bt([B6,z6,F6,H6,G6]),j6="gprs",q6="edge",Y6="umts",W6="cdma",K6="evdo_0",Z6="evdo_a",X6="cdma2000_1xrtt",J6="hsdpa",Q6="hsupa",e3="hspa",t3="iden",r3="evdo_b",n3="lte",i3="ehrpd",o3="hspap",s3="gsm",a3="td_scdma",c3="iwlan",l3="nr",u3="nrnsa",d3="lte_ca",bve=j6,Pve=q6,Cve=Y6,xve=W6,Ive=K6,Mve=Z6,wve=X6,Lve=J6,Dve=Q6,Uve=e3,kve=t3,$ve=r3,Vve=n3,Bve=i3,zve=o3,Fve=s3,Hve=a3,Gve=c3,jve=l3,qve=u3,Yve=d3,Wve=bt([j6,q6,Y6,W6,K6,Z6,X6,J6,Q6,e3,t3,r3,n3,i3,o3,s3,a3,c3,l3,u3,d3]),p3="1.0",f3="1.1",h3="2.0",m3="SPDY",_3="QUIC",Kve=p3,Zve=f3,Xve=h3,Jve=m3,Qve=_3,eAe={HTTP_1_0:p3,HTTP_1_1:f3,HTTP_2_0:h3,SPDY:m3,QUIC:_3},g3="queue",E3="topic",tAe=g3,rAe=E3,nAe=bt([g3,E3]),S3="receive",T3="process",iAe=S3,oAe=T3,sAe=bt([S3,T3]),y3=0,v3=1,A3=2,R3=3,O3=4,N3=5,b3=6,P3=7,C3=8,x3=9,I3=10,M3=11,w3=12,L3=13,D3=14,U3=15,k3=16,aAe=y3,cAe=v3,lAe=A3,uAe=R3,dAe=O3,pAe=N3,fAe=b3,hAe=P3,mAe=C3,_Ae=x3,gAe=I3,EAe=M3,SAe=w3,TAe=L3,yAe=D3,vAe=U3,AAe=k3,RAe={OK:y3,CANCELLED:v3,UNKNOWN:A3,INVALID_ARGUMENT:R3,DEADLINE_EXCEEDED:O3,NOT_FOUND:N3,ALREADY_EXISTS:b3,PERMISSION_DENIED:P3,RESOURCE_EXHAUSTED:C3,FAILED_PRECONDITION:x3,ABORTED:I3,OUT_OF_RANGE:M3,UNIMPLEMENTED:w3,INTERNAL:L3,UNAVAILABLE:D3,DATA_LOSS:U3,UNAUTHENTICATED:k3},$3="SENT",V3="RECEIVED",OAe=$3,NAe=V3,bAe=bt([$3,V3]);});var z3=_(()=>{B3();});var F3,H3,G3,j3,q3,Y3,W3,K3,Z3,X3,J3,Q3,eY,tY,rY,nY,iY,oY,sY,aY,cY,lY,uY,dY,pY,fY,hY,mY,_Y,gY,EY,SY,TY,yY,vY,AY,RY,OY,NY,bY,PY,CY,xY,IY,MY,wY,LY,DY,UY,kY,$Y,VY,BY,zY,FY,HY,GY,jY,qY,YY,WY,KY,ZY,XY,JY,QY,eW,tW,rW,nW,iW,oW,sW,aW,cW,lW,uW,dW,pW,fW,hW,Os,PAe,Ns,CAe,bs,xAe,IAe,MAe,wAe,LAe,DAe,UAe,kAe,$Ae,VAe,BAe,zAe,FAe,HAe,GAe,jAe,rx,qAe,YAe,WAe,KAe,ZAe,XAe,EE,SE,nu,TE,yE,JAe,QAe,eRe,tRe,rRe,nRe,iRe,oRe,sRe,aRe,cRe,lRe,uRe,dRe,pRe,fRe,hRe,mRe,_Re,gRe,ERe,SRe,TRe,yRe,vRe,ARe,vE,nx,RRe,ORe,NRe,bRe,PRe,CRe,xRe,IRe,MRe,iu,wRe,ix,LRe,DRe,URe,kRe,$Re,VRe,BRe,zRe,FRe,mW,_W,gW,EW,HRe,GRe,Cc,jRe,qRe,SW,TW,yW,vW,AW,RW,OW,NW,bW,PW,CW,xW,IW,MW,wW,LW,DW,YRe,WRe,KRe,ZRe,XRe,JRe,QRe,ox,eOe,tOe,sx,ax,rOe,nOe,iOe,oOe,sOe,aOe,UW,kW,cOe,lOe,uOe,$W,VW,BW,zW,FW,HW,GW,dOe,pOe,fOe,hOe,mOe,_Oe,gOe,EOe,jW,qW,YW,WW,KW,ZW,XW,JW,QW,eK,tK,SOe,TOe,yOe,vOe,AOe,ROe,OOe,NOe,bOe,POe,COe,xOe,rK,nK,iK,oK,sK,aK,cK,lK,uK,dK,IOe,MOe,wOe,LOe,DOe,UOe,kOe,$Oe,VOe,BOe,zOe,pK=_(()=>{tx();F3="cloud.provider",H3="cloud.account.id",G3="cloud.region",j3="cloud.availability_zone",q3="cloud.platform",Y3="aws.ecs.container.arn",W3="aws.ecs.cluster.arn",K3="aws.ecs.launchtype",Z3="aws.ecs.task.arn",X3="aws.ecs.task.family",J3="aws.ecs.task.revision",Q3="aws.eks.cluster.arn",eY="aws.log.group.names",tY="aws.log.group.arns",rY="aws.log.stream.names",nY="aws.log.stream.arns",iY="container.name",oY="container.id",sY="container.runtime",aY="container.image.name",cY="container.image.tag",lY="deployment.environment",uY="device.id",dY="device.model.identifier",pY="device.model.name",fY="faas.name",hY="faas.id",mY="faas.version",_Y="faas.instance",gY="faas.max_memory",EY="host.id",SY="host.name",TY="host.type",yY="host.arch",vY="host.image.name",AY="host.image.id",RY="host.image.version",OY="k8s.cluster.name",NY="k8s.node.name",bY="k8s.node.uid",PY="k8s.namespace.name",CY="k8s.pod.uid",xY="k8s.pod.name",IY="k8s.container.name",MY="k8s.replicaset.uid",wY="k8s.replicaset.name",LY="k8s.deployment.uid",DY="k8s.deployment.name",UY="k8s.statefulset.uid",kY="k8s.statefulset.name",$Y="k8s.daemonset.uid",VY="k8s.daemonset.name",BY="k8s.job.uid",zY="k8s.job.name",FY="k8s.cronjob.uid",HY="k8s.cronjob.name",GY="os.type",jY="os.description",qY="os.name",YY="os.version",WY="process.pid",KY="process.executable.name",ZY="process.executable.path",XY="process.command",JY="process.command_line",QY="process.command_args",eW="process.owner",tW="process.runtime.name",rW="process.runtime.version",nW="process.runtime.description",iW="service.name",oW="service.namespace",sW="service.instance.id",aW="service.version",cW="telemetry.sdk.name",lW="telemetry.sdk.language",uW="telemetry.sdk.version",dW="telemetry.auto.version",pW="webengine.name",fW="webengine.version",hW="webengine.description",Os=F3,PAe=H3,Ns=G3,CAe=j3,bs=q3,xAe=Y3,IAe=W3,MAe=K3,wAe=Z3,LAe=X3,DAe=J3,UAe=Q3,kAe=eY,$Ae=tY,VAe=rY,BAe=nY,zAe=iY,FAe=oY,HAe=sY,GAe=aY,jAe=cY,rx=lY,qAe=uY,YAe=dY,WAe=pY,KAe=fY,ZAe=hY,XAe=mY,EE=_Y,SE=gY,nu=EY,TE=SY,yE=TY,JAe=yY,QAe=vY,eRe=AY,tRe=RY,rRe=OY,nRe=NY,iRe=bY,oRe=PY,sRe=CY,aRe=xY,cRe=IY,lRe=MY,uRe=wY,dRe=LY,pRe=DY,fRe=UY,hRe=kY,mRe=$Y,_Re=VY,gRe=BY,ERe=zY,SRe=FY,TRe=HY,yRe=GY,vRe=jY,ARe=qY,vE=YY,nx=WY,RRe=KY,ORe=ZY,NRe=XY,bRe=JY,PRe=QY,CRe=eW,xRe=tW,IRe=rW,MRe=nW,iu=iW,wRe=oW,ix=sW,LRe=aW,DRe=cW,URe=lW,kRe=uW,$Re=dW,VRe=pW,BRe=fW,zRe=hW,FRe=bt([F3,H3,G3,j3,q3,Y3,W3,K3,Z3,X3,J3,Q3,eY,tY,rY,nY,iY,oY,sY,aY,cY,lY,uY,dY,pY,fY,hY,mY,_Y,gY,EY,SY,TY,yY,vY,AY,RY,OY,NY,bY,PY,CY,xY,IY,MY,wY,LY,DY,UY,kY,$Y,VY,BY,zY,FY,HY,GY,jY,qY,YY,WY,KY,ZY,XY,JY,QY,eW,tW,rW,nW,iW,oW,sW,aW,cW,lW,uW,dW,pW,fW,hW]),mW="alibaba_cloud",_W="aws",gW="azure",EW="gcp",HRe=mW,GRe=_W,Cc=gW,jRe=EW,qRe=bt([mW,_W,gW,EW]),SW="alibaba_cloud_ecs",TW="alibaba_cloud_fc",yW="aws_ec2",vW="aws_ecs",AW="aws_eks",RW="aws_lambda",OW="aws_elastic_beanstalk",NW="azure_vm",bW="azure_container_instances",PW="azure_aks",CW="azure_functions",xW="azure_app_service",IW="gcp_compute_engine",MW="gcp_cloud_run",wW="gcp_kubernetes_engine",LW="gcp_cloud_functions",DW="gcp_app_engine",YRe=SW,WRe=TW,KRe=yW,ZRe=vW,XRe=AW,JRe=RW,QRe=OW,ox=NW,eOe=bW,tOe=PW,sx=CW,ax=xW,rOe=IW,nOe=MW,iOe=wW,oOe=LW,sOe=DW,aOe=bt([SW,TW,yW,vW,AW,RW,OW,NW,bW,PW,CW,xW,IW,MW,wW,LW,DW]),UW="ec2",kW="fargate",cOe=UW,lOe=kW,uOe=bt([UW,kW]),$W="amd64",VW="arm32",BW="arm64",zW="ia64",FW="ppc32",HW="ppc64",GW="x86",dOe=$W,pOe=VW,fOe=BW,hOe=zW,mOe=FW,_Oe=HW,gOe=GW,EOe=bt([$W,VW,BW,zW,FW,HW,GW]),jW="windows",qW="linux",YW="darwin",WW="freebsd",KW="netbsd",ZW="openbsd",XW="dragonflybsd",JW="hpux",QW="aix",eK="solaris",tK="z_os",SOe=jW,TOe=qW,yOe=YW,vOe=WW,AOe=KW,ROe=ZW,OOe=XW,NOe=JW,bOe=QW,POe=eK,COe=tK,xOe=bt([jW,qW,YW,WW,KW,ZW,XW,JW,QW,eK,tK]),rK="cpp",nK="dotnet",iK="erlang",oK="go",sK="java",aK="nodejs",cK="php",lK="python",uK="ruby",dK="webjs",IOe=rK,MOe=nK,wOe=iK,LOe=oK,DOe=sK,UOe=aK,kOe=cK,$Oe=lK,VOe=uK,BOe=dK,zOe=bt([rK,nK,iK,oK,sK,aK,cK,lK,uK,dK]);});var fK=_(()=>{pK();});var FOe,HOe,GOe,jOe,qOe,YOe,WOe,KOe,ZOe,XOe,JOe,QOe,eNe,tNe,rNe,nNe,iNe,oNe,sNe,aNe,cNe,lNe,uNe,dNe,pNe,fNe,hNe,mNe,_Ne,gNe,ENe,SNe,TNe,yNe,vNe,ANe,RNe,ONe,NNe,bNe,PNe,CNe,aet,cet,xNe,INe,MNe,Mf,cx,wf,wNe,LNe,DNe,UNe,kNe,uet,$Ne,VNe,BNe,zNe,det,FNe,HNe,GNe,jNe,qNe,YNe,WNe,KNe,ZNe,XNe,JNe,QNe,ebe,tbe,rbe,pet,nbe,ibe,obe,sbe,abe,cbe,lbe,ube,dbe,pbe,fbe,hbe,mbe,fet,het,_be,gbe,Ebe,Sbe,Tbe,ybe,vbe,Abe,met,Rbe,Obe,Nbe,Do,bbe,Pbe,Cbe,xbe,Ibe,Mbe,wbe,Lbe,Dbe,Ps,_et,Ube,kbe,get,$be,Lf,Eet,Vbe,Bbe,zbe,Fbe,Hbe,Cs,xs,Gbe,jbe,qbe,Ybe,Wbe,Kbe,hK=_(()=>{FOe="aspnetcore.diagnostics.exception.result",HOe="aborted",GOe="handled",jOe="skipped",qOe="unhandled",YOe="aspnetcore.diagnostics.handler.type",WOe="aspnetcore.rate_limiting.policy",KOe="aspnetcore.rate_limiting.result",ZOe="acquired",XOe="endpoint_limiter",JOe="global_limiter",QOe="request_canceled",eNe="aspnetcore.request.is_unhandled",tNe="aspnetcore.routing.is_fallback",rNe="aspnetcore.routing.match_status",nNe="failure",iNe="success",oNe="aspnetcore.user.is_authenticated",sNe="client.address",aNe="client.port",cNe="code.column.number",lNe="code.file.path",uNe="code.function.name",dNe="code.line.number",pNe="code.stacktrace",fNe="db.collection.name",hNe="db.namespace",mNe="db.operation.batch.size",_Ne="db.operation.name",gNe="db.query.summary",ENe="db.query.text",SNe="db.response.status_code",TNe="db.stored_procedure.name",yNe="db.system.name",vNe="mariadb",ANe="microsoft.sql_server",RNe="mysql",ONe="postgresql",NNe="dotnet.gc.heap.generation",bNe="gen0",PNe="gen1",CNe="gen2",aet="loh",cet="poh",xNe="error.type",INe="_OTHER",MNe="exception.escaped",Mf="exception.message",cx="exception.stacktrace",wf="exception.type",wNe=t=>`http.request.header.${t}`,LNe="http.request.method",DNe="_OTHER",UNe="CONNECT",kNe="DELETE",uet="GET",$Ne="HEAD",VNe="OPTIONS",BNe="PATCH",zNe="POST",det="PUT",FNe="TRACE",HNe="http.request.method_original",GNe="http.request.resend_count",jNe=t=>`http.response.header.${t}`,qNe="http.response.status_code",YNe="http.route",WNe="jvm.gc.action",KNe="jvm.gc.name",ZNe="jvm.memory.pool.name",XNe="jvm.memory.type",JNe="heap",QNe="non_heap",ebe="jvm.thread.daemon",tbe="jvm.thread.state",rbe="blocked",pet="new",nbe="runnable",ibe="terminated",obe="timed_waiting",sbe="waiting",abe="network.local.address",cbe="network.local.port",lbe="network.peer.address",ube="network.peer.port",dbe="network.protocol.name",pbe="network.protocol.version",fbe="network.transport",hbe="pipe",mbe="quic",fet="tcp",het="udp",_be="unix",gbe="network.type",Ebe="ipv4",Sbe="ipv6",Tbe="otel.scope.name",ybe="otel.scope.version",vbe="otel.status_code",Abe="ERROR",met="OK",Rbe="otel.status_description",Obe="server.address",Nbe="server.port",Do="service.name",bbe="service.version",Pbe="signalr.connection.status",Cbe="app_shutdown",xbe="normal_closure",Ibe="timeout",Mbe="signalr.transport",wbe="long_polling",Lbe="server_sent_events",Dbe="web_sockets",Ps="telemetry.sdk.language",_et="cpp",Ube="dotnet",kbe="erlang",get="go",$be="java",Lf="nodejs",Eet="php",Vbe="python",Bbe="ruby",zbe="rust",Fbe="swift",Hbe="webjs",Cs="telemetry.sdk.name",xs="telemetry.sdk.version",Gbe="url.fragment",jbe="url.full",qbe="url.path",Ybe="url.query",Wbe="url.scheme",Kbe="user_agent.original";});var Zbe,Xbe,Jbe,Qbe,ePe,tPe,rPe,nPe,iPe,oPe,sPe,aPe,cPe,lPe,uPe,dPe,pPe,fPe,hPe,mPe,_Pe,gPe,EPe,SPe,TPe,yPe,vPe,APe,RPe,OPe,NPe,bPe,PPe,CPe,xPe,IPe,MPe,wPe,LPe,DPe,UPe,kPe,$Pe,VPe,BPe,zPe,FPe,HPe,GPe,jPe,qPe,mK=_(()=>{Zbe="aspnetcore.diagnostics.exceptions",Xbe="aspnetcore.rate_limiting.active_request_leases",Jbe="aspnetcore.rate_limiting.queued_requests",Qbe="aspnetcore.rate_limiting.request.time_in_queue",ePe="aspnetcore.rate_limiting.request_lease.duration",tPe="aspnetcore.rate_limiting.requests",rPe="aspnetcore.routing.match_attempts",nPe="db.client.operation.duration",iPe="dotnet.assembly.count",oPe="dotnet.exceptions",sPe="dotnet.gc.collections",aPe="dotnet.gc.heap.total_allocated",cPe="dotnet.gc.last_collection.heap.fragmentation.size",lPe="dotnet.gc.last_collection.heap.size",uPe="dotnet.gc.last_collection.memory.committed_size",dPe="dotnet.gc.pause.time",pPe="dotnet.jit.compilation.time",fPe="dotnet.jit.compiled_il.size",hPe="dotnet.jit.compiled_methods",mPe="dotnet.monitor.lock_contentions",_Pe="dotnet.process.cpu.count",gPe="dotnet.process.cpu.time",EPe="dotnet.process.memory.working_set",SPe="dotnet.thread_pool.queue.length",TPe="dotnet.thread_pool.thread.count",yPe="dotnet.thread_pool.work_item.count",vPe="dotnet.timer.count",APe="http.client.request.duration",RPe="http.server.request.duration",OPe="jvm.class.count",NPe="jvm.class.loaded",bPe="jvm.class.unloaded",PPe="jvm.cpu.count",CPe="jvm.cpu.recent_utilization",xPe="jvm.cpu.time",IPe="jvm.gc.duration",MPe="jvm.memory.committed",wPe="jvm.memory.limit",LPe="jvm.memory.used",DPe="jvm.memory.used_after_last_gc",UPe="jvm.thread.count",kPe="kestrel.active_connections",$Pe="kestrel.active_tls_handshakes",VPe="kestrel.connection.duration",BPe="kestrel.queued_connections",zPe="kestrel.queued_requests",FPe="kestrel.rejected_connections",HPe="kestrel.tls_handshake.duration",GPe="kestrel.upgraded_connections",jPe="signalr.server.active_connections",qPe="signalr.server.connection.duration";});var YPe,_K=_(()=>{YPe="exception";});var Gr={};Ne(Gr,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>HOe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>GOe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>jOe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>qOe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>ZOe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>XOe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>JOe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>QOe,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>nNe,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>iNe,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>FOe,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>YOe,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>WOe,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>KOe,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>eNe,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>tNe,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>rNe,ATTR_ASPNETCORE_USER_IS_AUTHENTICATED:()=>oNe,ATTR_CLIENT_ADDRESS:()=>sNe,ATTR_CLIENT_PORT:()=>aNe,ATTR_CODE_COLUMN_NUMBER:()=>cNe,ATTR_CODE_FILE_PATH:()=>lNe,ATTR_CODE_FUNCTION_NAME:()=>uNe,ATTR_CODE_LINE_NUMBER:()=>dNe,ATTR_CODE_STACKTRACE:()=>pNe,ATTR_DB_COLLECTION_NAME:()=>fNe,ATTR_DB_NAMESPACE:()=>hNe,ATTR_DB_OPERATION_BATCH_SIZE:()=>mNe,ATTR_DB_OPERATION_NAME:()=>_Ne,ATTR_DB_QUERY_SUMMARY:()=>gNe,ATTR_DB_QUERY_TEXT:()=>ENe,ATTR_DB_RESPONSE_STATUS_CODE:()=>SNe,ATTR_DB_STORED_PROCEDURE_NAME:()=>TNe,ATTR_DB_SYSTEM_NAME:()=>yNe,ATTR_DOTNET_GC_HEAP_GENERATION:()=>NNe,ATTR_ERROR_TYPE:()=>xNe,ATTR_EXCEPTION_ESCAPED:()=>MNe,ATTR_EXCEPTION_MESSAGE:()=>Mf,ATTR_EXCEPTION_STACKTRACE:()=>cx,ATTR_EXCEPTION_TYPE:()=>wf,ATTR_HTTP_REQUEST_HEADER:()=>wNe,ATTR_HTTP_REQUEST_METHOD:()=>LNe,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>HNe,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>GNe,ATTR_HTTP_RESPONSE_HEADER:()=>jNe,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>qNe,ATTR_HTTP_ROUTE:()=>YNe,ATTR_JVM_GC_ACTION:()=>WNe,ATTR_JVM_GC_NAME:()=>KNe,ATTR_JVM_MEMORY_POOL_NAME:()=>ZNe,ATTR_JVM_MEMORY_TYPE:()=>XNe,ATTR_JVM_THREAD_DAEMON:()=>ebe,ATTR_JVM_THREAD_STATE:()=>tbe,ATTR_NETWORK_LOCAL_ADDRESS:()=>abe,ATTR_NETWORK_LOCAL_PORT:()=>cbe,ATTR_NETWORK_PEER_ADDRESS:()=>lbe,ATTR_NETWORK_PEER_PORT:()=>ube,ATTR_NETWORK_PROTOCOL_NAME:()=>dbe,ATTR_NETWORK_PROTOCOL_VERSION:()=>pbe,ATTR_NETWORK_TRANSPORT:()=>fbe,ATTR_NETWORK_TYPE:()=>gbe,ATTR_OTEL_SCOPE_NAME:()=>Tbe,ATTR_OTEL_SCOPE_VERSION:()=>ybe,ATTR_OTEL_STATUS_CODE:()=>vbe,ATTR_OTEL_STATUS_DESCRIPTION:()=>Rbe,ATTR_SERVER_ADDRESS:()=>Obe,ATTR_SERVER_PORT:()=>Nbe,ATTR_SERVICE_NAME:()=>Do,ATTR_SERVICE_VERSION:()=>bbe,ATTR_SIGNALR_CONNECTION_STATUS:()=>Pbe,ATTR_SIGNALR_TRANSPORT:()=>Mbe,ATTR_TELEMETRY_SDK_LANGUAGE:()=>Ps,ATTR_TELEMETRY_SDK_NAME:()=>Cs,ATTR_TELEMETRY_SDK_VERSION:()=>xs,ATTR_URL_FRAGMENT:()=>Gbe,ATTR_URL_FULL:()=>jbe,ATTR_URL_PATH:()=>qbe,ATTR_URL_QUERY:()=>Ybe,ATTR_URL_SCHEME:()=>Wbe,ATTR_USER_AGENT_ORIGINAL:()=>Kbe,AWSECSLAUNCHTYPEVALUES_EC2:()=>cOe,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>lOe,AwsEcsLaunchtypeValues:()=>uOe,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>YRe,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>WRe,CLOUDPLATFORMVALUES_AWS_EC2:()=>KRe,CLOUDPLATFORMVALUES_AWS_ECS:()=>ZRe,CLOUDPLATFORMVALUES_AWS_EKS:()=>XRe,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>QRe,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>JRe,CLOUDPLATFORMVALUES_AZURE_AKS:()=>tOe,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>ax,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>eOe,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>sx,CLOUDPLATFORMVALUES_AZURE_VM:()=>ox,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>sOe,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>oOe,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>nOe,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>rOe,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>iOe,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>HRe,CLOUDPROVIDERVALUES_AWS:()=>GRe,CLOUDPROVIDERVALUES_AZURE:()=>Cc,CLOUDPROVIDERVALUES_GCP:()=>jRe,CloudPlatformValues:()=>aOe,CloudProviderValues:()=>qRe,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>Bye,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>Wye,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>zye,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>Yye,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>Hye,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>Zye,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>Gye,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>Fye,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>Kye,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>qye,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>jye,DBSYSTEMVALUES_ADABAS:()=>lye,DBSYSTEMVALUES_CACHE:()=>cye,DBSYSTEMVALUES_CASSANDRA:()=>Nye,DBSYSTEMVALUES_CLOUDSCAPE:()=>eye,DBSYSTEMVALUES_COCKROACHDB:()=>$ye,DBSYSTEMVALUES_COLDFUSION:()=>Oye,DBSYSTEMVALUES_COSMOSDB:()=>Mye,DBSYSTEMVALUES_COUCHBASE:()=>xye,DBSYSTEMVALUES_COUCHDB:()=>Iye,DBSYSTEMVALUES_DB2:()=>ZTe,DBSYSTEMVALUES_DERBY:()=>dye,DBSYSTEMVALUES_DYNAMODB:()=>wye,DBSYSTEMVALUES_EDB:()=>aye,DBSYSTEMVALUES_ELASTICSEARCH:()=>Uye,DBSYSTEMVALUES_FILEMAKER:()=>pye,DBSYSTEMVALUES_FIREBIRD:()=>uye,DBSYSTEMVALUES_FIRSTSQL:()=>sye,DBSYSTEMVALUES_GEODE:()=>Dye,DBSYSTEMVALUES_H2:()=>Rye,DBSYSTEMVALUES_HANADB:()=>iye,DBSYSTEMVALUES_HBASE:()=>bye,DBSYSTEMVALUES_HIVE:()=>QTe,DBSYSTEMVALUES_HSQLDB:()=>tye,DBSYSTEMVALUES_INFORMIX:()=>fye,DBSYSTEMVALUES_INGRES:()=>oye,DBSYSTEMVALUES_INSTANTDB:()=>hye,DBSYSTEMVALUES_INTERBASE:()=>mye,DBSYSTEMVALUES_MARIADB:()=>_ye,DBSYSTEMVALUES_MAXDB:()=>nye,DBSYSTEMVALUES_MEMCACHED:()=>kye,DBSYSTEMVALUES_MONGODB:()=>Pye,DBSYSTEMVALUES_MSSQL:()=>YTe,DBSYSTEMVALUES_MYSQL:()=>WTe,DBSYSTEMVALUES_NEO4J:()=>Lye,DBSYSTEMVALUES_NETEZZA:()=>gye,DBSYSTEMVALUES_ORACLE:()=>KTe,DBSYSTEMVALUES_OTHER_SQL:()=>qTe,DBSYSTEMVALUES_PERVASIVE:()=>Eye,DBSYSTEMVALUES_POINTBASE:()=>Sye,DBSYSTEMVALUES_POSTGRESQL:()=>XTe,DBSYSTEMVALUES_PROGRESS:()=>rye,DBSYSTEMVALUES_REDIS:()=>Cye,DBSYSTEMVALUES_REDSHIFT:()=>JTe,DBSYSTEMVALUES_SQLITE:()=>Tye,DBSYSTEMVALUES_SYBASE:()=>yye,DBSYSTEMVALUES_TERADATA:()=>vye,DBSYSTEMVALUES_VERTICA:()=>Aye,DB_SYSTEM_NAME_VALUE_MARIADB:()=>vNe,DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER:()=>ANe,DB_SYSTEM_NAME_VALUE_MYSQL:()=>RNe,DB_SYSTEM_NAME_VALUE_POSTGRESQL:()=>ONe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN0:()=>bNe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN1:()=>PNe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN2:()=>CNe,DOTNET_GC_HEAP_GENERATION_VALUE_LOH:()=>aet,DOTNET_GC_HEAP_GENERATION_VALUE_POH:()=>cet,DbCassandraConsistencyLevelValues:()=>Xye,DbSystemValues:()=>Vye,ERROR_TYPE_VALUE_OTHER:()=>INe,EVENT_EXCEPTION:()=>YPe,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>sve,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>ove,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>ive,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>cve,FAASINVOKEDPROVIDERVALUES_AWS:()=>lve,FAASINVOKEDPROVIDERVALUES_AZURE:()=>uve,FAASINVOKEDPROVIDERVALUES_GCP:()=>dve,FAASTRIGGERVALUES_DATASOURCE:()=>Jye,FAASTRIGGERVALUES_HTTP:()=>Qye,FAASTRIGGERVALUES_OTHER:()=>rve,FAASTRIGGERVALUES_PUBSUB:()=>eve,FAASTRIGGERVALUES_TIMER:()=>tve,FaasDocumentOperationValues:()=>ave,FaasInvokedProviderValues:()=>pve,FaasTriggerValues:()=>nve,HOSTARCHVALUES_AMD64:()=>dOe,HOSTARCHVALUES_ARM32:()=>pOe,HOSTARCHVALUES_ARM64:()=>fOe,HOSTARCHVALUES_IA64:()=>hOe,HOSTARCHVALUES_PPC32:()=>mOe,HOSTARCHVALUES_PPC64:()=>_Oe,HOSTARCHVALUES_X86:()=>gOe,HTTPFLAVORVALUES_HTTP_1_0:()=>Kve,HTTPFLAVORVALUES_HTTP_1_1:()=>Zve,HTTPFLAVORVALUES_HTTP_2_0:()=>Xve,HTTPFLAVORVALUES_QUIC:()=>Qve,HTTPFLAVORVALUES_SPDY:()=>Jve,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>UNe,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>kNe,HTTP_REQUEST_METHOD_VALUE_GET:()=>uet,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>$Ne,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>VNe,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>DNe,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>BNe,HTTP_REQUEST_METHOD_VALUE_POST:()=>zNe,HTTP_REQUEST_METHOD_VALUE_PUT:()=>det,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>FNe,HostArchValues:()=>EOe,HttpFlavorValues:()=>eAe,JVM_MEMORY_TYPE_VALUE_HEAP:()=>JNe,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>QNe,JVM_THREAD_STATE_VALUE_BLOCKED:()=>rbe,JVM_THREAD_STATE_VALUE_NEW:()=>pet,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>nbe,JVM_THREAD_STATE_VALUE_TERMINATED:()=>ibe,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>obe,JVM_THREAD_STATE_VALUE_WAITING:()=>sbe,MESSAGETYPEVALUES_RECEIVED:()=>NAe,MESSAGETYPEVALUES_SENT:()=>OAe,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>tAe,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>rAe,MESSAGINGOPERATIONVALUES_PROCESS:()=>oAe,MESSAGINGOPERATIONVALUES_RECEIVE:()=>iAe,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>Zbe,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>Xbe,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>Jbe,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>tPe,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>ePe,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>Qbe,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>rPe,METRIC_DB_CLIENT_OPERATION_DURATION:()=>nPe,METRIC_DOTNET_ASSEMBLY_COUNT:()=>iPe,METRIC_DOTNET_EXCEPTIONS:()=>oPe,METRIC_DOTNET_GC_COLLECTIONS:()=>sPe,METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED:()=>aPe,METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE:()=>cPe,METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE:()=>lPe,METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE:()=>uPe,METRIC_DOTNET_GC_PAUSE_TIME:()=>dPe,METRIC_DOTNET_JIT_COMPILATION_TIME:()=>pPe,METRIC_DOTNET_JIT_COMPILED_IL_SIZE:()=>fPe,METRIC_DOTNET_JIT_COMPILED_METHODS:()=>hPe,METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS:()=>mPe,METRIC_DOTNET_PROCESS_CPU_COUNT:()=>_Pe,METRIC_DOTNET_PROCESS_CPU_TIME:()=>gPe,METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET:()=>EPe,METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH:()=>SPe,METRIC_DOTNET_THREAD_POOL_THREAD_COUNT:()=>TPe,METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT:()=>yPe,METRIC_DOTNET_TIMER_COUNT:()=>vPe,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>APe,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>RPe,METRIC_JVM_CLASS_COUNT:()=>OPe,METRIC_JVM_CLASS_LOADED:()=>NPe,METRIC_JVM_CLASS_UNLOADED:()=>bPe,METRIC_JVM_CPU_COUNT:()=>PPe,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>CPe,METRIC_JVM_CPU_TIME:()=>xPe,METRIC_JVM_GC_DURATION:()=>IPe,METRIC_JVM_MEMORY_COMMITTED:()=>MPe,METRIC_JVM_MEMORY_LIMIT:()=>wPe,METRIC_JVM_MEMORY_USED:()=>LPe,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>DPe,METRIC_JVM_THREAD_COUNT:()=>UPe,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>kPe,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>$Pe,METRIC_KESTREL_CONNECTION_DURATION:()=>VPe,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>BPe,METRIC_KESTREL_QUEUED_REQUESTS:()=>zPe,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>FPe,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>HPe,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>GPe,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>jPe,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>qPe,MessageTypeValues:()=>bAe,MessagingDestinationKindValues:()=>nAe,MessagingOperationValues:()=>sAe,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>xve,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>wve,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>Pve,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>Bve,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>Ive,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>Mve,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>$ve,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>bve,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>Fve,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>Lve,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>Uve,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>zve,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>Dve,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>kve,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>Gve,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>Vve,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>Yve,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>jve,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>qve,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>Hve,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>Cve,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>Ave,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>Rve,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>Ove,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>yve,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>vve,NETTRANSPORTVALUES_INPROC:()=>Eve,NETTRANSPORTVALUES_IP:()=>mve,NETTRANSPORTVALUES_IP_TCP:()=>fve,NETTRANSPORTVALUES_IP_UDP:()=>hve,NETTRANSPORTVALUES_OTHER:()=>Sve,NETTRANSPORTVALUES_PIPE:()=>gve,NETTRANSPORTVALUES_UNIX:()=>_ve,NETWORK_TRANSPORT_VALUE_PIPE:()=>hbe,NETWORK_TRANSPORT_VALUE_QUIC:()=>mbe,NETWORK_TRANSPORT_VALUE_TCP:()=>fet,NETWORK_TRANSPORT_VALUE_UDP:()=>het,NETWORK_TRANSPORT_VALUE_UNIX:()=>_be,NETWORK_TYPE_VALUE_IPV4:()=>Ebe,NETWORK_TYPE_VALUE_IPV6:()=>Sbe,NetHostConnectionSubtypeValues:()=>Wve,NetHostConnectionTypeValues:()=>Nve,NetTransportValues:()=>Tve,OSTYPEVALUES_AIX:()=>bOe,OSTYPEVALUES_DARWIN:()=>yOe,OSTYPEVALUES_DRAGONFLYBSD:()=>OOe,OSTYPEVALUES_FREEBSD:()=>vOe,OSTYPEVALUES_HPUX:()=>NOe,OSTYPEVALUES_LINUX:()=>TOe,OSTYPEVALUES_NETBSD:()=>AOe,OSTYPEVALUES_OPENBSD:()=>ROe,OSTYPEVALUES_SOLARIS:()=>POe,OSTYPEVALUES_WINDOWS:()=>SOe,OSTYPEVALUES_Z_OS:()=>COe,OTEL_STATUS_CODE_VALUE_ERROR:()=>Abe,OTEL_STATUS_CODE_VALUE_OK:()=>met,OsTypeValues:()=>xOe,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>gAe,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>fAe,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>cAe,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>vAe,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>dAe,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>_Ae,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>TAe,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>uAe,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>pAe,RPCGRPCSTATUSCODEVALUES_OK:()=>aAe,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>EAe,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>hAe,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>mAe,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>AAe,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>yAe,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>SAe,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>lAe,RpcGrpcStatusCodeValues:()=>RAe,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>eTe,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>pTe,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>XSe,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>YSe,SEMATTRS_AWS_DYNAMODB_COUNT:()=>uTe,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>oTe,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>nTe,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>fTe,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>tTe,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>WSe,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>QSe,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>iTe,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>JSe,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>KSe,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>ZSe,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>dTe,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>aTe,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>cTe,SEMATTRS_AWS_DYNAMODB_SELECT:()=>rTe,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>sTe,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>qSe,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>lTe,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>OEe,SEMATTRS_CODE_FILEPATH:()=>CSe,SEMATTRS_CODE_FUNCTION:()=>bSe,SEMATTRS_CODE_LINENO:()=>xSe,SEMATTRS_CODE_NAMESPACE:()=>PSe,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>UEe,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>zEe,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>BEe,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>$Ee,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>LEe,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>DEe,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>VEe,SEMATTRS_DB_CASSANDRA_TABLE:()=>kEe,SEMATTRS_DB_CONNECTION_STRING:()=>bEe,SEMATTRS_DB_HBASE_NAMESPACE:()=>FEe,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>CEe,SEMATTRS_DB_MONGODB_COLLECTION:()=>GEe,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>wEe,SEMATTRS_DB_NAME:()=>xEe,SEMATTRS_DB_OPERATION:()=>MEe,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>HEe,SEMATTRS_DB_SQL_TABLE:()=>jEe,SEMATTRS_DB_STATEMENT:()=>IEe,SEMATTRS_DB_SYSTEM:()=>NEe,SEMATTRS_DB_USER:()=>PEe,SEMATTRS_ENDUSER_ID:()=>vSe,SEMATTRS_ENDUSER_ROLE:()=>ASe,SEMATTRS_ENDUSER_SCOPE:()=>RSe,SEMATTRS_EXCEPTION_ESCAPED:()=>KEe,SEMATTRS_EXCEPTION_MESSAGE:()=>YEe,SEMATTRS_EXCEPTION_STACKTRACE:()=>WEe,SEMATTRS_EXCEPTION_TYPE:()=>qEe,SEMATTRS_FAAS_COLDSTART:()=>iSe,SEMATTRS_FAAS_CRON:()=>nSe,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>JEe,SEMATTRS_FAAS_DOCUMENT_NAME:()=>tSe,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>QEe,SEMATTRS_FAAS_DOCUMENT_TIME:()=>eSe,SEMATTRS_FAAS_EXECUTION:()=>XEe,SEMATTRS_FAAS_INVOKED_NAME:()=>oSe,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>sSe,SEMATTRS_FAAS_INVOKED_REGION:()=>aSe,SEMATTRS_FAAS_TIME:()=>rSe,SEMATTRS_FAAS_TRIGGER:()=>ZEe,SEMATTRS_HTTP_CLIENT_IP:()=>jSe,SEMATTRS_HTTP_FLAVOR:()=>kSe,SEMATTRS_HTTP_HOST:()=>LSe,SEMATTRS_HTTP_METHOD:()=>ISe,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>VSe,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>BSe,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>zSe,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>FSe,SEMATTRS_HTTP_ROUTE:()=>GSe,SEMATTRS_HTTP_SCHEME:()=>DSe,SEMATTRS_HTTP_SERVER_NAME:()=>HSe,SEMATTRS_HTTP_STATUS_CODE:()=>USe,SEMATTRS_HTTP_TARGET:()=>wSe,SEMATTRS_HTTP_URL:()=>MSe,SEMATTRS_HTTP_USER_AGENT:()=>$Se,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>HTe,SEMATTRS_MESSAGE_ID:()=>FTe,SEMATTRS_MESSAGE_TYPE:()=>zTe,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>GTe,SEMATTRS_MESSAGING_CONSUMER_ID:()=>NTe,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>vTe,SEMATTRS_MESSAGING_DESTINATION:()=>mTe,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>_Te,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>xTe,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>CTe,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>PTe,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>ITe,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>MTe,SEMATTRS_MESSAGING_MESSAGE_ID:()=>yTe,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>RTe,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>ATe,SEMATTRS_MESSAGING_OPERATION:()=>OTe,SEMATTRS_MESSAGING_PROTOCOL:()=>ETe,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>STe,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>bTe,SEMATTRS_MESSAGING_SYSTEM:()=>hTe,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>gTe,SEMATTRS_MESSAGING_URL:()=>TTe,SEMATTRS_NET_HOST_CARRIER_ICC:()=>TSe,SEMATTRS_NET_HOST_CARRIER_MCC:()=>ESe,SEMATTRS_NET_HOST_CARRIER_MNC:()=>SSe,SEMATTRS_NET_HOST_CARRIER_NAME:()=>gSe,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>_Se,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>mSe,SEMATTRS_NET_HOST_IP:()=>pSe,SEMATTRS_NET_HOST_NAME:()=>hSe,SEMATTRS_NET_HOST_PORT:()=>fSe,SEMATTRS_NET_PEER_IP:()=>lSe,SEMATTRS_NET_PEER_NAME:()=>dSe,SEMATTRS_NET_PEER_PORT:()=>uSe,SEMATTRS_NET_TRANSPORT:()=>cSe,SEMATTRS_PEER_SERVICE:()=>ySe,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>UTe,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>VTe,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>BTe,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>$Te,SEMATTRS_RPC_JSONRPC_VERSION:()=>kTe,SEMATTRS_RPC_METHOD:()=>DTe,SEMATTRS_RPC_SERVICE:()=>LTe,SEMATTRS_RPC_SYSTEM:()=>wTe,SEMATTRS_THREAD_ID:()=>OSe,SEMATTRS_THREAD_NAME:()=>NSe,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>IAe,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>xAe,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>MAe,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>wAe,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>LAe,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>DAe,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>UAe,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>$Ae,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>kAe,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>BAe,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>VAe,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>PAe,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>CAe,SEMRESATTRS_CLOUD_PLATFORM:()=>bs,SEMRESATTRS_CLOUD_PROVIDER:()=>Os,SEMRESATTRS_CLOUD_REGION:()=>Ns,SEMRESATTRS_CONTAINER_ID:()=>FAe,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>GAe,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>jAe,SEMRESATTRS_CONTAINER_NAME:()=>zAe,SEMRESATTRS_CONTAINER_RUNTIME:()=>HAe,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>rx,SEMRESATTRS_DEVICE_ID:()=>qAe,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>YAe,SEMRESATTRS_DEVICE_MODEL_NAME:()=>WAe,SEMRESATTRS_FAAS_ID:()=>ZAe,SEMRESATTRS_FAAS_INSTANCE:()=>EE,SEMRESATTRS_FAAS_MAX_MEMORY:()=>SE,SEMRESATTRS_FAAS_NAME:()=>KAe,SEMRESATTRS_FAAS_VERSION:()=>XAe,SEMRESATTRS_HOST_ARCH:()=>JAe,SEMRESATTRS_HOST_ID:()=>nu,SEMRESATTRS_HOST_IMAGE_ID:()=>eRe,SEMRESATTRS_HOST_IMAGE_NAME:()=>QAe,SEMRESATTRS_HOST_IMAGE_VERSION:()=>tRe,SEMRESATTRS_HOST_NAME:()=>TE,SEMRESATTRS_HOST_TYPE:()=>yE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>rRe,SEMRESATTRS_K8S_CONTAINER_NAME:()=>cRe,SEMRESATTRS_K8S_CRONJOB_NAME:()=>TRe,SEMRESATTRS_K8S_CRONJOB_UID:()=>SRe,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>_Re,SEMRESATTRS_K8S_DAEMONSET_UID:()=>mRe,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>pRe,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>dRe,SEMRESATTRS_K8S_JOB_NAME:()=>ERe,SEMRESATTRS_K8S_JOB_UID:()=>gRe,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>oRe,SEMRESATTRS_K8S_NODE_NAME:()=>nRe,SEMRESATTRS_K8S_NODE_UID:()=>iRe,SEMRESATTRS_K8S_POD_NAME:()=>aRe,SEMRESATTRS_K8S_POD_UID:()=>sRe,SEMRESATTRS_K8S_REPLICASET_NAME:()=>uRe,SEMRESATTRS_K8S_REPLICASET_UID:()=>lRe,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>hRe,SEMRESATTRS_K8S_STATEFULSET_UID:()=>fRe,SEMRESATTRS_OS_DESCRIPTION:()=>vRe,SEMRESATTRS_OS_NAME:()=>ARe,SEMRESATTRS_OS_TYPE:()=>yRe,SEMRESATTRS_OS_VERSION:()=>vE,SEMRESATTRS_PROCESS_COMMAND:()=>NRe,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>PRe,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>bRe,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>RRe,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>ORe,SEMRESATTRS_PROCESS_OWNER:()=>CRe,SEMRESATTRS_PROCESS_PID:()=>nx,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>MRe,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>xRe,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>IRe,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>ix,SEMRESATTRS_SERVICE_NAME:()=>iu,SEMRESATTRS_SERVICE_NAMESPACE:()=>wRe,SEMRESATTRS_SERVICE_VERSION:()=>LRe,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>$Re,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>URe,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>DRe,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>kRe,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>zRe,SEMRESATTRS_WEBENGINE_NAME:()=>VRe,SEMRESATTRS_WEBENGINE_VERSION:()=>BRe,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>Cbe,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>xbe,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>Ibe,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>wbe,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>Lbe,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>Dbe,SemanticAttributes:()=>jTe,SemanticResourceAttributes:()=>FRe,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>IOe,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>MOe,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>wOe,TELEMETRYSDKLANGUAGEVALUES_GO:()=>LOe,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>DOe,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>UOe,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>kOe,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>$Oe,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>VOe,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>BOe,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>_et,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>Ube,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>kbe,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>get,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>$be,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>Lf,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>Eet,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>Vbe,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>Bbe,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>zbe,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>Fbe,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>Hbe,TelemetrySdkLanguageValues:()=>zOe});var ht=_(()=>{z3();fK();hK();mK();_K();});var gK,EK=_(()=>{gK="process.runtime.name";});var wn,SK=_(()=>{Z2();ht();EK();wn={[Cs]:"opentelemetry",[gK]:"node",[Ps]:Lf,[xs]:K2};});function Di(t){t.unref();}var TK=_(()=>{});var yK=_(()=>{q2();Y2();W2();SK();TK();});var lx=_(()=>{yK();});function sr(t){let e=t/1e3,r=Math.trunc(e),i=Math.round(t%1e3*KPe);return [r,i]}function ou(){let t=Mn.timeOrigin;if(typeof t!="number"){let e=Mn;t=e.timing&&e.timing.fetchStart;}return t}function Df(t){let e=sr(ou()),r=sr(typeof t=="number"?t:Mn.now());return $f(e,r)}function Uf(t){if(au(t))return t;if(typeof t=="number")return t<ou()?Df(t):sr(t);if(t instanceof Date)return sr(t.getTime());throw TypeError("Invalid input type")}function RE(t,e){let r=e[0]-t[0],i=e[1]-t[1];return i<0&&(r-=1,i+=AE),[r,i]}function AK(t){let e=vK,r=`${"0".repeat(e)}${t[1]}Z`,i=r.substring(r.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",i)}function su(t){return t[0]*AE+t[1]}function Ln(t){return t[0]*1e3+t[1]/1e6}function Tr(t){return t[0]*1e6+t[1]/1e3}function au(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function kf(t){return au(t)||typeof t=="number"||t instanceof Date}function $f(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=AE&&(r[1]-=AE,r[0]+=1),r}var vK,WPe,KPe,AE,RK=_(()=>{lx();vK=9,WPe=6,KPe=Math.pow(10,WPe),AE=Math.pow(10,vK);});var W,OK=_(()=>{(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED";})(W||(W={}));});var OE,NK=_(()=>{P();OE=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(r=>typeof r.fields=="function"?r.fields():[]).reduce((r,i)=>r.concat(i),[])));}inject(e,r,i){for(let n of this._propagators)try{n.inject(e,r,i);}catch(a){T.warn(`Failed to inject with ${n.constructor.name}. Err: ${a.message}`);}}extract(e,r,i){return this._propagators.reduce((n,a)=>{try{return a.extract(n,r,i)}catch(o){T.warn(`Failed to extract with ${a.constructor.name}. Err: ${o.message}`);}return n},e)}fields(){return this._fields.slice()}};});function bK(t){return JPe.test(t)}function PK(t){return QPe.test(t)&&!eCe.test(t)}var ux,ZPe,XPe,JPe,QPe,eCe,CK=_(()=>{ux="[_0-9a-z-*/]",ZPe=`[a-z]${ux}{0,255}`,XPe=`[a-z0-9]${ux}{0,240}@[a-z]${ux}{0,13}`,JPe=new RegExp(`^(?:${ZPe}|${XPe})$`),QPe=/^[ -~]{0,255}[!-~]$/,eCe=/,|=/;});var xK,tCe,IK,MK,cu,dx=_(()=>{CK();xK=32,tCe=512,IK=",",MK="=",cu=class t{_internalState=new Map;constructor(e){e&&this._parse(e);}set(e,r){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,r),i}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+MK+this.get(r)),e),[]).join(IK)}_parse(e){e.length>tCe||(this._internalState=e.split(IK).reverse().reduce((r,i)=>{let n=i.trim(),a=n.indexOf(MK);if(a!==-1){let o=n.slice(0,a),s=n.slice(a+1,i.length);bK(o)&&PK(s)&&r.set(o,s);}return r},new Map),this._internalState.size>xK&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,xK))));}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};});function px(t){let e=aCe.exec(t);return !e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Vf,Bf,rCe,nCe,iCe,oCe,sCe,aCe,NE,wK=_(()=>{P();If();dx();Vf="traceparent",Bf="tracestate",rCe="00",nCe="(?!ff)[\\da-f]{2}",iCe="(?![0]{32})[\\da-f]{32}",oCe="(?![0]{16})[\\da-f]{16}",sCe="[\\da-f]{2}",aCe=new RegExp(`^\\s?(${nCe})-(${iCe})-(${oCe})-(${sCe})(-.*)?\\s?$`);NE=class{inject(e,r,i){let n=se.getSpanContext(e);if(!n||Sr(e)||!jt(n))return;let a=`${rCe}-${n.traceId}-${n.spanId}-0${Number(n.traceFlags||Ce.NONE).toString(16)}`;i.set(r,Vf,a),n.traceState&&i.set(r,Bf,n.traceState.serialize());}extract(e,r,i){let n=i.get(r,Vf);if(!n)return e;let a=Array.isArray(n)?n[0]:n;if(typeof a!="string")return e;let o=px(a);if(!o)return e;o.isRemote=true;let s=i.get(r,Bf);if(s){let c=Array.isArray(s)?s.join(","):s;o.traceState=new cu(typeof c=="string"?c:void 0);}return se.setSpanContext(e,o)}fields(){return [Vf,Bf]}};});function LK(t,e){return t.setValue(fx,e)}function DK(t){return t.deleteValue(fx)}function UK(t){return t.getValue(fx)}var fx,bE,kK=_(()=>{P();fx=gr("OpenTelemetry SDK Context Key RPC_METADATA");(function(t){t.HTTP="http";})(bE||(bE={}));});function hx(t){if(!hCe(t)||mCe(t)!==cCe)return  false;let e=fCe(t);if(e===null)return  true;let r=BK.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&$K.call(r)===pCe}function hCe(t){return t!=null&&typeof t=="object"}function mCe(t){return t==null?t===void 0?uCe:lCe:xc&&xc in Object(t)?_Ce(t):gCe(t)}function _Ce(t){let e=BK.call(t,xc),r=t[xc],i=false;try{t[xc]=void 0,i=!0;}catch{}let n=zK.call(t);return i&&(e?t[xc]=r:delete t[xc]),n}function gCe(t){return zK.call(t)}var cCe,lCe,uCe,dCe,$K,pCe,fCe,VK,BK,xc,zK,FK=_(()=>{cCe="[object Object]",lCe="[object Null]",uCe="[object Undefined]",dCe=Function.prototype,$K=dCe.toString,pCe=$K.call(Object),fCe=Object.getPrototypeOf,VK=Object.prototype,BK=VK.hasOwnProperty,xc=Symbol?Symbol.toStringTag:void 0,zK=VK.toString;});function lu(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=GK(e,t.shift(),0,r);return e}function mx(t){return CE(t)?t.slice():t}function GK(t,e,r=0,i){let n;if(!(r>ECe)){if(r++,PE(t)||PE(e)||jK(e))n=mx(e);else if(CE(t)){if(n=t.slice(),CE(e))for(let a=0,o=e.length;a<o;a++)n.push(mx(e[a]));else if(zf(e)){let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o];n[c]=mx(e[c]);}}}else if(zf(t))if(zf(e)){if(!SCe(t,e))return e;n=Object.assign({},t);let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o],l=e[c];if(PE(l))typeof l>"u"?delete n[c]:n[c]=l;else {let u=n[c],d=l;if(HK(t,c,i)||HK(e,c,i))delete n[c];else {if(zf(u)&&zf(d)){let p=i.get(u)||[],f=i.get(d)||[];p.push({obj:t,key:c}),f.push({obj:e,key:c}),i.set(u,p),i.set(d,f);}n[c]=GK(n[c],l,r,i);}}}}else n=e;return n}}function HK(t,e,r){let i=r.get(t[e])||[];for(let n=0,a=i.length;n<a;n++){let o=i[n];if(o.key===e&&o.obj===t)return  true}return  false}function CE(t){return Array.isArray(t)}function jK(t){return typeof t=="function"}function zf(t){return !PE(t)&&!CE(t)&&!jK(t)&&typeof t=="object"}function PE(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function SCe(t,e){return !(!hx(t)||!hx(e))}var ECe,qK=_(()=>{FK();ECe=20;});function uu(t,e){let r,i=new Promise(function(a,o){r=setTimeout(function(){o(new Ff("Operation timed out."));},e);});return Promise.race([t,i]).then(n=>(clearTimeout(r),n),n=>{throw clearTimeout(r),n})}var Ff,YK=_(()=>{Ff=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype);}};});function _x(t,e){return typeof e=="string"?t===e:!!t.match(e)}function WK(t,e){if(!e)return  false;for(let r of e)if(_x(t,r))return  true;return  false}var KK=_(()=>{});var xE,ZK=_(()=>{xE=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;});}get promise(){return this._promise}resolve(e){this._resolve(e);}reject(e){this._reject(e);}};});var jr,XK=_(()=>{ZK();jr=class{_callback;_that;_isCalled=false;_deferred=new xE;constructor(e,r){this._callback=e,this._that=r;}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=true;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r));}catch(r){this._deferred.reject(r);}}return this._deferred.promise}};});function QK(t){if(t==null)return;let e=JK[t.toUpperCase()];return e??(T.warn(`Unknown log level "${t}", expected one of ${Object.keys(JK)}, using default`),Se.INFO)}var JK,e8=_(()=>{P();JK={ALL:Se.ALL,VERBOSE:Se.VERBOSE,DEBUG:Se.DEBUG,INFO:Se.INFO,WARN:Se.WARN,ERROR:Se.ERROR,NONE:Se.NONE};});function t8(t,e){return new Promise(r=>{pe.with(Er(pe.active()),()=>{t.export(e,i=>{r(i);});});})}var r8=_(()=>{P();If();});var Ui={};Ne(Ui,{AnchoredClock:()=>fE,BindOnceFuture:()=>jr,CompositePropagator:()=>OE,ExportResultCode:()=>W,RPCType:()=>bE,SDK_INFO:()=>wn,TRACE_PARENT_HEADER:()=>Vf,TRACE_STATE_HEADER:()=>Bf,TimeoutError:()=>Ff,TraceState:()=>cu,W3CBaggagePropagator:()=>pE,W3CTraceContextPropagator:()=>NE,_globalThis:()=>gE,addHrTimes:()=>$f,callWithTimeout:()=>uu,deleteRPCMetadata:()=>DK,diagLogLevelFromString:()=>QK,getBooleanFromEnv:()=>mE,getNumberFromEnv:()=>De,getRPCMetadata:()=>UK,getStringFromEnv:()=>zt,getStringListFromEnv:()=>_E,getTimeOrigin:()=>ou,globalErrorHandler:()=>ft,hrTime:()=>Df,hrTimeDuration:()=>RE,hrTimeToMicroseconds:()=>Tr,hrTimeToMilliseconds:()=>Ln,hrTimeToNanoseconds:()=>su,hrTimeToTimeStamp:()=>AK,internal:()=>Uo,isAttributeValue:()=>Rs,isTimeInput:()=>kf,isTimeInputHrTime:()=>au,isTracingSuppressed:()=>Sr,isUrlIgnored:()=>WK,loggingErrorHandler:()=>hE,merge:()=>lu,millisToHrTime:()=>sr,otperformance:()=>Mn,parseKeyPairsIntoRecord:()=>Pc,parseTraceParent:()=>px,sanitizeAttributes:()=>As,setGlobalErrorHandler:()=>H2,setRPCMetadata:()=>LK,suppressTracing:()=>Er,timeInputToHrTime:()=>Uf,unrefTimer:()=>Di,unsuppressTracing:()=>w2,urlMatches:()=>_x});var Uo,Q=_(()=>{$2();V2();z2();G2();ex();RK();OK();QC();lx();NK();wK();kK();If();dx();qK();YK();KK();XK();e8();r8();Uo={_export:t8};});function du(){return `unknown_service:${process.argv0}`}var n8=_(()=>{});var i8=_(()=>{n8();});var gx=_(()=>{i8();});var pu,o8=_(()=>{pu=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";});function fu(t,e){return IE.FromAttributeList(Object.entries(t),e)}function a8(t,e){return new IE(t,e)}function Ic(){return fu({})}function ki(){return fu({[Do]:du(),[Ps]:wn[Ps],[Cs]:wn[Cs],[xs]:wn[xs]})}function s8(t){return t.map(([e,r])=>pu(r)?[e,r.catch(i=>{T.debug("promise rejection for resource attribute: %s - %s",e,i);})]:[e,r])}function TCe(t){if(typeof t=="string"||t===void 0)return t;T.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t);}function yCe(t,e){let r=t?.schemaUrl,i=e?.schemaUrl,n=r===void 0||r==="",a=i===void 0||i==="";if(n)return i;if(a||r===i)return r;T.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,i);}var IE,Ex=_(()=>{P();Q();ht();gx();o8();IE=class t{_rawAttributes;_asyncAttributesPending=false;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,r){let i=new t({},r);return i._rawAttributes=s8(e),i._asyncAttributesPending=e.filter(([n,a])=>pu(a)).length>0,i}constructor(e,r){let i=e.attributes??{};this._rawAttributes=Object.entries(i).map(([n,a])=>(pu(a)&&(this._asyncAttributesPending=true),[n,a])),this._rawAttributes=s8(this._rawAttributes),this._schemaUrl=TCe(r?.schemaUrl);}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,i]=this._rawAttributes[e];this._rawAttributes[e]=[r,pu(i)?await i:i];}this._asyncAttributesPending=false;}}get attributes(){if(this.asyncAttributesPending&&T.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[r,i]of this._rawAttributes){if(pu(i)){T.debug(`Unsettled resource attribute ${r} skipped`);continue}i!=null&&(e[r]??=i);}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=yCe(this,e),i=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],i)}};});var hu,c8=_(()=>{P();Ex();hu=(t={})=>(t.detectors||[]).map(r=>{try{let i=a8(r.detect(t));return T.debug(`${r.constructor.name} found resource.`,i),i}catch(i){return T.debug(`${r.constructor.name} failed: ${i.message}`),Ic()}}).reduce((r,i)=>r.merge(i),Ic());});var Sx,Is,l8=_(()=>{P();ht();Q();Sx=class{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(e){let r={},i=zt("OTEL_RESOURCE_ATTRIBUTES"),n=zt("OTEL_SERVICE_NAME");if(i)try{let a=this._parseResourceAttributes(i);Object.assign(r,a);}catch(a){T.debug(`EnvDetector failed: ${a.message}`);}return n&&(r[Do]=n),{attributes:r}}_parseResourceAttributes(e){if(!e)return {};let r={},i=e.split(this._COMMA_SEPARATOR,-1);for(let n of i){let a=n.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[o,s]=a;if(o=o.trim(),s=s.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(s))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(s);}return r}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<33||i===44||i===59||i===92||i>126)return  false}return  true}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},Is=new Sx;});var u8,d8,p8,f8,h8,m8,_8,g8,E8,S8,T8,y8,v8,A8,R8,Hf=_(()=>{u8="host.arch",d8="host.id",p8="host.name",f8="os.type",h8="os.version",m8="process.command",_8="process.command_args",g8="process.executable.name",E8="process.executable.path",S8="process.owner",T8="process.pid",y8="process.runtime.description",v8="process.runtime.name",A8="process.runtime.version",R8="service.instance.id";});var mu,ME=_(()=>{mu=N8__namespace.promisify(O8__namespace.exec);});var b8={};Ne(b8,{getMachineId:()=>vCe});async function vCe(){try{let e=(await mu('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(i=>i.includes("IOPlatformUUID"));if(!e)return;let r=e.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(t){T.debug(`error reading machine id: ${t}`);}}var P8=_(()=>{ME();P();});var C8={};Ne(C8,{getMachineId:()=>RCe});async function RCe(){let t=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of t)try{return (await es.promises.readFile(e,{encoding:"utf8"})).trim()}catch(r){T.debug(`error reading machine id: ${r}`);}}var x8=_(()=>{P();});var I8={};Ne(I8,{getMachineId:()=>NCe});async function NCe(){try{return (await es.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(t){T.debug(`error reading machine id: ${t}`);}try{return (await mu("kenv -q smbios.system.uuid")).stdout.trim()}catch(t){T.debug(`error reading machine id: ${t}`);}}var M8=_(()=>{ME();P();});var w8={};Ne(w8,{getMachineId:()=>bCe});async function bCe(){let t="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";us__namespace.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in us__namespace.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let i=(await mu(`${e} ${t}`)).stdout.split("REG_SZ");if(i.length===2)return i[1].trim()}catch(r){T.debug(`error reading machine id: ${r}`);}}var L8=_(()=>{ME();P();});var D8={};Ne(D8,{getMachineId:()=>PCe});async function PCe(){T.debug("could not read machine-id: unsupported platform");}var U8=_(()=>{P();});async function $8(){if(!Mc)switch(us__namespace.platform){case "darwin":Mc=(await Promise.resolve().then(()=>(P8(),b8))).getMachineId;break;case "linux":Mc=(await Promise.resolve().then(()=>(x8(),C8))).getMachineId;break;case "freebsd":Mc=(await Promise.resolve().then(()=>(M8(),I8))).getMachineId;break;case "win32":Mc=(await Promise.resolve().then(()=>(L8(),w8))).getMachineId;break;default:Mc=(await Promise.resolve().then(()=>(U8(),D8))).getMachineId;break}return Mc()}var Mc,V8=_(()=>{});var B8,z8,Tx=_(()=>{B8=t=>{switch(t){case "arm":return "arm32";case "ppc":return "ppc32";case "x64":return "amd64";default:return t}},z8=t=>{switch(t){case "sunos":return "solaris";case "win32":return "windows";default:return t}};});var yx,Ms,F8=_(()=>{Hf();V8();Tx();yx=class{detect(e){return {attributes:{[p8]:mp.hostname(),[u8]:B8(mp.arch()),[d8]:$8()}}}},Ms=new yx;});var vx,ws,H8=_(()=>{Hf();Tx();vx=class{detect(e){return {attributes:{[f8]:z8(mp.platform()),[h8]:mp.release()}}}},ws=new vx;});var Ax,wc,j8=_(()=>{P();Hf();Ax=class{detect(e){let r={[T8]:process.pid,[g8]:process.title,[E8]:process.execPath,[_8]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[A8]:process.versions.node,[v8]:"nodejs",[y8]:"Node.js"};process.argv.length>1&&(r[m8]=process.argv[1]);try{let i=mp__namespace.userInfo();r[S8]=i.username;}catch(i){T.debug(`error obtaining process owner: ${i}`);}return {attributes:r}}},wc=new Ax;});var Rx,Lc,q8=_(()=>{Hf();Rx=class{detect(e){return {attributes:{[R8]:crypto$1.randomUUID()}}}},Lc=new Rx;});var Y8=_(()=>{F8();H8();j8();q8();});var W8=_(()=>{Y8();});var K8=_(()=>{l8();W8();});var LE={};Ne(LE,{defaultResource:()=>ki,defaultServiceName:()=>du,detectResources:()=>hu,emptyResource:()=>Ic,envDetector:()=>Is,hostDetector:()=>Ms,osDetector:()=>ws,processDetector:()=>wc,resourceFromAttributes:()=>fu,serviceInstanceIdDetector:()=>Lc});var $i=_(()=>{c8();K8();Ex();gx();});var DE,Z8=_(()=>{P();Q();DE=class{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=false;_logRecordLimits;set severityText(e){this._isLogRecordReadonly()||(this._severityText=e);}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e);}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e);}get body(){return this._body}get eventName(){return this._eventName}set eventName(e){this._isLogRecordReadonly()||(this._eventName=e);}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(e,r,i){let{timestamp:n,observedTimestamp:a,eventName:o,severityNumber:s,severityText:c,body:l,attributes:u={},context:d}=i,p=Date.now();if(this.hrTime=Uf(n??p),this.hrTimeObserved=Uf(a??p),d){let f=se.getSpanContext(d);f&&jt(f)&&(this.spanContext=f);}this.severityNumber=s,this.severityText=c,this.body=l,this.resource=e.resource,this.instrumentationScope=r,this._logRecordLimits=e.logRecordLimits,this._eventName=o,this.setAttributes(u);}setAttribute(e,r){return this._isLogRecordReadonly()?this:r===null?this:e.length===0?(T.warn(`Invalid attribute key: ${e}`),this):!Rs(r)&&!(typeof r=="object"&&!Array.isArray(r)&&Object.keys(r).length>0)?(T.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&T.warn("Dropping extra attributes."),this):(Rs(r)?this.attributes[e]=this._truncateToSize(r):this.attributes[e]=r,this))}setAttributes(e){for(let[r,i]of Object.entries(e))this.setAttribute(r,i);return this}setBody(e){return this.body=e,this}setEventName(e){return this.eventName=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=true;}_truncateToSize(e){let r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(T.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,r):i):e}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_isLogRecordReadonly(){return this._isReadonly&&T.warn("Can not execute the operation on emitted log record"),this._isReadonly}};});var UE,X8=_(()=>{P();Z8();UE=class{instrumentationScope;_sharedState;constructor(e,r){this.instrumentationScope=e,this._sharedState=r;}emit(e){let r=e.context||pe.active(),i=new DE(this._sharedState,this.instrumentationScope,{context:r,...e});this._sharedState.activeProcessor.onEmit(i,r),i._makeReadonly();}};});function J8(){return {forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:De("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:De("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:true}}function Q8(t){return {attributeCountLimit:t.attributeCountLimit??De("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??De("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:t.attributeValueLengthLimit??De("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??De("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}var eZ=_(()=>{Q();});var _u,Ox=_(()=>{_u=class{forceFlush(){return Promise.resolve()}onEmit(e,r){}shutdown(){return Promise.resolve()}};});var kE,tZ=_(()=>{Q();kE=class{processors;forceFlushTimeoutMillis;constructor(e,r){this.processors=e,this.forceFlushTimeoutMillis=r;}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(r=>uu(r.forceFlush(),e)));}onEmit(e,r){this.processors.forEach(i=>i.onEmit(e,r));}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()));}};});var $E,rZ=_(()=>{Ox();tZ();$E=class{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(e,r,i,n){this.resource=e,this.forceFlushTimeoutMillis=r,this.logRecordLimits=i,this.processors=n,n.length>0?(this.registeredLogRecordProcessors=n,this.activeProcessor=new kE(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis)):this.activeProcessor=new _u;}};});var LCe,VE,nZ=_(()=>{P();In();$i();Q();X8();eZ();rZ();LCe="unknown",VE=class{_shutdownOnce;_sharedState;constructor(e={}){let r=lu({},J8(),e),i=e.resource??ki();this._sharedState=new $E(i,r.forceFlushTimeoutMillis,Q8(r.logRecordLimits),e?.processors??[]),this._shutdownOnce=new jr(this._shutdown,this);}getLogger(e,r,i){if(this._shutdownOnce.isCalled)return T.warn("A shutdown LoggerProvider cannot provide a Logger"),Ql;e||T.warn("Logger requested without instrumentation scope name.");let n=e||LCe,a=`${n}@${r||""}:${i?.schemaUrl||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new UE({name:n,version:r,schemaUrl:i?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}forceFlush(){return this._shutdownOnce.isCalled?(T.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(T.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}};});var BE,iZ=_(()=>{Q();BE=class{export(e,r){this._sendLogRecords(e,r);}shutdown(){return Promise.resolve()}_exportInfo(e){return {resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,timestamp:Tr(e.hrTime),traceId:e.spanContext?.traceId,spanId:e.spanContext?.spanId,traceFlags:e.spanContext?.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,r){for(let i of e)console.dir(this._exportInfo(i),{depth:3});r?.({code:W.SUCCESS});}};});var zE,oZ=_(()=>{Q();zE=class{_exporter;_shutdownOnce;_unresolvedExports;constructor(e){this._exporter=e,this._shutdownOnce=new jr(this._shutdown,this),this._unresolvedExports=new Set;}onEmit(e){if(this._shutdownOnce.isCalled)return;let r=()=>Uo._export(this._exporter,[e]).then(i=>{i.code!==W.SUCCESS&&ft(i.error??new Error(`SimpleLogRecordProcessor: log record export failed (status ${i})`));}).catch(ft);if(e.resource.asyncAttributesPending){let i=e.resource.waitForAsyncAttributes?.().then(()=>(this._unresolvedExports.delete(i),r()),ft);i!=null&&this._unresolvedExports.add(i);}else r();}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports));}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};});var FE,sZ=_(()=>{Q();FE=class{_finishedLogRecords=[];_stopped=false;export(e,r){if(this._stopped)return r({code:W.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),r({code:W.SUCCESS});}shutdown(){return this._stopped=true,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[];}};});var HE,aZ=_(()=>{P();Q();HE=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(e,r){this._exporter=e,this._maxExportBatchSize=r?.maxExportBatchSize??De("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=r?.maxQueueSize??De("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=r?.scheduledDelayMillis??De("OTEL_BLRP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=r?.exportTimeoutMillis??De("OTEL_BLRP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new jr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(T.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize);}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e);}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown();}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer());}_flushAll(){return new Promise((e,r)=>{let i=[],n=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<n;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e();}).catch(r);})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,r)=>{uu(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(r);})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer());}).catch(e=>{ft(e);});},this._scheduledDelayMillis),Di(this._timer));}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0);}_export(e){let r=()=>Uo._export(this._exporter,e).then(n=>{n.code!==W.SUCCESS&&ft(n.error??new Error(`BatchLogRecordProcessor: log record export failed (status ${n})`));}).catch(ft),i=e.map(n=>n.resource).filter(n=>n.asyncAttributesPending);return i.length===0?r():Promise.all(i.map(n=>n.waitForAsyncAttributes?.())).then(r,ft)}};});var Ls,cZ=_(()=>{aZ();Ls=class extends HE{onShutdown(){}};});var lZ=_(()=>{cZ();});var uZ=_(()=>{lZ();});var Nx={};Ne(Nx,{BatchLogRecordProcessor:()=>Ls,ConsoleLogRecordExporter:()=>BE,InMemoryLogRecordExporter:()=>FE,LoggerProvider:()=>VE,NoopLogRecordProcessor:()=>_u,SimpleLogRecordProcessor:()=>zE});var GE=_(()=>{nZ();Ox();iZ();oZ();sZ();uZ();});var mt,jE=_(()=>{(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE";})(mt||(mt={}));});var le,_t,Ds=_(()=>{(function(t){t.COUNTER="COUNTER",t.GAUGE="GAUGE",t.HISTOGRAM="HISTOGRAM",t.UP_DOWN_COUNTER="UP_DOWN_COUNTER",t.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",t.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",t.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER";})(le||(le={}));(function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM";})(_t||(_t={}));});function dZ(t){return t!=null}function qE(t){let e=Object.keys(t);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(r=>[r,t[r]])))}function pZ(t){return `${t.name}:${t.version??""}:${t.schemaUrl??""}`}function Us(t,e){let r,i=new Promise(function(a,o){r=setTimeout(function(){o(new Dc("Operation timed out."));},e);});return Promise.race([t,i]).then(n=>(clearTimeout(r),n),n=>{throw clearTimeout(r),n})}async function fZ(t){return Promise.all(t.map(async e=>{try{return {status:"fulfilled",value:await e}}catch(r){return {status:"rejected",reason:r}}}))}function hZ(t){return t.status==="rejected"}function bx(t,e){let r=[];return t.forEach(i=>{r.push(...e(i));}),r}function mZ(t,e){if(t.size!==e.size)return  false;for(let r of t)if(!e.has(r))return  false;return  true}function _Z(t,e){let r=0,i=t.length-1,n=t.length;for(;i>=r;){let a=r+Math.trunc((i-r)/2);t[a]<e?r=a+1:(n=a,i=a-1);}return n}function gZ(t,e){return t.toLowerCase()===e.toLowerCase()}var Dc,ai=_(()=>{Dc=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype);}};});var Dn,gu=_(()=>{(function(t){t[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM";})(Dn||(Dn={}));});var Gf,EZ=_(()=>{gu();Gf=class{kind=Dn.DROP;createAccumulation(){}merge(e,r){}diff(e,r){}toMetricData(e,r,i,n){}};});function DCe(t){let e=t.map(()=>0);return e.push(0),{buckets:{boundaries:t,counts:e},sum:0,count:0,hasMinMax:false,min:1/0,max:-1/0}}var Eu,Su,SZ=_(()=>{gu();Ds();ai();Eu=class{startTime;_boundaries;_recordMinMax;_current;constructor(e,r,i=true,n=DCe(r)){this.startTime=e,this._boundaries=r,this._recordMinMax=i,this._current=n;}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=true);let r=_Z(this._boundaries,e);this._current.buckets.counts[r]+=1;}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},Su=class{_boundaries;_recordMinMax;kind=Dn.HISTOGRAM;constructor(e,r){this._boundaries=e,this._recordMinMax=r;}createAccumulation(e){return new Eu(e,this._boundaries,this._recordMinMax)}merge(e,r){let i=e.toPointValue(),n=r.toPointValue(),a=i.buckets.counts,o=n.buckets.counts,s=new Array(a.length);for(let u=0;u<a.length;u++)s[u]=a[u]+o[u];let c=1/0,l=-1/0;return this._recordMinMax&&(i.hasMinMax&&n.hasMinMax?(c=Math.min(i.min,n.min),l=Math.max(i.max,n.max)):i.hasMinMax?(c=i.min,l=i.max):n.hasMinMax&&(c=n.min,l=n.max)),new Eu(e.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:s},count:i.count+n.count,sum:i.sum+n.sum,hasMinMax:this._recordMinMax&&(i.hasMinMax||n.hasMinMax),min:c,max:l})}diff(e,r){let i=e.toPointValue(),n=r.toPointValue(),a=i.buckets.counts,o=n.buckets.counts,s=new Array(a.length);for(let c=0;c<a.length;c++)s[c]=o[c]-a[c];return new Eu(r.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:s},count:n.count-i.count,sum:n.sum-i.sum,hasMinMax:false,min:1/0,max:-1/0})}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:_t.HISTOGRAM,dataPoints:i.map(([a,o])=>{let s=o.toPointValue(),c=e.type===le.GAUGE||e.type===le.UP_DOWN_COUNTER||e.type===le.OBSERVABLE_GAUGE||e.type===le.OBSERVABLE_UP_DOWN_COUNTER;return {attributes:a,startTime:o.startTime,endTime:n,value:{min:s.hasMinMax?s.min:void 0,max:s.hasMinMax?s.max:void 0,sum:c?void 0:s.sum,buckets:s.buckets,count:s.count}}})}}};});var jf,Px,TZ=_(()=>{jf=class t{backing;indexBase;indexStart;indexEnd;constructor(e=new Px,r=0,i=0,n=0){this.backing=e,this.indexBase=r,this.indexStart=i,this.indexEnd=n;}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,r)=>this.at(r))}at(e){let r=this.indexBase-this.indexStart;return e<r&&(e+=this.backing.length),e-=r,this.backing.countAt(e)}incrementBucket(e,r){this.backing.increment(e,r);}decrementBucket(e,r){this.backing.decrement(e,r);}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate();}downscale(e){this._rotate();let r=1+this.indexEnd-this.indexStart,i=1<<e,n=0,a=0;for(let o=this.indexStart;o<=this.indexEnd;){let s=o%i;s<0&&(s+=i);for(let c=s;c<i&&n<r;c++)this._relocateBucket(a,n),n++,o++;a++;}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart;}clone(){return new t(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart);}_relocateBucket(e,r){e!==r&&this.incrementBucket(e,this.backing.emptyBucket(r));}},Px=class t{_counts;constructor(e=[0]){this._counts=e;}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,r,i){let n=new Array(e).fill(0);n.splice(i,this._counts.length-r,...this._counts.slice(r)),n.splice(0,r,...this._counts.slice(0,r)),this._counts=n;}reverse(e,r){let i=Math.floor((e+r)/2)-e;for(let n=0;n<i;n++){let a=this._counts[e+n];this._counts[e+n]=this._counts[r-n-1],this._counts[r-n-1]=a;}}emptyBucket(e){let r=this._counts[e];return this._counts[e]=0,r}increment(e,r){this._counts[e]+=r;}decrement(e,r){this._counts[e]>=r?this._counts[e]-=r:this._counts[e]=0;}clone(){return new t([...this._counts])}};});function YE(t){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t),((e.getUint32(0)&2146435072)>>20)-1023}function WE(t){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);let r=e.getUint32(0),i=e.getUint32(4);return (r&1048575)*Math.pow(2,32)+i}var qf,Cx=_(()=>{qf=Math.pow(2,-1022);});function Yf(t,e){return t===0||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t)?t:t*Math.pow(2,e)}function vZ(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}var KE=_(()=>{});var Vi,ZE=_(()=>{Vi=class extends Error{};});var XE,RZ=_(()=>{Cx();KE();ZE();XE=class{_shift;constructor(e){this._shift=-e;}mapToIndex(e){if(e<qf)return this._minNormalLowerBoundaryIndex();let r=YE(e),i=this._rightShift(WE(e)-1,52);return r+i>>this._shift}lowerBoundary(e){let r=this._minNormalLowerBoundaryIndex();if(e<r)throw new Vi(`underflow: ${e} is < minimum lower boundary: ${r}`);let i=this._maxNormalLowerBoundaryIndex();if(e>i)throw new Vi(`overflow: ${e} is > maximum lower boundary: ${i}`);return Yf(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,r){return Math.floor(e*Math.pow(2,-r))}};});var JE,OZ=_(()=>{Cx();KE();ZE();JE=class{_scale;_scaleFactor;_inverseFactor;constructor(e){this._scale=e,this._scaleFactor=Yf(Math.LOG2E,e),this._inverseFactor=Yf(Math.LN2,-e);}mapToIndex(e){if(e<=qf)return this._minNormalLowerBoundaryIndex()-1;if(WE(e)===0)return (YE(e)<<this._scale)-1;let r=Math.floor(Math.log(e)*this._scaleFactor),i=this._maxNormalLowerBoundaryIndex();return r>=i?i:r}lowerBoundary(e){let r=this._maxNormalLowerBoundaryIndex();if(e>=r){if(e===r)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Vi(`overflow: ${e} is > maximum lower boundary: ${r}`)}let i=this._minNormalLowerBoundaryIndex();if(e<=i){if(e===i)return qf;if(e===i-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Vi(`overflow: ${e} is < minimum lower boundary: ${i}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return  -1022<<this._scale}_maxNormalLowerBoundaryIndex(){return (1024<<this._scale)-1}};});function Mx(t){if(t>bZ||t<NZ)throw new Vi(`expected scale >= ${NZ} && <= ${bZ}, got: ${t}`);return kCe[t+10]}var NZ,bZ,kCe,PZ=_(()=>{RZ();OZ();ZE();NZ=-10,bZ=20,kCe=Array.from({length:31},(t,e)=>e>10?new JE(e-10):new XE(e-10));});var Tu,$Ce,VCe,wx,QE,Wf,CZ=_(()=>{gu();Ds();P();TZ();PZ();KE();Tu=class t{low;high;static combine(e,r){return new t(Math.min(e.low,r.low),Math.max(e.high,r.high))}constructor(e,r){this.low=e,this.high=r;}},$Ce=20,VCe=160,wx=2,QE=class t{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(e,r=VCe,i=true,n=0,a=0,o=0,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=new jf,u=new jf,d=Mx($Ce)){this.startTime=e,this._maxSize=r,this._recordMinMax=i,this._sum=n,this._count=a,this._zeroCount=o,this._min=s,this._max=c,this._positive=l,this._negative=u,this._mapping=d,this._maxSize<wx&&(T.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${wx}`),this._maxSize=wx);}record(e){this.updateByIncrement(e,1);}setStartTime(e){this.startTime=e;}toPointValue(){return {hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,r){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=r,e===0){this._zeroCount+=r;return}this._sum+=e*r,e>0?this._updateBuckets(this._positive,e,r):this._updateBuckets(this._negative,-e,r);}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._mergeBuckets(this.positive,e,e.positive,r),this._mergeBuckets(this.negative,e,e.negative,r);}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._diffBuckets(this.positive,e,e.positive,r),this._diffBuckets(this.negative,e,e.negative,r);}clone(){return new t(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,r,i){let n=this._mapping.mapToIndex(r),a=false,o=0,s=0;if(e.length===0?(e.indexStart=n,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):n<e.indexStart&&e.indexEnd-n>=this._maxSize?(a=true,s=n,o=e.indexEnd):n>e.indexEnd&&n-e.indexStart>=this._maxSize&&(a=true,s=e.indexStart,o=n),a){let c=this._changeScale(o,s);this._downscale(c),n=this._mapping.mapToIndex(r);}this._incrementIndexBy(e,n,i);}_incrementIndexBy(e,r,i){if(i===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=r),r<e.indexStart){let a=e.indexEnd-r;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=r;}else if(r>e.indexEnd){let a=r-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=r;}let n=r-e.indexBase;n<0&&(n+=e.backing.length),e.incrementBucket(n,i);}_grow(e,r){let i=e.backing.length,n=e.indexBase-e.indexStart,a=i-n,o=vZ(r);o>this._maxSize&&(o=this._maxSize);let s=o-n;e.backing.growTo(o,a,s);}_changeScale(e,r){let i=0;for(;e-r>=this._maxSize;)e>>=1,r>>=1,i++;return i}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let r=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=Mx(r);}_minScale(e){let r=Math.min(this.scale,e.scale),i=Tu.combine(this._highLowAtScale(this.positive,this.scale,r),this._highLowAtScale(e.positive,e.scale,r)),n=Tu.combine(this._highLowAtScale(this.negative,this.scale,r),this._highLowAtScale(e.negative,e.scale,r));return Math.min(r-this._changeScale(i.high,i.low),r-this._changeScale(n.high,n.low))}_highLowAtScale(e,r,i){if(e.length===0)return new Tu(0,-1);let n=r-i;return new Tu(e.indexStart>>n,e.indexEnd>>n)}_mergeBuckets(e,r,i,n){let a=i.offset,o=r.scale-n;for(let s=0;s<i.length;s++)this._incrementIndexBy(e,a+s>>o,i.at(s));}_diffBuckets(e,r,i,n){let a=i.offset,o=r.scale-n;for(let s=0;s<i.length;s++){let l=(a+s>>o)-e.indexBase;l<0&&(l+=e.backing.length),e.decrementBucket(l,i.at(s));}e.trim();}},Wf=class{_maxSize;_recordMinMax;kind=Dn.EXPONENTIAL_HISTOGRAM;constructor(e,r){this._maxSize=e,this._recordMinMax=r;}createAccumulation(e){return new QE(e,this._maxSize,this._recordMinMax)}merge(e,r){let i=r.clone();return i.merge(e),i}diff(e,r){let i=r.clone();return i.diff(e),i}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:_t.EXPONENTIAL_HISTOGRAM,dataPoints:i.map(([a,o])=>{let s=o.toPointValue(),c=e.type===le.GAUGE||e.type===le.UP_DOWN_COUNTER||e.type===le.OBSERVABLE_GAUGE||e.type===le.OBSERVABLE_UP_DOWN_COUNTER;return {attributes:a,startTime:o.startTime,endTime:n,value:{min:s.hasMinMax?s.min:void 0,max:s.hasMinMax?s.max:void 0,sum:c?void 0:s.sum,positive:{offset:s.positive.offset,bucketCounts:s.positive.bucketCounts},negative:{offset:s.negative.offset,bucketCounts:s.negative.bucketCounts},count:s.count,scale:s.scale,zeroCount:s.zeroCount}}})}}};});var yu,Kf,xZ=_(()=>{gu();Q();Ds();yu=class{startTime;_current;sampleTime;constructor(e,r=0,i=[0,0]){this.startTime=e,this._current=r,this.sampleTime=i;}record(e){this._current=e,this.sampleTime=sr(Date.now());}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},Kf=class{kind=Dn.LAST_VALUE;createAccumulation(e){return new yu(e)}merge(e,r){let i=Tr(r.sampleTime)>=Tr(e.sampleTime)?r:e;return new yu(e.startTime,i.toPointValue(),i.sampleTime)}diff(e,r){let i=Tr(r.sampleTime)>=Tr(e.sampleTime)?r:e;return new yu(r.startTime,i.toPointValue(),i.sampleTime)}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:_t.GAUGE,dataPoints:i.map(([a,o])=>({attributes:a,startTime:o.startTime,endTime:n,value:o.toPointValue()}))}}};});var ks,vu,IZ=_(()=>{gu();Ds();ks=class{startTime;monotonic;_current;reset;constructor(e,r,i=0,n=false){this.startTime=e,this.monotonic=r,this._current=i,this.reset=n;}record(e){this.monotonic&&e<0||(this._current+=e);}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},vu=class{monotonic;kind=Dn.SUM;constructor(e){this.monotonic=e;}createAccumulation(e){return new ks(e,this.monotonic)}merge(e,r){let i=e.toPointValue(),n=r.toPointValue();return r.reset?new ks(r.startTime,this.monotonic,n,r.reset):new ks(e.startTime,this.monotonic,i+n)}diff(e,r){let i=e.toPointValue(),n=r.toPointValue();return this.monotonic&&i>n?new ks(r.startTime,this.monotonic,n,true):new ks(r.startTime,this.monotonic,n-i)}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:_t.SUM,dataPoints:i.map(([a,o])=>({attributes:a,startTime:o.startTime,endTime:n,value:o.toPointValue()})),isMonotonic:this.monotonic}}};});var MZ=_(()=>{EZ();SZ();CZ();xZ();IZ();});var Lx,Dx,Ux,kx,Zf,Xf,$x,Vx,Bx,zx,Fx,wZ,LZ=_(()=>{P();MZ();Ds();Lx=class t{static DEFAULT_INSTANCE=new Gf;createAggregator(e){return t.DEFAULT_INSTANCE}},Dx=class t{static MONOTONIC_INSTANCE=new vu(true);static NON_MONOTONIC_INSTANCE=new vu(false);createAggregator(e){switch(e.type){case le.COUNTER:case le.OBSERVABLE_COUNTER:case le.HISTOGRAM:return t.MONOTONIC_INSTANCE;default:return t.NON_MONOTONIC_INSTANCE}}},Ux=class t{static DEFAULT_INSTANCE=new Kf;createAggregator(e){return t.DEFAULT_INSTANCE}},kx=class t{static DEFAULT_INSTANCE=new Su([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],true);createAggregator(e){return t.DEFAULT_INSTANCE}},Zf=class{_recordMinMax;_boundaries;constructor(e,r=true){if(this._recordMinMax=r,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,o)=>a-o);let i=e.lastIndexOf(-1/0),n=e.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=e.slice(i+1,n);}createAggregator(e){return new Su(this._boundaries,this._recordMinMax)}},Xf=class{_maxSize;_recordMinMax;constructor(e=160,r=true){this._maxSize=e,this._recordMinMax=r;}createAggregator(e){return new Wf(this._maxSize,this._recordMinMax)}},$x=class{_resolve(e){switch(e.type){case le.COUNTER:case le.UP_DOWN_COUNTER:case le.OBSERVABLE_COUNTER:case le.OBSERVABLE_UP_DOWN_COUNTER:return Bx;case le.GAUGE:case le.OBSERVABLE_GAUGE:return zx;case le.HISTOGRAM:return e.advice.explicitBucketBoundaries?new Zf(e.advice.explicitBucketBoundaries):Fx}return T.warn(`Unable to recognize instrument type: ${e.type}`),Vx}createAggregator(e){return this._resolve(e).createAggregator(e)}},Vx=new Lx,Bx=new Dx,zx=new Ux,Fx=new kx,new Xf,wZ=new $x;});function eS(t){switch(t.type){case yr.DEFAULT:return wZ;case yr.DROP:return Vx;case yr.SUM:return Bx;case yr.LAST_VALUE:return zx;case yr.EXPONENTIAL_HISTOGRAM:{let e=t;return new Xf(e.options?.maxSize,e.options?.recordMinMax)}case yr.EXPLICIT_BUCKET_HISTOGRAM:{let e=t;return e.options==null?Fx:new Zf(e.options?.boundaries,e.options?.recordMinMax)}default:throw new Error("Unsupported Aggregation")}}var yr,Jf=_(()=>{LZ();(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.DROP=1]="DROP",t[t.SUM=2]="SUM",t[t.LAST_VALUE=3]="LAST_VALUE",t[t.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM";})(yr||(yr={}));});var DZ,tS,Hx=_(()=>{jE();Jf();DZ=t=>({type:yr.DEFAULT}),tS=t=>mt.CUMULATIVE;});var Au,Gx=_(()=>{P();ai();Hx();Au=class{_shutdown=false;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(e){this._aggregationSelector=e?.aggregationSelector??DZ,this._aggregationTemporalitySelector=e?.aggregationTemporalitySelector??tS,this._metricProducers=e?.metricProducers??[],this._cardinalitySelector=e?.cardinalitySelector;}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized();}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[r,...i]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e?.timeoutMillis}),...this._metricProducers.map(s=>s.collect({timeoutMillis:e?.timeoutMillis}))]),n=r.errors.concat(bx(i,s=>s.errors)),a=r.resourceMetrics.resource,o=r.resourceMetrics.scopeMetrics.concat(bx(i,s=>s.resourceMetrics.scopeMetrics));return {resourceMetrics:{resource:a,scopeMetrics:o},errors:n}}async shutdown(e){if(this._shutdown){T.error("Cannot call shutdown twice.");return}e?.timeoutMillis==null?await this.onShutdown():await Us(this.onShutdown(),e.timeoutMillis),this._shutdown=true;}async forceFlush(e){if(this._shutdown){T.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(e?.timeoutMillis==null){await this.onForceFlush();return}await Us(this.onForceFlush(),e.timeoutMillis);}};});var Yt,UZ=_(()=>{P();Q();Gx();ai();Yt=class extends Au{_interval;_exporter;_exportInterval;_exportTimeout;constructor(e){if(super({aggregationSelector:e.exporter.selectAggregation?.bind(e.exporter),aggregationTemporalitySelector:e.exporter.selectAggregationTemporality?.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=e.exportIntervalMillis??6e4,this._exportTimeout=e.exportTimeoutMillis??3e4,this._exporter=e.exporter;}async _runOnce(){try{await Us(this._doRun(),this._exportTimeout);}catch(e){if(e instanceof Dc){T.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}ft(e);}}async _doRun(){let{resourceMetrics:e,errors:r}=await this.collect({timeoutMillis:this._exportTimeout});if(r.length>0&&T.error("PeriodicExportingMetricReader: metrics collection errors",...r),e.resource.asyncAttributesPending)try{await e.resource.waitForAsyncAttributes?.();}catch(n){T.debug("Error while resolving async portion of resource: ",n),ft(n);}if(e.scopeMetrics.length===0)return;let i=await Uo._export(this._exporter,e);if(i.code!==W.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${i.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce();},this._exportInterval),Di(this._interval);}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush();}async onShutdown(){this._interval&&clearInterval(this._interval),await this.onForceFlush(),await this._exporter.shutdown();}};});var rS,kZ=_(()=>{Q();rS=class{_shutdown=false;_aggregationTemporality;_metrics=[];constructor(e){this._aggregationTemporality=e;}export(e,r){if(this._shutdown){setTimeout(()=>r({code:W.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>r({code:W.SUCCESS}),0);}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[];}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=true,Promise.resolve()}};});var nS,$Z=_(()=>{Q();Hx();nS=class t{_shutdown=false;_temporalitySelector;constructor(e){this._temporalitySelector=e?.temporalitySelector??tS;}export(e,r){if(this._shutdown){setImmediate(r,{code:W.FAILED});return}return t._sendMetrics(e,r)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=true,Promise.resolve()}static _sendMetrics(e,r){for(let i of e.scopeMetrics)for(let n of i.metrics)console.dir({descriptor:n.descriptor,dataPointType:n.dataPointType,dataPoints:n.dataPoints},{depth:null});r({code:W.SUCCESS});}};});var iS,VZ=_(()=>{iS=class{_registeredViews=[];addView(e){this._registeredViews.push(e);}findViews(e,r){return this._registeredViews.filter(n=>this._matchInstrument(n.instrumentSelector,e)&&this._matchMeter(n.meterSelector,r))}_matchInstrument(e,r){return (e.getType()===void 0||r.type===e.getType())&&e.getNameFilter().match(r.name)&&e.getUnitFilter().match(r.unit)}_matchMeter(e,r){return e.getNameFilter().match(r.name)&&(r.version===void 0||e.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||e.getSchemaUrlFilter().match(r.schemaUrl))}};});function Bi(t,e,r){return zCe(t)||T.warn(`Invalid metric name: "${t}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:t,type:e,description:r?.description??"",unit:r?.unit??"",valueType:r?.valueType??Me.DOUBLE,advice:r?.advice??{}}}function BZ(t,e){return {name:t.name??e.name,description:t.description??e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function zZ(t,e){return gZ(t.name,e.name)&&t.unit===e.unit&&t.type===e.type&&t.valueType===e.valueType}function zCe(t){return t.match(BCe)!=null}var BCe,Qf=_(()=>{P();ai();BCe=/^[a-z][a-z0-9_.\-/]{0,254}$/i;});function eh(t){return t instanceof Ou}var Ru,oS,sS,aS,cS,Ou,lS,uS,dS,pS=_(()=>{P();Q();Ru=class{_writableMetricStorage;_descriptor;constructor(e,r){this._writableMetricStorage=e,this._descriptor=r;}_record(e,r={},i=pe.active()){if(typeof e!="number"){T.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===Me.INT&&!Number.isInteger(e)&&(T.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,r,i,sr(Date.now()));}},oS=class extends Ru{add(e,r,i){this._record(e,r,i);}},sS=class extends Ru{add(e,r,i){if(e<0){T.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,r,i);}},aS=class extends Ru{record(e,r,i){this._record(e,r,i);}},cS=class extends Ru{record(e,r,i){if(e<0){T.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,r,i);}},Ou=class{_observableRegistry;_metricStorages;_descriptor;constructor(e,r,i){this._observableRegistry=i,this._descriptor=e,this._metricStorages=r;}addCallback(e){this._observableRegistry.addCallback(e,this);}removeCallback(e){this._observableRegistry.removeCallback(e,this);}},lS=class extends Ou{},uS=class extends Ou{},dS=class extends Ou{};});var fS,FZ=_(()=>{Qf();pS();Ds();fS=class{_meterSharedState;constructor(e){this._meterSharedState=e;}createGauge(e,r){let i=Bi(e,le.GAUGE,r),n=this._meterSharedState.registerMetricStorage(i);return new aS(n,i)}createHistogram(e,r){let i=Bi(e,le.HISTOGRAM,r),n=this._meterSharedState.registerMetricStorage(i);return new cS(n,i)}createCounter(e,r){let i=Bi(e,le.COUNTER,r),n=this._meterSharedState.registerMetricStorage(i);return new sS(n,i)}createUpDownCounter(e,r){let i=Bi(e,le.UP_DOWN_COUNTER,r),n=this._meterSharedState.registerMetricStorage(i);return new oS(n,i)}createObservableGauge(e,r){let i=Bi(e,le.OBSERVABLE_GAUGE,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new uS(i,n,this._meterSharedState.observableRegistry)}createObservableCounter(e,r){let i=Bi(e,le.OBSERVABLE_COUNTER,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new lS(i,n,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,r){let i=Bi(e,le.OBSERVABLE_UP_DOWN_COUNTER,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new dS(i,n,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.addBatchCallback(e,r);}removeBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.removeBatchCallback(e,r);}};});var Nu,jx=_(()=>{Qf();Nu=class{_instrumentDescriptor;constructor(e){this._instrumentDescriptor=e;}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=Bi(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice});}};});var qx,gn,th=_(()=>{ai();qx=class{_hash;_valueMap=new Map;_keyMap=new Map;constructor(e){this._hash=e;}get(e,r){return r??=this._hash(e),this._valueMap.get(r)}getOrDefault(e,r){let i=this._hash(e);if(this._valueMap.has(i))return this._valueMap.get(i);let n=r();return this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,n),n}set(e,r,i){i??=this._hash(e),this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,r);}has(e,r){return r??=this._hash(e),this._valueMap.has(r)}*keys(){let e=this._keyMap.entries(),r=e.next();for(;r.done!==true;)yield [r.value[1],r.value[0]],r=e.next();}*entries(){let e=this._valueMap.entries(),r=e.next();for(;r.done!==true;)yield [this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=e.next();}get size(){return this._valueMap.size}},gn=class extends qx{constructor(){super(qE);}};});var bu,Yx=_(()=>{ai();th();bu=class{_aggregator;_activeCollectionStorage=new gn;_cumulativeMemoStorage=new gn;_cardinalityLimit;_overflowAttributes={"otel.metric.overflow":true};_overflowHashCode;constructor(e,r){this._aggregator=e,this._cardinalityLimit=(r??2e3)-1,this._overflowHashCode=qE(this._overflowAttributes);}record(e,r,i,n){let a=this._activeCollectionStorage.get(r);if(!a){if(this._activeCollectionStorage.size>=this._cardinalityLimit){this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(n))?.record(e);return}a=this._aggregator.createAccumulation(n),this._activeCollectionStorage.set(r,a);}a?.record(e);}batchCumulate(e,r){Array.from(e.entries()).forEach(([i,n,a])=>{let o=this._aggregator.createAccumulation(r);o?.record(n);let s=o;if(this._cumulativeMemoStorage.has(i,a)){let c=this._cumulativeMemoStorage.get(i,a);s=this._aggregator.diff(c,o);}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit&&(i=this._overflowAttributes,a=this._overflowHashCode,this._cumulativeMemoStorage.has(i,a))){let c=this._cumulativeMemoStorage.get(i,a);s=this._aggregator.diff(c,o);}if(this._activeCollectionStorage.has(i,a)){let c=this._activeCollectionStorage.get(i,a);s=this._aggregator.merge(c,s);}this._cumulativeMemoStorage.set(i,o,a),this._activeCollectionStorage.set(i,s,a);});}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new gn,e}};});function FCe(t){return Array.from(t.entries())}var Pu,Wx=_(()=>{jE();th();Pu=class t{_aggregator;_unreportedAccumulations=new Map;_reportHistory=new Map;constructor(e,r){this._aggregator=e,r.forEach(i=>{this._unreportedAccumulations.set(i,[]);});}buildMetrics(e,r,i,n){this._stashAccumulations(i);let a=this._getMergedUnreportedAccumulations(e),o=a,s;if(this._reportHistory.has(e)){let l=this._reportHistory.get(e),u=l.collectionTime;s=l.aggregationTemporality,s===mt.CUMULATIVE?o=t.merge(l.accumulations,a,this._aggregator):o=t.calibrateStartTime(l.accumulations,a,u);}else s=e.selectAggregationTemporality(r.type);this._reportHistory.set(e,{accumulations:o,collectionTime:n,aggregationTemporality:s});let c=FCe(o);if(c.length!==0)return this._aggregator.toMetricData(r,s,c,n)}_stashAccumulations(e){let r=this._unreportedAccumulations.keys();for(let i of r){let n=this._unreportedAccumulations.get(i);n===void 0&&(n=[],this._unreportedAccumulations.set(i,n)),n.push(e);}}_getMergedUnreportedAccumulations(e){let r=new gn,i=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),i===void 0)return r;for(let n of i)r=t.merge(r,n,this._aggregator);return r}static merge(e,r,i){let n=e,a=r.entries(),o=a.next();for(;o.done!==true;){let[s,c,l]=o.value;if(e.has(s,l)){let u=e.get(s,l),d=i.merge(u,c);n.set(s,d,l);}else n.set(s,c,l);o=a.next();}return n}static calibrateStartTime(e,r,i){for(let[n,a]of e.keys())r.get(n,a)?.setStartTime(i);return r}};});var hS,HZ=_(()=>{jx();Yx();Wx();th();hS=class extends Nu{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(e,r,i,n,a){super(e),this._attributesProcessor=i,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new bu(r,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Pu(r,n);}record(e,r){let i=new gn;Array.from(e.entries()).forEach(([n,a])=>{i.set(this._attributesProcessor.process(n),a);}),this._deltaMetricStorage.batchCumulate(i,r);}collect(e,r){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,r)}};});function Kx(t,e){let r="";return t.unit!==e.unit&&(r+=`	- Unit '${t.unit}' does not match '${e.unit}'
`),t.type!==e.type&&(r+=`	- Type '${t.type}' does not match '${e.type}'
`),t.valueType!==e.valueType&&(r+=`	- Value Type '${t.valueType}' does not match '${e.valueType}'
`),t.description!==e.description&&(r+=`	- Description '${t.description}' does not match '${e.description}'
`),r}function HCe(t,e){return `	- use valueType '${t.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function GCe(t,e){return `	- use unit '${t.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function jCe(t,e){let r={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(r);return `	- create a new view with a name other than '${t.name}' and InstrumentSelector '${i}'`}function qCe(t,e){let r={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(r);return `	- create a new view with a name other than '${t.name}' and InstrumentSelector '${i}'
    	- OR - create a new view with the name ${t.name} and description '${t.description}' and InstrumentSelector ${i}
    	- OR - create a new view with the name ${e.name} and description '${t.description}' and InstrumentSelector ${i}`}function Zx(t,e){return t.valueType!==e.valueType?HCe(t,e):t.unit!==e.unit?GCe(t,e):t.type!==e.type?jCe(t,e):t.description!==e.description?qCe(t,e):""}var GZ=_(()=>{});var mS,jZ=_(()=>{Qf();P();GZ();mS=class t{_sharedRegistry=new Map;_perCollectorRegistry=new Map;static create(){return new t}getStorages(e){let r=[];for(let n of this._sharedRegistry.values())r=r.concat(n);let i=this._perCollectorRegistry.get(e);if(i!=null)for(let n of i.values())r=r.concat(n);return r}register(e){this._registerStorage(e,this._sharedRegistry);}registerForCollector(e,r){let i=this._perCollectorRegistry.get(e);i==null&&(i=new Map,this._perCollectorRegistry.set(e,i)),this._registerStorage(r,i);}findOrUpdateCompatibleStorage(e){let r=this._sharedRegistry.get(e.name);return r===void 0?null:this._findOrUpdateCompatibleStorage(e,r)}findOrUpdateCompatibleCollectorStorage(e,r){let i=this._perCollectorRegistry.get(e);if(i===void 0)return null;let n=i.get(r.name);return n===void 0?null:this._findOrUpdateCompatibleStorage(r,n)}_registerStorage(e,r){let i=e.getInstrumentDescriptor(),n=r.get(i.name);if(n===void 0){r.set(i.name,[e]);return}n.push(e);}_findOrUpdateCompatibleStorage(e,r){let i=null;for(let n of r){let a=n.getInstrumentDescriptor();zZ(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&n.updateDescription(e.description),T.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,Kx(a,e),`The longer description will be used.
To resolve the conflict:`,Zx(a,e))),i=n):T.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,Kx(a,e),`To resolve the conflict:
`,Zx(a,e));}return i}};});var _S,qZ=_(()=>{_S=class{_backingStorages;constructor(e){this._backingStorages=e;}record(e,r,i,n){this._backingStorages.forEach(a=>{a.record(e,r,i,n);});}};});var gS,ES,YZ=_(()=>{P();th();pS();gS=class{_instrumentName;_valueType;_buffer=new gn;constructor(e,r){this._instrumentName=e,this._valueType=r;}observe(e,r={}){if(typeof e!="number"){T.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===Me.INT&&!Number.isInteger(e)&&(T.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(r,e);}},ES=class{_buffer=new Map;observe(e,r,i={}){if(!eh(e))return;let n=this._buffer.get(e);if(n==null&&(n=new gn,this._buffer.set(e,n)),typeof r!="number"){T.warn(`non-number value provided to metric ${e._descriptor.name}: ${r}`);return}e._descriptor.valueType===Me.INT&&!Number.isInteger(r)&&(T.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||n.set(i,r);}};});var SS,WZ=_(()=>{P();pS();YZ();ai();SS=class{_callbacks=[];_batchCallbacks=[];addCallback(e,r){this._findCallback(e,r)>=0||this._callbacks.push({callback:e,instrument:r});}removeCallback(e,r){let i=this._findCallback(e,r);i<0||this._callbacks.splice(i,1);}addBatchCallback(e,r){let i=new Set(r.filter(eh));if(i.size===0){T.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(e,i)>=0||this._batchCallbacks.push({callback:e,instruments:i});}removeBatchCallback(e,r){let i=new Set(r.filter(eh)),n=this._findBatchCallback(e,i);n<0||this._batchCallbacks.splice(n,1);}async observe(e,r){let i=this._observeCallbacks(e,r),n=this._observeBatchCallbacks(e,r);return (await fZ([...i,...n])).filter(hZ).map(s=>s.reason)}_observeCallbacks(e,r){return this._callbacks.map(async({callback:i,instrument:n})=>{let a=new gS(n._descriptor.name,n._descriptor.valueType),o=Promise.resolve(i(a));r!=null&&(o=Us(o,r)),await o,n._metricStorages.forEach(s=>{s.record(a._buffer,e);});})}_observeBatchCallbacks(e,r){return this._batchCallbacks.map(async({callback:i,instruments:n})=>{let a=new ES,o=Promise.resolve(i(a));r!=null&&(o=Us(o,r)),await o,n.forEach(s=>{let c=a._buffer.get(s);c!=null&&s._metricStorages.forEach(l=>{l.record(c,e);});});})}_findCallback(e,r){return this._callbacks.findIndex(i=>i.callback===e&&i.instrument===r)}_findBatchCallback(e,r){return this._batchCallbacks.findIndex(i=>i.callback===e&&mZ(i.instruments,r))}};});var TS,KZ=_(()=>{jx();Yx();Wx();TS=class extends Nu{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(e,r,i,n,a){super(e),this._attributesProcessor=i,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new bu(r,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Pu(r,n);}record(e,r,i,n){r=this._attributesProcessor.process(r,i),this._deltaMetricStorage.record(e,r,i,n);}collect(e,r){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,r)}};});function yS(){return YCe}function ZZ(t){return new Jx(t)}function XZ(t){return new Qx(t)}function JZ(t){return new eI(t)}var Xx,Jx,Qx,eI,YCe,vS=_(()=>{Xx=class{process(e,r){return e}},Jx=class{_processors;constructor(e){this._processors=e;}process(e,r){let i=e;for(let n of this._processors)i=n.process(i,r);return i}},Qx=class{_allowedAttributeNames;constructor(e){this._allowedAttributeNames=e;}process(e,r){let i={};return Object.keys(e).filter(n=>this._allowedAttributeNames.includes(n)).forEach(n=>i[n]=e[n]),i}},eI=class{_deniedAttributeNames;constructor(e){this._deniedAttributeNames=e;}process(e,r){let i={};return Object.keys(e).filter(n=>!this._deniedAttributeNames.includes(n)).forEach(n=>i[n]=e[n]),i}};YCe=new Xx;});var AS,QZ=_(()=>{Qf();FZ();ai();HZ();jZ();qZ();WZ();KZ();vS();AS=class{_meterProviderSharedState;_instrumentationScope;metricStorageRegistry=new mS;observableRegistry=new SS;meter;constructor(e,r){this._meterProviderSharedState=e,this._instrumentationScope=r,this.meter=new fS(this);}registerMetricStorage(e){let r=this._registerMetricStorage(e,TS);return r.length===1?r[0]:new _S(r)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,hS)}async collect(e,r,i){let n=await this.observableRegistry.observe(r,i?.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let o=a.map(s=>s.collect(e,r)).filter(dZ);return o.length===0?{errors:n}:{scopeMetrics:{scope:this._instrumentationScope,metrics:o},errors:n}}_registerMetricStorage(e,r){let n=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let o=BZ(a,e),s=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(s!=null)return s;let c=a.aggregation.createAggregator(o),l=new r(o,c,a.attributesProcessor,this._meterProviderSharedState.metricCollectors,a.aggregationCardinalityLimit);return this.metricStorageRegistry.register(l),l});if(n.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([s,c])=>{let l=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(s,e);if(l!=null)return l;let u=c.createAggregator(e),d=s.selectCardinalityLimit(e.type),p=new r(e,u,yS(),[s],d);return this.metricStorageRegistry.registerForCollector(s,p),p});n=n.concat(o);}return n}};});var RS,e5=_(()=>{ai();VZ();QZ();Jf();RS=class{resource;viewRegistry=new iS;metricCollectors=[];meterSharedStates=new Map;constructor(e){this.resource=e;}getMeterSharedState(e){let r=pZ(e),i=this.meterSharedStates.get(r);return i==null&&(i=new AS(this,e),this.meterSharedStates.set(r,i)),i}selectAggregations(e){let r=[];for(let i of this.metricCollectors)r.push([i,eS(i.selectAggregation(e))]);return r}};});var OS,t5=_(()=>{Q();OS=class{_sharedState;_metricReader;constructor(e,r){this._sharedState=e,this._metricReader=r;}async collect(e){let r=sr(Date.now()),i=[],n=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async o=>{let s=await o.collect(this,r,e);s?.scopeMetrics!=null&&i.push(s.scopeMetrics),s?.errors!=null&&n.push(...s.errors);});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i},errors:n}}async forceFlush(e){await this._metricReader.forceFlush(e);}async shutdown(e){await this._metricReader.shutdown(e);}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}selectCardinalityLimit(e){return this._metricReader.selectCardinalityLimit?.(e)??2e3}};});var WCe,Cu,$s,NS=_(()=>{WCe=/[\^$\\.+?()[\]{}|]/g,Cu=class t{_matchAll;_regexp;constructor(e){e==="*"?(this._matchAll=true,this._regexp=/.*/):(this._matchAll=false,this._regexp=new RegExp(t.escapePattern(e)));}match(e){return this._matchAll?true:this._regexp.test(e)}static escapePattern(e){return `^${e.replace(WCe,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},$s=class{_matchAll;_pattern;constructor(e){this._matchAll=e===void 0,this._pattern=e;}match(e){return !!(this._matchAll||e===this._pattern)}};});var bS,r5=_(()=>{NS();bS=class{_nameFilter;_type;_unitFilter;constructor(e){this._nameFilter=new Cu(e?.name??"*"),this._type=e?.type,this._unitFilter=new $s(e?.unit);}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};});var PS,n5=_(()=>{NS();PS=class{_nameFilter;_versionFilter;_schemaUrlFilter;constructor(e){this._nameFilter=new $s(e?.name),this._versionFilter=new $s(e?.version),this._schemaUrlFilter=new $s(e?.schemaUrl);}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};});function KCe(t){return t.instrumentName==null&&t.instrumentType==null&&t.instrumentUnit==null&&t.meterName==null&&t.meterVersion==null&&t.meterSchemaUrl==null}function ZCe(t){if(KCe(t))throw new Error("Cannot create view with no selector arguments supplied");if(t.name!=null&&(t?.instrumentName==null||Cu.hasWildcard(t.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.")}var CS,i5=_(()=>{NS();vS();r5();n5();Jf();CS=class{name;description;aggregation;attributesProcessor;instrumentSelector;meterSelector;aggregationCardinalityLimit;constructor(e){ZCe(e),e.attributesProcessors!=null?this.attributesProcessor=ZZ(e.attributesProcessors):this.attributesProcessor=yS(),this.name=e.name,this.description=e.description,this.aggregation=eS(e.aggregation??{type:yr.DEFAULT}),this.instrumentSelector=new bS({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new PS({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl}),this.aggregationCardinalityLimit=e.aggregationCardinalityLimit;}};});var vr,o5=_(()=>{P();$i();e5();t5();i5();vr=class{_sharedState;_shutdown=false;constructor(e){if(this._sharedState=new RS(e?.resource??ki()),e?.views!=null&&e.views.length>0)for(let r of e.views)this._sharedState.viewRegistry.addView(new CS(r));if(e?.readers!=null&&e.readers.length>0)for(let r of e.readers){let i=new OS(this._sharedState,r);r.setMetricProducer(i),this._sharedState.metricCollectors.push(i);}}getMeter(e,r="",i={}){return this._shutdown?(T.warn("A shutdown MeterProvider cannot provide a Meter"),Jg()):this._sharedState.getMeterSharedState({name:e,version:r,schemaUrl:i.schemaUrl}).meter}async shutdown(e){if(this._shutdown){T.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=true,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(e)));}async forceFlush(e){if(this._shutdown){T.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(e)));}};});var rh={};Ne(rh,{AggregationTemporality:()=>mt,AggregationType:()=>yr,ConsoleMetricExporter:()=>nS,DataPointType:()=>_t,InMemoryMetricExporter:()=>rS,InstrumentType:()=>le,MeterProvider:()=>vr,MetricReader:()=>Au,PeriodicExportingMetricReader:()=>Yt,TimeoutError:()=>Dc,createAllowListAttributesProcessor:()=>XZ,createDenyListAttributesProcessor:()=>JZ});var Wt=_(()=>{jE();Ds();Gx();UZ();kZ();$Z();o5();Jf();vS();ai();});var rI=y(xS=>{Object.defineProperty(xS,"__esModule",{value:true});xS.AbstractAsyncHooksContextManager=void 0;var XCe=U("events"),JCe=["addListener","on","once","prependListener","prependOnceListener"],tI=class{bind(e,r){return r instanceof XCe.EventEmitter?this._bindEventEmitter(e,r):typeof r=="function"?this._bindFunction(e,r):r}_bindFunction(e,r){let i=this,n=function(...a){return i.with(e,()=>r.apply(this,a))};return Object.defineProperty(n,"length",{enumerable:false,configurable:true,writable:false,value:r.length}),n}_bindEventEmitter(e,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),JCe.forEach(n=>{r[n]!==void 0&&(r[n]=this._patchAddListener(r,r[n],e));}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(e,r){let i=this;return function(n,a){let o=i._getPatchMap(e)?.[n];if(o===void 0)return r.call(this,n,a);let s=o.get(a);return r.call(this,n,s||a)}}_patchRemoveAllListeners(e,r){let i=this;return function(n){let a=i._getPatchMap(e);return a!==void 0&&(arguments.length===0?i._createPatchMap(e):a[n]!==void 0&&delete a[n]),r.apply(this,arguments)}}_patchAddListener(e,r,i){let n=this;return function(a,o){if(n._wrapped)return r.call(this,a,o);let s=n._getPatchMap(e);s===void 0&&(s=n._createPatchMap(e));let c=s[a];c===void 0&&(c=new WeakMap,s[a]=c);let l=n.bind(i,o);c.set(o,l),n._wrapped=true;try{return r.call(this,a,l)}finally{n._wrapped=false;}}}_createPatchMap(e){let r=Object.create(null);return e[this._kOtListeners]=r,r}_getPatchMap(e){return e[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=false};xS.AbstractAsyncHooksContextManager=tI;});var s5=y(IS=>{Object.defineProperty(IS,"__esModule",{value:true});IS.AsyncHooksContextManager=void 0;var QCe=(P(),$(Ve)),exe=U("async_hooks"),txe=rI(),nI=class extends txe.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super(),this._asyncHook=exe.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)});}active(){return this._stack[this._stack.length-1]??QCe.ROOT_CONTEXT}with(e,r,i,...n){this._enterContext(e);try{return r.call(i,...n)}finally{this._exitContext();}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,r){if(r==="TIMERWRAP")return;let i=this._stack[this._stack.length-1];i!==void 0&&this._contexts.set(e,i);}_destroy(e){this._contexts.delete(e);}_before(e){let r=this._contexts.get(e);r!==void 0&&this._enterContext(r);}_after(){this._exitContext();}_enterContext(e){this._stack.push(e);}_exitContext(){this._stack.pop();}};IS.AsyncHooksContextManager=nI;});var a5=y(MS=>{Object.defineProperty(MS,"__esModule",{value:true});MS.AsyncLocalStorageContextManager=void 0;var rxe=(P(),$(Ve)),nxe=U("async_hooks"),ixe=rI(),iI=class extends ixe.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super(),this._asyncLocalStorage=new nxe.AsyncLocalStorage;}active(){return this._asyncLocalStorage.getStore()??rxe.ROOT_CONTEXT}with(e,r,i,...n){let a=i==null?r:r.bind(i);return this._asyncLocalStorage.run(e,a,...n)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};MS.AsyncLocalStorageContextManager=iI;});var c5=y(xu=>{Object.defineProperty(xu,"__esModule",{value:true});xu.AsyncLocalStorageContextManager=xu.AsyncHooksContextManager=void 0;var oxe=s5();Object.defineProperty(xu,"AsyncHooksContextManager",{enumerable:true,get:function(){return oxe.AsyncHooksContextManager}});var sxe=a5();Object.defineProperty(xu,"AsyncLocalStorageContextManager",{enumerable:true,get:function(){return sxe.AsyncLocalStorageContextManager}});});var l5,u5=_(()=>{l5="exception";});var wS,d5=_(()=>{P();Q();ht();u5();wS=class{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:Qe.UNSET};endTime=[0,0];_ended=false;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let r=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=Mn.now(),this._performanceOffset=r-(this._performanceStartTime+ou()),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??r),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context);}spanContext(){return this._spanContext}setAttribute(e,r){if(r==null||this._isSpanEnded())return this;if(e.length===0)return T.warn(`Invalid attribute key: ${e}`),this;if(!Rs(r))return T.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:i}=this._spanLimits;return i!==void 0&&Object.keys(this.attributes).length>=i&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this)}setAttributes(e){for(let[r,i]of Object.entries(e))this.setAttribute(r,i);return this}addEvent(e,r,i){if(this._isSpanEnded())return this;let{eventCountLimit:n}=this._spanLimits;if(n===0)return T.warn("No events allowed."),this._droppedEventsCount++,this;n!==void 0&&this.events.length>=n&&(this._droppedEventsCount===0&&T.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),kf(r)&&(kf(i)||(i=r),r=void 0);let a=As(r);return this.events.push({name:e,attributes:a,time:this._getTime(i),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&(T.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){T.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=true,this.endTime=this._getTime(e),this._duration=RE(this.startTime,this.endTime),this._duration[0]<0&&(T.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&T.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this);}_getTime(e){if(typeof e=="number"&&e<=Mn.now())return Df(e+this._performanceOffset);if(typeof e=="number")return sr(e);if(e instanceof Date)return sr(e.getTime());if(au(e))return e;if(this._startTimeProvided)return sr(Date.now());let r=Mn.now()-this._performanceStartTime;return $f(this.startTime,sr(r))}isRecording(){return this._ended===false}recordException(e,r){let i={};typeof e=="string"?i[Mf]=e:e&&(e.code?i[wf]=e.code.toString():e.name&&(i[wf]=e.name),e.message&&(i[Mf]=e.message),e.stack&&(i[cx]=e.stack)),i[wf]||i[Mf]?this.addEvent(l5,i,r):T.warn(`Failed to record an exception ${e}`);}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);T.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e);}return this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(T.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,r):i):e}};});var ar,nh=_(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";})(ar||(ar={}));});var zi,LS=_(()=>{nh();zi=class{shouldSample(){return {decision:ar.NOT_RECORD}}toString(){return "AlwaysOffSampler"}};});var Un,DS=_(()=>{nh();Un=class{shouldSample(){return {decision:ar.RECORD_AND_SAMPLED}}toString(){return "AlwaysOnSampler"}};});var ko,oI=_(()=>{P();Q();LS();DS();ko=class{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(ft(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Un),this._remoteParentSampled=e.remoteParentSampled??new Un,this._remoteParentNotSampled=e.remoteParentNotSampled??new zi,this._localParentSampled=e.localParentSampled??new Un,this._localParentNotSampled=e.localParentNotSampled??new zi;}shouldSample(e,r,i,n,a,o){let s=se.getSpanContext(e);return !s||!jt(s)?this._root.shouldSample(e,r,i,n,a,o):s.isRemote?s.traceFlags&Ce.SAMPLED?this._remoteParentSampled.shouldSample(e,r,i,n,a,o):this._remoteParentNotSampled.shouldSample(e,r,i,n,a,o):s.traceFlags&Ce.SAMPLED?this._localParentSampled.shouldSample(e,r,i,n,a,o):this._localParentNotSampled.shouldSample(e,r,i,n,a,o)}toString(){return `ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};});var Uc,sI=_(()=>{P();nh();Uc=class{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295);}shouldSample(e,r){return {decision:Lo(r)&&this._accumulate(r)<this._upperBound?ar.RECORD_AND_SAMPLED:ar.NOT_RECORD}}toString(){return `TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let i=0;i<e.length/8;i++){let n=i*8,a=parseInt(e.slice(n,n+8),16);r=(r^a)>>>0;}return r}};});function kS(){return {sampler:aI(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:De("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:De("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:De("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:De("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:De("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:De("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:De("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:De("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function aI(){let t=zt("OTEL_TRACES_SAMPLER")??Fi.ParentBasedAlwaysOn;switch(t){case Fi.AlwaysOn:return new Un;case Fi.AlwaysOff:return new zi;case Fi.ParentBasedAlwaysOn:return new ko({root:new Un});case Fi.ParentBasedAlwaysOff:return new ko({root:new zi});case Fi.TraceIdRatio:return new Uc(p5());case Fi.ParentBasedTraceIdRatio:return new ko({root:new Uc(p5())});default:return T.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${Fi.ParentBasedAlwaysOn}".`),new ko({root:new Un})}}function p5(){let t=De("OTEL_TRACES_SAMPLER_ARG");return t==null?(T.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${US}.`),US):t<0||t>1?(T.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${US}.`),US):t}var Fi,US,cI=_(()=>{P();Q();LS();DS();oI();sI();(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio";})(Fi||(Fi={}));US=1;});function f5(t){let e={sampler:aI()},r=kS(),i=Object.assign({},r,e,t);return i.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),i.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),i}function h5(t){let e=Object.assign({},t.spanLimits);return e.attributeCountLimit=t.spanLimits?.attributeCountLimit??t.generalLimits?.attributeCountLimit??De("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??De("OTEL_ATTRIBUTE_COUNT_LIMIT")??axe,e.attributeValueLengthLimit=t.spanLimits?.attributeValueLengthLimit??t.generalLimits?.attributeValueLengthLimit??De("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??De("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??cxe,Object.assign({},t,{spanLimits:e})}var axe,cxe,lI=_(()=>{cI();Q();axe=128,cxe=1/0;});var $S,m5=_(()=>{P();Q();$S=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=false;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,r){this._exporter=e,this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:De("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:De("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:De("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:De("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new jr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(T.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize);}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&Ce.SAMPLED)!==0&&this._addToBuffer(e);}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&T.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(T.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer();}_flushAll(){return new Promise((e,r)=>{let i=[],n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,o=n;a<o;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e();}).catch(r);})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let i=setTimeout(()=>{r(new Error("Timeout"));},this._exportTimeoutMillis);pe.with(Er(pe.active()),()=>{let n;this._finishedSpans.length<=this._maxExportBatchSize?(n=this._finishedSpans,this._finishedSpans=[]):n=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(n,s=>{clearTimeout(i),s.code===W.SUCCESS?e():r(s.error??new Error("BatchSpanProcessor: span export failed"));}),o=null;for(let s=0,c=n.length;s<c;s++){let l=n[s];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(o??=[],o.push(l.resource.waitForAsyncAttributes()));}o===null?a():Promise.all(o).then(a,s=>{ft(s),r(s);});});})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=true,this._flushOneBatch().finally(()=>{this._isExporting=false,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer());}).catch(r=>{this._isExporting=false,ft(r);});};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),Di(this._timer));}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0);}};});var Vs,_5=_(()=>{m5();Vs=class extends $S{onShutdown(){}};});function g5(t){return function(){for(let r=0;r<t/4;r++)VS.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(VS[r]>0);r++)r===t-1&&(VS[t-1]=1);return VS.toString("hex",0,t)}}var Hi,VS,E5=_(()=>{Hi=class{generateTraceId=g5(16);generateSpanId=g5(8)},VS=Buffer.allocUnsafe(16);});var S5=_(()=>{_5();E5();});var uI=_(()=>{S5();});var BS,T5=_(()=>{P();Q();d5();lI();uI();BS=class{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,r,i,n){let a=f5(r);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=r.idGenerator||new Hi,this._resource=i,this._spanProcessor=n,this.instrumentationScope=e;}startSpan(e,r={},i=pe.active()){r.root&&(i=se.deleteSpan(i));let n=se.getSpan(i);if(Sr(i))return T.debug("Instrumentation suppressed, returning Noop Span"),se.wrapSpanContext(ys);let a=n?.spanContext(),o=this._idGenerator.generateSpanId(),s,c,l;!a||!se.isSpanContextValid(a)?c=this._idGenerator.generateTraceId():(c=a.traceId,l=a.traceState,s=a);let u=r.kind??ge.INTERNAL,d=(r.links??[]).map(C=>({context:C.context,attributes:As(C.attributes)})),p=As(r.attributes),f=this._sampler.shouldSample(i,c,e,u,p,d);l=f.traceState??l;let g=f.decision===Ac.RECORD_AND_SAMPLED?Ce.SAMPLED:Ce.NONE,S={traceId:c,spanId:o,traceFlags:g,traceState:l};if(f.decision===Ac.NOT_RECORD)return T.debug("Recording is off, propagating context in a non-recording span"),se.wrapSpanContext(S);let v=As(Object.assign(p,f.attributes));return new wS({resource:this._resource,scope:this.instrumentationScope,context:i,spanContext:S,name:e,kind:u,links:d,parentSpanContext:s,attributes:v,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,r,i,n){let a,o,s;if(arguments.length<2)return;arguments.length===2?s=r:arguments.length===3?(a=r,s=i):(a=r,o=i,s=n);let c=o??pe.active(),l=this.startSpan(e,a,c),u=se.setSpan(c,l);return pe.with(u,s,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};});var zS,y5=_(()=>{Q();zS=class{_spanProcessors;constructor(e){this._spanProcessors=e;}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r();}).catch(i=>{ft(i||new Error("MultiSpanProcessor: forceFlush failed")),r();});})}onStart(e,r){for(let i of this._spanProcessors)i.onStart(e,r);}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e);}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,i)=>{Promise.all(e).then(()=>{r();},i);})}};});var kc,FS,v5=_(()=>{Q();$i();T5();cI();y5();lI();(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved";})(kc||(kc={}));FS=class{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let r=lu({},kS(),h5(e));this._resource=r.resource??ki(),this._config=Object.assign({},r,{resource:this._resource});let i=[];e.spanProcessors?.length&&i.push(...e.spanProcessors),this._activeSpanProcessor=new zS(i);}getTracer(e,r,i){let n=`${e}@${r||""}:${i?.schemaUrl||""}`;return this._tracers.has(n)||this._tracers.set(n,new BS({name:e,version:r,schemaUrl:i?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(n)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(i=>new Promise(n=>{let a,o=setTimeout(()=>{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=kc.timeout;},e);i.forceFlush().then(()=>{clearTimeout(o),a!==kc.timeout&&(a=kc.resolved,n(a));}).catch(s=>{clearTimeout(o),a=kc.error,n(s);});}));return new Promise((i,n)=>{Promise.all(r).then(a=>{let o=a.filter(s=>s!==kc.resolved);o.length>0?n(o):i();}).catch(a=>n([a]));})}shutdown(){return this._activeSpanProcessor.shutdown()}};});var HS,A5=_(()=>{Q();HS=class{export(e,r){return this._sendSpans(e,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){return {resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,traceId:e.spanContext().traceId,parentSpanContext:e.parentSpanContext,traceState:e.spanContext().traceState?.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:Tr(e.startTime),duration:Tr(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,r){for(let i of e)console.dir(this._exportInfo(i),{depth:3});if(r)return r({code:W.SUCCESS})}};});var GS,R5=_(()=>{Q();GS=class{_finishedSpans=[];_stopped=false;export(e,r){if(this._stopped)return r({code:W.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>r({code:W.SUCCESS}),0);}shutdown(){return this._stopped=true,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[];}getFinishedSpans(){return this._finishedSpans}};});var jS,O5=_(()=>{P();Q();jS=class{_exporter;_shutdownOnce;_pendingExports;constructor(e){this._exporter=e,this._shutdownOnce=new jr(this._shutdown,this),this._pendingExports=new Set;}async forceFlush(){await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush&&await this._exporter.forceFlush();}onStart(e,r){}onEnd(e){if(this._shutdownOnce.isCalled||(e.spanContext().traceFlags&Ce.SAMPLED)===0)return;let r=this._doExport(e).catch(i=>ft(i));this._pendingExports.add(r),r.finally(()=>this._pendingExports.delete(r));}async _doExport(e){e.resource.asyncAttributesPending&&await e.resource.waitForAsyncAttributes?.();let r=await Uo._export(this._exporter,[e]);if(r.code!==W.SUCCESS)throw r.error??new Error(`SimpleSpanProcessor: span export failed (status ${r})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};});var qS,N5=_(()=>{qS=class{onStart(e,r){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};});var Iu={};Ne(Iu,{AlwaysOffSampler:()=>zi,AlwaysOnSampler:()=>Un,BasicTracerProvider:()=>FS,BatchSpanProcessor:()=>Vs,ConsoleSpanExporter:()=>HS,InMemorySpanExporter:()=>GS,NoopSpanProcessor:()=>qS,ParentBasedSampler:()=>ko,RandomIdGenerator:()=>Hi,SamplingDecision:()=>ar,SimpleSpanProcessor:()=>jS,TraceIdRatioBasedSampler:()=>Uc});var Gi=_(()=>{v5();uI();A5();R5();O5();N5();LS();DS();oI();sI();nh();});var b5=y(YS=>{Object.defineProperty(YS,"__esModule",{value:true});YS.NodeTracerProvider=void 0;var lxe=c5(),uxe=(Gi(),$(Iu)),ih=(P(),$(Ve)),dI=(Q(),$(Ui));function dxe(t){if(t!==null){if(t===void 0){let e=new lxe.AsyncLocalStorageContextManager;e.enable(),ih.context.setGlobalContextManager(e);return}t.enable(),ih.context.setGlobalContextManager(t);}}function pxe(t){if(t!==null){if(t===void 0){ih.propagation.setGlobalPropagator(new dI.CompositePropagator({propagators:[new dI.W3CTraceContextPropagator,new dI.W3CBaggagePropagator]}));return}ih.propagation.setGlobalPropagator(t);}}var pI=class extends uxe.BasicTracerProvider{constructor(e={}){super(e);}register(e={}){ih.trace.setGlobalTracerProvider(this),dxe(e.contextManager),pxe(e.propagator);}};YS.NodeTracerProvider=pI;});var fI=y(Ye=>{Object.defineProperty(Ye,"__esModule",{value:true});Ye.TraceIdRatioBasedSampler=Ye.SimpleSpanProcessor=Ye.SamplingDecision=Ye.RandomIdGenerator=Ye.ParentBasedSampler=Ye.NoopSpanProcessor=Ye.InMemorySpanExporter=Ye.ConsoleSpanExporter=Ye.BatchSpanProcessor=Ye.BasicTracerProvider=Ye.AlwaysOnSampler=Ye.AlwaysOffSampler=Ye.NodeTracerProvider=void 0;var fxe=b5();Object.defineProperty(Ye,"NodeTracerProvider",{enumerable:true,get:function(){return fxe.NodeTracerProvider}});var kn=(Gi(),$(Iu));Object.defineProperty(Ye,"AlwaysOffSampler",{enumerable:true,get:function(){return kn.AlwaysOffSampler}});Object.defineProperty(Ye,"AlwaysOnSampler",{enumerable:true,get:function(){return kn.AlwaysOnSampler}});Object.defineProperty(Ye,"BasicTracerProvider",{enumerable:true,get:function(){return kn.BasicTracerProvider}});Object.defineProperty(Ye,"BatchSpanProcessor",{enumerable:true,get:function(){return kn.BatchSpanProcessor}});Object.defineProperty(Ye,"ConsoleSpanExporter",{enumerable:true,get:function(){return kn.ConsoleSpanExporter}});Object.defineProperty(Ye,"InMemorySpanExporter",{enumerable:true,get:function(){return kn.InMemorySpanExporter}});Object.defineProperty(Ye,"NoopSpanProcessor",{enumerable:true,get:function(){return kn.NoopSpanProcessor}});Object.defineProperty(Ye,"ParentBasedSampler",{enumerable:true,get:function(){return kn.ParentBasedSampler}});Object.defineProperty(Ye,"RandomIdGenerator",{enumerable:true,get:function(){return kn.RandomIdGenerator}});Object.defineProperty(Ye,"SamplingDecision",{enumerable:true,get:function(){return kn.SamplingDecision}});Object.defineProperty(Ye,"SimpleSpanProcessor",{enumerable:true,get:function(){return kn.SimpleSpanProcessor}});Object.defineProperty(Ye,"TraceIdRatioBasedSampler",{enumerable:true,get:function(){return kn.TraceIdRatioBasedSampler}});});function P5(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}function C5(t){t.forEach(e=>e.disable());}var x5=_(()=>{});function I5(t){let e=t.tracerProvider||se.getTracerProvider(),r=t.meterProvider||br.getMeterProvider(),i=t.loggerProvider||Nc.getLoggerProvider(),n=t.instrumentations?.flat()??[];return P5(n,e,r,i),()=>{C5(n);}}var M5=_(()=>{P();In();x5();});function $5(t,e,r){if(!_xe(t))return T.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=Txe(t);if(!i)return  false;let n=[],a=V5(i,e,n,r);return a&&!r?.includePrerelease?Exe(i,n):a}function _xe(t){return typeof t=="string"&&k5.test(t)}function V5(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(hI(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=zxe(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!hI(t,a,r,i))return  false;return  true}return hI(t,e,r,i)}function hI(t,e,r,i){if(e=Sxe(e,i),e.includes(" "))return V5(t,e,r,i);{let n=yxe(e);return r.push(n),gxe(t,n)}}function gxe(t,e){if(e.invalid)return  false;if(!e.version||_I(e.version))return  true;let r=L5(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=L5(i,n);}return mxe[e.op]?.includes(r)}function Exe(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function Sxe(t,e){return t=t.trim(),t=Vxe(t,e),t=$xe(t),t=Bxe(t,e),t=t.trim(),t}function Pr(t){return !t||t.toLowerCase()==="x"||t==="*"}function Txe(t){let e=t.match(k5);if(!e){T.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function yxe(t){if(!t)return {};let e=t.match(hxe);if(!e)return T.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function _I(t){return t==="*"||t==="x"||t==="X"}function w5(t){let e=parseInt(t,10);return isNaN(e)?t:e}function vxe(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function Axe(t,e){if(_I(t)||_I(e))return 0;let[r,i]=vxe(w5(t),w5(e));return r>i?1:r<i?-1:0}function L5(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=Axe(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}function $xe(t){let e=Lxe;return t.replace(e,(r,i,n,a,o)=>{let s;return Pr(i)?s="":Pr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:Pr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function Vxe(t,e){let r=kxe,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let l;return Pr(a)?l="":Pr(o)?l=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Pr(s)?a==="0"?l=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?l=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?l=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,l})}function Bxe(t,e){let r=Cxe;return t.replace(r,(i,n,a,o,s,c)=>{let l=Pr(a),u=l||Pr(o),d=u||Pr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",l?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(u&&(o=0),s=0,n===">"?(n=">=",u?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",u?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):u?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function zxe(t,e){let r=Ixe;return t.replace(r,(i,n,a,o,s,c,l,u,d,p,f,g)=>(Pr(a)?n="":Pr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:Pr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,Pr(d)?u="":Pr(p)?u=`<${+d+1}.0.0-0`:Pr(f)?u=`<${d}.${+p+1}.0-0`:g?u=`<=${d}.${p}.${f}-${g}`:e?.includePrerelease?u=`<${d}.${p}.${+f+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()))}var k5,hxe,mxe,B5,z5,Rxe,Oxe,D5,Nxe,U5,bxe,mI,oh,Pxe,Cxe,xxe,Ixe,Mxe,wxe,Lxe,Dxe,Uxe,kxe,F5=_(()=>{P();k5=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,hxe=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,mxe={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};B5="[a-zA-Z0-9-]",z5="0|[1-9]\\d*",Rxe=`\\d*[a-zA-Z-]${B5}*`,Oxe="((?:<|>)?=?)",D5=`(?:${z5}|${Rxe})`,Nxe=`(?:-(${D5}(?:\\.${D5})*))`,U5=`${B5}+`,bxe=`(?:\\+(${U5}(?:\\.${U5})*))`,mI=`${z5}|x|X|\\*`,oh=`[v=\\s]*(${mI})(?:\\.(${mI})(?:\\.(${mI})(?:${Nxe})?${bxe}?)?)?`,Pxe=`^${Oxe}\\s*${oh}$`,Cxe=new RegExp(Pxe),xxe=`^\\s*(${oh})\\s+-\\s+(${oh})\\s*$`,Ixe=new RegExp(xxe),Mxe="(?:~>?)",wxe=`^${Mxe}${oh}$`,Lxe=new RegExp(wxe),Dxe="(?:\\^)",Uxe=`^${Dxe}${oh}$`,kxe=new RegExp(Uxe);});function sh(t,e,r){let i=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}var Cr,$c,gI,Mu,EI,SI=_(()=>{Cr=console.error.bind(console);$c=(t,e,r)=>{if(!t||!t[e]){Cr("no original function "+String(e)+" to wrap");return}if(!r){Cr("no wrapper function"),Cr(new Error().stack);return}let i=t[e];if(typeof i!="function"||typeof r!="function"){Cr("original object and wrapper must be functions");return}let n=r(i,e);return sh(n,"__original",i),sh(n,"__unwrap",()=>{t[e]===n&&sh(t,e,i);}),sh(n,"__wrapped",true),sh(t,e,n),n},gI=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else {Cr("must provide one or more modules to patch"),Cr(new Error().stack);return}if(!(e&&Array.isArray(e))){Cr("must provide one or more functions to wrap on modules");return}t.forEach(i=>{e.forEach(n=>{$c(i,n,r);});});},Mu=(t,e)=>{if(!t||!t[e]){Cr("no function to unwrap."),Cr(new Error().stack);return}let r=t[e];if(!r.__unwrap)Cr("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else {r.__unwrap();return}},EI=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else {Cr("must provide one or more modules to patch"),Cr(new Error().stack);return}if(!(e&&Array.isArray(e))){Cr("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(i=>{Mu(r,i);});});};});var WS,H5=_(()=>{P();In();SI();WS=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=T.createComponentLogger({namespace:e}),this._tracer=se.getTracer(e,r),this._meter=br.getMeter(e,r),this._logger=Nc.getLogger(e,r),this._updateMetricInstruments();}_wrap=$c;_unwrap=Mu;_massWrap=gI;_massUnwrap=EI;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};});var j5=y((ect,G5)=>{var wu=1e3,Lu=wu*60,Du=Lu*60,Vc=Du*24,Hxe=Vc*7,Gxe=Vc*365.25;G5.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return jxe(t);if(r==="number"&&isFinite(t))return e.long?Yxe(t):qxe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function jxe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case "years":case "year":case "yrs":case "yr":case "y":return r*Gxe;case "weeks":case "week":case "w":return r*Hxe;case "days":case "day":case "d":return r*Vc;case "hours":case "hour":case "hrs":case "hr":case "h":return r*Du;case "minutes":case "minute":case "mins":case "min":case "m":return r*Lu;case "seconds":case "second":case "secs":case "sec":case "s":return r*wu;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return r;default:return}}}}function qxe(t){var e=Math.abs(t);return e>=Vc?Math.round(t/Vc)+"d":e>=Du?Math.round(t/Du)+"h":e>=Lu?Math.round(t/Lu)+"m":e>=wu?Math.round(t/wu)+"s":t+"ms"}function Yxe(t){var e=Math.abs(t);return e>=Vc?KS(t,e,Vc,"day"):e>=Du?KS(t,e,Du,"hour"):e>=Lu?KS(t,e,Lu,"minute"):e>=wu?KS(t,e,wu,"second"):t+" ms"}function KS(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var TI=y((tct,q5)=>{function Wxe(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=n,r.enabled=s,r.humanize=j5(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u];}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,p=null,f,g;function S(...v){if(!S.enabled)return;let N=S,C=Number(new Date),M=C-(d||C);N.diff=M,N.prev=d,N.curr=C,d=C,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let A=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(j,G)=>{if(j==="%%")return "%";A++;let te=r.formatters[G];if(typeof te=="function"){let Z=v[A];j=te.call(N,Z),v.splice(A,1),A--;}return j}),r.formatArgs.call(N,v),(N.log||r.log).apply(N,v);}return S.namespace=u,S.useColors=r.useColors(),S.color=r.selectColor(u),S.extend=i,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:true,configurable:false,get:()=>p!==null?p:(f!==r.namespaces&&(f=r.namespaces,g=r.enabled(u)),g),set:v=>{p=v;}}),typeof r.init=="function"&&r.init(S),S}function i(u,d){let p=r(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function n(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p);}function a(u,d){let p=0,f=0,g=-1,S=0;for(;p<u.length;)if(f<d.length&&(d[f]===u[p]||d[f]==="*"))d[f]==="*"?(g=f,S=p,f++):(p++,f++);else if(g!==-1)f=g+1,S++,p=S;else return  false;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function s(u){for(let d of r.skips)if(a(u,d))return  false;for(let d of r.names)if(a(u,d))return  true;return  false}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}q5.exports=Wxe;});var Y5=y((qr,ZS)=>{qr.formatArgs=Zxe;qr.save=Xxe;qr.load=Jxe;qr.useColors=Kxe;qr.storage=Qxe();qr.destroy=(()=>{let t=false;return ()=>{t||(t=true,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();qr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Kxe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return  true;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return  false;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Zxe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ZS.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r));}),t.splice(i,0,e);}qr.log=console.debug||console.log||(()=>{});function Xxe(t){try{t?qr.storage.setItem("debug",t):qr.storage.removeItem("debug");}catch{}}function Jxe(){let t;try{t=qr.storage.getItem("debug")||qr.storage.getItem("DEBUG");}catch{}return !t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Qxe(){try{return localStorage}catch{}}ZS.exports=TI()(qr);var{formatters:eIe}=ZS.exports;eIe.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var K5=y((rct,W5)=>{W5.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return i!==-1&&(n===-1||i<n)};});var J5=y((nct,X5)=>{var tIe=U("os"),Z5=U("tty"),$n=K5(),{env:Kt}=process,Bs;$n("no-color")||$n("no-colors")||$n("color=false")||$n("color=never")?Bs=0:($n("color")||$n("colors")||$n("color=true")||$n("color=always"))&&(Bs=1);"FORCE_COLOR"in Kt&&(Kt.FORCE_COLOR==="true"?Bs=1:Kt.FORCE_COLOR==="false"?Bs=0:Bs=Kt.FORCE_COLOR.length===0?1:Math.min(parseInt(Kt.FORCE_COLOR,10),3));function yI(t){return t===0?false:{level:t,hasBasic:true,has256:t>=2,has16m:t>=3}}function vI(t,e){if(Bs===0)return 0;if($n("color=16m")||$n("color=full")||$n("color=truecolor"))return 3;if($n("color=256"))return 2;if(t&&!e&&Bs===void 0)return 0;let r=Bs||0;if(Kt.TERM==="dumb")return r;if(process.platform==="win32"){let i=tIe.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in Kt)return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in Kt)||Kt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Kt)return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Kt.TEAMCITY_VERSION)?1:0;if(Kt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Kt){let i=parseInt((Kt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Kt.TERM_PROGRAM){case "iTerm.app":return i>=3?3:2;case "Apple_Terminal":return 2}}return /-256(color)?$/i.test(Kt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Kt.TERM)||"COLORTERM"in Kt?1:r}function rIe(t){let e=vI(t,t&&t.isTTY);return yI(e)}X5.exports={supportsColor:rIe,stdout:yI(vI(true,Z5.isatty(1))),stderr:yI(vI(true,Z5.isatty(2)))};});var eX=y((Zt,JS)=>{var nIe=U("tty"),XS=U("util");Zt.init=uIe;Zt.log=aIe;Zt.formatArgs=oIe;Zt.save=cIe;Zt.load=lIe;Zt.useColors=iIe;Zt.destroy=XS.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Zt.colors=[6,2,3,4,5,1];try{let t=J5();t&&(t.stderr||t).level>=2&&(Zt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]);}catch{}Zt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,a)=>a.toUpperCase()),i=process.env[e];return /^(yes|on|true|enabled)$/i.test(i)?i=true:/^(no|off|false|disabled)$/i.test(i)?i=false:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function iIe(){return "colors"in Zt.inspectOpts?!!Zt.inspectOpts.colors:nIe.isatty(process.stderr.fd)}function oIe(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${n};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(n+"m+"+JS.exports.humanize(this.diff)+"\x1B[0m");}else t[0]=sIe()+e+" "+t[0];}function sIe(){return Zt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function aIe(...t){return process.stderr.write(XS.formatWithOptions(Zt.inspectOpts,...t)+`
`)}function cIe(t){t?process.env.DEBUG=t:delete process.env.DEBUG;}function lIe(){return process.env.DEBUG}function uIe(t){t.inspectOpts={};let e=Object.keys(Zt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Zt.inspectOpts[e[r]];}JS.exports=TI()(Zt);var{formatters:Q5}=JS.exports;Q5.o=function(t){return this.inspectOpts.colors=this.useColors,XS.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Q5.O=function(t){return this.inspectOpts.colors=this.useColors,XS.inspect(t,this.inspectOpts)};});var ch=y((ict,AI)=>{typeof process>"u"||process.type==="renderer"||process.browser===true||process.__nwjs?AI.exports=Y5():AI.exports=eX();});var OI=y((oct,tX)=>{var RI=U("path").sep;tX.exports=function(t){var e=t.split(RI),r=e.lastIndexOf("node_modules");if(r!==-1&&e[r+1]){for(var i=e[r+1][0]==="@",n=i?e[r+1]+"/"+e[r+2]:e[r+1],a=i?3:2,o="",s=r+a-1,c=0;c<=s;c++)c===s?o+=e[c]:o+=e[c]+RI;for(var l="",u=e.length-1,d=r+a;d<=u;d++)d===u?l+=e[d]:l+=e[d]+RI;return {name:n,basedir:o,path:l}}};});var NI=y((sct,rX)=>{var dIe=U("os");rX.exports=dIe.homedir||function(){var e=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null};});var bI=y((act,nX)=>{nX.exports=function(){var t=Error.prepareStackTrace;Error.prepareStackTrace=function(r,i){return i};var e=new Error().stack;return Error.prepareStackTrace=t,e[2].getFileName()};});var iX=y((cct,lh)=>{var pIe=process.platform==="win32",fIe=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,PI={};function hIe(t){return fIe.exec(t).slice(1)}PI.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=hIe(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return {root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var mIe=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,CI={};function _Ie(t){return mIe.exec(t).slice(1)}CI.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=_Ie(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return {root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};pIe?lh.exports=PI.parse:lh.exports=CI.parse;lh.exports.posix=CI.parse;lh.exports.win32=PI.parse;});var xI=y((lct,cX)=>{var aX=U("path"),oX=aX.parse||iX(),gIe=/^([A-Za-z]:)/,EIe=/^\\\\/,sX=function(e,r){var i="/";gIe.test(e)?i="":EIe.test(e)&&(i="\\\\");for(var n=[e],a=oX(e);a.dir!==n[n.length-1];)n.push(a.dir),a=oX(a.dir);return n.reduce(function(o,s){return o.concat(r.map(function(c){return aX.resolve(i,s,c)}))},[])};cX.exports=function(e,r,i){var n=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(i,e,function(){return sX(e,n)},r);var a=sX(e,n);return r&&r.paths?a.concat(r.paths):a};});var II=y((uct,lX)=>{lX.exports=function(t,e){return e||{}};});var pX=y((dct,dX)=>{var SIe="Function.prototype.bind called on incompatible ",TIe=Object.prototype.toString,yIe=Math.max,vIe="[object Function]",uX=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var a=0;a<r.length;a+=1)i[a+e.length]=r[a];return i},AIe=function(e,r){for(var i=[],n=r,a=0;n<e.length;n+=1,a+=1)i[a]=e[n];return i},RIe=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r};dX.exports=function(e){var r=this;if(typeof r!="function"||TIe.apply(r)!==vIe)throw new TypeError(SIe+r);for(var i=AIe(arguments,1),n,a=function(){if(this instanceof n){var u=r.apply(this,uX(i,arguments));return Object(u)===u?u:this}return r.apply(e,uX(i,arguments))},o=yIe(0,r.length-i.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(n=Function("binder","return function ("+RIe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,n.prototype=new l,l.prototype=null;}return n};});var hX=y((pct,fX)=>{var OIe=pX();fX.exports=Function.prototype.bind||OIe;});var _X=y((fct,mX)=>{var NIe=Function.prototype.call,bIe=Object.prototype.hasOwnProperty,PIe=hX();mX.exports=PIe.call(NIe,bIe);});var gX=y((hct,CIe)=>{CIe.exports={assert:true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:true,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:true,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:true,"node:console":[">= 14.18 && < 15",">= 16"],constants:true,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:true,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:true,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:true,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:true,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:true,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:true,"node:module":[">= 14.18 && < 15",">= 16"],net:true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:true,"node:os":[">= 14.18 && < 15",">= 16"],path:true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:true,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:true,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:true,"node:tty":[">= 14.18 && < 15",">= 16"],url:true,"node:url":[">= 14.18 && < 15",">= 16"],util:true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:true,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]};});var uh=y((mct,TX)=>{var xIe=_X();function IIe(t,e){for(var r=t.split("."),i=e.split(" "),n=i.length>1?i[0]:"=",a=(i.length>1?i[1]:i[0]).split("."),o=0;o<3;++o){var s=parseInt(r[o]||0,10),c=parseInt(a[o]||0,10);if(s!==c)return n==="<"?s<c:n===">="?s>=c:false}return n===">="}function EX(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return  false;for(var i=0;i<r.length;++i)if(!IIe(t,r[i]))return  false;return  true}function MIe(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var i=0;i<e.length;++i)if(EX(r,e[i]))return  true;return  false}return EX(r,e)}var SX=gX();TX.exports=function(e,r){return xIe(SX,e)&&MIe(r,SX[e])};});var AX=y((_ct,vX)=>{var Bc=U("fs"),wIe=NI(),Ut=U("path"),LIe=bI(),DIe=xI(),UIe=II(),kIe=uh(),$Ie=process.platform!=="win32"&&Bc.realpath&&typeof Bc.realpath.native=="function"?Bc.realpath.native:Bc.realpath,VIe=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,BIe=/^\w:[/\\]*$/,zIe=/[/\\]node_modules[/\\]*$/,yX=wIe(),FIe=function(){return [Ut.join(yX,".node_modules"),Ut.join(yX,".node_libraries")]},HIe=function(e,r){Bc.stat(e,function(i,n){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,false):r(i):r(null,n.isFile()||n.isFIFO())});},GIe=function(e,r){Bc.stat(e,function(i,n){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,false):r(i):r(null,n.isDirectory())});},jIe=function(e,r){$Ie(e,function(i,n){i&&i.code!=="ENOENT"?r(i):r(null,i?e:n);});},dh=function(e,r,i,n){i&&i.preserveSymlinks===false?e(r,n):n(null,r);},qIe=function(e,r,i){e(r,function(n,a){if(n)i(n);else try{var o=JSON.parse(a);i(null,o);}catch{i(null);}});},YIe=function(e,r,i){for(var n=DIe(r,i,e),a=0;a<n.length;a++)n[a]=Ut.join(n[a],e);return n};vX.exports=function(e,r,i){var n=i,a=r;if(typeof r=="function"&&(n=a,a={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){n(o);})}a=UIe(e,a);var s=a.isFile||HIe,c=a.isDirectory||GIe,l=a.readFile||Bc.readFile,u=a.realpath||jIe,d=a.readPackage||qIe;if(a.readFile&&a.readPackage){var p=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){n(p);})}var f=a.packageIterator,g=a.extensions||[".js"],S=a.includeCoreModules!==false,v=a.basedir||Ut.dirname(LIe()),N=a.filename||v;a.paths=a.paths||FIe();var C=Ut.resolve(v);dh(u,C,a,function(b,de){b?n(b):A(de);});var M;function A(b){if(VIe.test(e))M=Ut.resolve(b,e),(e==="."||e===".."||e.slice(-1)==="/")&&(M+="/"),e.slice(-1)==="/"&&M===b?te(M,a.package,k):j(M,a.package,k);else {if(S&&kIe(e))return n(null,e);ie(e,b,function(de,I,E){if(de)n(de);else {if(I)return dh(u,I,a,function(he,re){he?n(he):n(null,re,E);});var w=new Error("Cannot find module '"+e+"' from '"+N+"'");w.code="MODULE_NOT_FOUND",n(w);}});}}function k(b,de,I){b?n(b):de?n(null,de,I):te(M,function(E,w,he){if(E)n(E);else if(w)dh(u,w,a,function(fe,Le){fe?n(fe):n(null,Le,he);});else {var re=new Error("Cannot find module '"+e+"' from '"+N+"'");re.code="MODULE_NOT_FOUND",n(re);}});}function j(b,de,I){var E=de,w=I;typeof E=="function"&&(w=E,E=void 0);var he=[""].concat(g);re(he,b,E);function re(fe,Le,it){if(fe.length===0)return w(null,void 0,it);var pt=Le+fe[0],qe=it;qe?me(null,qe):G(Ut.dirname(pt),me);function me(Fe,St,Bt){if(qe=St,Fe)return w(Fe);if(Bt&&qe&&a.pathFilter){var Wl=Ut.relative(Bt,pt),Kl=Wl.slice(0,Wl.length-fe[0].length),Ec=a.pathFilter(qe,Le,Kl);if(Ec)return re([""].concat(g.slice()),Ut.resolve(Bt,Ec),qe)}s(pt,Lt);}function Lt(Fe,St){if(Fe)return w(Fe);if(St)return w(null,pt,qe);re(fe.slice(1),Le,qe);}}}function G(b,de){if(b===""||b==="/"||process.platform==="win32"&&BIe.test(b)||zIe.test(b))return de(null);dh(u,b,a,function(I,E){if(I)return G(Ut.dirname(b),de);var w=Ut.join(E,"package.json");s(w,function(he,re){if(!re)return G(Ut.dirname(b),de);d(l,w,function(fe,Le){fe&&de(fe);var it=Le;it&&a.packageFilter&&(it=a.packageFilter(it,w)),de(null,it,b);});});});}function te(b,de,I){var E=I,w=de;typeof w=="function"&&(E=w,w=a.package),dh(u,b,a,function(he,re){if(he)return E(he);var fe=Ut.join(re,"package.json");s(fe,function(Le,it){if(Le)return E(Le);if(!it)return j(Ut.join(b,"index"),w,E);d(l,fe,function(pt,qe){if(pt)return E(pt);var me=qe;if(me&&a.packageFilter&&(me=a.packageFilter(me,fe)),me&&me.main){if(typeof me.main!="string"){var Lt=new TypeError("package \u201C"+me.name+"\u201D `main` must be a string");return Lt.code="INVALID_PACKAGE_MAIN",E(Lt)}(me.main==="."||me.main==="./")&&(me.main="index"),j(Ut.resolve(b,me.main),me,function(Fe,St,Bt){if(Fe)return E(Fe);if(St)return E(null,St,Bt);if(!Bt)return j(Ut.join(b,"index"),Bt,E);var Wl=Ut.resolve(b,Bt.main);te(Wl,Bt,function(Kl,Ec,Dt){if(Kl)return E(Kl);if(Ec)return E(null,Ec,Dt);j(Ut.join(b,"index"),Dt,E);});});return}j(Ut.join(b,"/index"),me,E);});});});}function Z(b,de){if(de.length===0)return b(null,void 0);var I=de[0];c(Ut.dirname(I),E);function E(re,fe){if(re)return b(re);if(!fe)return Z(b,de.slice(1));j(I,a.package,w);}function w(re,fe,Le){if(re)return b(re);if(fe)return b(null,fe,Le);te(I,a.package,he);}function he(re,fe,Le){if(re)return b(re);if(fe)return b(null,fe,Le);Z(b,de.slice(1));}}function ie(b,de,I){var E=function(){return YIe(b,de,a)};Z(I,f?f(b,de,E,a):E());}};});var RX=y((gct,WIe)=>{WIe.exports={assert:true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:true,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:true,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:true,"node:console":[">= 14.18 && < 15",">= 16"],constants:true,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:true,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:true,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:true,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:true,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:true,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:true,"node:module":[">= 14.18 && < 15",">= 16"],net:true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:true,"node:os":[">= 14.18 && < 15",">= 16"],path:true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:true,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:true,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:true,"node:tty":[">= 14.18 && < 15",">= 16"],url:true,"node:url":[">= 14.18 && < 15",">= 16"],util:true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:true,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]};});var PX=y((Ect,bX)=>{var KIe=uh(),OX=RX(),NX={};for(QS in OX)Object.prototype.hasOwnProperty.call(OX,QS)&&(NX[QS]=KIe(QS));var QS;bX.exports=NX;});var xX=y((Sct,CX)=>{var ZIe=uh();CX.exports=function(e){return ZIe(e)};});var wX=y((Tct,MX)=>{var XIe=uh(),zc=U("fs"),Ar=U("path"),JIe=NI(),QIe=bI(),eMe=xI(),tMe=II(),rMe=process.platform!=="win32"&&zc.realpathSync&&typeof zc.realpathSync.native=="function"?zc.realpathSync.native:zc.realpathSync,nMe=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,iMe=/^\w:[/\\]*$/,oMe=/[/\\]node_modules[/\\]*$/,IX=JIe(),sMe=function(){return [Ar.join(IX,".node_modules"),Ar.join(IX,".node_libraries")]},aMe=function(e){try{var r=zc.statSync(e,{throwIfNoEntry:!1});}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return  false;throw i}return !!r&&(r.isFile()||r.isFIFO())},cMe=function(e){try{var r=zc.statSync(e,{throwIfNoEntry:!1});}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return  false;throw i}return !!r&&r.isDirectory()},lMe=function(e){try{return rMe(e)}catch(r){if(r.code!=="ENOENT")throw r}return e},ph=function(e,r,i){return i&&i.preserveSymlinks===false?e(r):r},uMe=function(e,r){var i=e(r);try{var n=JSON.parse(i);return n}catch{}},dMe=function(e,r,i){for(var n=eMe(r,i,e),a=0;a<n.length;a++)n[a]=Ar.join(n[a],e);return n};MX.exports=function(e,r){if(typeof e!="string")throw new TypeError("Path must be a string.");var i=tMe(e,r),n=i.isFile||aMe,a=i.readFileSync||zc.readFileSync,o=i.isDirectory||cMe,s=i.realpathSync||lMe,c=i.readPackageSync||uMe;if(i.readFileSync&&i.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var l=i.packageIterator,u=i.extensions||[".js"],d=i.includeCoreModules!==false,p=i.basedir||Ar.dirname(QIe()),f=i.filename||p;i.paths=i.paths||sMe();var g=ph(s,Ar.resolve(p),i);if(nMe.test(e)){var S=Ar.resolve(g,e);(e==="."||e===".."||e.slice(-1)==="/")&&(S+="/");var v=M(S)||k(S);if(v)return ph(s,v,i)}else {if(d&&XIe(e))return e;var N=j(e,g);if(N)return ph(s,N,i)}var C=new Error("Cannot find module '"+e+"' from '"+f+"'");throw C.code="MODULE_NOT_FOUND",C;function M(G){var te=A(Ar.dirname(G));if(te&&te.dir&&te.pkg&&i.pathFilter){var Z=Ar.relative(te.dir,G),ie=i.pathFilter(te.pkg,G,Z);ie&&(G=Ar.resolve(te.dir,ie));}if(n(G))return G;for(var b=0;b<u.length;b++){var de=G+u[b];if(n(de))return de}}function A(G){if(!(G===""||G==="/")&&!(process.platform==="win32"&&iMe.test(G))&&!oMe.test(G)){var te=Ar.join(ph(s,G,i),"package.json");if(!n(te))return A(Ar.dirname(G));var Z=c(a,te);return Z&&i.packageFilter&&(Z=i.packageFilter(Z,G)),{pkg:Z,dir:G}}}function k(G){var te=Ar.join(ph(s,G,i),"/package.json");if(n(te)){try{var Z=c(a,te);}catch{}if(Z&&i.packageFilter&&(Z=i.packageFilter(Z,G)),Z&&Z.main){if(typeof Z.main!="string"){var ie=new TypeError("package \u201C"+Z.name+"\u201D `main` must be a string");throw ie.code="INVALID_PACKAGE_MAIN",ie}(Z.main==="."||Z.main==="./")&&(Z.main="index");try{var b=M(Ar.resolve(G,Z.main));if(b)return b;var de=k(Ar.resolve(G,Z.main));if(de)return de}catch{}}}return M(Ar.join(G,"/index"))}function j(G,te){for(var Z=function(){return dMe(G,te,i)},ie=l?l(G,te,Z,i):Z(),b=0;b<ie.length;b++){var de=ie[b];if(o(Ar.dirname(de))){var I=M(de);if(I)return I;var E=k(de);if(E)return E}}}};});var MI=y((yct,LX)=>{var eT=AX();eT.core=PX();eT.isCore=xX();eT.sync=wX();LX.exports=eT;});var DX=y((vct,pMe)=>{pMe.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}};});var Fc=y((Act,DI)=>{var ku=U("path"),ci=U("module"),Pt=ch()("require-in-the-middle"),fMe=OI();DI.exports=fh;DI.exports.Hook=fh;var wI,Uu;if(ci.isBuiltin)Uu=ci.isBuiltin;else if(ci.builtinModules)Uu=t=>t.startsWith("node:")?true:(wI===void 0&&(wI=new Set(ci.builtinModules)),wI.has(t));else {let t=MI(),[e,r]=process.versions.node.split(".").map(Number);e===8&&r<8?Uu=i=>i==="http2"?true:!!t.core[i]:Uu=i=>!!t.core[i];}var tT;function hMe(t,e){if(!tT)if(U.resolve&&U.resolve.paths)tT=function(r,i){return U.resolve(r,{paths:[i]})};else {let r=MI();tT=function(i,n){return r.sync(i,{basedir:n})};}return tT(t,e)}var mMe=/([/\\]index)?(\.js)?$/,LI=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports");}has(e,r){if(this._localCache.has(e))return  true;if(r)return  false;{let i=U.cache[e];return !!(i&&this._kRitmExports in i)}}get(e,r){let i=this._localCache.get(e);if(i!==void 0)return i;if(!r){let n=U.cache[e];return n&&n[this._kRitmExports]}}set(e,r,i){i?this._localCache.set(e,r):e in U.cache?U.cache[e][this._kRitmExports]=r:(Pt('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,r));}};function fh(t,e,r){if(!(this instanceof fh))return new fh(t,e,r);if(typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),typeof ci._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof ci._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,DX().bugs.url);return}this._cache=new LI,this._unhooked=false,this._origRequire=ci.prototype.require;let i=this,n=new Set,a=e?e.internals===true:false,o=Array.isArray(t);Pt("registering require hook"),this._require=ci.prototype.require=function(c){return i._unhooked===true?(Pt("ignoring require call - module is soft-unhooked"),i._origRequire.apply(this,arguments)):s.call(this,arguments,false)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(c){return i._unhooked===true?(Pt("ignoring process.getBuiltinModule call - module is soft-unhooked"),i._origGetBuiltinModule.apply(this,arguments)):s.call(this,arguments,true)});function s(c,l){let u=c[0],d=Uu(u),p;if(d){if(p=u,u.startsWith("node:")){let C=u.slice(5);Uu(C)&&(p=C);}}else {if(l)return Pt("call to process.getBuiltinModule with unknown built-in id"),i._origGetBuiltinModule.apply(this,c);try{p=ci._resolveFilename(u,this);}catch(C){return Pt('Module._resolveFilename("%s") threw %j, calling original Module.require',u,C.message),i._origRequire.apply(this,c)}}let f,g;if(Pt("processing %s module require('%s'): %s",d===true?"core":"non-core",u,p),i._cache.has(p,d)===true)return Pt("returning already patched cached module: %s",p),i._cache.get(p,d);let S=n.has(p);S===false&&n.add(p);let v=l?i._origGetBuiltinModule.apply(this,c):i._origRequire.apply(this,c);if(S===true)return Pt("module is in the process of being patched already - ignoring: %s",p),v;if(n.delete(p),d===true){if(o===true&&t.includes(p)===false)return Pt("ignoring core module not on whitelist: %s",p),v;f=p;}else if(o===true&&t.includes(p)){let C=ku.parse(p);f=C.name,g=C.dir;}else {let C=fMe(p);if(C===void 0)return Pt("could not parse filename: %s",p),v;f=C.name,g=C.basedir;let M=_Me(C);Pt("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",f,u,M,g);let A=false;if(o){if(!u.startsWith(".")&&t.includes(u)&&(f=u,A=true),!t.includes(f)&&!t.includes(M))return v;t.includes(M)&&M!==f&&(f=M,A=true);}if(!A){let k;try{k=hMe(f,g);}catch{return Pt("could not resolve module: %s",f),i._cache.set(p,v,d),v}if(k!==p)if(a===true)f=f+ku.sep+ku.relative(g,p),Pt("preparing to process require of internal file: %s",f);else return Pt("ignoring require of non-main module file: %s",k),i._cache.set(p,v,d),v}}i._cache.set(p,v,d),Pt("calling require hook: %s",f);let N=r(v,f,g);return i._cache.set(p,N,d),Pt("returning module: %s",f),N}}fh.prototype.unhook=function(){this._unhooked=true,this._require===ci.prototype.require?(ci.prototype.require=this._origRequire,Pt("require unhook successful")):Pt("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,Pt("process.getBuiltinModule unhook successful")):Pt("process.getBuiltinModule unhook unsuccessful"));};function _Me(t){let e=ku.sep!=="/"?t.path.split(ku.sep).join("/"):t.path;return ku.posix.join(t.name,e).replace(mMe,"")}});var rT,nT,UX=_(()=>{rT=class{hooks=[];children=new Map},nT=class{_trie=new rT;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new rT,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};});function EMe(t){return Tl__namespace.sep!=="/"?t.split(Tl__namespace.sep).join("/"):t}var $X,gMe,iT,VX=_(()=>{$X=He(Fc());UX();gMe=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),iT=class t{_moduleNameTrie=new nT;static _instance;constructor(){this._initialize();}_initialize(){new $X.Hook(null,{internals:true},(e,r,i)=>{let n=EMe(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return gMe?new t:this._instance=this._instance??new t}};});var jX=y(Hc=>{var BX=[],kI=new WeakMap,zX=new WeakMap,FX=new Map,HX=[],SMe={set(t,e,r){return kI.get(t)[e](r)},get(t,e){if(e===Symbol.toStringTag)return "Module";let r=zX.get(t)[e];if(typeof r=="function")return r()},defineProperty(t,e,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return kI.get(t)[e](r.value)}};function TMe(t,e,r,i,n){FX.set(t,n),kI.set(e,r),zX.set(e,i);let a=new Proxy(e,SMe);BX.forEach(o=>o(t,a)),HX.push([t,a]);}var GX=false;function yMe(){return GX}function vMe(t){GX=t;}Hc.register=TMe;Hc.importHooks=BX;Hc.specifiers=FX;Hc.toHook=HX;Hc.getExperimentalPatchInternals=yMe;Hc.setExperimentalPatchInternals=vMe;});var oT=y((Cct,$u)=>{var qX=U("path"),AMe=OI(),{fileURLToPath:YX}=U("url"),{MessageChannel:RMe}=U("worker_threads"),{importHooks:$I,specifiers:OMe,toHook:NMe,getExperimentalPatchInternals:bMe}=jX();function KX(t){$I.push(t),NMe.forEach(([e,r])=>t(e,r));}function ZX(t){let e=$I.indexOf(t);e>-1&&$I.splice(e,1);}function WX(t,e,r,i){let n=t(e,r,i);n&&n!==e&&(e.default=n);}var VI;function PMe(){let{port1:t,port2:e}=new RMe,r=0,i;VI=s=>{r++,t.postMessage(s);},t.on("message",()=>{r--,i&&r<=0&&i();}).unref();function n(){let s=setInterval(()=>{},1e3),c=new Promise(l=>{i=l;}).then(()=>{clearInterval(s);});return r===0&&i(),c}let a=e;return {registerOptions:{data:{addHookMessagePort:a,include:[]},transferList:[a]},addHookMessagePort:a,waitForAllMessagesAcknowledged:n}}function hh(t,e,r){if(!(this instanceof hh))return new hh(t,e,r);typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i=e?e.internals===true:false;VI&&Array.isArray(t)&&VI(t),this._iitmHook=(n,a)=>{let o=n,s=n.startsWith("node:"),c;if(s)n=n.replace(/^node:/,"");else {if(n.startsWith("file://"))try{n=YX(n);}catch{}let l=AMe(n);l&&(n=l.name,c=l.basedir);}if(t){for(let l of t)if(l===n){if(c){if(i)n=n+qX.sep+qX.relative(c,YX(o));else if(!bMe()&&!c.endsWith(OMe.get(o)))continue}WX(r,a,n,c);}}else WX(r,a,n,c);},KX(this._iitmHook);}hh.prototype.unhook=function(){ZX(this._iitmHook);};$u.exports=hh;$u.exports.Hook=hh;$u.exports.addHook=KX;$u.exports.removeHook=ZX;$u.exports.createAddHookMessageChannel=PMe;});function XX(t,e,r){let i,n;try{n=t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}async function JX(t,e,r){let i,n;try{n=await t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}function sT(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var BI=_(()=>{});function eJ(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>$5(e,i,{includePrerelease:r}))}var tJ,rJ,Vu,nJ=_(()=>{F5();SI();H5();VX();tJ=He(oT());P();rJ=He(Fc());BI();Vu=class extends WS{_modules;_hooks=[];_requireInTheMiddleSingleton=iT.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(sT(e[r])&&this._unwrap(e,r),N8.types.isProxy(e)){let n=$c(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return $c(e,r,i)};_unwrap=(e,r)=>N8.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):Mu(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=U.resolve(r);U.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=es.readFileSync(Tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{T.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return eJ(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=Tl__namespace.normalize(i);return o.filter(l=>l.name===s).filter(l=>eJ(l.supportedVersions,a,e.includePrerelease)).reduce((l,u)=>(u.moduleExports=l,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:u.name,baseDir:n}),u.patch(l,e.moduleVersion)):l),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&Tl__namespace.isAbsolute(s)){let l=Tl__namespace.parse(s);s=l.name,c=l.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=Tl__namespace.isAbsolute(e.name)?new rJ.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new tJ.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};});var iJ=_(()=>{});var oJ=_(()=>{nJ();iJ();});var zI=_(()=>{oJ();});var cT,sJ=_(()=>{cT=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};});var lT,aJ=_(()=>{zI();lT=class{supportedVersions;patch;unpatch;name;constructor(e,r,i,n){this.supportedVersions=r,this.patch=i,this.unpatch=n,this.name=Tl.normalize(e);}};});function cJ(t,e){let r=Gc.OLD,i=e?.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of i??[])if(n.toLowerCase()===t+"/dup"){r=Gc.DUPLICATE;break}else n.toLowerCase()===t&&(r=Gc.STABLE);return r}var Gc,lJ=_(()=>{(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE";})(Gc||(Gc={}));});var Yr={};Ne(Yr,{InstrumentationBase:()=>Vu,InstrumentationNodeModuleDefinition:()=>cT,InstrumentationNodeModuleFile:()=>lT,SemconvStability:()=>Gc,isWrapped:()=>sT,registerInstrumentations:()=>I5,safeExecuteInTheMiddle:()=>XX,safeExecuteInTheMiddleAsync:()=>JX,semconvStabilityFromStr:()=>cJ});var Wr=_(()=>{M5();zI();sJ();aJ();BI();lJ();});var Kr,uJ=_(()=>{Kr=class{_delegate;constructor(e){this._delegate=e;}export(e,r){this._delegate.export(e,r);}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}};});var Vo,uT=_(()=>{Vo=class extends Error{code;name="OTLPExporterError";data;constructor(e,r,i){super(e),this.data=i,this.code=r;}};});function xMe(t){if(Number.isFinite(t)&&t>0)return t;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${t}')`)}function dT(t){if(t!=null)return ()=>t}function pT(t,e,r){return {timeoutMillis:xMe(t.timeoutMillis??e.timeoutMillis??r.timeoutMillis),concurrencyLimit:t.concurrencyLimit??e.concurrencyLimit??r.concurrencyLimit,compression:t.compression??e.compression??r.compression}}function fT(){return {timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var mh=_(()=>{});var hT,dJ=_(()=>{(function(t){t.NONE="none",t.GZIP="gzip";})(hT||(hT={}));});function mT(t){return new FI(t.concurrencyLimit)}var FI,HI=_(()=>{FI=class{_concurrencyLimit;_sendingPromises=[];constructor(e){this._concurrencyLimit=e;}pushPromise(e){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);let r=()=>{let i=this._sendingPromises.indexOf(e);this._sendingPromises.splice(i,1);};e.then(r,r);}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises);}};});function IMe(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function pJ(){return {handleResponse(t){t==null||!IMe(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||T.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess));}}}var fJ=_(()=>{P();});function _T(t,e){return new GI(t.transport,t.serializer,pJ(),t.promiseHandler,e.timeout)}var GI,jI=_(()=>{Q();uT();fJ();P();GI=class{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(e,r,i,n,a){this._transport=e,this._serializer=r,this._responseHandler=i,this._promiseQueue=n,this._timeout=a,this._diagLogger=T.createComponentLogger({namespace:"OTLPExportDelegate"});}export(e,r){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){r({code:W.FAILED,error:new Error("Concurrent export limit reached")});return}let i=this._serializer.serializeRequest(e);if(i==null){r({code:W.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(i,this._timeout).then(n=>{if(n.status==="success"){if(n.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(n.data));}catch(a){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",a,n.data);}r({code:W.SUCCESS});return}else if(n.status==="failure"&&n.error){r({code:W.FAILED,error:n.error});return}else n.status==="retryable"?r({code:W.FAILED,error:new Vo("Export failed with retryable status")}):r({code:W.FAILED,error:new Vo("Export failed with unknown error")});},n=>r({code:W.FAILED,error:n})));}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown();}};});function hJ(t,e,r){return _T({transport:r,serializer:e,promiseHandler:mT(t)},{timeout:t.timeoutMillis})}var mJ=_(()=>{HI();jI();});var _h={};Ne(_h,{CompressionAlgorithm:()=>hT,OTLPExporterBase:()=>Kr,OTLPExporterError:()=>Vo,createOtlpNetworkExportDelegate:()=>hJ,getSharedConfigurationDefaults:()=>fT,mergeOtlpSharedConfigurationWithDefaults:()=>pT});var ji=_(()=>{uJ();uT();mh();dJ();mJ();});var qI=y((Rlt,_J)=>{_J.exports=MMe;function MMe(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,a=true;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(s,c){r[i]=function(u){if(a)if(a=false,u)c(u);else {for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p++]=arguments[p];s.apply(null,d);}};try{t.apply(e||null,r);}catch(l){a&&(a=false,c(l));}})}});var TJ=y(SJ=>{var gT=SJ;gT.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Bu=new Array(64),EJ=new Array(123);for(li=0;li<64;)EJ[Bu[li]=li<26?li+65:li<52?li+71:li<62?li-4:li-59|43]=li++;var li;gT.encode=function(e,r,i){for(var n=null,a=[],o=0,s=0,c;r<i;){var l=e[r++];switch(s){case 0:a[o++]=Bu[l>>2],c=(l&3)<<4,s=1;break;case 1:a[o++]=Bu[c|l>>4],c=(l&15)<<2,s=2;break;case 2:a[o++]=Bu[c|l>>6],a[o++]=Bu[l&63],s=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),o=0);}return s&&(a[o++]=Bu[c],a[o++]=61,s===1&&(a[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,a.slice(0,o))),n.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var gJ="invalid encoding";gT.decode=function(e,r,i){for(var n=i,a=0,o,s=0;s<e.length;){var c=e.charCodeAt(s++);if(c===61&&a>1)break;if((c=EJ[c])===void 0)throw Error(gJ);switch(a){case 0:o=c,a=1;break;case 1:r[i++]=o<<2|(c&48)>>4,o=c,a=2;break;case 2:r[i++]=(o&15)<<4|(c&60)>>2,o=c,a=3;break;case 3:r[i++]=(o&3)<<6|c,a=0;break}}if(a===1)throw Error(gJ);return i-n};gT.test=function(e){return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)};});var vJ=y((Nlt,yJ)=>{yJ.exports=ET;function ET(){this._listeners={};}ET.prototype.on=function(e,r,i){return (this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};ET.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};ET.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i);}return this};});var CJ=y((blt,PJ)=>{PJ.exports=AJ(AJ);function AJ(t){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(c,l,u){e[0]=c,l[u]=r[0],l[u+1]=r[1],l[u+2]=r[2],l[u+3]=r[3];}function a(c,l,u){e[0]=c,l[u]=r[3],l[u+1]=r[2],l[u+2]=r[1],l[u+3]=r[0];}t.writeFloatLE=i?n:a,t.writeFloatBE=i?a:n;function o(c,l){return r[0]=c[l],r[1]=c[l+1],r[2]=c[l+2],r[3]=c[l+3],e[0]}function s(c,l){return r[3]=c[l],r[2]=c[l+1],r[1]=c[l+2],r[0]=c[l+3],e[0]}t.readFloatLE=i?o:s,t.readFloatBE=i?s:o;})():(function(){function e(i,n,a,o){var s=n<0?1:0;if(s&&(n=-n),n===0)i(1/n>0?0:2147483648,a,o);else if(isNaN(n))i(2143289344,a,o);else if(n>34028234663852886e22)i((s<<31|2139095040)>>>0,a,o);else if(n<11754943508222875e-54)i((s<<31|Math.round(n/1401298464324817e-60))>>>0,a,o);else {var c=Math.floor(Math.log(n)/Math.LN2),l=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((s<<31|c+127<<23|l)>>>0,a,o);}}t.writeFloatLE=e.bind(null,RJ),t.writeFloatBE=e.bind(null,OJ);function r(i,n,a){var o=i(n,a),s=(o>>31)*2+1,c=o>>>23&255,l=o&8388607;return c===255?l?NaN:s*(1/0):c===0?s*1401298464324817e-60*l:s*Math.pow(2,c-150)*(l+8388608)}t.readFloatLE=r.bind(null,NJ),t.readFloatBE=r.bind(null,bJ);})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(c,l,u){e[0]=c,l[u]=r[0],l[u+1]=r[1],l[u+2]=r[2],l[u+3]=r[3],l[u+4]=r[4],l[u+5]=r[5],l[u+6]=r[6],l[u+7]=r[7];}function a(c,l,u){e[0]=c,l[u]=r[7],l[u+1]=r[6],l[u+2]=r[5],l[u+3]=r[4],l[u+4]=r[3],l[u+5]=r[2],l[u+6]=r[1],l[u+7]=r[0];}t.writeDoubleLE=i?n:a,t.writeDoubleBE=i?a:n;function o(c,l){return r[0]=c[l],r[1]=c[l+1],r[2]=c[l+2],r[3]=c[l+3],r[4]=c[l+4],r[5]=c[l+5],r[6]=c[l+6],r[7]=c[l+7],e[0]}function s(c,l){return r[7]=c[l],r[6]=c[l+1],r[5]=c[l+2],r[4]=c[l+3],r[3]=c[l+4],r[2]=c[l+5],r[1]=c[l+6],r[0]=c[l+7],e[0]}t.readDoubleLE=i?o:s,t.readDoubleBE=i?s:o;})():(function(){function e(i,n,a,o,s,c){var l=o<0?1:0;if(l&&(o=-o),o===0)i(0,s,c+n),i(1/o>0?0:2147483648,s,c+a);else if(isNaN(o))i(0,s,c+n),i(2146959360,s,c+a);else if(o>17976931348623157e292)i(0,s,c+n),i((l<<31|2146435072)>>>0,s,c+a);else {var u;if(o<22250738585072014e-324)u=o/5e-324,i(u>>>0,s,c+n),i((l<<31|u/4294967296)>>>0,s,c+a);else {var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),u=o*Math.pow(2,-d),i(u*4503599627370496>>>0,s,c+n),i((l<<31|d+1023<<20|u*1048576&1048575)>>>0,s,c+a);}}}t.writeDoubleLE=e.bind(null,RJ,0,4),t.writeDoubleBE=e.bind(null,OJ,4,0);function r(i,n,a,o,s){var c=i(o,s+n),l=i(o,s+a),u=(l>>31)*2+1,d=l>>>20&2047,p=4294967296*(l&1048575)+c;return d===2047?p?NaN:u*(1/0):d===0?u*5e-324*p:u*Math.pow(2,d-1075)*(p+4503599627370496)}t.readDoubleLE=r.bind(null,NJ,0,4),t.readDoubleBE=r.bind(null,bJ,4,0);})(),t}function RJ(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24;}function OJ(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255;}function NJ(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function bJ(t,e){return (t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var YI=y((exports,module)=>{module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var IJ=y(xJ=>{var WI=xJ;WI.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};WI.read=function(e,r,i){var n=i-r;if(n<1)return "";for(var a=null,o=[],s=0,c;r<i;)c=e[r++],c<128?o[s++]=c:c>191&&c<224?o[s++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[s++]=55296+(c>>10),o[s++]=56320+(c&1023)):o[s++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};WI.write=function(e,r,i){for(var n=i,a,o,s=0;s<e.length;++s)a=e.charCodeAt(s),a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):(a&64512)===55296&&((o=e.charCodeAt(s+1))&64512)===56320?(a=65536+((a&1023)<<10)+(o&1023),++s,r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128);return i-n};});var wJ=y((Clt,MJ)=>{MJ.exports=wMe;function wMe(t,e,r){var i=r||8192,n=i>>>1,a=null,o=i;return function(c){if(c<1||c>n)return t(c);o+c>i&&(a=t(i),o=0);var l=e.call(a,o,o+=c);return o&7&&(o=(o|7)+1),l}}});var DJ=y((xlt,LJ)=>{LJ.exports=Xt;var gh=qi();function Xt(t,e){this.lo=t>>>0,this.hi=e>>>0;}var jc=Xt.zero=new Xt(0,0);jc.toNumber=function(){return 0};jc.zzEncode=jc.zzDecode=function(){return this};jc.length=function(){return 1};var LMe=Xt.zeroHash="\0\0\0\0\0\0\0\0";Xt.fromNumber=function(e){if(e===0)return jc;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Xt(i,n)};Xt.from=function(e){if(typeof e=="number")return Xt.fromNumber(e);if(gh.isString(e))if(gh.Long)e=gh.Long.fromString(e);else return Xt.fromNumber(parseInt(e,10));return e.low||e.high?new Xt(e.low>>>0,e.high>>>0):jc};Xt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};Xt.prototype.toLong=function(e){return gh.Long?new gh.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var zs=String.prototype.charCodeAt;Xt.fromHash=function(e){return e===LMe?jc:new Xt((zs.call(e,0)|zs.call(e,1)<<8|zs.call(e,2)<<16|zs.call(e,3)<<24)>>>0,(zs.call(e,4)|zs.call(e,5)<<8|zs.call(e,6)<<16|zs.call(e,7)<<24)>>>0)};Xt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Xt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Xt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Xt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10};});var qi=y(KI=>{var oe=KI;oe.asPromise=qI();oe.base64=TJ();oe.EventEmitter=vJ();oe.float=CJ();oe.inquire=YI();oe.utf8=IJ();oe.pool=wJ();oe.LongBits=DJ();oe.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);oe.global=oe.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||KI;oe.emptyArray=Object.freeze?Object.freeze([]):[];oe.emptyObject=Object.freeze?Object.freeze({}):{};oe.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};oe.isString=function(e){return typeof e=="string"||e instanceof String};oe.isObject=function(e){return e&&typeof e=="object"};oe.isset=oe.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:false};oe.Buffer=(function(){try{var t=oe.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}})();oe._Buffer_from=null;oe._Buffer_allocUnsafe=null;oe.newBuffer=function(e){return typeof e=="number"?oe.Buffer?oe._Buffer_allocUnsafe(e):new oe.Array(e):oe.Buffer?oe._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};oe.Array=typeof Uint8Array<"u"?Uint8Array:Array;oe.Long=oe.global.dcodeIO&&oe.global.dcodeIO.Long||oe.global.Long||oe.inquire("long");oe.key2Re=/^true|false|0|1$/;oe.key32Re=/^-?(?:0|[1-9][0-9]*)$/;oe.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;oe.longToHash=function(e){return e?oe.LongBits.from(e).toHash():oe.LongBits.zeroHash};oe.longFromHash=function(e,r){var i=oe.LongBits.fromHash(e);return oe.Long?oe.Long.fromBits(i.lo,i.hi,r):i.toNumber(!!r)};function UJ(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}oe.merge=UJ;oe.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function kJ(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&UJ(this,i);}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:true,enumerable:false,configurable:true},name:{get:function(){return t},set:void 0,enumerable:false,configurable:true},toString:{value:function(){return this.name+": "+this.message},writable:true,enumerable:false,configurable:true}}),e}oe.newError=kJ;oe.ProtocolError=kJ("ProtocolError");oe.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),a=n.length-1;a>-1;--a)if(r[n[a]]===1&&this[n[a]]!==void 0&&this[n[a]]!==null)return n[a]}};oe.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]];}};oe.toJSONOptions={longs:String,enums:String,bytes:String,json:true};oe._configure=function(){var t=oe.Buffer;if(!t){oe._Buffer_from=oe._Buffer_allocUnsafe=null;return}oe._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},oe._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)};};});var TT=y((Mlt,zJ)=>{zJ.exports=Be;var Vn=qi(),ZI,ST=Vn.LongBits,$J=Vn.base64,VJ=Vn.utf8;function Eh(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r;}function JI(){}function DMe(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states;}function Be(){this.len=0,this.head=new Eh(JI,0,0),this.tail=this.head,this.states=null;}var BJ=function(){return Vn.Buffer?function(){return (Be.create=function(){return new ZI})()}:function(){return new Be}};Be.create=BJ();Be.alloc=function(e){return new Vn.Array(e)};Vn.Array!==Array&&(Be.alloc=Vn.pool(Be.alloc,Vn.Array.prototype.subarray));Be.prototype._push=function(e,r,i){return this.tail=this.tail.next=new Eh(e,r,i),this.len+=r,this};function QI(t,e,r){e[r]=t&255;}function UMe(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t;}function eM(t,e){this.len=t,this.next=void 0,this.val=e;}eM.prototype=Object.create(Eh.prototype);eM.prototype.fn=UMe;Be.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new eM((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Be.prototype.int32=function(e){return e<0?this._push(tM,10,ST.fromNumber(e)):this.uint32(e)};Be.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function tM(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo;}Be.prototype.uint64=function(e){var r=ST.from(e);return this._push(tM,r.length(),r)};Be.prototype.int64=Be.prototype.uint64;Be.prototype.sint64=function(e){var r=ST.from(e).zzEncode();return this._push(tM,r.length(),r)};Be.prototype.bool=function(e){return this._push(QI,1,e?1:0)};function XI(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24;}Be.prototype.fixed32=function(e){return this._push(XI,4,e>>>0)};Be.prototype.sfixed32=Be.prototype.fixed32;Be.prototype.fixed64=function(e){var r=ST.from(e);return this._push(XI,4,r.lo)._push(XI,4,r.hi)};Be.prototype.sfixed64=Be.prototype.fixed64;Be.prototype.float=function(e){return this._push(Vn.float.writeFloatLE,4,e)};Be.prototype.double=function(e){return this._push(Vn.float.writeDoubleLE,8,e)};var kMe=Vn.Array.prototype.set?function(e,r,i){r.set(e,i);}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n];};Be.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(QI,1,0);if(Vn.isString(e)){var i=Be.alloc(r=$J.length(e));$J.decode(e,i,0),e=i;}return this.uint32(r)._push(kMe,r,e)};Be.prototype.string=function(e){var r=VJ.length(e);return r?this.uint32(r)._push(VJ.write,r,e):this._push(QI,1,0)};Be.prototype.fork=function(){return this.states=new DMe(this),this.head=this.tail=new Eh(JI,0,0),this.len=0,this};Be.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Eh(JI,0,0),this.len=0),this};Be.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};Be.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};Be._configure=function(t){ZI=t,Be.create=BJ(),ZI._configure();};});var GJ=y((wlt,HJ)=>{HJ.exports=Yi;var FJ=TT();(Yi.prototype=Object.create(FJ.prototype)).constructor=Yi;var Fs=qi();function Yi(){FJ.call(this);}Yi._configure=function(){Yi.alloc=Fs._Buffer_allocUnsafe,Yi.writeBytesBuffer=Fs.Buffer&&Fs.Buffer.prototype instanceof Uint8Array&&Fs.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i);}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++];};};Yi.prototype.bytes=function(e){Fs.isString(e)&&(e=Fs._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Yi.writeBytesBuffer,r,e),this};function $Me(t,e,r){t.length<40?Fs.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r);}Yi.prototype.string=function(e){var r=Fs.Buffer.byteLength(e);return this.uint32(r),r&&this._push($Me,r,e),this};Yi._configure();});var vT=y((Llt,KJ)=>{KJ.exports=Ct;var ui=qi(),nM,YJ=ui.LongBits,VMe=ui.utf8;function di(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Ct(t){this.buf=t,this.pos=0,this.len=t.length;}var jJ=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ct(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ct(e);throw Error("illegal buffer")},WJ=function(){return ui.Buffer?function(r){return (Ct.create=function(n){return ui.Buffer.isBuffer(n)?new nM(n):jJ(n)})(r)}:jJ};Ct.create=WJ();Ct.prototype._slice=ui.Array.prototype.subarray||ui.Array.prototype.slice;Ct.prototype.uint32=(function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,di(this,10);return e}})();Ct.prototype.int32=function(){return this.uint32()|0};Ct.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function rM(){var t=new YJ(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0;}else {for(;e<3;++e){if(this.pos>=this.len)throw di(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw di(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Ct.prototype.bool=function(){return this.uint32()!==0};function yT(t,e){return (t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Ct.prototype.fixed32=function(){if(this.pos+4>this.len)throw di(this,4);return yT(this.buf,this.pos+=4)};Ct.prototype.sfixed32=function(){if(this.pos+4>this.len)throw di(this,4);return yT(this.buf,this.pos+=4)|0};function qJ(){if(this.pos+8>this.len)throw di(this,8);return new YJ(yT(this.buf,this.pos+=4),yT(this.buf,this.pos+=4))}Ct.prototype.float=function(){if(this.pos+4>this.len)throw di(this,4);var e=ui.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ct.prototype.double=function(){if(this.pos+8>this.len)throw di(this,4);var e=ui.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ct.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw di(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,i);if(r===i){var n=ui.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,i)};Ct.prototype.string=function(){var e=this.bytes();return VMe.read(e,0,e.length)};Ct.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw di(this,e);this.pos+=e;}else do if(this.pos>=this.len)throw di(this);while(this.buf[this.pos++]&128);return this};Ct.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Ct._configure=function(t){nM=t,Ct.create=WJ(),nM._configure();var e=ui.Long?"toLong":"toNumber";ui.merge(Ct.prototype,{int64:function(){return rM.call(this)[e](false)},uint64:function(){return rM.call(this)[e](true)},sint64:function(){return rM.call(this).zzDecode()[e](false)},fixed64:function(){return qJ.call(this)[e](true)},sfixed64:function(){return qJ.call(this)[e](false)}});};});var QJ=y((Dlt,JJ)=>{JJ.exports=qc;var XJ=vT();(qc.prototype=Object.create(XJ.prototype)).constructor=qc;var ZJ=qi();function qc(t){XJ.call(this,t);}qc._configure=function(){ZJ.Buffer&&(qc.prototype._slice=ZJ.Buffer.prototype.slice);};qc.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};qc._configure();});var t9=y((Ult,e9)=>{e9.exports=Sh;var iM=qi();(Sh.prototype=Object.create(iM.EventEmitter.prototype)).constructor=Sh;function Sh(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");iM.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r;}Sh.prototype.rpcCall=function t(e,r,i,n,a){if(!n)throw TypeError("request must be specified");var o=this;if(!a)return iM.asPromise(t,o,e,r,i,n);if(!o.rpcImpl){setTimeout(function(){a(Error("already ended"));},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(c,l){if(c)return o.emit("error",c,e),a(c);if(l===null){o.end(!0);return}if(!(l instanceof i))try{l=i[o.responseDelimited?"decodeDelimited":"decode"](l);}catch(u){return o.emit("error",u,e),a(u)}return o.emit("data",l,e),a(null,l)})}catch(s){o.emit("error",s,e),setTimeout(function(){a(s);},0);return}};Sh.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};});var oM=y(r9=>{var BMe=r9;BMe.Service=t9();});var sM=y(($lt,n9)=>{n9.exports={};});var aM=y(o9=>{var Zr=o9;Zr.build="minimal";Zr.Writer=TT();Zr.BufferWriter=GJ();Zr.Reader=vT();Zr.BufferReader=QJ();Zr.util=qi();Zr.rpc=oM();Zr.roots=sM();Zr.configure=i9;function i9(){Zr.util._configure(),Zr.Writer._configure(Zr.BufferWriter),Zr.Reader._configure(Zr.BufferReader);}i9();});var a9=y((Blt,s9)=>{s9.exports=aM();});var AT=y((zlt,c9)=>{var ue=a9(),O=ue.Reader,Te=ue.Writer,m=ue.util,h=ue.roots.default||(ue.roots.default={});h.opentelemetry=(function(){var t={};return t.proto=(function(){var e={};return e.common=(function(){var r={};return r.v1=(function(){var i={};return i.AnyValue=(function(){function n(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.stringValue=null,n.prototype.boolValue=null,n.prototype.intValue=null,n.prototype.doubleValue=null,n.prototype.arrayValue=null,n.prototype.kvlistValue=null,n.prototype.bytesValue=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){return c||(c=Te.create()),s.stringValue!=null&&Object.hasOwnProperty.call(s,"stringValue")&&c.uint32(10).string(s.stringValue),s.boolValue!=null&&Object.hasOwnProperty.call(s,"boolValue")&&c.uint32(16).bool(s.boolValue),s.intValue!=null&&Object.hasOwnProperty.call(s,"intValue")&&c.uint32(24).int64(s.intValue),s.doubleValue!=null&&Object.hasOwnProperty.call(s,"doubleValue")&&c.uint32(33).double(s.doubleValue),s.arrayValue!=null&&Object.hasOwnProperty.call(s,"arrayValue")&&h.opentelemetry.proto.common.v1.ArrayValue.encode(s.arrayValue,c.uint32(42).fork()).ldelim(),s.kvlistValue!=null&&Object.hasOwnProperty.call(s,"kvlistValue")&&h.opentelemetry.proto.common.v1.KeyValueList.encode(s.kvlistValue,c.uint32(50).fork()).ldelim(),s.bytesValue!=null&&Object.hasOwnProperty.call(s,"bytesValue")&&c.uint32(58).bytes(s.bytesValue),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.common.v1.AnyValue;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.stringValue=s.string();break}case 2:{d.boolValue=s.bool();break}case 3:{d.intValue=s.int64();break}case 4:{d.doubleValue=s.double();break}case 5:{d.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.decode(s,s.uint32());break}case 6:{d.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.decode(s,s.uint32());break}case 7:{d.bytesValue=s.bytes();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(c.value=1,!m.isString(s.stringValue)))return "stringValue: string expected";if(s.boolValue!=null&&s.hasOwnProperty("boolValue")){if(c.value===1)return "value: multiple values";if(c.value=1,typeof s.boolValue!="boolean")return "boolValue: boolean expected"}if(s.intValue!=null&&s.hasOwnProperty("intValue")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.intValue)&&!(s.intValue&&m.isInteger(s.intValue.low)&&m.isInteger(s.intValue.high)))return "intValue: integer|Long expected"}if(s.doubleValue!=null&&s.hasOwnProperty("doubleValue")){if(c.value===1)return "value: multiple values";if(c.value=1,typeof s.doubleValue!="number")return "doubleValue: number expected"}if(s.arrayValue!=null&&s.hasOwnProperty("arrayValue")){if(c.value===1)return "value: multiple values";c.value=1;{var l=h.opentelemetry.proto.common.v1.ArrayValue.verify(s.arrayValue);if(l)return "arrayValue."+l}}if(s.kvlistValue!=null&&s.hasOwnProperty("kvlistValue")){if(c.value===1)return "value: multiple values";c.value=1;{var l=h.opentelemetry.proto.common.v1.KeyValueList.verify(s.kvlistValue);if(l)return "kvlistValue."+l}}if(s.bytesValue!=null&&s.hasOwnProperty("bytesValue")){if(c.value===1)return "value: multiple values";if(c.value=1,!(s.bytesValue&&typeof s.bytesValue.length=="number"||m.isString(s.bytesValue)))return "bytesValue: buffer expected"}return null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.common.v1.AnyValue)return s;var c=new h.opentelemetry.proto.common.v1.AnyValue;if(s.stringValue!=null&&(c.stringValue=String(s.stringValue)),s.boolValue!=null&&(c.boolValue=!!s.boolValue),s.intValue!=null&&(m.Long?(c.intValue=m.Long.fromValue(s.intValue)).unsigned=false:typeof s.intValue=="string"?c.intValue=parseInt(s.intValue,10):typeof s.intValue=="number"?c.intValue=s.intValue:typeof s.intValue=="object"&&(c.intValue=new m.LongBits(s.intValue.low>>>0,s.intValue.high>>>0).toNumber())),s.doubleValue!=null&&(c.doubleValue=Number(s.doubleValue)),s.arrayValue!=null){if(typeof s.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");c.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.fromObject(s.arrayValue);}if(s.kvlistValue!=null){if(typeof s.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");c.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.fromObject(s.kvlistValue);}return s.bytesValue!=null&&(typeof s.bytesValue=="string"?m.base64.decode(s.bytesValue,c.bytesValue=m.newBuffer(m.base64.length(s.bytesValue)),0):s.bytesValue.length>=0&&(c.bytesValue=s.bytesValue)),c},n.toObject=function(s,c){c||(c={});var l={};return s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(l.stringValue=s.stringValue,c.oneofs&&(l.value="stringValue")),s.boolValue!=null&&s.hasOwnProperty("boolValue")&&(l.boolValue=s.boolValue,c.oneofs&&(l.value="boolValue")),s.intValue!=null&&s.hasOwnProperty("intValue")&&(typeof s.intValue=="number"?l.intValue=c.longs===String?String(s.intValue):s.intValue:l.intValue=c.longs===String?m.Long.prototype.toString.call(s.intValue):c.longs===Number?new m.LongBits(s.intValue.low>>>0,s.intValue.high>>>0).toNumber():s.intValue,c.oneofs&&(l.value="intValue")),s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&(l.doubleValue=c.json&&!isFinite(s.doubleValue)?String(s.doubleValue):s.doubleValue,c.oneofs&&(l.value="doubleValue")),s.arrayValue!=null&&s.hasOwnProperty("arrayValue")&&(l.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.toObject(s.arrayValue,c),c.oneofs&&(l.value="arrayValue")),s.kvlistValue!=null&&s.hasOwnProperty("kvlistValue")&&(l.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.toObject(s.kvlistValue,c),c.oneofs&&(l.value="kvlistValue")),s.bytesValue!=null&&s.hasOwnProperty("bytesValue")&&(l.bytesValue=c.bytes===String?m.base64.encode(s.bytesValue,0,s.bytesValue.length):c.bytes===Array?Array.prototype.slice.call(s.bytesValue):s.bytesValue,c.oneofs&&(l.value="bytesValue")),l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.common.v1.AnyValue"},n})(),i.ArrayValue=(function(){function n(a){if(this.values=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.values=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.values!=null&&o.values.length)for(var c=0;c<o.values.length;++c)h.opentelemetry.proto.common.v1.AnyValue.encode(o.values[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.common.v1.ArrayValue;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.values&&u.values.length||(u.values=[]),u.values.push(h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.values!=null&&o.hasOwnProperty("values")){if(!Array.isArray(o.values))return "values: array expected";for(var s=0;s<o.values.length;++s){var c=h.opentelemetry.proto.common.v1.AnyValue.verify(o.values[s]);if(c)return "values."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.ArrayValue)return o;var s=new h.opentelemetry.proto.common.v1.ArrayValue;if(o.values){if(!Array.isArray(o.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");s.values=[];for(var c=0;c<o.values.length;++c){if(typeof o.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");s.values[c]=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.values[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.values=[]),o.values&&o.values.length){c.values=[];for(var l=0;l<o.values.length;++l)c.values[l]=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.values[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.ArrayValue"},n})(),i.KeyValueList=(function(){function n(a){if(this.values=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.values=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.values!=null&&o.values.length)for(var c=0;c<o.values.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.values[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.common.v1.KeyValueList;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.values&&u.values.length||(u.values=[]),u.values.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.values!=null&&o.hasOwnProperty("values")){if(!Array.isArray(o.values))return "values: array expected";for(var s=0;s<o.values.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.values[s]);if(c)return "values."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.KeyValueList)return o;var s=new h.opentelemetry.proto.common.v1.KeyValueList;if(o.values){if(!Array.isArray(o.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");s.values=[];for(var c=0;c<o.values.length;++c){if(typeof o.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");s.values[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.values[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.values=[]),o.values&&o.values.length){c.values=[];for(var l=0;l<o.values.length;++l)c.values[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.values[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.KeyValueList"},n})(),i.KeyValue=(function(){function n(a){if(a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.key=null,n.prototype.value=null,n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=Te.create()),o.key!=null&&Object.hasOwnProperty.call(o,"key")&&s.uint32(10).string(o.key),o.value!=null&&Object.hasOwnProperty.call(o,"value")&&h.opentelemetry.proto.common.v1.AnyValue.encode(o.value,s.uint32(18).fork()).ldelim(),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.common.v1.KeyValue;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.key=o.string();break}case 2:{u.value=h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32());break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.key!=null&&o.hasOwnProperty("key")&&!m.isString(o.key))return "key: string expected";if(o.value!=null&&o.hasOwnProperty("value")){var s=h.opentelemetry.proto.common.v1.AnyValue.verify(o.value);if(s)return "value."+s}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.KeyValue)return o;var s=new h.opentelemetry.proto.common.v1.KeyValue;if(o.key!=null&&(s.key=String(o.key)),o.value!=null){if(typeof o.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");s.value=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.value);}return s},n.toObject=function(o,s){s||(s={});var c={};return s.defaults&&(c.key="",c.value=null),o.key!=null&&o.hasOwnProperty("key")&&(c.key=o.key),o.value!=null&&o.hasOwnProperty("value")&&(c.value=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.value,s)),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.KeyValue"},n})(),i.InstrumentationScope=(function(){function n(a){if(this.attributes=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.name=null,n.prototype.version=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&s.uint32(10).string(o.name),o.version!=null&&Object.hasOwnProperty.call(o,"version")&&s.uint32(18).string(o.version),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(26).fork()).ldelim();return o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(32).uint32(o.droppedAttributesCount),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.common.v1.InstrumentationScope;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.name=o.string();break}case 2:{u.version=o.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 4:{u.droppedAttributesCount=o.uint32();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!m.isString(o.name))return "name: string expected";if(o.version!=null&&o.hasOwnProperty("version")&&!m.isString(o.version))return "version: string expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.InstrumentationScope)return o;var s=new h.opentelemetry.proto.common.v1.InstrumentationScope;if(o.name!=null&&(s.name=String(o.name)),o.version!=null&&(s.version=String(o.version)),o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}return o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[]),s.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),o.name!=null&&o.hasOwnProperty("name")&&(c.name=o.name),o.version!=null&&o.hasOwnProperty("version")&&(c.version=o.version),o.attributes&&o.attributes.length){c.attributes=[];for(var l=0;l<o.attributes.length;++l)c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[l],s);}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.InstrumentationScope"},n})(),i.EntityRef=(function(){function n(a){if(this.idKeys=[],this.descriptionKeys=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.schemaUrl=null,n.prototype.type=null,n.prototype.idKeys=m.emptyArray,n.prototype.descriptionKeys=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(10).string(o.schemaUrl),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&s.uint32(18).string(o.type),o.idKeys!=null&&o.idKeys.length)for(var c=0;c<o.idKeys.length;++c)s.uint32(26).string(o.idKeys[c]);if(o.descriptionKeys!=null&&o.descriptionKeys.length)for(var c=0;c<o.descriptionKeys.length;++c)s.uint32(34).string(o.descriptionKeys[c]);return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.common.v1.EntityRef;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.schemaUrl=o.string();break}case 2:{u.type=o.string();break}case 3:{u.idKeys&&u.idKeys.length||(u.idKeys=[]),u.idKeys.push(o.string());break}case 4:{u.descriptionKeys&&u.descriptionKeys.length||(u.descriptionKeys=[]),u.descriptionKeys.push(o.string());break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl))return "schemaUrl: string expected";if(o.type!=null&&o.hasOwnProperty("type")&&!m.isString(o.type))return "type: string expected";if(o.idKeys!=null&&o.hasOwnProperty("idKeys")){if(!Array.isArray(o.idKeys))return "idKeys: array expected";for(var s=0;s<o.idKeys.length;++s)if(!m.isString(o.idKeys[s]))return "idKeys: string[] expected"}if(o.descriptionKeys!=null&&o.hasOwnProperty("descriptionKeys")){if(!Array.isArray(o.descriptionKeys))return "descriptionKeys: array expected";for(var s=0;s<o.descriptionKeys.length;++s)if(!m.isString(o.descriptionKeys[s]))return "descriptionKeys: string[] expected"}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.EntityRef)return o;var s=new h.opentelemetry.proto.common.v1.EntityRef;if(o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),o.type!=null&&(s.type=String(o.type)),o.idKeys){if(!Array.isArray(o.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");s.idKeys=[];for(var c=0;c<o.idKeys.length;++c)s.idKeys[c]=String(o.idKeys[c]);}if(o.descriptionKeys){if(!Array.isArray(o.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");s.descriptionKeys=[];for(var c=0;c<o.descriptionKeys.length;++c)s.descriptionKeys[c]=String(o.descriptionKeys[c]);}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.idKeys=[],c.descriptionKeys=[]),s.defaults&&(c.schemaUrl="",c.type=""),o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),o.type!=null&&o.hasOwnProperty("type")&&(c.type=o.type),o.idKeys&&o.idKeys.length){c.idKeys=[];for(var l=0;l<o.idKeys.length;++l)c.idKeys[l]=o.idKeys[l];}if(o.descriptionKeys&&o.descriptionKeys.length){c.descriptionKeys=[];for(var l=0;l<o.descriptionKeys.length;++l)c.descriptionKeys[l]=o.descriptionKeys[l];}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.EntityRef"},n})(),i})(),r})(),e.resource=(function(){var r={};return r.v1=(function(){var i={};return i.Resource=(function(){function n(a){if(this.attributes=[],this.entityRefs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.entityRefs=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(10).fork()).ldelim();if(o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(16).uint32(o.droppedAttributesCount),o.entityRefs!=null&&o.entityRefs.length)for(var c=0;c<o.entityRefs.length;++c)h.opentelemetry.proto.common.v1.EntityRef.encode(o.entityRefs[c],s.uint32(26).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.resource.v1.Resource;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 2:{u.droppedAttributesCount=o.uint32();break}case 3:{u.entityRefs&&u.entityRefs.length||(u.entityRefs=[]),u.entityRefs.push(h.opentelemetry.proto.common.v1.EntityRef.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount))return "droppedAttributesCount: integer expected";if(o.entityRefs!=null&&o.hasOwnProperty("entityRefs")){if(!Array.isArray(o.entityRefs))return "entityRefs: array expected";for(var s=0;s<o.entityRefs.length;++s){var c=h.opentelemetry.proto.common.v1.EntityRef.verify(o.entityRefs[s]);if(c)return "entityRefs."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.resource.v1.Resource)return o;var s=new h.opentelemetry.proto.resource.v1.Resource;if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.entityRefs){if(!Array.isArray(o.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");s.entityRefs=[];for(var c=0;c<o.entityRefs.length;++c){if(typeof o.entityRefs[c]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");s.entityRefs[c]=h.opentelemetry.proto.common.v1.EntityRef.fromObject(o.entityRefs[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[],c.entityRefs=[]),s.defaults&&(c.droppedAttributesCount=0),o.attributes&&o.attributes.length){c.attributes=[];for(var l=0;l<o.attributes.length;++l)c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[l],s);}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.entityRefs&&o.entityRefs.length){c.entityRefs=[];for(var l=0;l<o.entityRefs.length;++l)c.entityRefs[l]=h.opentelemetry.proto.common.v1.EntityRef.toObject(o.entityRefs[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.resource.v1.Resource"},n})(),i})(),r})(),e.trace=(function(){var r={};return r.v1=(function(){var i={};return i.TracesData=(function(){function n(a){if(this.resourceSpans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceSpans=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resourceSpans!=null&&o.resourceSpans.length)for(var c=0;c<o.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(o.resourceSpans[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.trace.v1.TracesData;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceSpans!=null&&o.hasOwnProperty("resourceSpans")){if(!Array.isArray(o.resourceSpans))return "resourceSpans: array expected";for(var s=0;s<o.resourceSpans.length;++s){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(o.resourceSpans[s]);if(c)return "resourceSpans."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.TracesData)return o;var s=new h.opentelemetry.proto.trace.v1.TracesData;if(o.resourceSpans){if(!Array.isArray(o.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");s.resourceSpans=[];for(var c=0;c<o.resourceSpans.length;++c){if(typeof o.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");s.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(o.resourceSpans[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceSpans=[]),o.resourceSpans&&o.resourceSpans.length){c.resourceSpans=[];for(var l=0;l<o.resourceSpans.length;++l)c.resourceSpans[l]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(o.resourceSpans[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.TracesData"},n})(),i.ResourceSpans=(function(){function n(a){if(this.scopeSpans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeSpans=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeSpans!=null&&o.scopeSpans.length)for(var c=0;c<o.scopeSpans.length;++c)h.opentelemetry.proto.trace.v1.ScopeSpans.encode(o.scopeSpans[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.trace.v1.ResourceSpans;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{u.scopeSpans&&u.scopeSpans.length||(u.scopeSpans=[]),u.scopeSpans.push(h.opentelemetry.proto.trace.v1.ScopeSpans.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeSpans!=null&&o.hasOwnProperty("scopeSpans")){if(!Array.isArray(o.scopeSpans))return "scopeSpans: array expected";for(var c=0;c<o.scopeSpans.length;++c){var s=h.opentelemetry.proto.trace.v1.ScopeSpans.verify(o.scopeSpans[c]);if(s)return "scopeSpans."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.ResourceSpans)return o;var s=new h.opentelemetry.proto.trace.v1.ResourceSpans;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeSpans){if(!Array.isArray(o.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");s.scopeSpans=[];for(var c=0;c<o.scopeSpans.length;++c){if(typeof o.scopeSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");s.scopeSpans[c]=h.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(o.scopeSpans[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeSpans=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeSpans&&o.scopeSpans.length){c.scopeSpans=[];for(var l=0;l<o.scopeSpans.length;++l)c.scopeSpans[l]=h.opentelemetry.proto.trace.v1.ScopeSpans.toObject(o.scopeSpans[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.ResourceSpans"},n})(),i.ScopeSpans=(function(){function n(a){if(this.spans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.spans=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.spans!=null&&o.spans.length)for(var c=0;c<o.spans.length;++c)h.opentelemetry.proto.trace.v1.Span.encode(o.spans[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.trace.v1.ScopeSpans;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{u.spans&&u.spans.length||(u.spans=[]),u.spans.push(h.opentelemetry.proto.trace.v1.Span.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.spans!=null&&o.hasOwnProperty("spans")){if(!Array.isArray(o.spans))return "spans: array expected";for(var c=0;c<o.spans.length;++c){var s=h.opentelemetry.proto.trace.v1.Span.verify(o.spans[c]);if(s)return "spans."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.ScopeSpans)return o;var s=new h.opentelemetry.proto.trace.v1.ScopeSpans;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.spans){if(!Array.isArray(o.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");s.spans=[];for(var c=0;c<o.spans.length;++c){if(typeof o.spans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");s.spans[c]=h.opentelemetry.proto.trace.v1.Span.fromObject(o.spans[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.spans=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.spans&&o.spans.length){c.spans=[];for(var l=0;l<o.spans.length;++l)c.spans[l]=h.opentelemetry.proto.trace.v1.Span.toObject(o.spans[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.ScopeSpans"},n})(),i.Span=(function(){function n(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.traceId=null,n.prototype.spanId=null,n.prototype.traceState=null,n.prototype.parentSpanId=null,n.prototype.flags=null,n.prototype.name=null,n.prototype.kind=null,n.prototype.startTimeUnixNano=null,n.prototype.endTimeUnixNano=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.events=m.emptyArray,n.prototype.droppedEventsCount=null,n.prototype.links=m.emptyArray,n.prototype.droppedLinksCount=null,n.prototype.status=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.traceId!=null&&Object.hasOwnProperty.call(o,"traceId")&&s.uint32(10).bytes(o.traceId),o.spanId!=null&&Object.hasOwnProperty.call(o,"spanId")&&s.uint32(18).bytes(o.spanId),o.traceState!=null&&Object.hasOwnProperty.call(o,"traceState")&&s.uint32(26).string(o.traceState),o.parentSpanId!=null&&Object.hasOwnProperty.call(o,"parentSpanId")&&s.uint32(34).bytes(o.parentSpanId),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&s.uint32(42).string(o.name),o.kind!=null&&Object.hasOwnProperty.call(o,"kind")&&s.uint32(48).int32(o.kind),o.startTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"startTimeUnixNano")&&s.uint32(57).fixed64(o.startTimeUnixNano),o.endTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"endTimeUnixNano")&&s.uint32(65).fixed64(o.endTimeUnixNano),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(74).fork()).ldelim();if(o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(80).uint32(o.droppedAttributesCount),o.events!=null&&o.events.length)for(var c=0;c<o.events.length;++c)h.opentelemetry.proto.trace.v1.Span.Event.encode(o.events[c],s.uint32(90).fork()).ldelim();if(o.droppedEventsCount!=null&&Object.hasOwnProperty.call(o,"droppedEventsCount")&&s.uint32(96).uint32(o.droppedEventsCount),o.links!=null&&o.links.length)for(var c=0;c<o.links.length;++c)h.opentelemetry.proto.trace.v1.Span.Link.encode(o.links[c],s.uint32(106).fork()).ldelim();return o.droppedLinksCount!=null&&Object.hasOwnProperty.call(o,"droppedLinksCount")&&s.uint32(112).uint32(o.droppedLinksCount),o.status!=null&&Object.hasOwnProperty.call(o,"status")&&h.opentelemetry.proto.trace.v1.Status.encode(o.status,s.uint32(122).fork()).ldelim(),o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(133).fixed32(o.flags),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.trace.v1.Span;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.traceId=o.bytes();break}case 2:{u.spanId=o.bytes();break}case 3:{u.traceState=o.string();break}case 4:{u.parentSpanId=o.bytes();break}case 16:{u.flags=o.fixed32();break}case 5:{u.name=o.string();break}case 6:{u.kind=o.int32();break}case 7:{u.startTimeUnixNano=o.fixed64();break}case 8:{u.endTimeUnixNano=o.fixed64();break}case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 10:{u.droppedAttributesCount=o.uint32();break}case 11:{u.events&&u.events.length||(u.events=[]),u.events.push(h.opentelemetry.proto.trace.v1.Span.Event.decode(o,o.uint32()));break}case 12:{u.droppedEventsCount=o.uint32();break}case 13:{u.links&&u.links.length||(u.links=[]),u.links.push(h.opentelemetry.proto.trace.v1.Span.Link.decode(o,o.uint32()));break}case 14:{u.droppedLinksCount=o.uint32();break}case 15:{u.status=h.opentelemetry.proto.trace.v1.Status.decode(o,o.uint32());break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.traceId!=null&&o.hasOwnProperty("traceId")&&!(o.traceId&&typeof o.traceId.length=="number"||m.isString(o.traceId)))return "traceId: buffer expected";if(o.spanId!=null&&o.hasOwnProperty("spanId")&&!(o.spanId&&typeof o.spanId.length=="number"||m.isString(o.spanId)))return "spanId: buffer expected";if(o.traceState!=null&&o.hasOwnProperty("traceState")&&!m.isString(o.traceState))return "traceState: string expected";if(o.parentSpanId!=null&&o.hasOwnProperty("parentSpanId")&&!(o.parentSpanId&&typeof o.parentSpanId.length=="number"||m.isString(o.parentSpanId)))return "parentSpanId: buffer expected";if(o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags))return "flags: integer expected";if(o.name!=null&&o.hasOwnProperty("name")&&!m.isString(o.name))return "name: string expected";if(o.kind!=null&&o.hasOwnProperty("kind"))switch(o.kind){default:return "kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(o.startTimeUnixNano)&&!(o.startTimeUnixNano&&m.isInteger(o.startTimeUnixNano.low)&&m.isInteger(o.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(o.endTimeUnixNano!=null&&o.hasOwnProperty("endTimeUnixNano")&&!m.isInteger(o.endTimeUnixNano)&&!(o.endTimeUnixNano&&m.isInteger(o.endTimeUnixNano.low)&&m.isInteger(o.endTimeUnixNano.high)))return "endTimeUnixNano: integer|Long expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount))return "droppedAttributesCount: integer expected";if(o.events!=null&&o.hasOwnProperty("events")){if(!Array.isArray(o.events))return "events: array expected";for(var s=0;s<o.events.length;++s){var c=h.opentelemetry.proto.trace.v1.Span.Event.verify(o.events[s]);if(c)return "events."+c}}if(o.droppedEventsCount!=null&&o.hasOwnProperty("droppedEventsCount")&&!m.isInteger(o.droppedEventsCount))return "droppedEventsCount: integer expected";if(o.links!=null&&o.hasOwnProperty("links")){if(!Array.isArray(o.links))return "links: array expected";for(var s=0;s<o.links.length;++s){var c=h.opentelemetry.proto.trace.v1.Span.Link.verify(o.links[s]);if(c)return "links."+c}}if(o.droppedLinksCount!=null&&o.hasOwnProperty("droppedLinksCount")&&!m.isInteger(o.droppedLinksCount))return "droppedLinksCount: integer expected";if(o.status!=null&&o.hasOwnProperty("status")){var c=h.opentelemetry.proto.trace.v1.Status.verify(o.status);if(c)return "status."+c}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.Span)return o;var s=new h.opentelemetry.proto.trace.v1.Span;switch(o.traceId!=null&&(typeof o.traceId=="string"?m.base64.decode(o.traceId,s.traceId=m.newBuffer(m.base64.length(o.traceId)),0):o.traceId.length>=0&&(s.traceId=o.traceId)),o.spanId!=null&&(typeof o.spanId=="string"?m.base64.decode(o.spanId,s.spanId=m.newBuffer(m.base64.length(o.spanId)),0):o.spanId.length>=0&&(s.spanId=o.spanId)),o.traceState!=null&&(s.traceState=String(o.traceState)),o.parentSpanId!=null&&(typeof o.parentSpanId=="string"?m.base64.decode(o.parentSpanId,s.parentSpanId=m.newBuffer(m.base64.length(o.parentSpanId)),0):o.parentSpanId.length>=0&&(s.parentSpanId=o.parentSpanId)),o.flags!=null&&(s.flags=o.flags>>>0),o.name!=null&&(s.name=String(o.name)),o.kind){default:if(typeof o.kind=="number"){s.kind=o.kind;break}break;case "SPAN_KIND_UNSPECIFIED":case 0:s.kind=0;break;case "SPAN_KIND_INTERNAL":case 1:s.kind=1;break;case "SPAN_KIND_SERVER":case 2:s.kind=2;break;case "SPAN_KIND_CLIENT":case 3:s.kind=3;break;case "SPAN_KIND_PRODUCER":case 4:s.kind=4;break;case "SPAN_KIND_CONSUMER":case 5:s.kind=5;break}if(o.startTimeUnixNano!=null&&(m.Long?(s.startTimeUnixNano=m.Long.fromValue(o.startTimeUnixNano)).unsigned=false:typeof o.startTimeUnixNano=="string"?s.startTimeUnixNano=parseInt(o.startTimeUnixNano,10):typeof o.startTimeUnixNano=="number"?s.startTimeUnixNano=o.startTimeUnixNano:typeof o.startTimeUnixNano=="object"&&(s.startTimeUnixNano=new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber())),o.endTimeUnixNano!=null&&(m.Long?(s.endTimeUnixNano=m.Long.fromValue(o.endTimeUnixNano)).unsigned=false:typeof o.endTimeUnixNano=="string"?s.endTimeUnixNano=parseInt(o.endTimeUnixNano,10):typeof o.endTimeUnixNano=="number"?s.endTimeUnixNano=o.endTimeUnixNano:typeof o.endTimeUnixNano=="object"&&(s.endTimeUnixNano=new m.LongBits(o.endTimeUnixNano.low>>>0,o.endTimeUnixNano.high>>>0).toNumber())),o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.events){if(!Array.isArray(o.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");s.events=[];for(var c=0;c<o.events.length;++c){if(typeof o.events[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");s.events[c]=h.opentelemetry.proto.trace.v1.Span.Event.fromObject(o.events[c]);}}if(o.droppedEventsCount!=null&&(s.droppedEventsCount=o.droppedEventsCount>>>0),o.links){if(!Array.isArray(o.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");s.links=[];for(var c=0;c<o.links.length;++c){if(typeof o.links[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");s.links[c]=h.opentelemetry.proto.trace.v1.Span.Link.fromObject(o.links[c]);}}if(o.droppedLinksCount!=null&&(s.droppedLinksCount=o.droppedLinksCount>>>0),o.status!=null){if(typeof o.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");s.status=h.opentelemetry.proto.trace.v1.Status.fromObject(o.status);}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[],c.events=[],c.links=[]),s.defaults){if(s.bytes===String?c.traceId="":(c.traceId=[],s.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId))),s.bytes===String?c.spanId="":(c.spanId=[],s.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),c.traceState="",s.bytes===String?c.parentSpanId="":(c.parentSpanId=[],s.bytes!==Array&&(c.parentSpanId=m.newBuffer(c.parentSpanId))),c.name="",c.kind=s.enums===String?"SPAN_KIND_UNSPECIFIED":0,m.Long){var l=new m.Long(0,0,false);c.startTimeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.startTimeUnixNano=s.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);c.endTimeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.endTimeUnixNano=s.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null,c.flags=0;}if(o.traceId!=null&&o.hasOwnProperty("traceId")&&(c.traceId=s.bytes===String?m.base64.encode(o.traceId,0,o.traceId.length):s.bytes===Array?Array.prototype.slice.call(o.traceId):o.traceId),o.spanId!=null&&o.hasOwnProperty("spanId")&&(c.spanId=s.bytes===String?m.base64.encode(o.spanId,0,o.spanId.length):s.bytes===Array?Array.prototype.slice.call(o.spanId):o.spanId),o.traceState!=null&&o.hasOwnProperty("traceState")&&(c.traceState=o.traceState),o.parentSpanId!=null&&o.hasOwnProperty("parentSpanId")&&(c.parentSpanId=s.bytes===String?m.base64.encode(o.parentSpanId,0,o.parentSpanId.length):s.bytes===Array?Array.prototype.slice.call(o.parentSpanId):o.parentSpanId),o.name!=null&&o.hasOwnProperty("name")&&(c.name=o.name),o.kind!=null&&o.hasOwnProperty("kind")&&(c.kind=s.enums===String?h.opentelemetry.proto.trace.v1.Span.SpanKind[o.kind]===void 0?o.kind:h.opentelemetry.proto.trace.v1.Span.SpanKind[o.kind]:o.kind),o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&(typeof o.startTimeUnixNano=="number"?c.startTimeUnixNano=s.longs===String?String(o.startTimeUnixNano):o.startTimeUnixNano:c.startTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.startTimeUnixNano):s.longs===Number?new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber():o.startTimeUnixNano),o.endTimeUnixNano!=null&&o.hasOwnProperty("endTimeUnixNano")&&(typeof o.endTimeUnixNano=="number"?c.endTimeUnixNano=s.longs===String?String(o.endTimeUnixNano):o.endTimeUnixNano:c.endTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.endTimeUnixNano):s.longs===Number?new m.LongBits(o.endTimeUnixNano.low>>>0,o.endTimeUnixNano.high>>>0).toNumber():o.endTimeUnixNano),o.attributes&&o.attributes.length){c.attributes=[];for(var u=0;u<o.attributes.length;++u)c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[u],s);}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.events&&o.events.length){c.events=[];for(var u=0;u<o.events.length;++u)c.events[u]=h.opentelemetry.proto.trace.v1.Span.Event.toObject(o.events[u],s);}if(o.droppedEventsCount!=null&&o.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=o.droppedEventsCount),o.links&&o.links.length){c.links=[];for(var u=0;u<o.links.length;++u)c.links[u]=h.opentelemetry.proto.trace.v1.Span.Link.toObject(o.links[u],s);}return o.droppedLinksCount!=null&&o.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=o.droppedLinksCount),o.status!=null&&o.hasOwnProperty("status")&&(c.status=h.opentelemetry.proto.trace.v1.Status.toObject(o.status,s)),o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.Span"},n.SpanKind=(function(){var a={},o=Object.create(a);return o[a[0]="SPAN_KIND_UNSPECIFIED"]=0,o[a[1]="SPAN_KIND_INTERNAL"]=1,o[a[2]="SPAN_KIND_SERVER"]=2,o[a[3]="SPAN_KIND_CLIENT"]=3,o[a[4]="SPAN_KIND_PRODUCER"]=4,o[a[5]="SPAN_KIND_CONSUMER"]=5,o})(),n.Event=(function(){function a(o){if(this.attributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=m.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Te.create()),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(9).fixed64(s.timeUnixNano),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(18).string(s.name),s.attributes!=null&&s.attributes.length)for(var l=0;l<s.attributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[l],c.uint32(26).fork()).ldelim();return s.droppedAttributesCount!=null&&Object.hasOwnProperty.call(s,"droppedAttributesCount")&&c.uint32(32).uint32(s.droppedAttributesCount),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.trace.v1.Span.Event;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.timeUnixNano=s.fixed64();break}case 2:{d.name=s.string();break}case 3:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 4:{d.droppedAttributesCount=s.uint32();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.name!=null&&s.hasOwnProperty("name")&&!m.isString(s.name))return "name: string expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var c=0;c<s.attributes.length;++c){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[c]);if(l)return "attributes."+l}}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(s.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.trace.v1.Span.Event)return s;var c=new h.opentelemetry.proto.trace.v1.Span.Event;if(s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.name!=null&&(c.name=String(s.name)),s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");c.attributes=[];for(var l=0;l<s.attributes.length;++l){if(typeof s.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[l]);}}return s.droppedAttributesCount!=null&&(c.droppedAttributesCount=s.droppedAttributesCount>>>0),c},a.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[]),c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.timeUnixNano=c.longs===String?"0":0;l.name="",l.droppedAttributesCount=0;}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:l.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.name!=null&&s.hasOwnProperty("name")&&(l.name=s.name),s.attributes&&s.attributes.length){l.attributes=[];for(var d=0;d<s.attributes.length;++d)l.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=s.droppedAttributesCount),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.trace.v1.Span.Event"},a})(),n.Link=(function(){function a(o){if(this.attributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=m.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Te.create()),s.traceId!=null&&Object.hasOwnProperty.call(s,"traceId")&&c.uint32(10).bytes(s.traceId),s.spanId!=null&&Object.hasOwnProperty.call(s,"spanId")&&c.uint32(18).bytes(s.spanId),s.traceState!=null&&Object.hasOwnProperty.call(s,"traceState")&&c.uint32(26).string(s.traceState),s.attributes!=null&&s.attributes.length)for(var l=0;l<s.attributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[l],c.uint32(34).fork()).ldelim();return s.droppedAttributesCount!=null&&Object.hasOwnProperty.call(s,"droppedAttributesCount")&&c.uint32(40).uint32(s.droppedAttributesCount),s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(53).fixed32(s.flags),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.trace.v1.Span.Link;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.traceId=s.bytes();break}case 2:{d.spanId=s.bytes();break}case 3:{d.traceState=s.string();break}case 4:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 5:{d.droppedAttributesCount=s.uint32();break}case 6:{d.flags=s.fixed32();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.traceId!=null&&s.hasOwnProperty("traceId")&&!(s.traceId&&typeof s.traceId.length=="number"||m.isString(s.traceId)))return "traceId: buffer expected";if(s.spanId!=null&&s.hasOwnProperty("spanId")&&!(s.spanId&&typeof s.spanId.length=="number"||m.isString(s.spanId)))return "spanId: buffer expected";if(s.traceState!=null&&s.hasOwnProperty("traceState")&&!m.isString(s.traceState))return "traceState: string expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var c=0;c<s.attributes.length;++c){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[c]);if(l)return "attributes."+l}}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(s.droppedAttributesCount)?"droppedAttributesCount: integer expected":s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.trace.v1.Span.Link)return s;var c=new h.opentelemetry.proto.trace.v1.Span.Link;if(s.traceId!=null&&(typeof s.traceId=="string"?m.base64.decode(s.traceId,c.traceId=m.newBuffer(m.base64.length(s.traceId)),0):s.traceId.length>=0&&(c.traceId=s.traceId)),s.spanId!=null&&(typeof s.spanId=="string"?m.base64.decode(s.spanId,c.spanId=m.newBuffer(m.base64.length(s.spanId)),0):s.spanId.length>=0&&(c.spanId=s.spanId)),s.traceState!=null&&(c.traceState=String(s.traceState)),s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");c.attributes=[];for(var l=0;l<s.attributes.length;++l){if(typeof s.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[l]);}}return s.droppedAttributesCount!=null&&(c.droppedAttributesCount=s.droppedAttributesCount>>>0),s.flags!=null&&(c.flags=s.flags>>>0),c},a.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[]),c.defaults&&(c.bytes===String?l.traceId="":(l.traceId=[],c.bytes!==Array&&(l.traceId=m.newBuffer(l.traceId))),c.bytes===String?l.spanId="":(l.spanId=[],c.bytes!==Array&&(l.spanId=m.newBuffer(l.spanId))),l.traceState="",l.droppedAttributesCount=0,l.flags=0),s.traceId!=null&&s.hasOwnProperty("traceId")&&(l.traceId=c.bytes===String?m.base64.encode(s.traceId,0,s.traceId.length):c.bytes===Array?Array.prototype.slice.call(s.traceId):s.traceId),s.spanId!=null&&s.hasOwnProperty("spanId")&&(l.spanId=c.bytes===String?m.base64.encode(s.spanId,0,s.spanId.length):c.bytes===Array?Array.prototype.slice.call(s.spanId):s.spanId),s.traceState!=null&&s.hasOwnProperty("traceState")&&(l.traceState=s.traceState),s.attributes&&s.attributes.length){l.attributes=[];for(var u=0;u<s.attributes.length;++u)l.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[u],c);}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=s.droppedAttributesCount),s.flags!=null&&s.hasOwnProperty("flags")&&(l.flags=s.flags),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.trace.v1.Span.Link"},a})(),n})(),i.Status=(function(){function n(a){if(a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.message=null,n.prototype.code=null,n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=Te.create()),o.message!=null&&Object.hasOwnProperty.call(o,"message")&&s.uint32(18).string(o.message),o.code!=null&&Object.hasOwnProperty.call(o,"code")&&s.uint32(24).int32(o.code),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.trace.v1.Status;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 2:{u.message=o.string();break}case 3:{u.code=o.int32();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.message!=null&&o.hasOwnProperty("message")&&!m.isString(o.message))return "message: string expected";if(o.code!=null&&o.hasOwnProperty("code"))switch(o.code){default:return "code: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.Status)return o;var s=new h.opentelemetry.proto.trace.v1.Status;switch(o.message!=null&&(s.message=String(o.message)),o.code){default:if(typeof o.code=="number"){s.code=o.code;break}break;case "STATUS_CODE_UNSET":case 0:s.code=0;break;case "STATUS_CODE_OK":case 1:s.code=1;break;case "STATUS_CODE_ERROR":case 2:s.code=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};return s.defaults&&(c.message="",c.code=s.enums===String?"STATUS_CODE_UNSET":0),o.message!=null&&o.hasOwnProperty("message")&&(c.message=o.message),o.code!=null&&o.hasOwnProperty("code")&&(c.code=s.enums===String?h.opentelemetry.proto.trace.v1.Status.StatusCode[o.code]===void 0?o.code:h.opentelemetry.proto.trace.v1.Status.StatusCode[o.code]:o.code),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.Status"},n.StatusCode=(function(){var a={},o=Object.create(a);return o[a[0]="STATUS_CODE_UNSET"]=0,o[a[1]="STATUS_CODE_OK"]=1,o[a[2]="STATUS_CODE_ERROR"]=2,o})(),n})(),i.SpanFlags=(function(){var n={},a=Object.create(n);return a[n[0]="SPAN_FLAGS_DO_NOT_USE"]=0,a[n[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,a[n[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,a[n[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,a})(),i})(),r})(),e.collector=(function(){var r={};return r.trace=(function(){var i={};return i.v1=(function(){var n={};return n.TraceService=(function(){function a(o,s,c){ue.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(ue.rpc.Service.prototype)).constructor=a,a.create=function(s,c,l){return new this(s,c,l)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportTraceServiceRequest=(function(){function a(o){if(this.resourceSpans=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceSpans=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Te.create()),s.resourceSpans!=null&&s.resourceSpans.length)for(var l=0;l<s.resourceSpans.length;++l)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(s.resourceSpans[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceSpans!=null&&s.hasOwnProperty("resourceSpans")){if(!Array.isArray(s.resourceSpans))return "resourceSpans: array expected";for(var c=0;c<s.resourceSpans.length;++c){var l=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(s.resourceSpans[c]);if(l)return "resourceSpans."+l}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(s.resourceSpans){if(!Array.isArray(s.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");c.resourceSpans=[];for(var l=0;l<s.resourceSpans.length;++l){if(typeof s.resourceSpans[l]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");c.resourceSpans[l]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(s.resourceSpans[l]);}}return c},a.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceSpans=[]),s.resourceSpans&&s.resourceSpans.length){l.resourceSpans=[];for(var u=0;u<s.resourceSpans.length;++u)l.resourceSpans[u]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(s.resourceSpans[u],c);}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a})(),n.ExportTraceServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(l.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(s.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a})(),n.ExportTracePartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.rejectedSpans!=null&&Object.hasOwnProperty.call(s,"rejectedSpans")&&c.uint32(8).int64(s.rejectedSpans),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.rejectedSpans=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedSpans!=null&&s.hasOwnProperty("rejectedSpans")&&!m.isInteger(s.rejectedSpans)&&!(s.rejectedSpans&&m.isInteger(s.rejectedSpans.low)&&m.isInteger(s.rejectedSpans.high))?"rejectedSpans: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return s.rejectedSpans!=null&&(m.Long?(c.rejectedSpans=m.Long.fromValue(s.rejectedSpans)).unsigned=false:typeof s.rejectedSpans=="string"?c.rejectedSpans=parseInt(s.rejectedSpans,10):typeof s.rejectedSpans=="number"?c.rejectedSpans=s.rejectedSpans:typeof s.rejectedSpans=="object"&&(c.rejectedSpans=new m.LongBits(s.rejectedSpans.low>>>0,s.rejectedSpans.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var l={};if(c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.rejectedSpans=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.rejectedSpans=c.longs===String?"0":0;l.errorMessage="";}return s.rejectedSpans!=null&&s.hasOwnProperty("rejectedSpans")&&(typeof s.rejectedSpans=="number"?l.rejectedSpans=c.longs===String?String(s.rejectedSpans):s.rejectedSpans:l.rejectedSpans=c.longs===String?m.Long.prototype.toString.call(s.rejectedSpans):c.longs===Number?new m.LongBits(s.rejectedSpans.low>>>0,s.rejectedSpans.high>>>0).toNumber():s.rejectedSpans),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(l.errorMessage=s.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a})(),n})(),i})(),r.metrics=(function(){var i={};return i.v1=(function(){var n={};return n.MetricsService=(function(){function a(o,s,c){ue.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(ue.rpc.Service.prototype)).constructor=a,a.create=function(s,c,l){return new this(s,c,l)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportMetricsServiceRequest=(function(){function a(o){if(this.resourceMetrics=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceMetrics=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Te.create()),s.resourceMetrics!=null&&s.resourceMetrics.length)for(var l=0;l<s.resourceMetrics.length;++l)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(s.resourceMetrics[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceMetrics!=null&&s.hasOwnProperty("resourceMetrics")){if(!Array.isArray(s.resourceMetrics))return "resourceMetrics: array expected";for(var c=0;c<s.resourceMetrics.length;++c){var l=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(s.resourceMetrics[c]);if(l)return "resourceMetrics."+l}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(s.resourceMetrics){if(!Array.isArray(s.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");c.resourceMetrics=[];for(var l=0;l<s.resourceMetrics.length;++l){if(typeof s.resourceMetrics[l]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");c.resourceMetrics[l]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(s.resourceMetrics[l]);}}return c},a.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceMetrics=[]),s.resourceMetrics&&s.resourceMetrics.length){l.resourceMetrics=[];for(var u=0;u<s.resourceMetrics.length;++u)l.resourceMetrics[u]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(s.resourceMetrics[u],c);}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a})(),n.ExportMetricsServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(l.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(s.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a})(),n.ExportMetricsPartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.rejectedDataPoints!=null&&Object.hasOwnProperty.call(s,"rejectedDataPoints")&&c.uint32(8).int64(s.rejectedDataPoints),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.rejectedDataPoints=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedDataPoints!=null&&s.hasOwnProperty("rejectedDataPoints")&&!m.isInteger(s.rejectedDataPoints)&&!(s.rejectedDataPoints&&m.isInteger(s.rejectedDataPoints.low)&&m.isInteger(s.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return s.rejectedDataPoints!=null&&(m.Long?(c.rejectedDataPoints=m.Long.fromValue(s.rejectedDataPoints)).unsigned=false:typeof s.rejectedDataPoints=="string"?c.rejectedDataPoints=parseInt(s.rejectedDataPoints,10):typeof s.rejectedDataPoints=="number"?c.rejectedDataPoints=s.rejectedDataPoints:typeof s.rejectedDataPoints=="object"&&(c.rejectedDataPoints=new m.LongBits(s.rejectedDataPoints.low>>>0,s.rejectedDataPoints.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var l={};if(c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.rejectedDataPoints=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.rejectedDataPoints=c.longs===String?"0":0;l.errorMessage="";}return s.rejectedDataPoints!=null&&s.hasOwnProperty("rejectedDataPoints")&&(typeof s.rejectedDataPoints=="number"?l.rejectedDataPoints=c.longs===String?String(s.rejectedDataPoints):s.rejectedDataPoints:l.rejectedDataPoints=c.longs===String?m.Long.prototype.toString.call(s.rejectedDataPoints):c.longs===Number?new m.LongBits(s.rejectedDataPoints.low>>>0,s.rejectedDataPoints.high>>>0).toNumber():s.rejectedDataPoints),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(l.errorMessage=s.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a})(),n})(),i})(),r.logs=(function(){var i={};return i.v1=(function(){var n={};return n.LogsService=(function(){function a(o,s,c){ue.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(ue.rpc.Service.prototype)).constructor=a,a.create=function(s,c,l){return new this(s,c,l)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportLogsServiceRequest=(function(){function a(o){if(this.resourceLogs=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceLogs=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Te.create()),s.resourceLogs!=null&&s.resourceLogs.length)for(var l=0;l<s.resourceLogs.length;++l)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(s.resourceLogs[l],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceLogs!=null&&s.hasOwnProperty("resourceLogs")){if(!Array.isArray(s.resourceLogs))return "resourceLogs: array expected";for(var c=0;c<s.resourceLogs.length;++c){var l=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(s.resourceLogs[c]);if(l)return "resourceLogs."+l}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(s.resourceLogs){if(!Array.isArray(s.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");c.resourceLogs=[];for(var l=0;l<s.resourceLogs.length;++l){if(typeof s.resourceLogs[l]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");c.resourceLogs[l]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(s.resourceLogs[l]);}}return c},a.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.resourceLogs=[]),s.resourceLogs&&s.resourceLogs.length){l.resourceLogs=[];for(var u=0;u<s.resourceLogs.length;++u)l.resourceLogs[u]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(s.resourceLogs[u],c);}return l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a})(),n.ExportLogsServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var l={};return c.defaults&&(l.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(l.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(s.partialSuccess,c)),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a})(),n.ExportLogsPartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.rejectedLogRecords!=null&&Object.hasOwnProperty.call(s,"rejectedLogRecords")&&c.uint32(8).int64(s.rejectedLogRecords),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.rejectedLogRecords=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedLogRecords!=null&&s.hasOwnProperty("rejectedLogRecords")&&!m.isInteger(s.rejectedLogRecords)&&!(s.rejectedLogRecords&&m.isInteger(s.rejectedLogRecords.low)&&m.isInteger(s.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return s.rejectedLogRecords!=null&&(m.Long?(c.rejectedLogRecords=m.Long.fromValue(s.rejectedLogRecords)).unsigned=false:typeof s.rejectedLogRecords=="string"?c.rejectedLogRecords=parseInt(s.rejectedLogRecords,10):typeof s.rejectedLogRecords=="number"?c.rejectedLogRecords=s.rejectedLogRecords:typeof s.rejectedLogRecords=="object"&&(c.rejectedLogRecords=new m.LongBits(s.rejectedLogRecords.low>>>0,s.rejectedLogRecords.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var l={};if(c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.rejectedLogRecords=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.rejectedLogRecords=c.longs===String?"0":0;l.errorMessage="";}return s.rejectedLogRecords!=null&&s.hasOwnProperty("rejectedLogRecords")&&(typeof s.rejectedLogRecords=="number"?l.rejectedLogRecords=c.longs===String?String(s.rejectedLogRecords):s.rejectedLogRecords:l.rejectedLogRecords=c.longs===String?m.Long.prototype.toString.call(s.rejectedLogRecords):c.longs===Number?new m.LongBits(s.rejectedLogRecords.low>>>0,s.rejectedLogRecords.high>>>0).toNumber():s.rejectedLogRecords),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(l.errorMessage=s.errorMessage),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a})(),n})(),i})(),r})(),e.metrics=(function(){var r={};return r.v1=(function(){var i={};return i.MetricsData=(function(){function n(a){if(this.resourceMetrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceMetrics=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resourceMetrics!=null&&o.resourceMetrics.length)for(var c=0;c<o.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(o.resourceMetrics[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.MetricsData;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceMetrics!=null&&o.hasOwnProperty("resourceMetrics")){if(!Array.isArray(o.resourceMetrics))return "resourceMetrics: array expected";for(var s=0;s<o.resourceMetrics.length;++s){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(o.resourceMetrics[s]);if(c)return "resourceMetrics."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.MetricsData)return o;var s=new h.opentelemetry.proto.metrics.v1.MetricsData;if(o.resourceMetrics){if(!Array.isArray(o.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");s.resourceMetrics=[];for(var c=0;c<o.resourceMetrics.length;++c){if(typeof o.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");s.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(o.resourceMetrics[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceMetrics=[]),o.resourceMetrics&&o.resourceMetrics.length){c.resourceMetrics=[];for(var l=0;l<o.resourceMetrics.length;++l)c.resourceMetrics[l]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(o.resourceMetrics[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.MetricsData"},n})(),i.ResourceMetrics=(function(){function n(a){if(this.scopeMetrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeMetrics=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeMetrics!=null&&o.scopeMetrics.length)for(var c=0;c<o.scopeMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(o.scopeMetrics[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{u.scopeMetrics&&u.scopeMetrics.length||(u.scopeMetrics=[]),u.scopeMetrics.push(h.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeMetrics!=null&&o.hasOwnProperty("scopeMetrics")){if(!Array.isArray(o.scopeMetrics))return "scopeMetrics: array expected";for(var c=0;c<o.scopeMetrics.length;++c){var s=h.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(o.scopeMetrics[c]);if(s)return "scopeMetrics."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ResourceMetrics)return o;var s=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeMetrics){if(!Array.isArray(o.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");s.scopeMetrics=[];for(var c=0;c<o.scopeMetrics.length;++c){if(typeof o.scopeMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");s.scopeMetrics[c]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(o.scopeMetrics[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeMetrics=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeMetrics&&o.scopeMetrics.length){c.scopeMetrics=[];for(var l=0;l<o.scopeMetrics.length;++l)c.scopeMetrics[l]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(o.scopeMetrics[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},n})(),i.ScopeMetrics=(function(){function n(a){if(this.metrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.metrics=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.metrics!=null&&o.metrics.length)for(var c=0;c<o.metrics.length;++c)h.opentelemetry.proto.metrics.v1.Metric.encode(o.metrics[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{u.metrics&&u.metrics.length||(u.metrics=[]),u.metrics.push(h.opentelemetry.proto.metrics.v1.Metric.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.metrics!=null&&o.hasOwnProperty("metrics")){if(!Array.isArray(o.metrics))return "metrics: array expected";for(var c=0;c<o.metrics.length;++c){var s=h.opentelemetry.proto.metrics.v1.Metric.verify(o.metrics[c]);if(s)return "metrics."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ScopeMetrics)return o;var s=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.metrics){if(!Array.isArray(o.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");s.metrics=[];for(var c=0;c<o.metrics.length;++c){if(typeof o.metrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");s.metrics[c]=h.opentelemetry.proto.metrics.v1.Metric.fromObject(o.metrics[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.metrics=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.metrics&&o.metrics.length){c.metrics=[];for(var l=0;l<o.metrics.length;++l)c.metrics[l]=h.opentelemetry.proto.metrics.v1.Metric.toObject(o.metrics[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},n})(),i.Metric=(function(){function n(o){if(this.metadata=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.name=null,n.prototype.description=null,n.prototype.unit=null,n.prototype.gauge=null,n.prototype.sum=null,n.prototype.histogram=null,n.prototype.exponentialHistogram=null,n.prototype.summary=null,n.prototype.metadata=m.emptyArray;var a;return Object.defineProperty(n.prototype,"data",{get:m.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Te.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(10).string(s.name),s.description!=null&&Object.hasOwnProperty.call(s,"description")&&c.uint32(18).string(s.description),s.unit!=null&&Object.hasOwnProperty.call(s,"unit")&&c.uint32(26).string(s.unit),s.gauge!=null&&Object.hasOwnProperty.call(s,"gauge")&&h.opentelemetry.proto.metrics.v1.Gauge.encode(s.gauge,c.uint32(42).fork()).ldelim(),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&h.opentelemetry.proto.metrics.v1.Sum.encode(s.sum,c.uint32(58).fork()).ldelim(),s.histogram!=null&&Object.hasOwnProperty.call(s,"histogram")&&h.opentelemetry.proto.metrics.v1.Histogram.encode(s.histogram,c.uint32(74).fork()).ldelim(),s.exponentialHistogram!=null&&Object.hasOwnProperty.call(s,"exponentialHistogram")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(s.exponentialHistogram,c.uint32(82).fork()).ldelim(),s.summary!=null&&Object.hasOwnProperty.call(s,"summary")&&h.opentelemetry.proto.metrics.v1.Summary.encode(s.summary,c.uint32(90).fork()).ldelim(),s.metadata!=null&&s.metadata.length)for(var l=0;l<s.metadata.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.metadata[l],c.uint32(98).fork()).ldelim();return c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.Metric;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.name=s.string();break}case 2:{d.description=s.string();break}case 3:{d.unit=s.string();break}case 5:{d.gauge=h.opentelemetry.proto.metrics.v1.Gauge.decode(s,s.uint32());break}case 7:{d.sum=h.opentelemetry.proto.metrics.v1.Sum.decode(s,s.uint32());break}case 9:{d.histogram=h.opentelemetry.proto.metrics.v1.Histogram.decode(s,s.uint32());break}case 10:{d.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(s,s.uint32());break}case 11:{d.summary=h.opentelemetry.proto.metrics.v1.Summary.decode(s,s.uint32());break}case 12:{d.metadata&&d.metadata.length||(d.metadata=[]),d.metadata.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.name!=null&&s.hasOwnProperty("name")&&!m.isString(s.name))return "name: string expected";if(s.description!=null&&s.hasOwnProperty("description")&&!m.isString(s.description))return "description: string expected";if(s.unit!=null&&s.hasOwnProperty("unit")&&!m.isString(s.unit))return "unit: string expected";if(s.gauge!=null&&s.hasOwnProperty("gauge")){c.data=1;{var l=h.opentelemetry.proto.metrics.v1.Gauge.verify(s.gauge);if(l)return "gauge."+l}}if(s.sum!=null&&s.hasOwnProperty("sum")){if(c.data===1)return "data: multiple values";c.data=1;{var l=h.opentelemetry.proto.metrics.v1.Sum.verify(s.sum);if(l)return "sum."+l}}if(s.histogram!=null&&s.hasOwnProperty("histogram")){if(c.data===1)return "data: multiple values";c.data=1;{var l=h.opentelemetry.proto.metrics.v1.Histogram.verify(s.histogram);if(l)return "histogram."+l}}if(s.exponentialHistogram!=null&&s.hasOwnProperty("exponentialHistogram")){if(c.data===1)return "data: multiple values";c.data=1;{var l=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(s.exponentialHistogram);if(l)return "exponentialHistogram."+l}}if(s.summary!=null&&s.hasOwnProperty("summary")){if(c.data===1)return "data: multiple values";c.data=1;{var l=h.opentelemetry.proto.metrics.v1.Summary.verify(s.summary);if(l)return "summary."+l}}if(s.metadata!=null&&s.hasOwnProperty("metadata")){if(!Array.isArray(s.metadata))return "metadata: array expected";for(var u=0;u<s.metadata.length;++u){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.metadata[u]);if(l)return "metadata."+l}}return null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.Metric)return s;var c=new h.opentelemetry.proto.metrics.v1.Metric;if(s.name!=null&&(c.name=String(s.name)),s.description!=null&&(c.description=String(s.description)),s.unit!=null&&(c.unit=String(s.unit)),s.gauge!=null){if(typeof s.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");c.gauge=h.opentelemetry.proto.metrics.v1.Gauge.fromObject(s.gauge);}if(s.sum!=null){if(typeof s.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");c.sum=h.opentelemetry.proto.metrics.v1.Sum.fromObject(s.sum);}if(s.histogram!=null){if(typeof s.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");c.histogram=h.opentelemetry.proto.metrics.v1.Histogram.fromObject(s.histogram);}if(s.exponentialHistogram!=null){if(typeof s.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");c.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(s.exponentialHistogram);}if(s.summary!=null){if(typeof s.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");c.summary=h.opentelemetry.proto.metrics.v1.Summary.fromObject(s.summary);}if(s.metadata){if(!Array.isArray(s.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");c.metadata=[];for(var l=0;l<s.metadata.length;++l){if(typeof s.metadata[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");c.metadata[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.metadata[l]);}}return c},n.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.metadata=[]),c.defaults&&(l.name="",l.description="",l.unit=""),s.name!=null&&s.hasOwnProperty("name")&&(l.name=s.name),s.description!=null&&s.hasOwnProperty("description")&&(l.description=s.description),s.unit!=null&&s.hasOwnProperty("unit")&&(l.unit=s.unit),s.gauge!=null&&s.hasOwnProperty("gauge")&&(l.gauge=h.opentelemetry.proto.metrics.v1.Gauge.toObject(s.gauge,c),c.oneofs&&(l.data="gauge")),s.sum!=null&&s.hasOwnProperty("sum")&&(l.sum=h.opentelemetry.proto.metrics.v1.Sum.toObject(s.sum,c),c.oneofs&&(l.data="sum")),s.histogram!=null&&s.hasOwnProperty("histogram")&&(l.histogram=h.opentelemetry.proto.metrics.v1.Histogram.toObject(s.histogram,c),c.oneofs&&(l.data="histogram")),s.exponentialHistogram!=null&&s.hasOwnProperty("exponentialHistogram")&&(l.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(s.exponentialHistogram,c),c.oneofs&&(l.data="exponentialHistogram")),s.summary!=null&&s.hasOwnProperty("summary")&&(l.summary=h.opentelemetry.proto.metrics.v1.Summary.toObject(s.summary,c),c.oneofs&&(l.data="summary")),s.metadata&&s.metadata.length){l.metadata=[];for(var u=0;u<s.metadata.length;++u)l.metadata[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.metadata[u],c);}return l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.Metric"},n})(),i.Gauge=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.Gauge;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.dataPoints&&u.dataPoints.length||(u.dataPoints=[]),u.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Gauge)return o;var s=new h.opentelemetry.proto.metrics.v1.Gauge;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(o.dataPoints[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var l=0;l<o.dataPoints.length;++l)c.dataPoints[l]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(o.dataPoints[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Gauge"},n})(),i.Sum=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.prototype.isMonotonic=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),o.isMonotonic!=null&&Object.hasOwnProperty.call(o,"isMonotonic")&&s.uint32(24).bool(o.isMonotonic),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.Sum;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.dataPoints&&u.dataPoints.length||(u.dataPoints=[]),u.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(o,o.uint32()));break}case 2:{u.aggregationTemporality=o.int32();break}case 3:{u.isMonotonic=o.bool();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return o.isMonotonic!=null&&o.hasOwnProperty("isMonotonic")&&typeof o.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Sum)return o;var s=new h.opentelemetry.proto.metrics.v1.Sum;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return o.isMonotonic!=null&&(s.isMonotonic=!!o.isMonotonic),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=false),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var l=0;l<o.dataPoints.length;++l)c.dataPoints[l]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(o.dataPoints[l],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),o.isMonotonic!=null&&o.hasOwnProperty("isMonotonic")&&(c.isMonotonic=o.isMonotonic),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Sum"},n})(),i.Histogram=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.Histogram;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.dataPoints&&u.dataPoints.length||(u.dataPoints=[]),u.dataPoints.push(h.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(o,o.uint32()));break}case 2:{u.aggregationTemporality=o.int32();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Histogram)return o;var s=new h.opentelemetry.proto.metrics.v1.Histogram;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var l=0;l<o.dataPoints.length;++l)c.dataPoints[l]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(o.dataPoints[l],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Histogram"},n})(),i.ExponentialHistogram=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.dataPoints&&u.dataPoints.length||(u.dataPoints=[]),u.dataPoints.push(h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(o,o.uint32()));break}case 2:{u.aggregationTemporality=o.int32();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogram)return o;var s=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var l=0;l<o.dataPoints.length;++l)c.dataPoints[l]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(o.dataPoints[l],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},n})(),i.Summary=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.Summary;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.dataPoints&&u.dataPoints.length||(u.dataPoints=[]),u.dataPoints.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Summary)return o;var s=new h.opentelemetry.proto.metrics.v1.Summary;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(o.dataPoints[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var l=0;l<o.dataPoints.length;++l)c.dataPoints[l]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(o.dataPoints[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Summary"},n})(),i.AggregationTemporality=(function(){var n={},a=Object.create(n);return a[n[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[n[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[n[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a})(),i.DataPointFlags=(function(){var n={},a=Object.create(n);return a[n[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[n[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a})(),i.NumberDataPoint=(function(){function n(o){if(this.attributes=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.asDouble=null,n.prototype.asInt=null,n.prototype.exemplars=m.emptyArray,n.prototype.flags=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["asDouble","asInt"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Te.create()),s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.asDouble!=null&&Object.hasOwnProperty.call(s,"asDouble")&&c.uint32(33).double(s.asDouble),s.exemplars!=null&&s.exemplars.length)for(var l=0;l<s.exemplars.length;++l)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[l],c.uint32(42).fork()).ldelim();if(s.asInt!=null&&Object.hasOwnProperty.call(s,"asInt")&&c.uint32(49).sfixed64(s.asInt),s.attributes!=null&&s.attributes.length)for(var l=0;l<s.attributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[l],c.uint32(58).fork()).ldelim();return s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(64).uint32(s.flags),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 7:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.asDouble=s.double();break}case 6:{d.asInt=s.sfixed64();break}case 5:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 8:{d.flags=s.uint32();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var l=0;l<s.attributes.length;++l){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[l]);if(u)return "attributes."+u}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(c.value=1,typeof s.asDouble!="number"))return "asDouble: number expected";if(s.asInt!=null&&s.hasOwnProperty("asInt")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.asInt)&&!(s.asInt&&m.isInteger(s.asInt.low)&&m.isInteger(s.asInt.high)))return "asInt: integer|Long expected"}if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var l=0;l<s.exemplars.length;++l){var u=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[l]);if(u)return "exemplars."+u}}return s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.NumberDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<s.attributes.length;++l){if(typeof s.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[l]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.asDouble!=null&&(c.asDouble=Number(s.asDouble)),s.asInt!=null&&(m.Long?(c.asInt=m.Long.fromValue(s.asInt)).unsigned=false:typeof s.asInt=="string"?c.asInt=parseInt(s.asInt,10):typeof s.asInt=="number"?c.asInt=s.asInt:typeof s.asInt=="object"&&(c.asInt=new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber())),s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<s.exemplars.length;++l){if(typeof s.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");c.exemplars[l]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[l]);}}return s.flags!=null&&(c.flags=s.flags>>>0),c},n.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.exemplars=[],l.attributes=[]),c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.timeUnixNano=c.longs===String?"0":0;l.flags=0;}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:l.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(l.asDouble=c.json&&!isFinite(s.asDouble)?String(s.asDouble):s.asDouble,c.oneofs&&(l.value="asDouble")),s.exemplars&&s.exemplars.length){l.exemplars=[];for(var d=0;d<s.exemplars.length;++d)l.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}if(s.asInt!=null&&s.hasOwnProperty("asInt")&&(typeof s.asInt=="number"?l.asInt=c.longs===String?String(s.asInt):s.asInt:l.asInt=c.longs===String?m.Long.prototype.toString.call(s.asInt):c.longs===Number?new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber():s.asInt,c.oneofs&&(l.value="asInt")),s.attributes&&s.attributes.length){l.attributes=[];for(var d=0;d<s.attributes.length;++d)l.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.flags!=null&&s.hasOwnProperty("flags")&&(l.flags=s.flags),l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},n})(),i.HistogramDataPoint=(function(){function n(o){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.bucketCounts=m.emptyArray,n.prototype.explicitBounds=m.emptyArray,n.prototype.exemplars=m.emptyArray,n.prototype.flags=null,n.prototype.min=null,n.prototype.max=null;var a;return Object.defineProperty(n.prototype,"_sum",{get:m.oneOfGetter(a=["sum"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_min",{get:m.oneOfGetter(a=["min"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_max",{get:m.oneOfGetter(a=["max"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Te.create()),s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.count!=null&&Object.hasOwnProperty.call(s,"count")&&c.uint32(33).fixed64(s.count),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&c.uint32(41).double(s.sum),s.bucketCounts!=null&&s.bucketCounts.length){c.uint32(50).fork();for(var l=0;l<s.bucketCounts.length;++l)c.fixed64(s.bucketCounts[l]);c.ldelim();}if(s.explicitBounds!=null&&s.explicitBounds.length){c.uint32(58).fork();for(var l=0;l<s.explicitBounds.length;++l)c.double(s.explicitBounds[l]);c.ldelim();}if(s.exemplars!=null&&s.exemplars.length)for(var l=0;l<s.exemplars.length;++l)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[l],c.uint32(66).fork()).ldelim();if(s.attributes!=null&&s.attributes.length)for(var l=0;l<s.attributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[l],c.uint32(74).fork()).ldelim();return s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(80).uint32(s.flags),s.min!=null&&Object.hasOwnProperty.call(s,"min")&&c.uint32(89).double(s.min),s.max!=null&&Object.hasOwnProperty.call(s,"max")&&c.uint32(97).double(s.max),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 9:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.count=s.fixed64();break}case 5:{d.sum=s.double();break}case 6:{if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(p&7)===2)for(var f=s.uint32()+s.pos;s.pos<f;)d.bucketCounts.push(s.fixed64());else d.bucketCounts.push(s.fixed64());break}case 7:{if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(p&7)===2)for(var f=s.uint32()+s.pos;s.pos<f;)d.explicitBounds.push(s.double());else d.explicitBounds.push(s.double());break}case 8:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 10:{d.flags=s.uint32();break}case 11:{d.min=s.double();break}case 12:{d.max=s.double();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var l=0;l<s.attributes.length;++l){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[l]);if(u)return "attributes."+u}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.count!=null&&s.hasOwnProperty("count")&&!m.isInteger(s.count)&&!(s.count&&m.isInteger(s.count.low)&&m.isInteger(s.count.high)))return "count: integer|Long expected";if(s.sum!=null&&s.hasOwnProperty("sum")&&(typeof s.sum!="number"))return "sum: number expected";if(s.bucketCounts!=null&&s.hasOwnProperty("bucketCounts")){if(!Array.isArray(s.bucketCounts))return "bucketCounts: array expected";for(var l=0;l<s.bucketCounts.length;++l)if(!m.isInteger(s.bucketCounts[l])&&!(s.bucketCounts[l]&&m.isInteger(s.bucketCounts[l].low)&&m.isInteger(s.bucketCounts[l].high)))return "bucketCounts: integer|Long[] expected"}if(s.explicitBounds!=null&&s.hasOwnProperty("explicitBounds")){if(!Array.isArray(s.explicitBounds))return "explicitBounds: array expected";for(var l=0;l<s.explicitBounds.length;++l)if(typeof s.explicitBounds[l]!="number")return "explicitBounds: number[] expected"}if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var l=0;l<s.exemplars.length;++l){var u=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[l]);if(u)return "exemplars."+u}}return s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":s.min!=null&&s.hasOwnProperty("min")&&(typeof s.min!="number")?"min: number expected":s.max!=null&&s.hasOwnProperty("max")&&(typeof s.max!="number")?"max: number expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.HistogramDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<s.attributes.length;++l){if(typeof s.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[l]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.count!=null&&(m.Long?(c.count=m.Long.fromValue(s.count)).unsigned=false:typeof s.count=="string"?c.count=parseInt(s.count,10):typeof s.count=="number"?c.count=s.count:typeof s.count=="object"&&(c.count=new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber())),s.sum!=null&&(c.sum=Number(s.sum)),s.bucketCounts){if(!Array.isArray(s.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");c.bucketCounts=[];for(var l=0;l<s.bucketCounts.length;++l)m.Long?(c.bucketCounts[l]=m.Long.fromValue(s.bucketCounts[l])).unsigned=false:typeof s.bucketCounts[l]=="string"?c.bucketCounts[l]=parseInt(s.bucketCounts[l],10):typeof s.bucketCounts[l]=="number"?c.bucketCounts[l]=s.bucketCounts[l]:typeof s.bucketCounts[l]=="object"&&(c.bucketCounts[l]=new m.LongBits(s.bucketCounts[l].low>>>0,s.bucketCounts[l].high>>>0).toNumber());}if(s.explicitBounds){if(!Array.isArray(s.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");c.explicitBounds=[];for(var l=0;l<s.explicitBounds.length;++l)c.explicitBounds[l]=Number(s.explicitBounds[l]);}if(s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<s.exemplars.length;++l){if(typeof s.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");c.exemplars[l]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[l]);}}return s.flags!=null&&(c.flags=s.flags>>>0),s.min!=null&&(c.min=Number(s.min)),s.max!=null&&(c.max=Number(s.max)),c},n.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.bucketCounts=[],l.explicitBounds=[],l.exemplars=[],l.attributes=[]),c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.timeUnixNano=c.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);l.count=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.count=c.longs===String?"0":0;l.flags=0;}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:l.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.count!=null&&s.hasOwnProperty("count")&&(typeof s.count=="number"?l.count=c.longs===String?String(s.count):s.count:l.count=c.longs===String?m.Long.prototype.toString.call(s.count):c.longs===Number?new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber():s.count),s.sum!=null&&s.hasOwnProperty("sum")&&(l.sum=c.json&&!isFinite(s.sum)?String(s.sum):s.sum,c.oneofs&&(l._sum="sum")),s.bucketCounts&&s.bucketCounts.length){l.bucketCounts=[];for(var d=0;d<s.bucketCounts.length;++d)typeof s.bucketCounts[d]=="number"?l.bucketCounts[d]=c.longs===String?String(s.bucketCounts[d]):s.bucketCounts[d]:l.bucketCounts[d]=c.longs===String?m.Long.prototype.toString.call(s.bucketCounts[d]):c.longs===Number?new m.LongBits(s.bucketCounts[d].low>>>0,s.bucketCounts[d].high>>>0).toNumber():s.bucketCounts[d];}if(s.explicitBounds&&s.explicitBounds.length){l.explicitBounds=[];for(var d=0;d<s.explicitBounds.length;++d)l.explicitBounds[d]=c.json&&!isFinite(s.explicitBounds[d])?String(s.explicitBounds[d]):s.explicitBounds[d];}if(s.exemplars&&s.exemplars.length){l.exemplars=[];for(var d=0;d<s.exemplars.length;++d)l.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}if(s.attributes&&s.attributes.length){l.attributes=[];for(var d=0;d<s.attributes.length;++d)l.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.flags!=null&&s.hasOwnProperty("flags")&&(l.flags=s.flags),s.min!=null&&s.hasOwnProperty("min")&&(l.min=c.json&&!isFinite(s.min)?String(s.min):s.min,c.oneofs&&(l._min="min")),s.max!=null&&s.hasOwnProperty("max")&&(l.max=c.json&&!isFinite(s.max)?String(s.max):s.max,c.oneofs&&(l._max="max")),l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},n})(),i.ExponentialHistogramDataPoint=(function(){function n(o){if(this.attributes=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.scale=null,n.prototype.zeroCount=null,n.prototype.positive=null,n.prototype.negative=null,n.prototype.flags=null,n.prototype.exemplars=m.emptyArray,n.prototype.min=null,n.prototype.max=null,n.prototype.zeroThreshold=null;var a;return Object.defineProperty(n.prototype,"_sum",{get:m.oneOfGetter(a=["sum"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_min",{get:m.oneOfGetter(a=["min"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_max",{get:m.oneOfGetter(a=["max"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Te.create()),s.attributes!=null&&s.attributes.length)for(var l=0;l<s.attributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[l],c.uint32(10).fork()).ldelim();if(s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.count!=null&&Object.hasOwnProperty.call(s,"count")&&c.uint32(33).fixed64(s.count),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&c.uint32(41).double(s.sum),s.scale!=null&&Object.hasOwnProperty.call(s,"scale")&&c.uint32(48).sint32(s.scale),s.zeroCount!=null&&Object.hasOwnProperty.call(s,"zeroCount")&&c.uint32(57).fixed64(s.zeroCount),s.positive!=null&&Object.hasOwnProperty.call(s,"positive")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(s.positive,c.uint32(66).fork()).ldelim(),s.negative!=null&&Object.hasOwnProperty.call(s,"negative")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(s.negative,c.uint32(74).fork()).ldelim(),s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(80).uint32(s.flags),s.exemplars!=null&&s.exemplars.length)for(var l=0;l<s.exemplars.length;++l)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[l],c.uint32(90).fork()).ldelim();return s.min!=null&&Object.hasOwnProperty.call(s,"min")&&c.uint32(97).double(s.min),s.max!=null&&Object.hasOwnProperty.call(s,"max")&&c.uint32(105).double(s.max),s.zeroThreshold!=null&&Object.hasOwnProperty.call(s,"zeroThreshold")&&c.uint32(113).double(s.zeroThreshold),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.count=s.fixed64();break}case 5:{d.sum=s.double();break}case 6:{d.scale=s.sint32();break}case 7:{d.zeroCount=s.fixed64();break}case 8:{d.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(s,s.uint32());break}case 9:{d.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(s,s.uint32());break}case 10:{d.flags=s.uint32();break}case 11:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 12:{d.min=s.double();break}case 13:{d.max=s.double();break}case 14:{d.zeroThreshold=s.double();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var l=0;l<s.attributes.length;++l){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[l]);if(u)return "attributes."+u}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.count!=null&&s.hasOwnProperty("count")&&!m.isInteger(s.count)&&!(s.count&&m.isInteger(s.count.low)&&m.isInteger(s.count.high)))return "count: integer|Long expected";if(s.sum!=null&&s.hasOwnProperty("sum")&&(typeof s.sum!="number"))return "sum: number expected";if(s.scale!=null&&s.hasOwnProperty("scale")&&!m.isInteger(s.scale))return "scale: integer expected";if(s.zeroCount!=null&&s.hasOwnProperty("zeroCount")&&!m.isInteger(s.zeroCount)&&!(s.zeroCount&&m.isInteger(s.zeroCount.low)&&m.isInteger(s.zeroCount.high)))return "zeroCount: integer|Long expected";if(s.positive!=null&&s.hasOwnProperty("positive")){var u=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(s.positive);if(u)return "positive."+u}if(s.negative!=null&&s.hasOwnProperty("negative")){var u=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(s.negative);if(u)return "negative."+u}if(s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags))return "flags: integer expected";if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var l=0;l<s.exemplars.length;++l){var u=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[l]);if(u)return "exemplars."+u}}return s.min!=null&&s.hasOwnProperty("min")&&(typeof s.min!="number")?"min: number expected":s.max!=null&&s.hasOwnProperty("max")&&(typeof s.max!="number")?"max: number expected":s.zeroThreshold!=null&&s.hasOwnProperty("zeroThreshold")&&typeof s.zeroThreshold!="number"?"zeroThreshold: number expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");c.attributes=[];for(var l=0;l<s.attributes.length;++l){if(typeof s.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[l]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.count!=null&&(m.Long?(c.count=m.Long.fromValue(s.count)).unsigned=false:typeof s.count=="string"?c.count=parseInt(s.count,10):typeof s.count=="number"?c.count=s.count:typeof s.count=="object"&&(c.count=new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber())),s.sum!=null&&(c.sum=Number(s.sum)),s.scale!=null&&(c.scale=s.scale|0),s.zeroCount!=null&&(m.Long?(c.zeroCount=m.Long.fromValue(s.zeroCount)).unsigned=false:typeof s.zeroCount=="string"?c.zeroCount=parseInt(s.zeroCount,10):typeof s.zeroCount=="number"?c.zeroCount=s.zeroCount:typeof s.zeroCount=="object"&&(c.zeroCount=new m.LongBits(s.zeroCount.low>>>0,s.zeroCount.high>>>0).toNumber())),s.positive!=null){if(typeof s.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");c.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(s.positive);}if(s.negative!=null){if(typeof s.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");c.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(s.negative);}if(s.flags!=null&&(c.flags=s.flags>>>0),s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var l=0;l<s.exemplars.length;++l){if(typeof s.exemplars[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");c.exemplars[l]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[l]);}}return s.min!=null&&(c.min=Number(s.min)),s.max!=null&&(c.max=Number(s.max)),s.zeroThreshold!=null&&(c.zeroThreshold=Number(s.zeroThreshold)),c},n.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.attributes=[],l.exemplars=[]),c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.startTimeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.timeUnixNano=c.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);l.count=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.count=c.longs===String?"0":0;if(l.scale=0,m.Long){var u=new m.Long(0,0,false);l.zeroCount=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.zeroCount=c.longs===String?"0":0;l.positive=null,l.negative=null,l.flags=0,l.zeroThreshold=0;}if(s.attributes&&s.attributes.length){l.attributes=[];for(var d=0;d<s.attributes.length;++d)l.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?l.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:l.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:l.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.count!=null&&s.hasOwnProperty("count")&&(typeof s.count=="number"?l.count=c.longs===String?String(s.count):s.count:l.count=c.longs===String?m.Long.prototype.toString.call(s.count):c.longs===Number?new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber():s.count),s.sum!=null&&s.hasOwnProperty("sum")&&(l.sum=c.json&&!isFinite(s.sum)?String(s.sum):s.sum,c.oneofs&&(l._sum="sum")),s.scale!=null&&s.hasOwnProperty("scale")&&(l.scale=s.scale),s.zeroCount!=null&&s.hasOwnProperty("zeroCount")&&(typeof s.zeroCount=="number"?l.zeroCount=c.longs===String?String(s.zeroCount):s.zeroCount:l.zeroCount=c.longs===String?m.Long.prototype.toString.call(s.zeroCount):c.longs===Number?new m.LongBits(s.zeroCount.low>>>0,s.zeroCount.high>>>0).toNumber():s.zeroCount),s.positive!=null&&s.hasOwnProperty("positive")&&(l.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(s.positive,c)),s.negative!=null&&s.hasOwnProperty("negative")&&(l.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(s.negative,c)),s.flags!=null&&s.hasOwnProperty("flags")&&(l.flags=s.flags),s.exemplars&&s.exemplars.length){l.exemplars=[];for(var d=0;d<s.exemplars.length;++d)l.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}return s.min!=null&&s.hasOwnProperty("min")&&(l.min=c.json&&!isFinite(s.min)?String(s.min):s.min,c.oneofs&&(l._min="min")),s.max!=null&&s.hasOwnProperty("max")&&(l.max=c.json&&!isFinite(s.max)?String(s.max):s.max,c.oneofs&&(l._max="max")),s.zeroThreshold!=null&&s.hasOwnProperty("zeroThreshold")&&(l.zeroThreshold=c.json&&!isFinite(s.zeroThreshold)?String(s.zeroThreshold):s.zeroThreshold),l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},n.Buckets=(function(){function o(s){if(this.bucketCounts=[],s)for(var c=Object.keys(s),l=0;l<c.length;++l)s[c[l]]!=null&&(this[c[l]]=s[c[l]]);}return o.prototype.offset=null,o.prototype.bucketCounts=m.emptyArray,o.create=function(c){return new o(c)},o.encode=function(c,l){if(l||(l=Te.create()),c.offset!=null&&Object.hasOwnProperty.call(c,"offset")&&l.uint32(8).sint32(c.offset),c.bucketCounts!=null&&c.bucketCounts.length){l.uint32(18).fork();for(var u=0;u<c.bucketCounts.length;++u)l.uint64(c.bucketCounts[u]);l.ldelim();}return l},o.encodeDelimited=function(c,l){return this.encode(c,l).ldelim()},o.decode=function(c,l,u){c instanceof O||(c=O.create(c));for(var d=l===void 0?c.len:c.pos+l,p=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;c.pos<d;){var f=c.uint32();if(f===u)break;switch(f>>>3){case 1:{p.offset=c.sint32();break}case 2:{if(p.bucketCounts&&p.bucketCounts.length||(p.bucketCounts=[]),(f&7)===2)for(var g=c.uint32()+c.pos;c.pos<g;)p.bucketCounts.push(c.uint64());else p.bucketCounts.push(c.uint64());break}default:c.skipType(f&7);break}}return p},o.decodeDelimited=function(c){return c instanceof O||(c=new O(c)),this.decode(c,c.uint32())},o.verify=function(c){if(typeof c!="object"||c===null)return "object expected";if(c.offset!=null&&c.hasOwnProperty("offset")&&!m.isInteger(c.offset))return "offset: integer expected";if(c.bucketCounts!=null&&c.hasOwnProperty("bucketCounts")){if(!Array.isArray(c.bucketCounts))return "bucketCounts: array expected";for(var l=0;l<c.bucketCounts.length;++l)if(!m.isInteger(c.bucketCounts[l])&&!(c.bucketCounts[l]&&m.isInteger(c.bucketCounts[l].low)&&m.isInteger(c.bucketCounts[l].high)))return "bucketCounts: integer|Long[] expected"}return null},o.fromObject=function(c){if(c instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return c;var l=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(c.offset!=null&&(l.offset=c.offset|0),c.bucketCounts){if(!Array.isArray(c.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");l.bucketCounts=[];for(var u=0;u<c.bucketCounts.length;++u)m.Long?(l.bucketCounts[u]=m.Long.fromValue(c.bucketCounts[u])).unsigned=true:typeof c.bucketCounts[u]=="string"?l.bucketCounts[u]=parseInt(c.bucketCounts[u],10):typeof c.bucketCounts[u]=="number"?l.bucketCounts[u]=c.bucketCounts[u]:typeof c.bucketCounts[u]=="object"&&(l.bucketCounts[u]=new m.LongBits(c.bucketCounts[u].low>>>0,c.bucketCounts[u].high>>>0).toNumber(true));}return l},o.toObject=function(c,l){l||(l={});var u={};if((l.arrays||l.defaults)&&(u.bucketCounts=[]),l.defaults&&(u.offset=0),c.offset!=null&&c.hasOwnProperty("offset")&&(u.offset=c.offset),c.bucketCounts&&c.bucketCounts.length){u.bucketCounts=[];for(var d=0;d<c.bucketCounts.length;++d)typeof c.bucketCounts[d]=="number"?u.bucketCounts[d]=l.longs===String?String(c.bucketCounts[d]):c.bucketCounts[d]:u.bucketCounts[d]=l.longs===String?m.Long.prototype.toString.call(c.bucketCounts[d]):l.longs===Number?new m.LongBits(c.bucketCounts[d].low>>>0,c.bucketCounts[d].high>>>0).toNumber(true):c.bucketCounts[d];}return u},o.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},o.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},o})(),n})(),i.SummaryDataPoint=(function(){function n(a){if(this.attributes=[],this.quantileValues=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.quantileValues=m.emptyArray,n.prototype.flags=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.startTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"startTimeUnixNano")&&s.uint32(17).fixed64(o.startTimeUnixNano),o.timeUnixNano!=null&&Object.hasOwnProperty.call(o,"timeUnixNano")&&s.uint32(25).fixed64(o.timeUnixNano),o.count!=null&&Object.hasOwnProperty.call(o,"count")&&s.uint32(33).fixed64(o.count),o.sum!=null&&Object.hasOwnProperty.call(o,"sum")&&s.uint32(41).double(o.sum),o.quantileValues!=null&&o.quantileValues.length)for(var c=0;c<o.quantileValues.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(o.quantileValues[c],s.uint32(50).fork()).ldelim();if(o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(58).fork()).ldelim();return o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(64).uint32(o.flags),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 2:{u.startTimeUnixNano=o.fixed64();break}case 3:{u.timeUnixNano=o.fixed64();break}case 4:{u.count=o.fixed64();break}case 5:{u.sum=o.double();break}case 6:{u.quantileValues&&u.quantileValues.length||(u.quantileValues=[]),u.quantileValues.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(o,o.uint32()));break}case 8:{u.flags=o.uint32();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(o.startTimeUnixNano)&&!(o.startTimeUnixNano&&m.isInteger(o.startTimeUnixNano.low)&&m.isInteger(o.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&!m.isInteger(o.timeUnixNano)&&!(o.timeUnixNano&&m.isInteger(o.timeUnixNano.low)&&m.isInteger(o.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(o.count!=null&&o.hasOwnProperty("count")&&!m.isInteger(o.count)&&!(o.count&&m.isInteger(o.count.low)&&m.isInteger(o.count.high)))return "count: integer|Long expected";if(o.sum!=null&&o.hasOwnProperty("sum")&&typeof o.sum!="number")return "sum: number expected";if(o.quantileValues!=null&&o.hasOwnProperty("quantileValues")){if(!Array.isArray(o.quantileValues))return "quantileValues: array expected";for(var s=0;s<o.quantileValues.length;++s){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(o.quantileValues[s]);if(c)return "quantileValues."+c}}return o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags)?"flags: integer expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint)return o;var s=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.startTimeUnixNano!=null&&(m.Long?(s.startTimeUnixNano=m.Long.fromValue(o.startTimeUnixNano)).unsigned=false:typeof o.startTimeUnixNano=="string"?s.startTimeUnixNano=parseInt(o.startTimeUnixNano,10):typeof o.startTimeUnixNano=="number"?s.startTimeUnixNano=o.startTimeUnixNano:typeof o.startTimeUnixNano=="object"&&(s.startTimeUnixNano=new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber())),o.timeUnixNano!=null&&(m.Long?(s.timeUnixNano=m.Long.fromValue(o.timeUnixNano)).unsigned=false:typeof o.timeUnixNano=="string"?s.timeUnixNano=parseInt(o.timeUnixNano,10):typeof o.timeUnixNano=="number"?s.timeUnixNano=o.timeUnixNano:typeof o.timeUnixNano=="object"&&(s.timeUnixNano=new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber())),o.count!=null&&(m.Long?(s.count=m.Long.fromValue(o.count)).unsigned=false:typeof o.count=="string"?s.count=parseInt(o.count,10):typeof o.count=="number"?s.count=o.count:typeof o.count=="object"&&(s.count=new m.LongBits(o.count.low>>>0,o.count.high>>>0).toNumber())),o.sum!=null&&(s.sum=Number(o.sum)),o.quantileValues){if(!Array.isArray(o.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");s.quantileValues=[];for(var c=0;c<o.quantileValues.length;++c){if(typeof o.quantileValues[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");s.quantileValues[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(o.quantileValues[c]);}}return o.flags!=null&&(s.flags=o.flags>>>0),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.quantileValues=[],c.attributes=[]),s.defaults){if(m.Long){var l=new m.Long(0,0,false);c.startTimeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.startTimeUnixNano=s.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);c.timeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.timeUnixNano=s.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);c.count=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.count=s.longs===String?"0":0;c.sum=0,c.flags=0;}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&(typeof o.startTimeUnixNano=="number"?c.startTimeUnixNano=s.longs===String?String(o.startTimeUnixNano):o.startTimeUnixNano:c.startTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.startTimeUnixNano):s.longs===Number?new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber():o.startTimeUnixNano),o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&(typeof o.timeUnixNano=="number"?c.timeUnixNano=s.longs===String?String(o.timeUnixNano):o.timeUnixNano:c.timeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.timeUnixNano):s.longs===Number?new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber():o.timeUnixNano),o.count!=null&&o.hasOwnProperty("count")&&(typeof o.count=="number"?c.count=s.longs===String?String(o.count):o.count:c.count=s.longs===String?m.Long.prototype.toString.call(o.count):s.longs===Number?new m.LongBits(o.count.low>>>0,o.count.high>>>0).toNumber():o.count),o.sum!=null&&o.hasOwnProperty("sum")&&(c.sum=s.json&&!isFinite(o.sum)?String(o.sum):o.sum),o.quantileValues&&o.quantileValues.length){c.quantileValues=[];for(var u=0;u<o.quantileValues.length;++u)c.quantileValues[u]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(o.quantileValues[u],s);}if(o.attributes&&o.attributes.length){c.attributes=[];for(var u=0;u<o.attributes.length;++u)c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[u],s);}return o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},n.ValueAtQuantile=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Te.create()),s.quantile!=null&&Object.hasOwnProperty.call(s,"quantile")&&c.uint32(9).double(s.quantile),s.value!=null&&Object.hasOwnProperty.call(s,"value")&&c.uint32(17).double(s.value),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 1:{d.quantile=s.double();break}case 2:{d.value=s.double();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.quantile!=null&&s.hasOwnProperty("quantile")&&typeof s.quantile!="number"?"quantile: number expected":s.value!=null&&s.hasOwnProperty("value")&&typeof s.value!="number"?"value: number expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return s;var c=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return s.quantile!=null&&(c.quantile=Number(s.quantile)),s.value!=null&&(c.value=Number(s.value)),c},a.toObject=function(s,c){c||(c={});var l={};return c.defaults&&(l.quantile=0,l.value=0),s.quantile!=null&&s.hasOwnProperty("quantile")&&(l.quantile=c.json&&!isFinite(s.quantile)?String(s.quantile):s.quantile),s.value!=null&&s.hasOwnProperty("value")&&(l.value=c.json&&!isFinite(s.value)?String(s.value):s.value),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a})(),n})(),i.Exemplar=(function(){function n(o){if(this.filteredAttributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.filteredAttributes=m.emptyArray,n.prototype.timeUnixNano=null,n.prototype.asDouble=null,n.prototype.asInt=null,n.prototype.spanId=null,n.prototype.traceId=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["asDouble","asInt"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Te.create()),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(17).fixed64(s.timeUnixNano),s.asDouble!=null&&Object.hasOwnProperty.call(s,"asDouble")&&c.uint32(25).double(s.asDouble),s.spanId!=null&&Object.hasOwnProperty.call(s,"spanId")&&c.uint32(34).bytes(s.spanId),s.traceId!=null&&Object.hasOwnProperty.call(s,"traceId")&&c.uint32(42).bytes(s.traceId),s.asInt!=null&&Object.hasOwnProperty.call(s,"asInt")&&c.uint32(49).sfixed64(s.asInt),s.filteredAttributes!=null&&s.filteredAttributes.length)for(var l=0;l<s.filteredAttributes.length;++l)h.opentelemetry.proto.common.v1.KeyValue.encode(s.filteredAttributes[l],c.uint32(58).fork()).ldelim();return c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,l){s instanceof O||(s=O.create(s));for(var u=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.Exemplar;s.pos<u;){var p=s.uint32();if(p===l)break;switch(p>>>3){case 7:{d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.timeUnixNano=s.fixed64();break}case 3:{d.asDouble=s.double();break}case 6:{d.asInt=s.sfixed64();break}case 4:{d.spanId=s.bytes();break}case 5:{d.traceId=s.bytes();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof O||(s=new O(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.filteredAttributes!=null&&s.hasOwnProperty("filteredAttributes")){if(!Array.isArray(s.filteredAttributes))return "filteredAttributes: array expected";for(var l=0;l<s.filteredAttributes.length;++l){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.filteredAttributes[l]);if(u)return "filteredAttributes."+u}}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(c.value=1,typeof s.asDouble!="number"))return "asDouble: number expected";if(s.asInt!=null&&s.hasOwnProperty("asInt")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.asInt)&&!(s.asInt&&m.isInteger(s.asInt.low)&&m.isInteger(s.asInt.high)))return "asInt: integer|Long expected"}return s.spanId!=null&&s.hasOwnProperty("spanId")&&!(s.spanId&&typeof s.spanId.length=="number"||m.isString(s.spanId))?"spanId: buffer expected":s.traceId!=null&&s.hasOwnProperty("traceId")&&!(s.traceId&&typeof s.traceId.length=="number"||m.isString(s.traceId))?"traceId: buffer expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.Exemplar)return s;var c=new h.opentelemetry.proto.metrics.v1.Exemplar;if(s.filteredAttributes){if(!Array.isArray(s.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");c.filteredAttributes=[];for(var l=0;l<s.filteredAttributes.length;++l){if(typeof s.filteredAttributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");c.filteredAttributes[l]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.filteredAttributes[l]);}}return s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.asDouble!=null&&(c.asDouble=Number(s.asDouble)),s.asInt!=null&&(m.Long?(c.asInt=m.Long.fromValue(s.asInt)).unsigned=false:typeof s.asInt=="string"?c.asInt=parseInt(s.asInt,10):typeof s.asInt=="number"?c.asInt=s.asInt:typeof s.asInt=="object"&&(c.asInt=new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber())),s.spanId!=null&&(typeof s.spanId=="string"?m.base64.decode(s.spanId,c.spanId=m.newBuffer(m.base64.length(s.spanId)),0):s.spanId.length>=0&&(c.spanId=s.spanId)),s.traceId!=null&&(typeof s.traceId=="string"?m.base64.decode(s.traceId,c.traceId=m.newBuffer(m.base64.length(s.traceId)),0):s.traceId.length>=0&&(c.traceId=s.traceId)),c},n.toObject=function(s,c){c||(c={});var l={};if((c.arrays||c.defaults)&&(l.filteredAttributes=[]),c.defaults){if(m.Long){var u=new m.Long(0,0,false);l.timeUnixNano=c.longs===String?u.toString():c.longs===Number?u.toNumber():u;}else l.timeUnixNano=c.longs===String?"0":0;c.bytes===String?l.spanId="":(l.spanId=[],c.bytes!==Array&&(l.spanId=m.newBuffer(l.spanId))),c.bytes===String?l.traceId="":(l.traceId=[],c.bytes!==Array&&(l.traceId=m.newBuffer(l.traceId)));}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?l.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:l.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(l.asDouble=c.json&&!isFinite(s.asDouble)?String(s.asDouble):s.asDouble,c.oneofs&&(l.value="asDouble")),s.spanId!=null&&s.hasOwnProperty("spanId")&&(l.spanId=c.bytes===String?m.base64.encode(s.spanId,0,s.spanId.length):c.bytes===Array?Array.prototype.slice.call(s.spanId):s.spanId),s.traceId!=null&&s.hasOwnProperty("traceId")&&(l.traceId=c.bytes===String?m.base64.encode(s.traceId,0,s.traceId.length):c.bytes===Array?Array.prototype.slice.call(s.traceId):s.traceId),s.asInt!=null&&s.hasOwnProperty("asInt")&&(typeof s.asInt=="number"?l.asInt=c.longs===String?String(s.asInt):s.asInt:l.asInt=c.longs===String?m.Long.prototype.toString.call(s.asInt):c.longs===Number?new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber():s.asInt,c.oneofs&&(l.value="asInt")),s.filteredAttributes&&s.filteredAttributes.length){l.filteredAttributes=[];for(var d=0;d<s.filteredAttributes.length;++d)l.filteredAttributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.filteredAttributes[d],c);}return l},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.Exemplar"},n})(),i})(),r})(),e.logs=(function(){var r={};return r.v1=(function(){var i={};return i.LogsData=(function(){function n(a){if(this.resourceLogs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceLogs=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resourceLogs!=null&&o.resourceLogs.length)for(var c=0;c<o.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(o.resourceLogs[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.logs.v1.LogsData;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceLogs!=null&&o.hasOwnProperty("resourceLogs")){if(!Array.isArray(o.resourceLogs))return "resourceLogs: array expected";for(var s=0;s<o.resourceLogs.length;++s){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(o.resourceLogs[s]);if(c)return "resourceLogs."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.LogsData)return o;var s=new h.opentelemetry.proto.logs.v1.LogsData;if(o.resourceLogs){if(!Array.isArray(o.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");s.resourceLogs=[];for(var c=0;c<o.resourceLogs.length;++c){if(typeof o.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");s.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(o.resourceLogs[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceLogs=[]),o.resourceLogs&&o.resourceLogs.length){c.resourceLogs=[];for(var l=0;l<o.resourceLogs.length;++l)c.resourceLogs[l]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(o.resourceLogs[l],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.LogsData"},n})(),i.ResourceLogs=(function(){function n(a){if(this.scopeLogs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeLogs=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeLogs!=null&&o.scopeLogs.length)for(var c=0;c<o.scopeLogs.length;++c)h.opentelemetry.proto.logs.v1.ScopeLogs.encode(o.scopeLogs[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.logs.v1.ResourceLogs;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{u.scopeLogs&&u.scopeLogs.length||(u.scopeLogs=[]),u.scopeLogs.push(h.opentelemetry.proto.logs.v1.ScopeLogs.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeLogs!=null&&o.hasOwnProperty("scopeLogs")){if(!Array.isArray(o.scopeLogs))return "scopeLogs: array expected";for(var c=0;c<o.scopeLogs.length;++c){var s=h.opentelemetry.proto.logs.v1.ScopeLogs.verify(o.scopeLogs[c]);if(s)return "scopeLogs."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.ResourceLogs)return o;var s=new h.opentelemetry.proto.logs.v1.ResourceLogs;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeLogs){if(!Array.isArray(o.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");s.scopeLogs=[];for(var c=0;c<o.scopeLogs.length;++c){if(typeof o.scopeLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");s.scopeLogs[c]=h.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(o.scopeLogs[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeLogs=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeLogs&&o.scopeLogs.length){c.scopeLogs=[];for(var l=0;l<o.scopeLogs.length;++l)c.scopeLogs[l]=h.opentelemetry.proto.logs.v1.ScopeLogs.toObject(o.scopeLogs[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.ResourceLogs"},n})(),i.ScopeLogs=(function(){function n(a){if(this.logRecords=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.logRecords=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.logRecords!=null&&o.logRecords.length)for(var c=0;c<o.logRecords.length;++c)h.opentelemetry.proto.logs.v1.LogRecord.encode(o.logRecords[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.logs.v1.ScopeLogs;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{u.logRecords&&u.logRecords.length||(u.logRecords=[]),u.logRecords.push(h.opentelemetry.proto.logs.v1.LogRecord.decode(o,o.uint32()));break}case 3:{u.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.logRecords!=null&&o.hasOwnProperty("logRecords")){if(!Array.isArray(o.logRecords))return "logRecords: array expected";for(var c=0;c<o.logRecords.length;++c){var s=h.opentelemetry.proto.logs.v1.LogRecord.verify(o.logRecords[c]);if(s)return "logRecords."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.ScopeLogs)return o;var s=new h.opentelemetry.proto.logs.v1.ScopeLogs;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.logRecords){if(!Array.isArray(o.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");s.logRecords=[];for(var c=0;c<o.logRecords.length;++c){if(typeof o.logRecords[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");s.logRecords[c]=h.opentelemetry.proto.logs.v1.LogRecord.fromObject(o.logRecords[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.logRecords=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.logRecords&&o.logRecords.length){c.logRecords=[];for(var l=0;l<o.logRecords.length;++l)c.logRecords[l]=h.opentelemetry.proto.logs.v1.LogRecord.toObject(o.logRecords[l],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.ScopeLogs"},n})(),i.SeverityNumber=(function(){var n={},a=Object.create(n);return a[n[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[n[1]="SEVERITY_NUMBER_TRACE"]=1,a[n[2]="SEVERITY_NUMBER_TRACE2"]=2,a[n[3]="SEVERITY_NUMBER_TRACE3"]=3,a[n[4]="SEVERITY_NUMBER_TRACE4"]=4,a[n[5]="SEVERITY_NUMBER_DEBUG"]=5,a[n[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[n[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[n[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[n[9]="SEVERITY_NUMBER_INFO"]=9,a[n[10]="SEVERITY_NUMBER_INFO2"]=10,a[n[11]="SEVERITY_NUMBER_INFO3"]=11,a[n[12]="SEVERITY_NUMBER_INFO4"]=12,a[n[13]="SEVERITY_NUMBER_WARN"]=13,a[n[14]="SEVERITY_NUMBER_WARN2"]=14,a[n[15]="SEVERITY_NUMBER_WARN3"]=15,a[n[16]="SEVERITY_NUMBER_WARN4"]=16,a[n[17]="SEVERITY_NUMBER_ERROR"]=17,a[n[18]="SEVERITY_NUMBER_ERROR2"]=18,a[n[19]="SEVERITY_NUMBER_ERROR3"]=19,a[n[20]="SEVERITY_NUMBER_ERROR4"]=20,a[n[21]="SEVERITY_NUMBER_FATAL"]=21,a[n[22]="SEVERITY_NUMBER_FATAL2"]=22,a[n[23]="SEVERITY_NUMBER_FATAL3"]=23,a[n[24]="SEVERITY_NUMBER_FATAL4"]=24,a})(),i.LogRecordFlags=(function(){var n={},a=Object.create(n);return a[n[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[n[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a})(),i.LogRecord=(function(){function n(a){if(this.attributes=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.timeUnixNano=null,n.prototype.observedTimeUnixNano=null,n.prototype.severityNumber=null,n.prototype.severityText=null,n.prototype.body=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.flags=null,n.prototype.traceId=null,n.prototype.spanId=null,n.prototype.eventName=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Te.create()),o.timeUnixNano!=null&&Object.hasOwnProperty.call(o,"timeUnixNano")&&s.uint32(9).fixed64(o.timeUnixNano),o.severityNumber!=null&&Object.hasOwnProperty.call(o,"severityNumber")&&s.uint32(16).int32(o.severityNumber),o.severityText!=null&&Object.hasOwnProperty.call(o,"severityText")&&s.uint32(26).string(o.severityText),o.body!=null&&Object.hasOwnProperty.call(o,"body")&&h.opentelemetry.proto.common.v1.AnyValue.encode(o.body,s.uint32(42).fork()).ldelim(),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(50).fork()).ldelim();return o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(56).uint32(o.droppedAttributesCount),o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(69).fixed32(o.flags),o.traceId!=null&&Object.hasOwnProperty.call(o,"traceId")&&s.uint32(74).bytes(o.traceId),o.spanId!=null&&Object.hasOwnProperty.call(o,"spanId")&&s.uint32(82).bytes(o.spanId),o.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"observedTimeUnixNano")&&s.uint32(89).fixed64(o.observedTimeUnixNano),o.eventName!=null&&Object.hasOwnProperty.call(o,"eventName")&&s.uint32(98).string(o.eventName),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof O||(o=O.create(o));for(var l=s===void 0?o.len:o.pos+s,u=new h.opentelemetry.proto.logs.v1.LogRecord;o.pos<l;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{u.timeUnixNano=o.fixed64();break}case 11:{u.observedTimeUnixNano=o.fixed64();break}case 2:{u.severityNumber=o.int32();break}case 3:{u.severityText=o.string();break}case 5:{u.body=h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32());break}case 6:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 7:{u.droppedAttributesCount=o.uint32();break}case 8:{u.flags=o.fixed32();break}case 9:{u.traceId=o.bytes();break}case 10:{u.spanId=o.bytes();break}case 12:{u.eventName=o.string();break}default:o.skipType(d&7);break}}return u},n.decodeDelimited=function(o){return o instanceof O||(o=new O(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&!m.isInteger(o.timeUnixNano)&&!(o.timeUnixNano&&m.isInteger(o.timeUnixNano.low)&&m.isInteger(o.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(o.observedTimeUnixNano!=null&&o.hasOwnProperty("observedTimeUnixNano")&&!m.isInteger(o.observedTimeUnixNano)&&!(o.observedTimeUnixNano&&m.isInteger(o.observedTimeUnixNano.low)&&m.isInteger(o.observedTimeUnixNano.high)))return "observedTimeUnixNano: integer|Long expected";if(o.severityNumber!=null&&o.hasOwnProperty("severityNumber"))switch(o.severityNumber){default:return "severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(o.severityText!=null&&o.hasOwnProperty("severityText")&&!m.isString(o.severityText))return "severityText: string expected";if(o.body!=null&&o.hasOwnProperty("body")){var s=h.opentelemetry.proto.common.v1.AnyValue.verify(o.body);if(s)return "body."+s}if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var c=0;c<o.attributes.length;++c){var s=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[c]);if(s)return "attributes."+s}}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount)?"droppedAttributesCount: integer expected":o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags)?"flags: integer expected":o.traceId!=null&&o.hasOwnProperty("traceId")&&!(o.traceId&&typeof o.traceId.length=="number"||m.isString(o.traceId))?"traceId: buffer expected":o.spanId!=null&&o.hasOwnProperty("spanId")&&!(o.spanId&&typeof o.spanId.length=="number"||m.isString(o.spanId))?"spanId: buffer expected":o.eventName!=null&&o.hasOwnProperty("eventName")&&!m.isString(o.eventName)?"eventName: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.LogRecord)return o;var s=new h.opentelemetry.proto.logs.v1.LogRecord;switch(o.timeUnixNano!=null&&(m.Long?(s.timeUnixNano=m.Long.fromValue(o.timeUnixNano)).unsigned=false:typeof o.timeUnixNano=="string"?s.timeUnixNano=parseInt(o.timeUnixNano,10):typeof o.timeUnixNano=="number"?s.timeUnixNano=o.timeUnixNano:typeof o.timeUnixNano=="object"&&(s.timeUnixNano=new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber())),o.observedTimeUnixNano!=null&&(m.Long?(s.observedTimeUnixNano=m.Long.fromValue(o.observedTimeUnixNano)).unsigned=false:typeof o.observedTimeUnixNano=="string"?s.observedTimeUnixNano=parseInt(o.observedTimeUnixNano,10):typeof o.observedTimeUnixNano=="number"?s.observedTimeUnixNano=o.observedTimeUnixNano:typeof o.observedTimeUnixNano=="object"&&(s.observedTimeUnixNano=new m.LongBits(o.observedTimeUnixNano.low>>>0,o.observedTimeUnixNano.high>>>0).toNumber())),o.severityNumber){default:if(typeof o.severityNumber=="number"){s.severityNumber=o.severityNumber;break}break;case "SEVERITY_NUMBER_UNSPECIFIED":case 0:s.severityNumber=0;break;case "SEVERITY_NUMBER_TRACE":case 1:s.severityNumber=1;break;case "SEVERITY_NUMBER_TRACE2":case 2:s.severityNumber=2;break;case "SEVERITY_NUMBER_TRACE3":case 3:s.severityNumber=3;break;case "SEVERITY_NUMBER_TRACE4":case 4:s.severityNumber=4;break;case "SEVERITY_NUMBER_DEBUG":case 5:s.severityNumber=5;break;case "SEVERITY_NUMBER_DEBUG2":case 6:s.severityNumber=6;break;case "SEVERITY_NUMBER_DEBUG3":case 7:s.severityNumber=7;break;case "SEVERITY_NUMBER_DEBUG4":case 8:s.severityNumber=8;break;case "SEVERITY_NUMBER_INFO":case 9:s.severityNumber=9;break;case "SEVERITY_NUMBER_INFO2":case 10:s.severityNumber=10;break;case "SEVERITY_NUMBER_INFO3":case 11:s.severityNumber=11;break;case "SEVERITY_NUMBER_INFO4":case 12:s.severityNumber=12;break;case "SEVERITY_NUMBER_WARN":case 13:s.severityNumber=13;break;case "SEVERITY_NUMBER_WARN2":case 14:s.severityNumber=14;break;case "SEVERITY_NUMBER_WARN3":case 15:s.severityNumber=15;break;case "SEVERITY_NUMBER_WARN4":case 16:s.severityNumber=16;break;case "SEVERITY_NUMBER_ERROR":case 17:s.severityNumber=17;break;case "SEVERITY_NUMBER_ERROR2":case 18:s.severityNumber=18;break;case "SEVERITY_NUMBER_ERROR3":case 19:s.severityNumber=19;break;case "SEVERITY_NUMBER_ERROR4":case 20:s.severityNumber=20;break;case "SEVERITY_NUMBER_FATAL":case 21:s.severityNumber=21;break;case "SEVERITY_NUMBER_FATAL2":case 22:s.severityNumber=22;break;case "SEVERITY_NUMBER_FATAL3":case 23:s.severityNumber=23;break;case "SEVERITY_NUMBER_FATAL4":case 24:s.severityNumber=24;break}if(o.severityText!=null&&(s.severityText=String(o.severityText)),o.body!=null){if(typeof o.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");s.body=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.body);}if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}return o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.flags!=null&&(s.flags=o.flags>>>0),o.traceId!=null&&(typeof o.traceId=="string"?m.base64.decode(o.traceId,s.traceId=m.newBuffer(m.base64.length(o.traceId)),0):o.traceId.length>=0&&(s.traceId=o.traceId)),o.spanId!=null&&(typeof o.spanId=="string"?m.base64.decode(o.spanId,s.spanId=m.newBuffer(m.base64.length(o.spanId)),0):o.spanId.length>=0&&(s.spanId=o.spanId)),o.eventName!=null&&(s.eventName=String(o.eventName)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[]),s.defaults){if(m.Long){var l=new m.Long(0,0,false);c.timeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.timeUnixNano=s.longs===String?"0":0;if(c.severityNumber=s.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,s.bytes===String?c.traceId="":(c.traceId=[],s.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId))),s.bytes===String?c.spanId="":(c.spanId=[],s.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),m.Long){var l=new m.Long(0,0,false);c.observedTimeUnixNano=s.longs===String?l.toString():s.longs===Number?l.toNumber():l;}else c.observedTimeUnixNano=s.longs===String?"0":0;c.eventName="";}if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&(typeof o.timeUnixNano=="number"?c.timeUnixNano=s.longs===String?String(o.timeUnixNano):o.timeUnixNano:c.timeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.timeUnixNano):s.longs===Number?new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber():o.timeUnixNano),o.severityNumber!=null&&o.hasOwnProperty("severityNumber")&&(c.severityNumber=s.enums===String?h.opentelemetry.proto.logs.v1.SeverityNumber[o.severityNumber]===void 0?o.severityNumber:h.opentelemetry.proto.logs.v1.SeverityNumber[o.severityNumber]:o.severityNumber),o.severityText!=null&&o.hasOwnProperty("severityText")&&(c.severityText=o.severityText),o.body!=null&&o.hasOwnProperty("body")&&(c.body=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.body,s)),o.attributes&&o.attributes.length){c.attributes=[];for(var u=0;u<o.attributes.length;++u)c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[u],s);}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),o.traceId!=null&&o.hasOwnProperty("traceId")&&(c.traceId=s.bytes===String?m.base64.encode(o.traceId,0,o.traceId.length):s.bytes===Array?Array.prototype.slice.call(o.traceId):o.traceId),o.spanId!=null&&o.hasOwnProperty("spanId")&&(c.spanId=s.bytes===String?m.base64.encode(o.spanId,0,o.spanId.length):s.bytes===Array?Array.prototype.slice.call(o.spanId):o.spanId),o.observedTimeUnixNano!=null&&o.hasOwnProperty("observedTimeUnixNano")&&(typeof o.observedTimeUnixNano=="number"?c.observedTimeUnixNano=s.longs===String?String(o.observedTimeUnixNano):o.observedTimeUnixNano:c.observedTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.observedTimeUnixNano):s.longs===Number?new m.LongBits(o.observedTimeUnixNano.low>>>0,o.observedTimeUnixNano.high>>>0).toNumber():o.observedTimeUnixNano),o.eventName!=null&&o.hasOwnProperty("eventName")&&(c.eventName=o.eventName),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,ue.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.LogRecord"},n})(),i})(),r})(),e})(),t})();c9.exports=h;});function l9(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function RT(t){let e=new Uint8Array(t.length/2),r=0;for(let i=0;i<t.length;i+=2){let n=l9(t.charCodeAt(i)),a=l9(t.charCodeAt(i+1));e[r++]=n<<4|a;}return e}var u9=_(()=>{});function p9(t){let e=BigInt(1e9);return BigInt(t[0])*e+BigInt(t[1])}function zMe(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return {low:e,high:r}}function f9(t){let e=p9(t);return zMe(e)}function FMe(t){return p9(t).toString()}function d9(t){return t}function h9(t){if(t!==void 0)return RT(t)}function zu(t){if(t===void 0)return GMe;let e=t.useLongBits??true,r=t.useHex??false;return {encodeHrTime:e?f9:HMe,encodeSpanContext:r?d9:RT,encodeOptionalSpanContext:r?d9:h9}}var HMe,GMe,OT=_(()=>{Q();u9();HMe=typeof BigInt<"u"?FMe:su;GMe={encodeHrTime:f9,encodeSpanContext:RT,encodeOptionalSpanContext:h9};});function Fu(t){let e={attributes:Bo(t.attributes),droppedAttributesCount:0},r=t.schemaUrl;return r&&r!==""&&(e.schemaUrl=r),e}function Hu(t){return {name:t.name,version:t.version}}function Bo(t){return Object.keys(t).map(e=>NT(e,t[e]))}function NT(t,e){return {key:t,value:bT(e)}}function bT(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(bT)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,i])=>NT(r,i))}}:{}}var PT=_(()=>{});function CT(t,e){let r=zu(e);return {resourceLogs:qMe(t,r)}}function jMe(t){let e=new Map;for(let r of t){let{resource:i,instrumentationScope:{name:n,version:a="",schemaUrl:o=""}}=r,s=e.get(i);s||(s=new Map,e.set(i,s));let c=`${n}@${a}:${o}`,l=s.get(c);l||(l=[],s.set(c,l)),l.push(r);}return e}function qMe(t,e){let r=jMe(t);return Array.from(r,([i,n])=>{let a=Fu(i);return {resource:a,scopeLogs:Array.from(n,([,o])=>({scope:Hu(o[0].instrumentationScope),logRecords:o.map(s=>YMe(s,e)),schemaUrl:o[0].instrumentationScope.schemaUrl})),schemaUrl:a.schemaUrl}})}function YMe(t,e){return {timeUnixNano:e.encodeHrTime(t.hrTime),observedTimeUnixNano:e.encodeHrTime(t.hrTimeObserved),severityNumber:t.severityNumber,severityText:t.severityText,body:bT(t.body),eventName:t.eventName,attributes:WMe(t.attributes),droppedAttributesCount:t.droppedAttributesCount,flags:t.spanContext?.traceFlags,traceId:e.encodeOptionalSpanContext(t.spanContext?.traceId),spanId:e.encodeOptionalSpanContext(t.spanContext?.spanId)}}function WMe(t){return Object.keys(t).map(e=>NT(e,t[e]))}var cM=_(()=>{OT();PT();});var lM,KMe,ZMe,Th,m9=_(()=>{lM=He(AT());cM();KMe=lM.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,ZMe=lM.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,Th={serializeRequest:t=>{let e=CT(t);return ZMe.encode(e).finish()},deserializeResponse:t=>KMe.decode(t)};});var _9=_(()=>{m9();});var yh,g9=_(()=>{(function(t){t[t.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",t[t.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",t[t.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE";})(yh||(yh={}));});function XMe(t,e){let r=zu(e),i=Fu(t.resource);return {resource:i,schemaUrl:i.schemaUrl,scopeMetrics:JMe(t.scopeMetrics,r)}}function JMe(t,e){return Array.from(t.map(r=>({scope:Hu(r.scope),metrics:r.metrics.map(i=>QMe(i,e)),schemaUrl:r.scope.schemaUrl})))}function QMe(t,e){let r={name:t.descriptor.name,description:t.descriptor.description,unit:t.descriptor.unit},i=nwe(t.aggregationTemporality);switch(t.dataPointType){case _t.SUM:r.sum={aggregationTemporality:i,isMonotonic:t.isMonotonic,dataPoints:E9(t,e)};break;case _t.GAUGE:r.gauge={dataPoints:E9(t,e)};break;case _t.HISTOGRAM:r.histogram={aggregationTemporality:i,dataPoints:twe(t,e)};break;case _t.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:i,dataPoints:rwe(t,e)};break}return r}function ewe(t,e,r){let i={attributes:Bo(t.attributes),startTimeUnixNano:r.encodeHrTime(t.startTime),timeUnixNano:r.encodeHrTime(t.endTime)};switch(e){case Me.INT:i.asInt=t.value;break;case Me.DOUBLE:i.asDouble=t.value;break}return i}function E9(t,e){return t.dataPoints.map(r=>ewe(r,t.descriptor.valueType,e))}function twe(t,e){return t.dataPoints.map(r=>{let i=r.value;return {attributes:Bo(r.attributes),bucketCounts:i.buckets.counts,explicitBounds:i.buckets.boundaries,count:i.count,sum:i.sum,min:i.min,max:i.max,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function rwe(t,e){return t.dataPoints.map(r=>{let i=r.value;return {attributes:Bo(r.attributes),count:i.count,min:i.min,max:i.max,sum:i.sum,positive:{offset:i.positive.offset,bucketCounts:i.positive.bucketCounts},negative:{offset:i.negative.offset,bucketCounts:i.negative.bucketCounts},scale:i.scale,zeroCount:i.zeroCount,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function nwe(t){switch(t){case mt.DELTA:return yh.AGGREGATION_TEMPORALITY_DELTA;case mt.CUMULATIVE:return yh.AGGREGATION_TEMPORALITY_CUMULATIVE}}function xT(t,e){return {resourceMetrics:t.map(r=>XMe(r,e))}}var uM=_(()=>{P();Wt();g9();OT();PT();});var dM,iwe,owe,vh,S9=_(()=>{dM=He(AT());uM();iwe=dM.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,owe=dM.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,vh={serializeRequest:t=>{let e=xT([t]);return owe.encode(e).finish()},deserializeResponse:t=>iwe.decode(t)};});var T9=_(()=>{S9();});function swe(t,e){let r=t.spanContext(),i=t.status,n=t.parentSpanContext?.spanId?e.encodeSpanContext(t.parentSpanContext?.spanId):void 0;return {traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:n,traceState:r.traceState?.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:Bo(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(a=>cwe(a,e)),droppedEventsCount:t.droppedEventsCount,status:{code:i.code,message:i.message},links:t.links.map(a=>awe(a,e)),droppedLinksCount:t.droppedLinksCount}}function awe(t,e){return {attributes:t.attributes?Bo(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:t.context.traceState?.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}function cwe(t,e){return {attributes:t.attributes?Bo(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function IT(t,e){let r=zu(e);return {resourceSpans:uwe(t,r)}}function lwe(t){let e=new Map;for(let r of t){let i=e.get(r.resource);i||(i=new Map,e.set(r.resource,i));let n=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,a=i.get(n);a||(a=[],i.set(n,a)),a.push(r);}return e}function uwe(t,e){let r=lwe(t),i=[],n=r.entries(),a=n.next();for(;!a.done;){let[o,s]=a.value,c=[],l=s.values(),u=l.next();for(;!u.done;){let f=u.value;if(f.length>0){let g=f.map(S=>swe(S,e));c.push({scope:Hu(f[0].instrumentationScope),spans:g,schemaUrl:f[0].instrumentationScope.schemaUrl});}u=l.next();}let d=Fu(o),p={resource:d,scopeSpans:c,schemaUrl:d.schemaUrl};i.push(p),a=n.next();}return i}var pM=_(()=>{PT();OT();});var fM,dwe,pwe,Ah,y9=_(()=>{fM=He(AT());pM();dwe=fM.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,pwe=fM.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,Ah={serializeRequest:t=>{let e=IT(t);return pwe.encode(e).finish()},deserializeResponse:t=>dwe.decode(t)};});var v9=_(()=>{y9();});var Rh,A9=_(()=>{cM();Rh={serializeRequest:t=>{let e=CT(t,{useHex:true,useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var R9=_(()=>{A9();});var Oh,O9=_(()=>{uM();Oh={serializeRequest:t=>{let e=xT([t],{useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var N9=_(()=>{O9();});var Nh,b9=_(()=>{pM();Nh={serializeRequest:t=>{let e=IT(t,{useHex:true,useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var P9=_(()=>{b9();});var MT={};Ne(MT,{JsonLogsSerializer:()=>Rh,JsonMetricsSerializer:()=>Oh,JsonTraceSerializer:()=>Nh,ProtobufLogsSerializer:()=>Th,ProtobufMetricsSerializer:()=>vh,ProtobufTraceSerializer:()=>Ah});var Wi=_(()=>{_9();T9();v9();R9();N9();P9();});var C9,x9=_(()=>{C9="0.204.0";});function I9(t){return ()=>{let e={};return Object.entries(t?.()??{}).forEach(([r,i])=>{typeof i<"u"?e[r]=String(i):T.warn(`Header "${r}" has invalid value (${i}) and will be ignored`);}),e}}var M9=_(()=>{P();});function fwe(t,e,r){let i={...r()},n={};return ()=>(e!=null&&Object.assign(n,e()),t!=null&&Object.assign(n,t()),Object.assign(n,i))}function hwe(t){if(t!=null)try{let e=globalThis.location?.href;return new URL(t,e).href}catch{throw new Error(`Configuration: Could not parse user-provided export URL: '${t}'`)}}function bh(t){return async e=>{let r=e==="http:"?import('http'):import('https'),{Agent:i}=await r;return new i(t)}}function w9(t,e,r){return {...pT(t,e,r),headers:fwe(I9(t.headers),e.headers,r.headers),url:hwe(t.url)??e.url??r.url,agentFactory:t.agentFactory??e.agentFactory??r.agentFactory}}function L9(t,e){return {...fT(),headers:()=>t,url:"http://localhost:4318/"+e,agentFactory:bh({keepAlive:true})}}var hM=_(()=>{mh();M9();});function D9(t){return [429,502,503,504].includes(t)}function U9(t){if(t==null)return;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}var k9=_(()=>{});function V9(t,e,r,i,n,a){let o=new URL(e.url),s={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:{...e.headers()},agent:r},c=t(s,l=>{let u=[];l.on("data",d=>u.push(d)),l.on("end",()=>{if(l.statusCode&&l.statusCode<299)n({status:"success",data:Buffer.concat(u)});else if(l.statusCode&&D9(l.statusCode))n({status:"retryable",retryInMillis:U9(l.headers["retry-after"])});else {let d=new Vo(l.statusMessage,l.statusCode,Buffer.concat(u).toString());n({status:"failure",error:d});}});});c.setTimeout(a,()=>{c.destroy(),n({status:"failure",error:new Error("Request Timeout")});}),c.on("error",l=>{n({status:"failure",error:l});}),_we(c,e.compression,i,l=>{n({status:"failure",error:l});});}function _we(t,e,r,i){let n=gwe(r);e==="gzip"&&(t.setHeader("Content-Encoding","gzip"),n=n.on("error",i).pipe(Po__namespace.createGzip()).on("error",i)),n.pipe(t).on("error",i);}function gwe(t){let e=new stream.Readable;return e.push(t),e.push(null),e}var B9=_(()=>{k9();uT();});async function Ewe(t){let e=t==="http:"?import('http'):import('https'),{request:r}=await e;return r}function z9(t){return new mM(t)}var mM,F9=_(()=>{B9();mM=class{_parameters;_utils=null;constructor(e){this._parameters=e;}async send(e,r){let{agent:i,request:n}=await this._loadUtils();return new Promise(a=>{V9(n,this._parameters,i,e,o=>{a(o);},r);})}shutdown(){}async _loadUtils(){let e=this._utils;if(e===null){let r=new URL(this._parameters.url).protocol,[i,n]=await Promise.all([this._parameters.agentFactory(r),Ewe(r)]);e=this._utils={agent:i,request:n};}return e}};});function Swe(){return Math.random()*(2*.2)-.2}function H9(t){return new _M(t.transport)}var _M,G9=_(()=>{_M=class{_transport;constructor(e){this._transport=e;}retry(e,r,i){return new Promise((n,a)=>{setTimeout(()=>{this._transport.send(e,r).then(n,a);},i);})}async send(e,r){let i=Date.now()+r,n=await this._transport.send(e,r),a=5,o=1e3;for(;n.status==="retryable"&&a>0;){a--;let s=Math.max(Math.min(o,5e3)+Swe(),0);o=o*1.5;let c=n.retryInMillis??s,l=i-Date.now();if(c>l)return n;n=await this.retry(e,l,c);}return n}shutdown(){return this._transport.shutdown()}};});function Xr(t,e){return _T({transport:H9({transport:z9(t)}),serializer:e,promiseHandler:mT(t)},{timeout:t.timeoutMillis})}var j9=_(()=>{jI();F9();HI();G9();});function q9(t){let e=process.env[t]?.trim();if(e!=null&&e!==""){let r=Number(e);if(Number.isFinite(r)&&r>0)return r;T.warn(`Configuration: ${t} is invalid, expected number greater than 0 (actual: ${e})`);}}function Twe(t){let e=q9(`OTEL_EXPORTER_OTLP_${t}_TIMEOUT`),r=q9("OTEL_EXPORTER_OTLP_TIMEOUT");return e??r}function Y9(t){let e=process.env[t]?.trim();if(e!==""){if(e==null||e==="none"||e==="gzip")return e;T.warn(`Configuration: ${t} is invalid, expected 'none' or 'gzip' (actual: '${e}')`);}}function ywe(t){let e=Y9(`OTEL_EXPORTER_OTLP_${t}_COMPRESSION`),r=Y9("OTEL_EXPORTER_OTLP_COMPRESSION");return e??r}function wT(t){return {timeoutMillis:Twe(t),compression:ywe(t)}}var gM=_(()=>{P();});function vwe(t){let e=zt(`OTEL_EXPORTER_OTLP_${t}_HEADERS`),r=zt("OTEL_EXPORTER_OTLP_HEADERS"),i=Pc(e),n=Pc(r);if(!(Object.keys(i).length===0&&Object.keys(n).length===0))return Object.assign({},Pc(r),Pc(e))}function Awe(t){try{return new URL(t).toString()}catch{T.warn(`Configuration: Could not parse environment-provided export URL: '${t}', falling back to undefined`);return}}function Rwe(t,e){try{new URL(t);}catch{T.warn(`Configuration: Could not parse environment-provided export URL: '${t}', falling back to undefined`);return}t.endsWith("/")||(t=t+"/"),t+=e;try{new URL(t);}catch{T.warn(`Configuration: Provided URL appended with '${e}' is not a valid URL, using 'undefined' instead of '${t}'`);return}return t}function Owe(t){let e=zt("OTEL_EXPORTER_OTLP_ENDPOINT");if(e!==void 0)return Rwe(e,t)}function Nwe(t){let e=zt(`OTEL_EXPORTER_OTLP_${t}_ENDPOINT`);if(e!==void 0)return Awe(e)}function W9(t,e){return {...wT(t),url:Nwe(t)??Owe(e),headers:dT(vwe(t))}}var K9=_(()=>{Q();P();gM();mh();});function bwe(t){if(typeof t.httpAgentOptions=="function")return t.httpAgentOptions;let e=t.httpAgentOptions;if(t.keepAlive!=null&&(e={keepAlive:t.keepAlive,...e}),e!=null)return bh(e)}function Jr(t,e,r,i){return t.metadata&&T.warn("Metadata cannot be set when using http"),w9({url:t.url,headers:dT(t.headers),concurrencyLimit:t.concurrencyLimit,timeoutMillis:t.timeoutMillis,compression:t.compression,agentFactory:bwe(t)},W9(e,r),L9(i,r))}var Z9=_(()=>{hM();K9();P();mh();});var X9={};Ne(X9,{convertLegacyHttpOptions:()=>Jr,createOtlpHttpExportDelegate:()=>Xr,getSharedConfigurationFromEnvironment:()=>wT,httpAgentFactoryFromOptions:()=>bh});var Hs=_(()=>{hM();j9();gM();Z9();});var Gu,J9=_(()=>{ji();Wi();x9();Hs();Gu=class extends Kr{constructor(e={}){super(Xr(Jr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${C9}`,"Content-Type":"application/json"}),Rh));}};});var Q9=_(()=>{J9();});var e7=_(()=>{Q9();});var t7={};Ne(t7,{OTLPLogExporter:()=>Gu});var r7=_(()=>{e7();});var xe=y(Bn=>{Object.defineProperty(Bn,"__esModule",{value:true});Bn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Bn.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Bn.Propagate=Bn.LogVerbosity=Bn.Status=void 0;var n7;(function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED";})(n7||(Bn.Status=n7={}));var i7;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE";})(i7||(Bn.LogVerbosity=i7={}));var o7;(function(t){t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS";})(o7||(Bn.Propagate=o7={}));Bn.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Bn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024;});var EM=y((Pdt,Pwe)=>{Pwe.exports={name:"@grpc/grpc-js",version:"1.14.2",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run copy-protos && npm run generate-types && npm run generate-test-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs proto/ proto/xds/ proto/protoc-gen-validate/ -O src/generated/ --grpcLib ../index channelz.proto xds/service/orca/v3/orca.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto echo_service.proto","copy-protos":"node ./copy-protos"},dependencies:{"@grpc/proto-loader":"^0.8.0","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/**/*.proto","proto/**/LICENSE","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]};});var et=y(En=>{var SM,TM,yM,vM;Object.defineProperty(En,"__esModule",{value:true});En.log=En.setLoggerVerbosity=En.setLogger=En.getLogger=void 0;En.trace=Vwe;En.isTracerEnabled=a7;var Gs=xe(),Cwe=U("process"),xwe=EM().version,Iwe={error:(t,...e)=>{console.error("E "+t,...e);},info:(t,...e)=>{console.error("I "+t,...e);},debug:(t,...e)=>{console.error("D "+t,...e);}},Yc=Iwe,ju=Gs.LogVerbosity.ERROR,Mwe=(TM=(SM=process.env.GRPC_NODE_VERBOSITY)!==null&&SM!==void 0?SM:process.env.GRPC_VERBOSITY)!==null&&TM!==void 0?TM:"";switch(Mwe.toUpperCase()){case "DEBUG":ju=Gs.LogVerbosity.DEBUG;break;case "INFO":ju=Gs.LogVerbosity.INFO;break;case "ERROR":ju=Gs.LogVerbosity.ERROR;break;case "NONE":ju=Gs.LogVerbosity.NONE;break;}var wwe=()=>Yc;En.getLogger=wwe;var Lwe=t=>{Yc=t;};En.setLogger=Lwe;var Dwe=t=>{ju=t;};En.setLoggerVerbosity=Dwe;var Uwe=(t,...e)=>{let r;if(t>=ju){switch(t){case Gs.LogVerbosity.DEBUG:r=Yc.debug;break;case Gs.LogVerbosity.INFO:r=Yc.info;break;case Gs.LogVerbosity.ERROR:r=Yc.error;break}r||(r=Yc.error),r&&r.bind(Yc)(...e);}};En.log=Uwe;var kwe=(vM=(yM=process.env.GRPC_NODE_TRACE)!==null&&yM!==void 0?yM:process.env.GRPC_TRACE)!==null&&vM!==void 0?vM:"",AM=new Set,s7=new Set;for(let t of kwe.split(","))t.startsWith("-")?s7.add(t.substring(1)):AM.add(t);var $we=AM.has("all");function Vwe(t,e,r){a7(e)&&(0, En.log)(t,new Date().toISOString()+" | v"+xwe+" "+Cwe.pid+" | "+e+" | "+r);}function a7(t){return !s7.has(t)&&($we||AM.has(t))}});var DT=y(LT=>{Object.defineProperty(LT,"__esModule",{value:true});LT.getErrorMessage=Bwe;LT.getErrorCode=zwe;function Bwe(t){return t instanceof Error?t.message:String(t)}function zwe(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}});var Jt=y(kT=>{Object.defineProperty(kT,"__esModule",{value:true});kT.Metadata=void 0;var Fwe=et(),Hwe=xe(),Gwe=DT(),jwe=/^[:0-9a-z_.-]+$/,qwe=/^[ -~]*$/;function Ywe(t){return jwe.test(t)}function Wwe(t){return qwe.test(t)}function l7(t){return t.endsWith("-bin")}function Kwe(t){return !t.startsWith("grpc-")}function UT(t){return t.toLowerCase()}function c7(t,e){if(!Ywe(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(l7(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else {if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!Wwe(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var RM=class t{constructor(e={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=e;}set(e,r){e=UT(e),c7(e,r),this.internalRepr.set(e,[r]);}add(e,r){e=UT(e),c7(e,r);let i=this.internalRepr.get(e);i===void 0?this.internalRepr.set(e,[r]):i.push(r);}remove(e){e=UT(e),this.internalRepr.delete(e);}get(e){return e=UT(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[r,i]of this.internalRepr)if(i.length>0){let n=i[0];e[r]=Buffer.isBuffer(n)?Buffer.from(n):n;}return e}clone(){let e=new t(this.options),r=e.internalRepr;for(let[i,n]of this.internalRepr){let a=n.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);r.set(i,a);}return e}merge(e){for(let[r,i]of e.internalRepr){let n=(this.internalRepr.get(r)||[]).concat(i);this.internalRepr.set(r,n);}}setOptions(e){this.options=e;}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[r,i]of this.internalRepr)r.startsWith(":")||(e[r]=i.map(Zwe));return e}toJSON(){let e={};for(let[r,i]of this.internalRepr)e[r]=i;return e}setOpaque(e,r){this.opaqueData.set(e,r);}getOpaque(e){return this.opaqueData.get(e)}static fromHttp2Headers(e){let r=new t;for(let i of Object.keys(e)){if(i.charAt(0)===":")continue;let n=e[i];try{l7(i)?Array.isArray(n)?n.forEach(a=>{r.add(i,Buffer.from(a,"base64"));}):n!==void 0&&(Kwe(i)?n.split(",").forEach(a=>{r.add(i,Buffer.from(a.trim(),"base64"));}):r.add(i,Buffer.from(n,"base64"))):Array.isArray(n)?n.forEach(a=>{r.add(i,a);}):n!==void 0&&r.add(i,n);}catch(a){let o=`Failed to add metadata entry ${i}: ${n}. ${(0, Gwe.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0, Fwe.log)(Hwe.LogVerbosity.ERROR,o);}}return r}};kT.Metadata=RM;var Zwe=t=>Buffer.isBuffer(t)?t.toString("base64"):t;});var VT=y($T=>{Object.defineProperty($T,"__esModule",{value:true});$T.CallCredentials=void 0;var PM=Jt();function Xwe(t){return "getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var qu=class t{static createFromMetadataGenerator(e){return new NM(e)}static createFromGoogleCredential(e){return t.createFromMetadataGenerator((r,i)=>{let n;Xwe(e)?n=e.getRequestHeaders(r.service_url):n=new Promise((a,o)=>{e.getRequestMetadata(r.service_url,(s,c)=>{if(s){o(s);return}if(!c){o(new Error("Headers not set by metadata plugin"));return}a(c);});}),n.then(a=>{let o=new PM.Metadata;for(let s of Object.keys(a))o.add(s,a[s]);i(null,o);},a=>{i(a);});})}static createEmpty(){return new bM}};$T.CallCredentials=qu;var OM=class t extends qu{constructor(e){super(),this.creds=e;}async generateMetadata(e){let r=new PM.Metadata,i=await Promise.all(this.creds.map(n=>n.generateMetadata(e)));for(let n of i)r.merge(n);return r}compose(e){return new t(this.creds.concat([e]))}_equals(e){return this===e?true:e instanceof t?this.creds.every((r,i)=>r._equals(e.creds[i])):false}},NM=class t extends qu{constructor(e){super(),this.metadataGenerator=e;}generateMetadata(e){return new Promise((r,i)=>{this.metadataGenerator(e,(n,a)=>{a!==void 0?r(a):i(n);});})}compose(e){return new OM([this,e])}_equals(e){return this===e?true:e instanceof t?this.metadataGenerator===e.metadataGenerator:false}},bM=class t extends qu{generateMetadata(e){return Promise.resolve(new PM.Metadata)}compose(e){return e}_equals(e){return e instanceof t}};});var xM=y(Ph=>{Object.defineProperty(Ph,"__esModule",{value:true});Ph.CIPHER_SUITES=void 0;Ph.getDefaultRootsData=Qwe;var Jwe=U("fs");Ph.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var u7=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,CM=null;function Qwe(){return u7?(CM===null&&(CM=Jwe.readFileSync(u7)),CM):null}});var xr=y(Yu=>{Object.defineProperty(Yu,"__esModule",{value:true});Yu.parseUri=t0e;Yu.splitHostPort=r0e;Yu.combineHostPort=n0e;Yu.uriToString=i0e;var e0e=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function t0e(t){let e=e0e.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}var d7=/^\d+$/;function r0e(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let r=t.substring(1,e);if(r.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let i=t.substring(e+2);return d7.test(i)?{host:r,port:+i}:null}else return null;else return {host:r}}else {let e=t.split(":");return e.length===2?d7.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}function n0e(t){return t.port===void 0?t.host:t.host.includes(":")?`[${t.host}]:${t.port}`:`${t.host}:${t.port}`}function i0e(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}});var pi=y(zo=>{Object.defineProperty(zo,"__esModule",{value:true});zo.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0;zo.registerResolver=o0e;zo.registerDefaultScheme=s0e;zo.createResolver=a0e;zo.getDefaultAuthority=c0e;zo.mapUriDefaultScheme=l0e;var MM=xr();zo.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";var Wu={},IM=null;function o0e(t,e){Wu[t]=e;}function s0e(t){IM=t;}function a0e(t,e,r){if(t.scheme!==void 0&&t.scheme in Wu)return new Wu[t.scheme](t,e,r);throw new Error(`No resolver could be created for target ${(0, MM.uriToString)(t)}`)}function c0e(t){if(t.scheme!==void 0&&t.scheme in Wu)return Wu[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0, MM.uriToString)(t)}`)}function l0e(t){return t.scheme===void 0||!(t.scheme in Wu)?IM!==null?{scheme:IM,authority:void 0,path:(0, MM.uriToString)(t)}:null:t}});var Ku=y(xh=>{Object.defineProperty(xh,"__esModule",{value:true});xh.ChannelCredentials=void 0;xh.createCertificateProviderChannelCredentials=f0e;var Ch=U("tls"),FT=VT(),LM=xM(),p7=xr(),u0e=pi(),d0e=et(),p0e=xe();function wM(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Wc=class{compose(e){return new kM(this,e)}static createSsl(e,r,i,n){var a;if(wM(e,"Root certificate"),wM(r,"Private key"),wM(i,"Certificate chain"),r&&!i)throw new Error("Private key must be given with accompanying certificate chain");if(!r&&i)throw new Error("Certificate chain must be given with accompanying private key");let o=(0, Ch.createSecureContext)({ca:(a=e??(0, LM.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:r??void 0,cert:i??void 0,ciphers:LM.CIPHER_SUITES});return new BT(o,n??{})}static createFromSecureContext(e,r){return new BT(e,r??{})}static createInsecure(){return new DM}};xh.ChannelCredentials=Wc;var DM=class t extends Wc{constructor(){super();}compose(e){throw new Error("Cannot compose insecure credentials")}_isSecure(){return  false}_equals(e){return e instanceof t}_createSecureConnector(e,r,i){return {connect(n){return Promise.resolve({socket:n,secure:false})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>i??FT.CallCredentials.createEmpty(),destroy(){}}}};function f7(t,e,r,i){var n,a;let o={secureContext:t},s=r;if("grpc.http_connect_target"in i){let d=(0, p7.parseUri)(i["grpc.http_connect_target"]);d&&(s=d);}let c=(0, u0e.getDefaultAuthority)(s),l=(0, p7.splitHostPort)(c),u=(n=l?.host)!==null&&n!==void 0?n:c;if(o.host=u,e.checkServerIdentity&&(o.checkServerIdentity=e.checkServerIdentity),e.rejectUnauthorized!==void 0&&(o.rejectUnauthorized=e.rejectUnauthorized),o.ALPNProtocols=["h2"],i["grpc.ssl_target_name_override"]){let d=i["grpc.ssl_target_name_override"],p=(a=o.checkServerIdentity)!==null&&a!==void 0?a:Ch.checkServerIdentity;o.checkServerIdentity=(f,g)=>p(d,g),o.servername=d;}else o.servername=u;return i["grpc-node.tls_enable_trace"]&&(o.enableTrace=true),o}var UM=class{constructor(e,r){this.connectionOptions=e,this.callCredentials=r;}connect(e){let r=Object.assign({socket:e},this.connectionOptions);return new Promise((i,n)=>{let a=(0, Ch.connect)(r,()=>{var o;if((!((o=this.connectionOptions.rejectUnauthorized)!==null&&o!==void 0)||o)&&!a.authorized){n(a.authorizationError);return}i({socket:a,secure:true});});a.on("error",o=>{n(o);});})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}},BT=class t extends Wc{constructor(e,r){super(),this.secureContext=e,this.verifyOptions=r;}_isSecure(){return  true}_equals(e){return this===e?true:e instanceof t?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:false}_createSecureConnector(e,r,i){let n=f7(this.secureContext,this.verifyOptions,e,r);return new UM(n,i??FT.CallCredentials.createEmpty())}},zT=class t extends Wc{constructor(e,r,i){super(),this.caCertificateProvider=e,this.identityCertificateProvider=r,this.verifyOptions=i,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[];}_isSecure(){return  true}_equals(e){var r,i;return this===e?true:e instanceof t?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&((r=this.verifyOptions)===null||r===void 0?void 0:r.checkServerIdentity)===((i=e.verifyOptions)===null||i===void 0?void 0:i.checkServerIdentity):false}ref(){var e;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1;}unref(){var e;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.removeIdentityCertificateListener(this.identityCertificateUpdateListener));}_createSecureConnector(e,r,i){return this.ref(),new t.SecureConnectorImpl(this,e,r,i??FT.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let e of this.secureContextWatchers)e(this.getLatestSecureContext());this.secureContextWatchers=[];}}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.maybeUpdateWatchers();}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.maybeUpdateWatchers();}hasReceivedUpdates(){return !(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(e=>{this.secureContextWatchers.push(e);})}getLatestSecureContext(){var e,r;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return (0,Ch.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(e=this.latestIdentityUpdate)===null||e===void 0?void 0:e.privateKey,cert:(r=this.latestIdentityUpdate)===null||r===void 0?void 0:r.certificate,ciphers:LM.CIPHER_SUITES})}catch(i){return (0, d0e.log)(p0e.LogVerbosity.ERROR,"Failed to createSecureContext with error "+i.message),null}}};zT.SecureConnectorImpl=class{constructor(t,e,r,i){this.parent=t,this.channelTarget=e,this.options=r,this.callCredentials=i;}connect(t){return new Promise((e,r)=>{let i=this.parent.getLatestSecureContext();if(!i){r(new Error("Failed to load credentials"));return}t.closed&&r(new Error("Socket closed while loading credentials"));let n=f7(i,this.parent.verifyOptions,this.channelTarget,this.options),a=Object.assign({socket:t},n),o=()=>{r(new Error("Socket closed"));},s=l=>{r(l);},c=(0, Ch.connect)(a,()=>{var l;if(c.removeListener("close",o),c.removeListener("error",s),(!((l=this.parent.verifyOptions.rejectUnauthorized)!==null&&l!==void 0)||l)&&!c.authorized){r(c.authorizationError);return}e({socket:c,secure:true});});c.once("close",o),c.once("error",s);})}async waitForReady(){await this.parent.getSecureContext();}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref();}};function f0e(t,e,r){return new zT(t,e,r??{})}var kM=class t extends Wc{constructor(e,r){if(super(),this.channelCredentials=e,this.callCredentials=r,!e._isSecure())throw new Error("Cannot compose insecure credentials")}compose(e){let r=this.callCredentials.compose(e);return new t(this.channelCredentials,r)}_isSecure(){return  true}_equals(e){return this===e?true:e instanceof t?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):false}_createSecureConnector(e,r,i){let n=this.callCredentials.compose(i??FT.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(e,r,n)}};});var qs=y(Ki=>{Object.defineProperty(Ki,"__esModule",{value:true});Ki.createChildChannelControlHelper=_0e;Ki.registerLoadBalancerType=g0e;Ki.registerDefaultLoadBalancerType=E0e;Ki.createLoadBalancer=S0e;Ki.isLoadBalancerNameRegistered=T0e;Ki.parseLoadBalancingConfig=h7;Ki.getDefaultConfig=y0e;Ki.selectLbConfigFromList=v0e;var h0e=et(),m0e=xe();function _0e(t,e){var r,i,n,a,o,s,c,l,u,d;return {createSubchannel:(i=(r=e.createSubchannel)===null||r===void 0?void 0:r.bind(e))!==null&&i!==void 0?i:t.createSubchannel.bind(t),updateState:(a=(n=e.updateState)===null||n===void 0?void 0:n.bind(e))!==null&&a!==void 0?a:t.updateState.bind(t),requestReresolution:(s=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&s!==void 0?s:t.requestReresolution.bind(t),addChannelzChild:(l=(c=e.addChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&l!==void 0?l:t.addChannelzChild.bind(t),removeChannelzChild:(d=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&d!==void 0?d:t.removeChannelzChild.bind(t)}}var js={},Ih=null;function g0e(t,e,r){js[t]={LoadBalancer:e,LoadBalancingConfig:r};}function E0e(t){Ih=t;}function S0e(t,e){let r=t.getLoadBalancerName();return r in js?new js[r].LoadBalancer(e):null}function T0e(t){return t in js}function h7(t){let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let r=e[0];if(r in js)try{return js[r].LoadBalancingConfig.createFromJson(t[r])}catch(i){throw new Error(`${r}: ${i.message}`)}else throw new Error(`Unrecognized load balancing config name ${r}`)}function y0e(){if(!Ih)throw new Error("No default load balancer type registered");return new js[Ih].LoadBalancingConfig}function v0e(t,e=false){for(let r of t)try{return h7(r)}catch(i){(0, h0e.log)(m0e.LogVerbosity.DEBUG,"Config parsing failed with error",i.message);continue}return e&&Ih?new js[Ih].LoadBalancingConfig:null}});var $M=y(Mh=>{Object.defineProperty(Mh,"__esModule",{value:true});Mh.validateRetryThrottling=m7;Mh.validateServiceConfig=_7;Mh.extractAndSelectServiceConfig=M0e;var A0e=U("os"),HT=xe(),GT=/^\d+(\.\d{1,9})?s$/,R0e="node";function O0e(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return {service:t.service,method:t.method}}else return {service:t.service}}else {if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return {}}}function N0e(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!GT.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!GT.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(HT.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(HT.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return {maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function b0e(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!GT.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let r of t.nonFatalStatusCodes)if(typeof r=="number"){if(!Object.values(HT.Status).includes(r))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof r=="string"){if(!Object.values(HT.Status).includes(r.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function P0e(t){var e;let r={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let i of t.name)r.name.push(O0e(i));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=t.waitForReady;}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=t.timeout;}else if(typeof t.timeout=="string"&&GT.test(t.timeout)){let i=t.timeout.substring(0,t.timeout.length-1).split(".");r.timeout={seconds:i[0]|0,nanos:((e=i[1])!==null&&e!==void 0?e:0)|0};}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=t.maxRequestBytes;}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=t.maxResponseBytes;}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=N0e(t.retryPolicy);}else "hedgingPolicy"in t&&(r.hedgingPolicy=b0e(t.hedgingPolicy));return r}function m7(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return {maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}function C0e(t){if(!(typeof t=="object"&&t!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof t}`);let e=Object.keys(t);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return {[e[0]]:t[e[0]]}}function _7(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let i of t.loadBalancingConfig)e.loadBalancingConfig.push(C0e(i));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let i of t.methodConfig)e.methodConfig.push(P0e(i));"retryThrottling"in t&&(e.retryThrottling=m7(t.retryThrottling));let r=[];for(let i of e.methodConfig)for(let n of i.name){for(let a of r)if(n.service===a.service&&n.method===a.method)throw new Error(`Invalid service config: duplicate name ${n.service}/${n.method}`);r.push(n);}return e}function x0e(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:_7(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let i of t.clientLanguage)if(typeof i=="string")e.clientLanguage.push(i);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let i of t.clientHostname)if(typeof i=="string")e.clientHostname.push(i);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let i in t)if(!r.includes(i))throw new Error(`Invalid service config choice: unexpected field ${i}`);return e}function I0e(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let r of t){let i=x0e(r);if(!(typeof i.percentage=="number"&&e>i.percentage)){if(Array.isArray(i.clientHostname)){let n=false;for(let a of i.clientHostname)a===A0e.hostname()&&(n=true);if(!n)continue}if(Array.isArray(i.clientLanguage)){let n=false;for(let a of i.clientLanguage)a===R0e&&(n=true);if(!n)continue}return i.serviceConfig}}throw new Error("No matching service config found")}function M0e(t,e){for(let r of t)if(r.length>0&&r[0].startsWith("grpc_config=")){let i=r.join("").substring(12),n=JSON.parse(i);return I0e(n,e)}return null}});var Ir=y(jT=>{Object.defineProperty(jT,"__esModule",{value:true});jT.ConnectivityState=void 0;var g7;(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN";})(g7||(jT.ConnectivityState=g7={}));});var Fo=y(Ys=>{Object.defineProperty(Ys,"__esModule",{value:true});Ys.QueuePicker=Ys.UnavailablePicker=Ys.PickResultType=void 0;var w0e=Jt(),L0e=xe(),qT;(function(t){t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP";})(qT||(Ys.PickResultType=qT={}));var VM=class{constructor(e){this.status=Object.assign({code:L0e.Status.UNAVAILABLE,details:"No connection established",metadata:new w0e.Metadata},e);}pick(e){return {pickResultType:qT.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ys.UnavailablePicker=VM;var BM=class{constructor(e,r){this.loadBalancer=e,this.childPicker=r,this.calledExitIdle=false;}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle();}),this.calledExitIdle=true),this.childPicker?this.childPicker.pick(e):{pickResultType:qT.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ys.QueuePicker=BM;});var Zu=y(WT=>{Object.defineProperty(WT,"__esModule",{value:true});WT.BackoffTimeout=void 0;var D0e=xe(),U0e=et(),k0e="backoff",$0e=1e3,V0e=1.6,B0e=12e4,z0e=.2;function F0e(t,e){return Math.random()*(e-t)+t}var YT=class t{constructor(e,r){this.callback=e,this.initialDelay=$0e,this.multiplier=V0e,this.maxDelay=B0e,this.jitter=z0e,this.running=false,this.hasRef=true,this.startTime=new Date,this.endTime=new Date,this.id=t.getNextId(),r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId);}static getNextId(){return this.nextId++}trace(e){U0e.trace(D0e.LogVerbosity.DEBUG,k0e,"{"+this.id+"} "+e);}runTimer(e){var r,i;this.trace("runTimer(delay="+e+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+e),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=false,this.callback();},e),this.hasRef||(i=(r=this.timerId).unref)===null||i===void 0||i.call(r);}runOnce(){this.trace("runOnce()"),this.running=true,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=e*this.jitter;this.nextDelay=e+F0e(-r,r);}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=false;}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let e=new Date,r=this.startTime;r.setMilliseconds(r.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<r?this.runTimer(r.getTime()-e.getTime()):this.running=false;}}isRunning(){return this.running}ref(){var e,r;this.hasRef=true,(r=(e=this.timerId).ref)===null||r===void 0||r.call(e);}unref(){var e,r;this.hasRef=false,(r=(e=this.timerId).unref)===null||r===void 0||r.call(e);}getEndTime(){return this.endTime}};WT.BackoffTimeout=YT;YT.nextId=0;});var ZT=y(KT=>{Object.defineProperty(KT,"__esModule",{value:true});KT.ChildLoadBalancerHandler=void 0;var H0e=qs(),G0e=Ir(),j0e="child_load_balancer_helper",zM=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(r){this.parent=r,this.child=null;}createSubchannel(r,i){return this.parent.channelControlHelper.createSubchannel(r,i)}updateState(r,i,n){var a;if(this.calledByPendingChild()){if(r===G0e.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null;}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(r,i,n);}requestReresolution(){var r;let i=(r=this.parent.pendingChild)!==null&&r!==void 0?r:this.parent.currentChild;this.child===i&&this.parent.channelControlHelper.requestReresolution();}setChild(r){this.child=r;}addChannelzChild(r){this.parent.channelControlHelper.addChannelzChild(r);}removeChannelzChild(r){this.parent.channelControlHelper.removeChannelzChild(r);}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}};}configUpdateRequiresNewPolicyInstance(e,r){return e.getLoadBalancerName()!==r.getLoadBalancerName()}updateAddressList(e,r,i,n){let a;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,r)){let o=new this.ChildPolicyHelper(this),s=(0, H0e.createLoadBalancer)(r,o);o.setChild(s),this.currentChild===null?(this.currentChild=s,a=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=s,a=this.pendingChild);}else this.pendingChild===null?a=this.currentChild:a=this.pendingChild;return this.latestConfig=r,a.updateAddressList(e,r,i,n)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle());}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff());}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null);}getTypeName(){return j0e}};KT.ChildLoadBalancerHandler=zM;});var T7=y(XT=>{Object.defineProperty(XT,"__esModule",{value:true});XT.ResolvingLoadBalancer=void 0;var q0e=qs(),Y0e=$M(),Qr=Ir(),E7=pi(),wh=Fo(),W0e=Zu(),FM=xe(),K0e=Jt(),Z0e=et(),X0e=xe(),J0e=xr(),Q0e=ZT(),eLe="resolving_load_balancer";function S7(t){Z0e.trace(X0e.LogVerbosity.DEBUG,eLe,t);}var tLe=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function rLe(t,e,r,i){for(let n of r.name)switch(i){case "EMPTY":if(!n.service&&!n.method)return  true;break;case "SERVICE":if(n.service===t&&!n.method)return  true;break;case "SERVICE_AND_METHOD":if(n.service===t&&n.method===e)return  true}return  false}function nLe(t,e,r,i){for(let n of r)if(rLe(t,e,n,i))return n;return null}function iLe(t){return {invoke(e,r){var i,n;let a=e.split("/").filter(c=>c.length>0),o=(i=a[0])!==null&&i!==void 0?i:"",s=(n=a[1])!==null&&n!==void 0?n:"";if(t&&t.methodConfig)for(let c of tLe){let l=nLe(o,s,t.methodConfig,c);if(l)return {methodConfig:l,pickInformation:{},status:FM.Status.OK,dynamicFilterFactories:[]}}return {methodConfig:{name:[]},pickInformation:{},status:FM.Status.OK,dynamicFilterFactories:[]}},unref(){}}}var HM=class{constructor(e,r,i,n,a){this.target=e,this.channelControlHelper=r,this.channelOptions=i,this.onSuccessfulResolution=n,this.onFailedResolution=a,this.latestChildState=Qr.ConnectivityState.IDLE,this.latestChildPicker=new wh.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=Qr.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=false,i["grpc.service_config"]?this.defaultServiceConfig=(0, Y0e.validateServiceConfig)(JSON.parse(i["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Qr.ConnectivityState.IDLE,new wh.QueuePicker(this),null),this.childLoadBalancer=new Q0e.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?(S7("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=true):this.updateResolution();},updateState:(s,c,l)=>{this.latestChildState=s,this.latestChildPicker=c,this.latestChildErrorMessage=l,this.updateState(s,c,l);},addChannelzChild:r.addChannelzChild.bind(r),removeChannelzChild:r.removeChannelzChild.bind(r)}),this.innerResolver=(0, E7.createResolver)(e,this.handleResolverResult.bind(this),i);let o={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new W0e.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=false):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage);},o),this.backoffTimeout.unref();}handleResolverResult(e,r,i,n){var a,o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let s=true,c=null;if(i===null?c=this.defaultServiceConfig:i.ok?c=i.value:this.previousServiceConfig!==null?c=this.previousServiceConfig:(s=false,this.handleResolutionFailure(i.error)),c!==null){let l=(a=c?.loadBalancingConfig)!==null&&a!==void 0?a:[],u=(0, q0e.selectLbConfigFromList)(l,true);u===null?(s=false,this.handleResolutionFailure({code:FM.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new K0e.Metadata})):s=this.childLoadBalancer.updateAddressList(e,u,Object.assign(Object.assign({},this.channelOptions),r),n);}return s&&this.onSuccessfulResolution(c,(o=r[E7.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])!==null&&o!==void 0?o:iLe(c)),s}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Qr.ConnectivityState.IDLE&&this.updateState(Qr.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce();}updateState(e,r,i){S7((0, J0e.uriToString)(this.target)+" "+Qr.ConnectivityState[this.currentState]+" -> "+Qr.ConnectivityState[e]),e===Qr.ConnectivityState.IDLE&&(r=new wh.QueuePicker(this,r)),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}handleResolutionFailure(e){this.latestChildState===Qr.ConnectivityState.IDLE&&(this.updateState(Qr.ConnectivityState.TRANSIENT_FAILURE,new wh.UnavailablePicker(e),e.details),this.onFailedResolution(e));}exitIdle(){(this.currentState===Qr.ConnectivityState.IDLE||this.currentState===Qr.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=true:this.updateResolution()),this.childLoadBalancer.exitIdle();}updateAddressList(e,r){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff();}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Qr.ConnectivityState.IDLE,this.latestChildPicker=new wh.QueuePicker(this),this.currentState=Qr.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=false;}getTypeName(){return "resolving_load_balancer"}};XT.ResolvingLoadBalancer=HM;});var y7=y(Lh=>{Object.defineProperty(Lh,"__esModule",{value:true});Lh.recognizedOptions=void 0;Lh.channelOptionsEqual=oLe;Lh.recognizedOptions={"grpc.ssl_target_name_override":true,"grpc.primary_user_agent":true,"grpc.secondary_user_agent":true,"grpc.default_authority":true,"grpc.keepalive_time_ms":true,"grpc.keepalive_timeout_ms":true,"grpc.keepalive_permit_without_calls":true,"grpc.service_config":true,"grpc.max_concurrent_streams":true,"grpc.initial_reconnect_backoff_ms":true,"grpc.max_reconnect_backoff_ms":true,"grpc.use_local_subchannel_pool":true,"grpc.max_send_message_length":true,"grpc.max_receive_message_length":true,"grpc.enable_http_proxy":true,"grpc.enable_channelz":true,"grpc.dns_min_time_between_resolutions_ms":true,"grpc.enable_retries":true,"grpc.per_rpc_retry_buffer_size":true,"grpc.retry_buffer_size":true,"grpc.max_connection_age_ms":true,"grpc.max_connection_age_grace_ms":true,"grpc-node.max_session_memory":true,"grpc.service_config_disable_resolution":true,"grpc.client_idle_timeout_ms":true,"grpc-node.tls_enable_trace":true,"grpc.lb.ring_hash.ring_size_cap":true,"grpc-node.retry_max_attempts_limit":true,"grpc-node.flow_control_window":true,"grpc.server_call_metric_recording":true};function oLe(t,e){let r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return  false;for(let n=0;n<r.length;n+=1)if(r[n]!==i[n]||t[r[n]]!==e[i[n]])return  false;return  true}});var en=y(fi=>{Object.defineProperty(fi,"__esModule",{value:true});fi.EndpointMap=void 0;fi.isTcpSubchannelAddress=Uh;fi.subchannelAddressEqual=JT;fi.subchannelAddressToString=A7;fi.stringToSubchannelAddress=aLe;fi.endpointEqual=cLe;fi.endpointToString=lLe;fi.endpointHasAddress=R7;var v7=U("net");function Uh(t){return "port"in t}function JT(t,e){return !t&&!e?true:!t||!e?false:Uh(t)?Uh(e)&&t.host===e.host&&t.port===e.port:!Uh(e)&&t.path===e.path}function A7(t){return Uh(t)?(0, v7.isIPv6)(t.host)?"["+t.host+"]:"+t.port:t.host+":"+t.port:t.path}var sLe=443;function aLe(t,e){return (0, v7.isIP)(t)?{host:t,port:e??sLe}:{path:t}}function cLe(t,e){if(t.addresses.length!==e.addresses.length)return  false;for(let r=0;r<t.addresses.length;r++)if(!JT(t.addresses[r],e.addresses[r]))return  false;return  true}function lLe(t){return "["+t.addresses.map(A7).join(", ")+"]"}function R7(t,e){for(let r of t.addresses)if(JT(r,e))return  true;return  false}function Dh(t,e){if(t.addresses.length!==e.addresses.length)return  false;for(let r of t.addresses){let i=false;for(let n of e.addresses)if(JT(r,n)){i=true;break}if(!i)return  false}return  true}var GM=class{constructor(){this.map=new Set;}get size(){return this.map.size}getForSubchannelAddress(e){for(let r of this.map)if(R7(r.key,e))return r.value}deleteMissing(e){let r=[];for(let i of this.map){let n=false;for(let a of e)Dh(a,i.key)&&(n=true);n||(r.push(i.value),this.map.delete(i));}return r}get(e){for(let r of this.map)if(Dh(e,r.key))return r.value}set(e,r){for(let i of this.map)if(Dh(e,i.key)){i.value=r;return}this.map.add({key:e,value:r});}delete(e){for(let r of this.map)if(Dh(e,r.key)){this.map.delete(r);return}}has(e){for(let r of this.map)if(Dh(e,r.key))return  true;return  false}clear(){this.map.clear();}*keys(){for(let e of this.map)yield e.key;}*values(){for(let e of this.map)yield e.value;}*entries(){for(let e of this.map)yield [e.key,e.value];}};fi.EndpointMap=GM;});var N7={};Ne(N7,{OrderedMap:()=>gLe});function Xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jM(t,e);function r(){this.constructor=t;}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r);}function uLe(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(u){return c([l,u])}}function c(l){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(i=1,n&&(a=l[0]&2?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r);}catch(u){l=[6,u],n=0;}finally{i=a=0;}if(l[0]&5)throw l[1];return {value:l[0]?l[1]:void 0,done:true}}}function Kc(){throw new RangeError("Iterator access denied!")}var jM,O7,dLe,pLe,fLe,hLe,mLe,_Le,Ho,gLe,b7=_(()=>{jM=function(t,e){return jM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n]);},jM(t,e)};O7=(function(){function t(e,r,i){i===void 0&&(i=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=r,this.l=i;}return t.prototype.v=function(){var e=this,r=e.h.h===e;if(r&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else {if(r)return e.h;for(var i=e.h;i.t===e;)e=i,i=e.h;e=i;}return e},t.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else {for(var r=e.h;r.i===e;)e=r,r=e.h;return e.i!==r?r:e}},t.prototype.T=function(){var e=this.h,r=this.i,i=r.t;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.t=this,this.h=r,this.i=i,i&&(i.h=this),r},t.prototype.I=function(){var e=this.h,r=this.t,i=r.i;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.i=this,this.h=r,this.t=i,i&&(i.h=this),r},t})(),dLe=(function(t){Xu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.O=1,r}return e.prototype.T=function(){var r=t.prototype.T.call(this);return this.M(),r.M(),r},e.prototype.I=function(){var r=t.prototype.I.call(this);return this.M(),r.M(),r},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O);},e})(O7),pLe=(function(){function t(e){e===void 0&&(e=0),this.iteratorType=e;}return t.prototype.equals=function(e){return this.C===e.C},t})(),fLe=(function(){function t(){this._=0;}return Object.defineProperty(t.prototype,"length",{get:function(){return this._},enumerable:false,configurable:true}),t.prototype.size=function(){return this._},t.prototype.empty=function(){return this._===0},t})(),hLe=(function(t){Xu(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(fLe);mLe=(function(t){Xu(e,t);function e(r,i){r===void 0&&(r=function(a,o){return a<o?-1:a>o?1:0}),i===void 0&&(i=false);var n=t.call(this)||this;return n.N=void 0,n.g=r,n.enableIndex=i,n.S=i?dLe:O7,n.A=new n.S,n}return e.prototype.m=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);if(a<0)r=r.i;else if(a>0)n=r,r=r.t;else return r}return n},e.prototype.B=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);a<=0?r=r.i:(n=r,r=r.t);}return n},e.prototype.j=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);if(a<0)n=r,r=r.i;else if(a>0)r=r.t;else return r}return n},e.prototype.k=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);a<0?(n=r,r=r.i):r=r.t;}return n},e.prototype.R=function(r){for(;;){var i=r.h;if(i===this.A)return;if(r.l===1){r.l=0;return}if(r===i.t){var n=i.i;if(n.l===1)n.l=0,i.l=1,i===this.N?this.N=i.T():i.T();else if(n.i&&n.i.l===1){n.l=i.l,i.l=0,n.i.l=0,i===this.N?this.N=i.T():i.T();return}else n.t&&n.t.l===1?(n.l=1,n.t.l=0,n.I()):(n.l=1,r=i);}else {var n=i.t;if(n.l===1)n.l=0,i.l=1,i===this.N?this.N=i.I():i.I();else if(n.t&&n.t.l===1){n.l=i.l,i.l=0,n.t.l=0,i===this.N?this.N=i.I():i.I();return}else n.i&&n.i.l===1?(n.l=1,n.i.l=0,n.T()):(n.l=1,r=i);}}},e.prototype.G=function(r){if(this._===1){this.clear();return}for(var i=r;i.t||i.i;){if(i.i)for(i=i.i;i.t;)i=i.t;else i=i.t;var n=r.u;r.u=i.u,i.u=n;var a=r.o;r.o=i.o,i.o=a,r=i;}this.A.t===i?this.A.t=i.h:this.A.i===i&&(this.A.i=i.h),this.R(i);var o=i.h;if(i===o.t?o.t=void 0:o.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;o!==this.A;)o.O-=1,o=o.h;},e.prototype.P=function(r){for(var i=typeof r=="number"?r:void 0,n=typeof r=="function"?r:void 0,a=typeof r>"u"?[]:void 0,o=0,s=this.N,c=[];c.length||s;)if(s)c.push(s),s=s.t;else {if(s=c.pop(),o===i)return s;a&&a.push(s),n&&n(s,o,this),o+=1,s=s.i;}return a},e.prototype.q=function(r){for(;;){var i=r.h;if(i.l===0)return;var n=i.h;if(i===n.t){var a=n.i;if(a&&a.l===1){if(a.l=i.l=0,n===this.N)return;n.l=1,r=n;continue}else if(r===i.i){if(r.l=0,r.t&&(r.t.h=i),r.i&&(r.i.h=n),i.i=r.t,n.t=r.i,r.t=i,r.i=n,n===this.N)this.N=r,this.A.h=r;else {var o=n.h;o.t===n?o.t=r:o.i=r;}r.h=n.h,i.h=r,n.h=r,n.l=1;}else {i.l=0,n===this.N?this.N=n.I():n.I(),n.l=1;return}}else {var a=n.t;if(a&&a.l===1){if(a.l=i.l=0,n===this.N)return;n.l=1,r=n;continue}else if(r===i.t){if(r.l=0,r.t&&(r.t.h=n),r.i&&(r.i.h=i),n.i=r.t,i.t=r.i,r.t=n,r.i=i,n===this.N)this.N=r,this.A.h=r;else {var o=n.h;o.t===n?o.t=r:o.i=r;}r.h=n.h,i.h=r,n.h=r,n.l=1;}else {i.l=0,n===this.N?this.N=n.T():n.T(),n.l=1;return}}this.enableIndex&&(i.M(),n.M(),r.M());return}},e.prototype.D=function(r,i,n){if(this.N===void 0)return this._+=1,this.N=new this.S(r,i,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,o=this.A.t,s=this.g(o.u,r);if(s===0)return o.o=i,this._;if(s>0)o.t=new this.S(r,i),o.t.h=o,a=o.t,this.A.t=a;else {var c=this.A.i,l=this.g(c.u,r);if(l===0)return c.o=i,this._;if(l<0)c.i=new this.S(r,i),c.i.h=c,a=c.i,this.A.i=a;else {if(n!==void 0){var u=n.C;if(u!==this.A){var d=this.g(u.u,r);if(d===0)return u.o=i,this._;if(d>0){var p=u.v(),f=this.g(p.u,r);if(f===0)return p.o=i,this._;f<0&&(a=new this.S(r,i),p.i===void 0?(p.i=a,a.h=p):(u.t=a,a.h=u));}}}if(a===void 0)for(a=this.N;;){var g=this.g(a.u,r);if(g>0){if(a.t===void 0){a.t=new this.S(r,i),a.t.h=a,a=a.t;break}a=a.t;}else if(g<0){if(a.i===void 0){a.i=new this.S(r,i),a.i.h=a,a=a.i;break}a=a.i;}else return a.o=i,this._}}}if(this.enableIndex)for(var S=a.h;S!==this.A;)S.O+=1,S=S.h;return this.q(a),this._+=1,this._},e.prototype.F=function(r,i){for(;r;){var n=this.g(r.u,i);if(n<0)r=r.i;else if(n>0)r=r.t;else return r}return r||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0;},e.prototype.updateKeyByIterator=function(r,i){var n=r.C;if(n===this.A&&Kc(),this._===1)return n.u=i,true;var a=n.p().u;if(n===this.A.t)return this.g(a,i)>0?(n.u=i,true):false;var o=n.v().u;return n===this.A.i?this.g(o,i)<0?(n.u=i,true):false:this.g(o,i)>=0||this.g(a,i)<=0?false:(n.u=i,true)},e.prototype.eraseElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var i=this.P(r);return this.G(i),this._},e.prototype.eraseElementByKey=function(r){if(this._===0)return  false;var i=this.F(this.N,r);return i===this.A?false:(this.G(i),true)},e.prototype.eraseElementByIterator=function(r){var i=r.C;i===this.A&&Kc();var n=i.i===void 0,a=r.iteratorType===0;return a?n&&r.next():(!n||i.t===void 0)&&r.next(),this.G(i),r},e.prototype.getHeight=function(){if(this._===0)return 0;function r(i){return i?Math.max(r(i.t),r(i.i))+1:0}return r(this.N)},e})(hLe),_Le=(function(t){Xu(e,t);function e(r,i,n){var a=t.call(this,n)||this;return a.C=r,a.A=i,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&Kc(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&Kc(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&Kc(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&Kc(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var r=this.C,i=this.A.h;if(r===this.A)return i?i.O-1:0;var n=0;for(r.t&&(n+=r.t.O);r!==i;){var a=r.h;r===a.i&&(n+=1,a.t&&(n+=a.t.O)),r=a;}return n},enumerable:false,configurable:true}),e.prototype.isAccessible=function(){return this.C!==this.A},e})(pLe),Ho=(function(t){Xu(e,t);function e(r,i,n,a){var o=t.call(this,r,i,a)||this;return o.container=n,o}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&Kc();var r=this;return new Proxy([],{get:function(i,n){return n==="0"?r.C.u:n==="1"?r.C.o:(i[0]=r.C.u,i[1]=r.C.o,i[n])},set:function(i,n,a){if(n!=="1")throw new TypeError("prop must be 1");return r.C.o=a,true}})},enumerable:false,configurable:true}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e})(_Le),gLe=(function(t){Xu(e,t);function e(r,i,n){r===void 0&&(r=[]);var a=t.call(this,i,n)||this,o=a;return r.forEach((function(s){o.setElement(s[0],s[1]);})),a}return e.prototype.begin=function(){return new Ho(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new Ho(this.A,this.A,this)},e.prototype.rBegin=function(){return new Ho(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new Ho(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var r=this.A.t;return [r.u,r.o]}},e.prototype.back=function(){if(this._!==0){var r=this.A.i;return [r.u,r.o]}},e.prototype.lowerBound=function(r){var i=this.m(this.N,r);return new Ho(i,this.A,this)},e.prototype.upperBound=function(r){var i=this.B(this.N,r);return new Ho(i,this.A,this)},e.prototype.reverseLowerBound=function(r){var i=this.j(this.N,r);return new Ho(i,this.A,this)},e.prototype.reverseUpperBound=function(r){var i=this.k(this.N,r);return new Ho(i,this.A,this)},e.prototype.forEach=function(r){this.P((function(i,n,a){r([i.u,i.o],n,a);}));},e.prototype.setElement=function(r,i,n){return this.D(r,i,n)},e.prototype.getElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var i=this.P(r);return [i.u,i.o]},e.prototype.find=function(r){var i=this.F(this.N,r);return new Ho(i,this.A,this)},e.prototype.getElementByKey=function(r){var i=this.F(this.N,r);return i.o},e.prototype.union=function(r){var i=this;return r.forEach((function(n){i.setElement(n[0],n[1]);})),this._},e.prototype[Symbol.iterator]=function(){var r,i,n,a;return uLe(this,(function(o){switch(o.label){case 0:r=this._,i=this.P(),n=0,o.label=1;case 1:return n<r?(a=i[n],[4,[a.u,a.o]]):[3,4];case 2:o.sent(),o.label=3;case 3:return ++n,[3,1];case 4:return [2]}}))},e})(mLe);});var ey=y(QT=>{Object.defineProperty(QT,"__esModule",{value:true});QT.registerAdminService=ELe;QT.addAdminServicesToServer=SLe;var P7=[];function ELe(t,e){P7.push({getServiceDefinition:t,getHandlers:e});}function SLe(t){for(let{getServiceDefinition:e,getHandlers:r}of P7)t.addService(e(),r());}});var C7=y(hi=>{Object.defineProperty(hi,"__esModule",{value:true});hi.ClientDuplexStreamImpl=hi.ClientWritableStreamImpl=hi.ClientReadableStreamImpl=hi.ClientUnaryCallImpl=void 0;hi.callErrorFromStatus=yLe;var TLe=U("events"),ZM=U("stream"),kh=xe();function yLe(t,e){let r=`${t.code} ${kh.Status[t.code]}: ${t.details}`,n=`${new Error(r).stack}
for call at
${e}`;return Object.assign(new Error(r),t,{stack:n})}var qM=class extends TLe.EventEmitter{constructor(){super();}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(kh.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}};hi.ClientUnaryCallImpl=qM;var YM=class extends ZM.Readable{constructor(e){super({objectMode:true}),this.deserialize=e;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(kh.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead();}};hi.ClientReadableStreamImpl=YM;var WM=class extends ZM.Writable{constructor(e){super({objectMode:true}),this.serialize=e;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(kh.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_write(e,r,i){var n;let a={callback:i},o=Number(r);Number.isNaN(o)||(a.flags=o),(n=this.call)===null||n===void 0||n.sendMessageWithContext(a,e);}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e();}};hi.ClientWritableStreamImpl=WM;var KM=class extends ZM.Duplex{constructor(e,r){super({objectMode:true}),this.serialize=e,this.deserialize=r;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(kh.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead();}_write(e,r,i){var n;let a={callback:i},o=Number(r);Number.isNaN(o)||(a.flags=o),(n=this.call)===null||n===void 0||n.sendMessageWithContext(a,e);}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e();}};hi.ClientDuplexStreamImpl=KM;});var Xc=y(Zc=>{Object.defineProperty(Zc,"__esModule",{value:true});Zc.InterceptingListenerImpl=void 0;Zc.statusOrFromValue=ALe;Zc.statusOrFromError=RLe;Zc.isInterceptingListener=OLe;var vLe=Jt();function ALe(t){return {ok:true,value:t}}function RLe(t){var e;return {ok:false,error:Object.assign(Object.assign({},t),{metadata:(e=t.metadata)!==null&&e!==void 0?e:new vLe.Metadata})}}function OLe(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}var XM=class{constructor(e,r){this.listener=e,this.nextListener=r,this.processingMetadata=false,this.hasPendingMessage=false,this.processingMessage=false,this.pendingStatus=null;}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=false);}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus);}onReceiveMetadata(e){this.processingMetadata=true,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=false,this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingStatus();});}onReceiveMessage(e){this.processingMessage=true,this.listener.onReceiveMessage(e,r=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=true):(this.nextListener.onReceiveMessage(r),this.processPendingStatus());});}onReceiveStatus(e){this.listener.onReceiveStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextListener.onReceiveStatus(r);});}};Zc.InterceptingListenerImpl=XM;});var iw=y(mi=>{Object.defineProperty(mi,"__esModule",{value:true});mi.InterceptingCall=mi.RequesterBuilder=mi.ListenerBuilder=mi.InterceptorConfigurationError=void 0;mi.getInterceptingCall=CLe;var NLe=Jt(),x7=Xc(),I7=xe(),M7=DT(),Vh=class t extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,t);}};mi.InterceptorConfigurationError=Vh;var QM=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0;}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return {onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};mi.ListenerBuilder=QM;var ew=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0;}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return {start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};mi.RequesterBuilder=ew;var JM={onReceiveMetadata:(t,e)=>{e(t);},onReceiveMessage:(t,e)=>{e(t);},onReceiveStatus:(t,e)=>{e(t);}},$h={start:(t,e,r)=>{r(t,e);},sendMessage:(t,e)=>{e(t);},halfClose:t=>{t();},cancel:t=>{t();}},tw=class{constructor(e,r){var i,n,a,o;this.nextCall=e,this.processingMetadata=false,this.pendingMessageContext=null,this.processingMessage=false,this.pendingHalfClose=false,r?this.requester={start:(i=r.start)!==null&&i!==void 0?i:$h.start,sendMessage:(n=r.sendMessage)!==null&&n!==void 0?n:$h.sendMessage,halfClose:(a=r.halfClose)!==null&&a!==void 0?a:$h.halfClose,cancel:(o=r.cancel)!==null&&o!==void 0?o:$h.cancel}:this.requester=$h;}cancelWithStatus(e,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,r);});}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null);}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose();}start(e,r){var i,n,a,o,s,c;let l={onReceiveMetadata:(n=(i=r?.onReceiveMetadata)===null||i===void 0?void 0:i.bind(r))!==null&&n!==void 0?n:(u=>{}),onReceiveMessage:(o=(a=r?.onReceiveMessage)===null||a===void 0?void 0:a.bind(r))!==null&&o!==void 0?o:(u=>{}),onReceiveStatus:(c=(s=r?.onReceiveStatus)===null||s===void 0?void 0:s.bind(r))!==null&&c!==void 0?c:(u=>{})};this.processingMetadata=true,this.requester.start(e,l,(u,d)=>{var p,f,g;this.processingMetadata=false;let S;if((0, x7.isInterceptingListener)(d))S=d;else {let v={onReceiveMetadata:(p=d.onReceiveMetadata)!==null&&p!==void 0?p:JM.onReceiveMetadata,onReceiveMessage:(f=d.onReceiveMessage)!==null&&f!==void 0?f:JM.onReceiveMessage,onReceiveStatus:(g=d.onReceiveStatus)!==null&&g!==void 0?g:JM.onReceiveStatus};S=new x7.InterceptingListenerImpl(v,l);}this.nextCall.start(u,S),this.processPendingMessage(),this.processPendingHalfClose();});}sendMessageWithContext(e,r){this.processingMessage=true,this.requester.sendMessage(r,i=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=r):(this.nextCall.sendMessageWithContext(e,i),this.processPendingHalfClose());});}sendMessage(e){this.sendMessageWithContext({},e);}startRead(){this.nextCall.startRead();}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=true:this.nextCall.halfClose();});}getAuthContext(){return this.nextCall.getAuthContext()}};mi.InterceptingCall=tw;function bLe(t,e,r){var i,n;let a=(i=r.deadline)!==null&&i!==void 0?i:1/0,o=r.host,s=(n=r.parent)!==null&&n!==void 0?n:null,c=r.propagate_flags,l=r.credentials,u=t.createCall(e,a,o,s,c);return l&&u.setCredentials(l),u}var ty=class{constructor(e,r){this.call=e,this.methodDefinition=r;}cancelWithStatus(e,r){this.call.cancelWithStatus(e,r);}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,r){let i;try{i=this.methodDefinition.requestSerialize(r);}catch(n){this.call.cancelWithStatus(I7.Status.INTERNAL,`Request message serialization failure: ${(0, M7.getErrorMessage)(n)}`);return}this.call.sendMessageWithContext(e,i);}sendMessage(e){this.sendMessageWithContext({},e);}start(e,r){let i=null;this.call.start(e,{onReceiveMetadata:n=>{var a;(a=r?.onReceiveMetadata)===null||a===void 0||a.call(r,n);},onReceiveMessage:n=>{var a;let o;try{o=this.methodDefinition.responseDeserialize(n);}catch(s){i={code:I7.Status.INTERNAL,details:`Response message parsing error: ${(0, M7.getErrorMessage)(s)}`,metadata:new NLe.Metadata},this.call.cancelWithStatus(i.code,i.details);return}(a=r?.onReceiveMessage)===null||a===void 0||a.call(r,o);},onReceiveStatus:n=>{var a,o;i?(a=r?.onReceiveStatus)===null||a===void 0||a.call(r,i):(o=r?.onReceiveStatus)===null||o===void 0||o.call(r,n);}});}startRead(){this.call.startRead();}halfClose(){this.call.halfClose();}getAuthContext(){return this.call.getAuthContext()}},rw=class extends ty{constructor(e,r){super(e,r);}start(e,r){var i,n;let a=false,o={onReceiveMetadata:(n=(i=r?.onReceiveMetadata)===null||i===void 0?void 0:i.bind(r))!==null&&n!==void 0?n:(s=>{}),onReceiveMessage:s=>{var c;a=true,(c=r?.onReceiveMessage)===null||c===void 0||c.call(r,s);},onReceiveStatus:s=>{var c,l;a||(c=r?.onReceiveMessage)===null||c===void 0||c.call(r,null),(l=r?.onReceiveStatus)===null||l===void 0||l.call(r,s);}};super.start(e,o),this.call.startRead();}},nw=class extends ty{};function PLe(t,e,r){let i=bLe(t,r.path,e);return r.responseStream?new nw(i,r):new rw(i,r)}function CLe(t,e,r,i){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new Vh("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new Vh("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let n=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?n=[].concat(t.callInterceptors,t.callInterceptorProviders.map(s=>s(e))).filter(s=>s):n=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(s=>s(e))).filter(s=>s);let a=Object.assign({},r,{method_definition:e});return n.reduceRight((s,c)=>l=>c(l,s),s=>PLe(i,s,e))(a)}});var aw=y(ny=>{Object.defineProperty(ny,"__esModule",{value:true});ny.Client=void 0;var Zi=C7(),xLe=cw(),ILe=Ir(),Ws=xe(),Ju=Jt(),ry=iw(),_i=Symbol(),Qu=Symbol(),ed=Symbol(),Go=Symbol();function ow(t){return typeof t=="function"}function td(t){var e;return ((e=t.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var sw=class{constructor(e,r,i={}){var n,a;if(i=Object.assign({},i),this[Qu]=(n=i.interceptors)!==null&&n!==void 0?n:[],delete i.interceptors,this[ed]=(a=i.interceptor_providers)!==null&&a!==void 0?a:[],delete i.interceptor_providers,this[Qu].length>0&&this[ed].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Go]=i.callInvocationTransformer,delete i.callInvocationTransformer,i.channelOverride)this[_i]=i.channelOverride;else if(i.channelFactoryOverride){let o=i.channelFactoryOverride;delete i.channelFactoryOverride,this[_i]=o(e,r,i);}else this[_i]=new xLe.ChannelImplementation(e,r,i);}close(){this[_i].close();}getChannel(){return this[_i]}waitForReady(e,r){let i=n=>{if(n){r(new Error("Failed to connect before the deadline"));return}let a;try{a=this[_i].getConnectivityState(!0);}catch{r(new Error("The channel has been closed"));return}if(a===ILe.ConnectivityState.READY)r();else try{this[_i].watchConnectivityState(a,e,i);}catch{r(new Error("The channel has been closed"));}};setImmediate(i);}checkOptionalUnaryResponseArguments(e,r,i){if(ow(e))return {metadata:new Ju.Metadata,options:{},callback:e};if(ow(r))return e instanceof Ju.Metadata?{metadata:e,options:{},callback:r}:{metadata:new Ju.Metadata,options:e,callback:r};if(!(e instanceof Ju.Metadata&&r instanceof Object&&ow(i)))throw new Error("Incorrect arguments passed");return {metadata:e,options:r,callback:i}}makeUnaryRequest(e,r,i,n,a,o,s){var c,l;let u=this.checkOptionalUnaryResponseArguments(a,o,s),d={path:e,requestStream:false,responseStream:false,requestSerialize:r,responseDeserialize:i},p={argument:n,metadata:u.metadata,call:new Zi.ClientUnaryCallImpl,channel:this[_i],methodDefinition:d,callOptions:u.options,callback:u.callback};this[Go]&&(p=this[Go](p));let f=p.call,g={clientInterceptors:this[Qu],clientInterceptorProviders:this[ed],callInterceptors:(c=p.callOptions.interceptors)!==null&&c!==void 0?c:[],callInterceptorProviders:(l=p.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},S=(0, ry.getInterceptingCall)(g,p.methodDefinition,p.callOptions,p.channel);f.call=S;let v=null,N=false,C=new Error;return S.start(p.metadata,{onReceiveMetadata:M=>{f.emit("metadata",M);},onReceiveMessage(M){v!==null&&S.cancelWithStatus(Ws.Status.UNIMPLEMENTED,"Too many responses received"),v=M;},onReceiveStatus(M){if(!N){if(N=true,M.code===Ws.Status.OK)if(v===null){let A=td(C);p.callback((0, Zi.callErrorFromStatus)({code:Ws.Status.UNIMPLEMENTED,details:"No message received",metadata:M.metadata},A));}else p.callback(null,v);else {let A=td(C);p.callback((0, Zi.callErrorFromStatus)(M,A));}C=null,f.emit("status",M);}}}),S.sendMessage(n),S.halfClose(),f}makeClientStreamRequest(e,r,i,n,a,o){var s,c;let l=this.checkOptionalUnaryResponseArguments(n,a,o),u={path:e,requestStream:true,responseStream:false,requestSerialize:r,responseDeserialize:i},d={metadata:l.metadata,call:new Zi.ClientWritableStreamImpl(r),channel:this[_i],methodDefinition:u,callOptions:l.options,callback:l.callback};this[Go]&&(d=this[Go](d));let p=d.call,f={clientInterceptors:this[Qu],clientInterceptorProviders:this[ed],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(c=d.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},g=(0, ry.getInterceptingCall)(f,d.methodDefinition,d.callOptions,d.channel);p.call=g;let S=null,v=false,N=new Error;return g.start(d.metadata,{onReceiveMetadata:C=>{p.emit("metadata",C);},onReceiveMessage(C){S!==null&&g.cancelWithStatus(Ws.Status.UNIMPLEMENTED,"Too many responses received"),S=C,g.startRead();},onReceiveStatus(C){if(!v){if(v=true,C.code===Ws.Status.OK)if(S===null){let M=td(N);d.callback((0, Zi.callErrorFromStatus)({code:Ws.Status.UNIMPLEMENTED,details:"No message received",metadata:C.metadata},M));}else d.callback(null,S);else {let M=td(N);d.callback((0, Zi.callErrorFromStatus)(C,M));}N=null,p.emit("status",C);}}}),p}checkMetadataAndOptions(e,r){let i,n;return e instanceof Ju.Metadata?(i=e,r?n=r:n={}):(e?n=e:n={},i=new Ju.Metadata),{metadata:i,options:n}}makeServerStreamRequest(e,r,i,n,a,o){var s,c;let l=this.checkMetadataAndOptions(a,o),u={path:e,requestStream:false,responseStream:true,requestSerialize:r,responseDeserialize:i},d={argument:n,metadata:l.metadata,call:new Zi.ClientReadableStreamImpl(i),channel:this[_i],methodDefinition:u,callOptions:l.options};this[Go]&&(d=this[Go](d));let p=d.call,f={clientInterceptors:this[Qu],clientInterceptorProviders:this[ed],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(c=d.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},g=(0, ry.getInterceptingCall)(f,d.methodDefinition,d.callOptions,d.channel);p.call=g;let S=false,v=new Error;return g.start(d.metadata,{onReceiveMetadata(N){p.emit("metadata",N);},onReceiveMessage(N){p.push(N);},onReceiveStatus(N){if(!S){if(S=true,p.push(null),N.code!==Ws.Status.OK){let C=td(v);p.emit("error",(0, Zi.callErrorFromStatus)(N,C));}v=null,p.emit("status",N);}}}),g.sendMessage(n),g.halfClose(),p}makeBidiStreamRequest(e,r,i,n,a){var o,s;let c=this.checkMetadataAndOptions(n,a),l={path:e,requestStream:true,responseStream:true,requestSerialize:r,responseDeserialize:i},u={metadata:c.metadata,call:new Zi.ClientDuplexStreamImpl(r,i),channel:this[_i],methodDefinition:l,callOptions:c.options};this[Go]&&(u=this[Go](u));let d=u.call,p={clientInterceptors:this[Qu],clientInterceptorProviders:this[ed],callInterceptors:(o=u.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(s=u.callOptions.interceptor_providers)!==null&&s!==void 0?s:[]},f=(0, ry.getInterceptingCall)(p,u.methodDefinition,u.callOptions,u.channel);d.call=f;let g=false,S=new Error;return f.start(u.metadata,{onReceiveMetadata(v){d.emit("metadata",v);},onReceiveMessage(v){d.push(v);},onReceiveStatus(v){if(!g){if(g=true,d.push(null),v.code!==Ws.Status.OK){let N=td(S);d.emit("error",(0, Zi.callErrorFromStatus)(v,N));}S=null,d.emit("status",v);}}}),d}};ny.Client=sw;});var oy=y(iy=>{Object.defineProperty(iy,"__esModule",{value:true});iy.makeClientConstructor=w7;iy.loadPackageDefinition=DLe;var Bh=aw(),MLe={unary:Bh.Client.prototype.makeUnaryRequest,server_stream:Bh.Client.prototype.makeServerStreamRequest,client_stream:Bh.Client.prototype.makeClientStreamRequest,bidi:Bh.Client.prototype.makeBidiStreamRequest};function lw(t){return ["__proto__","prototype","constructor"].includes(t)}function w7(t,e,r){class i extends Bh.Client{}return Object.keys(t).forEach(n=>{if(lw(n))return;let a=t[n],o;if(typeof n=="string"&&n.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?o="bidi":o="client_stream":a.responseStream?o="server_stream":o="unary";let s=a.requestSerialize,c=a.responseDeserialize,l=wLe(MLe[o],a.path,s,c);i.prototype[n]=l,Object.assign(i.prototype[n],a),a.originalName&&!lw(a.originalName)&&(i.prototype[a.originalName]=i.prototype[n]);}),i.service=t,i.serviceName=e,i}function wLe(t,e,r,i){return function(...n){return t.call(this,e,r,i,...n)}}function LLe(t){return "format"in t}function DLe(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let i=t[r],n=r.split(".");if(n.some(s=>lw(s)))continue;let a=n[n.length-1],o=e;for(let s of n.slice(0,-1))o[s]||(o[s]={}),o=o[s];LLe(i)?o[a]=i:o[a]=w7(i,a);}return e}});var iQ=y((ept,nQ)=>{var kLe="[object Symbol]",$Le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,VLe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ay="\\ud800-\\udfff",z7="\\u0300-\\u036f\\ufe20-\\ufe23",F7="\\u20d0-\\u20f0",H7="\\u2700-\\u27bf",G7="a-z\\xdf-\\xf6\\xf8-\\xff",BLe="\\xac\\xb1\\xd7\\xf7",zLe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FLe="\\u2000-\\u206f",HLe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",j7="A-Z\\xc0-\\xd6\\xd8-\\xde",q7="\\ufe0e\\ufe0f",Y7=BLe+zLe+FLe+HLe,dw="['\u2019]",GLe="["+ay+"]",L7="["+Y7+"]",sy="["+z7+F7+"]",W7="\\d+",jLe="["+H7+"]",K7="["+G7+"]",Z7="[^"+ay+Y7+W7+H7+G7+j7+"]",uw="\\ud83c[\\udffb-\\udfff]",qLe="(?:"+sy+"|"+uw+")",X7="[^"+ay+"]",pw="(?:\\ud83c[\\udde6-\\uddff]){2}",fw="[\\ud800-\\udbff][\\udc00-\\udfff]",rd="["+j7+"]",J7="\\u200d",D7="(?:"+K7+"|"+Z7+")",YLe="(?:"+rd+"|"+Z7+")",U7="(?:"+dw+"(?:d|ll|m|re|s|t|ve))?",k7="(?:"+dw+"(?:D|LL|M|RE|S|T|VE))?",Q7=qLe+"?",eQ="["+q7+"]?",WLe="(?:"+J7+"(?:"+[X7,pw,fw].join("|")+")"+eQ+Q7+")*",tQ=eQ+Q7+WLe,KLe="(?:"+[jLe,pw,fw].join("|")+")"+tQ,ZLe="(?:"+[X7+sy+"?",sy,pw,fw,GLe].join("|")+")",XLe=RegExp(dw,"g"),JLe=RegExp(sy,"g"),QLe=RegExp(uw+"(?="+uw+")|"+ZLe+tQ,"g"),eDe=RegExp([rd+"?"+K7+"+"+U7+"(?="+[L7,rd,"$"].join("|")+")",YLe+"+"+k7+"(?="+[L7,rd+D7,"$"].join("|")+")",rd+"?"+D7+"+"+U7,rd+"+"+k7,W7,KLe].join("|"),"g"),tDe=RegExp("["+J7+ay+z7+F7+q7+"]"),rDe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nDe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},iDe=typeof global=="object"&&global&&global.Object===Object&&global,oDe=typeof self=="object"&&self&&self.Object===Object&&self,sDe=iDe||oDe||Function("return this")();function aDe(t,e,r,i){var n=-1,a=t?t.length:0;for(i;++n<a;)r=e(r,t[n],n,t);return r}function cDe(t){return t.split("")}function lDe(t){return t.match($Le)||[]}function uDe(t){return function(e){return t?.[e]}}var dDe=uDe(nDe);function rQ(t){return tDe.test(t)}function pDe(t){return rDe.test(t)}function fDe(t){return rQ(t)?hDe(t):cDe(t)}function hDe(t){return t.match(QLe)||[]}function mDe(t){return t.match(eDe)||[]}var _De=Object.prototype,gDe=_De.toString,$7=sDe.Symbol,V7=$7?$7.prototype:void 0,B7=V7?V7.toString:void 0;function EDe(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),r=r>n?n:r,r<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(n);++i<n;)a[i]=t[i+e];return a}function SDe(t){if(typeof t=="string")return t;if(RDe(t))return B7?B7.call(t):"";var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function TDe(t,e,r){var i=t.length;return r=r===void 0?i:r,false&&r>=i?t:EDe(t,e,r)}function yDe(t){return function(e){e=cy(e);var r=rQ(e)?fDe(e):void 0,i=r?r[0]:e.charAt(0),n=r?TDe(r,1).join(""):e.slice(1);return i[t]()+n}}function vDe(t){return function(e){return aDe(CDe(bDe(e).replace(XLe,"")),t,"")}}function ADe(t){return !!t&&typeof t=="object"}function RDe(t){return typeof t=="symbol"||ADe(t)&&gDe.call(t)==kLe}function cy(t){return t==null?"":SDe(t)}var ODe=vDe(function(t,e,r){return e=e.toLowerCase(),t+(r?NDe(e):e)});function NDe(t){return PDe(cy(t).toLowerCase())}function bDe(t){return t=cy(t),t&&t.replace(VLe,dDe).replace(JLe,"")}var PDe=yDe("toUpperCase");function CDe(t,e,r){return t=cy(t),e=e,e===void 0?pDe(t)?mDe(t):lDe(t):t.match(e)||[]}nQ.exports=ODe;});var sQ=y((tpt,oQ)=>{oQ.exports=hw;function hw(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function i(a){if(typeof a!="string"){var o=n();if(hw.verbose&&console.log("codegen: "+o),o="return "+o,a){for(var s=Object.keys(a),c=new Array(s.length+1),l=new Array(s.length),u=0;u<s.length;)c[u]=s[u],l[u]=a[s[u++]];return c[u]=o,Function.apply(null,c).apply(null,l)}return Function(o)()}for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p]=arguments[++p];if(p=0,a=a.replace(/%([%dfijs])/g,function(g,S){var v=d[p++];switch(S){case "d":case "f":return String(Number(v));case "i":return String(Math.floor(v));case "j":return JSON.stringify(v);case "s":return String(v)}return "%"}),p!==d.length)throw Error("parameter count mismatch");return r.push(a),i}function n(a){return "function "+(a||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return i.toString=n,i}hw.verbose=false;});var cQ=y((rpt,aQ)=>{aQ.exports=zh;var xDe=qI(),IDe=YI(),mw=IDe("fs");function zh(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&mw&&mw.readFile?mw.readFile(t,function(n,a){return n&&typeof XMLHttpRequest<"u"?zh.xhr(t,e,r):n?r(n):r(null,e.binary?a:a.toString("utf8"))}):zh.xhr(t,e,r):xDe(zh,this,t,e)}zh.xhr=function(e,r,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==0&&n.status!==200)return i(Error("status "+n.status));if(r.binary){var o=n.response;if(!o){o=[];for(var s=0;s<n.responseText.length;++s)o.push(n.responseText.charCodeAt(s)&255);}return i(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return i(null,n.responseText)}},r.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send();};});var dQ=y(uQ=>{var gw=uQ,lQ=gw.isAbsolute=function(e){return /^(?:\/|\w+:)/.test(e)},_w=gw.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),i=lQ(e),n="";i&&(n=r.shift()+"/");for(var a=0;a<r.length;)r[a]===".."?a>0&&r[a-1]!==".."?r.splice(--a,2):i?r.splice(a,1):++a:r[a]==="."?r.splice(a,1):++a;return n+r.join("/")};gw.resolve=function(e,r,i){return i||(r=_w(r)),lQ(r)?r:(i||(e=_w(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?_w(e+"/"+r):r)};});var id=y((ipt,hQ)=>{hQ.exports=Ue;var ly=Zs();((Ue.prototype=Object.create(ly.prototype)).constructor=Ue).className="Namespace";var Ew=Ks(),uy=Qt(),MDe=el(),Jc,nd,Qc;Ue.fromJSON=function(e,r){return new Ue(e,r.options).addJSON(r.nested)};function pQ(t,e){if(t&&t.length){for(var r={},i=0;i<t.length;++i)r[t[i].name]=t[i].toJSON(e);return r}}Ue.arrayToJSON=pQ;Ue.isReservedId=function(e,r){if(e){for(var i=0;i<e.length;++i)if(typeof e[i]!="string"&&e[i][0]<=r&&e[i][1]>r)return  true}return  false};Ue.isReservedName=function(e,r){if(e){for(var i=0;i<e.length;++i)if(e[i]===r)return  true}return  false};function Ue(t,e){ly.call(this,t,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=true,this._needsRecursiveResolve=true;}function fQ(t){t._nestedArray=null,t._lookupCache={};for(var e=t;e=e.parent;)e._lookupCache={};return t}Object.defineProperty(Ue.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=uy.toArray(this.nested))}});Ue.prototype.toJSON=function(e){return uy.toObject(["options",this.options,"nested",pQ(this.nestedArray,e)])};Ue.prototype.addJSON=function(e){var r=this;if(e)for(var i=Object.keys(e),n=0,a;n<i.length;++n)a=e[i[n]],r.add((a.fields!==void 0?Jc.fromJSON:a.values!==void 0?Qc.fromJSON:a.methods!==void 0?nd.fromJSON:a.id!==void 0?Ew.fromJSON:Ue.fromJSON)(i[n],a));return this};Ue.prototype.get=function(e){return this.nested&&this.nested[e]||null};Ue.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Qc)return this.nested[e].values;throw Error("no such enum: "+e)};Ue.prototype.add=function(e){if(!(e instanceof Ew&&e.extend!==void 0||e instanceof Jc||e instanceof MDe||e instanceof Qc||e instanceof nd||e instanceof Ue))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else {var r=this.get(e.name);if(r)if(r instanceof Ue&&e instanceof Ue&&!(r instanceof Jc||r instanceof nd)){for(var i=r.nestedArray,n=0;n<i.length;++n)e.add(i[n]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,true);}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof Jc||this instanceof nd||this instanceof Qc||this instanceof Ew||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=true,this._needsRecursiveResolve=true;for(var a=this;a=a.parent;)a._needsRecursiveFeatureResolution=true,a._needsRecursiveResolve=true;return e.onAdd(this),fQ(this)};Ue.prototype.remove=function(e){if(!(e instanceof ly))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),fQ(this)};Ue.prototype.define=function(e,r){if(uy.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var i=this;e.length>0;){var n=e.shift();if(i.nested&&i.nested[n]){if(i=i.nested[n],!(i instanceof Ue))throw Error("path conflicts with non-namespace objects")}else i.add(i=new Ue(n));}return r&&i.addJSON(r),i};Ue.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,r=0;for(this.resolve();r<e.length;)e[r]instanceof Ue?e[r++].resolveAll():e[r++].resolve();return this._needsRecursiveResolve=false,this};Ue.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=false,e=this._edition||e,ly.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(r=>{r._resolveFeaturesRecursive(e);}),this):this};Ue.prototype.lookup=function(e,r,i){if(typeof r=="boolean"?(i=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),uy.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".");}else if(!e.length)return this;var n=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),r);var a=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+n];if(a&&(!r||r.indexOf(a.constructor)>-1)||(a=this._lookupImpl(e,n),a&&(!r||r.indexOf(a.constructor)>-1)))return a;if(i)return null;for(var o=this;o.parent;){if(a=o.parent._lookupImpl(e,n),a&&(!r||r.indexOf(a.constructor)>-1))return a;o=o.parent;}return null};Ue.prototype._lookupImpl=function(e,r){if(Object.prototype.hasOwnProperty.call(this._lookupCache,r))return this._lookupCache[r];var i=this.get(e[0]),n=null;if(i)e.length===1?n=i:i instanceof Ue&&(e=e.slice(1),n=i._lookupImpl(e,e.join(".")));else for(var a=0;a<this.nestedArray.length;++a)this._nestedArray[a]instanceof Ue&&(i=this._nestedArray[a]._lookupImpl(e,r))&&(n=i);return this._lookupCache[r]=n,n};Ue.prototype.lookupType=function(e){var r=this.lookup(e,[Jc]);if(!r)throw Error("no such type: "+e);return r};Ue.prototype.lookupEnum=function(e){var r=this.lookup(e,[Qc]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};Ue.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[Jc,Qc]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};Ue.prototype.lookupService=function(e){var r=this.lookup(e,[nd]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};Ue._configure=function(t,e,r){Jc=t,nd=e,Qc=r;};});var dy=y((opt,mQ)=>{mQ.exports=jo;var Sw=Ks();((jo.prototype=Object.create(Sw.prototype)).constructor=jo).className="MapField";var wDe=tl(),Fh=Qt();function jo(t,e,r,i,n,a){if(Sw.call(this,t,e,i,void 0,void 0,n,a),!Fh.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=true;}jo.fromJSON=function(e,r){return new jo(e,r.id,r.keyType,r.type,r.options,r.comment)};jo.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return Fh.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};jo.prototype.resolve=function(){if(this.resolved)return this;if(wDe.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Sw.prototype.resolve.call(this)};jo.d=function(e,r,i){return typeof i=="function"?i=Fh.decorateType(i).name:i&&typeof i=="object"&&(i=Fh.decorateEnum(i).name),function(a,o){Fh.decorateType(a.constructor).add(new jo(o,e,r,i));}};});var py=y((spt,_Q)=>{_Q.exports=rl;var Tw=Zs();((rl.prototype=Object.create(Tw.prototype)).constructor=rl).className="Method";var od=Qt();function rl(t,e,r,i,n,a,o,s,c){if(od.isObject(n)?(o=n,n=a=void 0):od.isObject(a)&&(o=a,a=void 0),!(e===void 0||od.isString(e)))throw TypeError("type must be a string");if(!od.isString(r))throw TypeError("requestType must be a string");if(!od.isString(i))throw TypeError("responseType must be a string");Tw.call(this,t,o),this.type=e||"rpc",this.requestType=r,this.requestStream=n?true:void 0,this.responseType=i,this.responseStream=a?true:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=s,this.parsedOptions=c;}rl.fromJSON=function(e,r){return new rl(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};rl.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return od.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};rl.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Tw.prototype.resolve.call(this))};});var fy=y((apt,EQ)=>{EQ.exports=Sn;var qo=id();((Sn.prototype=Object.create(qo.prototype)).constructor=Sn).className="Service";var yw=py(),Hh=Qt(),LDe=oM();function Sn(t,e){qo.call(this,t,e),this.methods={},this._methodsArray=null;}Sn.fromJSON=function(e,r){var i=new Sn(e,r.options);if(r.methods)for(var n=Object.keys(r.methods),a=0;a<n.length;++a)i.add(yw.fromJSON(n[a],r.methods[n[a]]));return r.nested&&i.addJSON(r.nested),r.edition&&(i._edition=r.edition),i.comment=r.comment,i._defaultEdition="proto3",i};Sn.prototype.toJSON=function(e){var r=qo.prototype.toJSON.call(this,e),i=e?!!e.keepComments:false;return Hh.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"methods",qo.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])};Object.defineProperty(Sn.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Hh.toArray(this.methods))}});function gQ(t){return t._methodsArray=null,t}Sn.prototype.get=function(e){return this.methods[e]||qo.prototype.get.call(this,e)};Sn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;qo.prototype.resolve.call(this);for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return this};Sn.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,qo.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(r=>{r._resolveFeaturesRecursive(e);}),this):this};Sn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof yw?(this.methods[e.name]=e,e.parent=this,gQ(this)):qo.prototype.add.call(this,e)};Sn.prototype.remove=function(e){if(e instanceof yw){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,gQ(this)}return qo.prototype.remove.call(this,e)};Sn.prototype.create=function(e,r,i){for(var n=new LDe.Service(e,r,i),a=0,o;a<this.methodsArray.length;++a){var s=Hh.lcFirst((o=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");n[s]=Hh.codegen(["r","c"],Hh.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor});}return n};});var hy=y((cpt,SQ)=>{SQ.exports=Xi;var DDe=qi();function Xi(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]];}Xi.create=function(e){return this.$type.create(e)};Xi.encode=function(e,r){return this.$type.encode(e,r)};Xi.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};Xi.decode=function(e){return this.$type.decode(e)};Xi.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Xi.verify=function(e){return this.$type.verify(e)};Xi.fromObject=function(e){return this.$type.fromObject(e)};Xi.toObject=function(e,r){return this.$type.toObject(e,r)};Xi.prototype.toJSON=function(){return this.$type.toObject(this,DDe.toJSONOptions)};});var vw=y((lpt,yQ)=>{yQ.exports=$De;var UDe=gi(),Yo=tl(),TQ=Qt();function kDe(t){return "missing required '"+t.name+"'"}function $De(t){for(var e=TQ.codegen(["r","l","e"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(s){return s.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<t.fieldsArray.length;++r){var i=t._fieldsArray[r].resolve(),n=i.resolvedType instanceof UDe?"int32":i.type,a="m"+TQ.safeProp(i.name);e("case %i: {",i.id),i.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),Yo.defaults[i.keyType]!==void 0?e("k=%j",Yo.defaults[i.keyType]):e("k=null"),Yo.defaults[n]!==void 0?e("value=%j",Yo.defaults[n]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),Yo.basic[n]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",n),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Yo.long[i.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):i.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),Yo.packed[n]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,n)("}else"),Yo.basic[n]===void 0?e(i.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",a,r):e("%s.push(r.%s())",a,n)):Yo.basic[n]===void 0?e(i.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",a,r):e("%s=r.%s()",a,n),e("break")("}");}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var o=t._fieldsArray[r];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",kDe(o));}return e("return m")}});var Ow=y((upt,vQ)=>{vQ.exports=zDe;var VDe=gi(),Aw=Qt();function zn(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function Rw(t,e,r,i){if(e.resolvedType)if(e.resolvedType instanceof VDe){t("switch(%s){",i)("default:")("return%j",zn(e,"enum value"));for(var n=Object.keys(e.resolvedType.values),a=0;a<n.length;++a)t("case %i:",e.resolvedType.values[n[a]]);t("break")("}");}else t("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":t("if(!util.isInteger(%s))",i)("return%j",zn(e,"integer"));break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",zn(e,"integer|Long"));break;case "float":case "double":t('if(typeof %s!=="number")',i)("return%j",zn(e,"number"));break;case "bool":t('if(typeof %s!=="boolean")',i)("return%j",zn(e,"boolean"));break;case "string":t("if(!util.isString(%s))",i)("return%j",zn(e,"string"));break;case "bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",zn(e,"buffer"));break}return t}function BDe(t,e,r){switch(e.keyType){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",zn(e,"integer key"));break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",zn(e,"integer|Long key"));break;case "bool":t("if(!util.key2Re.test(%s))",r)("return%j",zn(e,"boolean key"));break}return t}function zDe(t){var e=Aw.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,i={};r.length&&e("var p={}");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),o="m"+Aw.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,a.name),a.map)e("if(!util.isObject(%s))",o)("return%j",zn(a,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),BDe(e,a,"k[i]"),Rw(e,a,n,o+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",o)("return%j",zn(a,"array"))("for(var i=0;i<%s.length;++i){",o),Rw(e,a,n,o+"[i]")("}");else {if(a.partOf){var s=Aw.safeProp(a.partOf.name);i[a.partOf.name]===1&&e("if(p%s===1)",s)("return%j",a.partOf.name+": multiple values"),i[a.partOf.name]=1,e("p%s=1",s);}Rw(e,a,n,o);}a.optional&&e("}");}return e("return null")}});var Pw=y(RQ=>{var AQ=RQ,Gh=gi(),Ji=Qt();function Nw(t,e,r,i){var n=false;if(e.resolvedType)if(e.resolvedType instanceof Gh){t("switch(d%s){",i);for(var a=e.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]===e.typeDefault&&!n&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),e.repeated||t("break"),n=true),t("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",i,a[o[s]])("break");t("}");}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i);else {var c=false;switch(e.type){case "double":case "float":t("m%s=Number(d%s)",i,i);break;case "uint32":case "fixed32":t("m%s=d%s>>>0",i,i);break;case "int32":case "sint32":case "sfixed32":t("m%s=d%s|0",i,i);break;case "uint64":c=true;case "int64":case "sint64":case "fixed64":case "sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case "bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case "string":t("m%s=String(d%s)",i,i);break;case "bool":t("m%s=Boolean(d%s)",i,i);break}}return t}AQ.fromObject=function(e){var r=e.fieldsArray,i=Ji.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return i("return new this.ctor");i("var m=new this.ctor");for(var n=0;n<r.length;++n){var a=r[n].resolve(),o=Ji.safeProp(a.name);a.map?(i("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),Nw(i,a,n,o+"[ks[i]]")("}")("}")):a.repeated?(i("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),Nw(i,a,n,o+"[i]")("}")("}")):(a.resolvedType instanceof Gh||i("if(d%s!=null){",o),Nw(i,a,n,o),a.resolvedType instanceof Gh||i("}"));}return i("return m")};function bw(t,e,r,i){if(e.resolvedType)e.resolvedType instanceof Gh?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,r,i,i,r,i,i):t("d%s=types[%i].toObject(m%s,o)",i,r,i);else {var n=false;switch(e.type){case "double":case "float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case "uint64":n=true;case "int64":case "sint64":case "fixed64":case "sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,n?"true":"",i);break;case "bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i);break}}return t}AQ.toObject=function(e){var r=e.fieldsArray.slice().sort(Ji.compareFieldsById);if(!r.length)return Ji.codegen()("return {}");for(var i=Ji.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],o=[],s=0;s<r.length;++s)r[s].partOf||(r[s].resolve().repeated?n:r[s].map?a:o).push(r[s]);if(n.length){for(i("if(o.arrays||o.defaults){"),s=0;s<n.length;++s)i("d%s=[]",Ji.safeProp(n[s].name));i("}");}if(a.length){for(i("if(o.objects||o.defaults){"),s=0;s<a.length;++s)i("d%s={}",Ji.safeProp(a[s].name));i("}");}if(o.length){for(i("if(o.defaults){"),s=0;s<o.length;++s){var c=o[s],l=Ji.safeProp(c.name);if(c.resolvedType instanceof Gh)i("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var u="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";i("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}");}else i("d%s=%j",l,c.typeDefault);}i("}");}var d=false;for(s=0;s<r.length;++s){var c=r[s],p=e._fieldsArray.indexOf(c),l=Ji.safeProp(c.name);c.map?(d||(d=true,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),bw(i,c,p,l+"[ks2[j]]")("}")):c.repeated?(i("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),bw(i,c,p,l+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),bw(i,c,p,l),c.partOf&&i("if(o.oneofs)")("d%s=%j",Ji.safeProp(c.partOf.name),c.name)),i("}");}return i("return d")};});var Cw=y(OQ=>{var FDe=OQ,HDe=hy();FDe[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var i=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return i.indexOf("/")===-1&&(i="/"+i),this.create({type_url:i,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",i="",n="";if(e&&e.json&&t.type_url&&t.value){n=t.type_url.substring(t.type_url.lastIndexOf("/")+1),i=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var a=this.lookup(n);a&&(t=a.decode(t.value));}if(!(t instanceof this.ctor)&&t instanceof HDe){var o=t.$type.toObject(t,e),s=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return i===""&&(i=r),n=i+s,o["@type"]=n,o}return this.toObject(t,e)}};});var gy=y((fpt,bQ)=>{bQ.exports=tt;var Fn=id();((tt.prototype=Object.create(Fn.prototype)).constructor=tt).className="Type";var GDe=gi(),Mw=el(),my=Ks(),jDe=dy(),qDe=fy(),xw=hy(),Iw=vT(),YDe=TT(),Rr=Qt(),WDe=ww(),KDe=vw(),ZDe=Ow(),NQ=Pw(),XDe=Cw();function tt(t,e){Fn.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null;}Object.defineProperties(tt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r;}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Rr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Rr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=tt.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof xw||((t.prototype=new xw).constructor=t,Rr.merge(t.prototype,e)),t.$type=t.prototype.$type=this,Rr.merge(t,xw,true),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:Rr.oneOfGetter(this._oneofsArray[r].oneof),set:Rr.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,i);}}});tt.generateConstructor=function(e){for(var r=Rr.codegen(["p"],e.name),i=0,n;i<e.fieldsArray.length;++i)(n=e._fieldsArray[i]).map?r("this%s={}",Rr.safeProp(n.name)):n.repeated&&r("this%s=[]",Rr.safeProp(n.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function _y(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}tt.fromJSON=function(e,r){var i=new tt(e,r.options);i.extensions=r.extensions,i.reserved=r.reserved;for(var n=Object.keys(r.fields),a=0;a<n.length;++a)i.add((typeof r.fields[n[a]].keyType<"u"?jDe.fromJSON:my.fromJSON)(n[a],r.fields[n[a]]));if(r.oneofs)for(n=Object.keys(r.oneofs),a=0;a<n.length;++a)i.add(Mw.fromJSON(n[a],r.oneofs[n[a]]));if(r.nested)for(n=Object.keys(r.nested),a=0;a<n.length;++a){var o=r.nested[n[a]];i.add((o.id!==void 0?my.fromJSON:o.fields!==void 0?tt.fromJSON:o.values!==void 0?GDe.fromJSON:o.methods!==void 0?qDe.fromJSON:Fn.fromJSON)(n[a],o));}return r.extensions&&r.extensions.length&&(i.extensions=r.extensions),r.reserved&&r.reserved.length&&(i.reserved=r.reserved),r.group&&(i.group=true),r.comment&&(i.comment=r.comment),r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};tt.prototype.toJSON=function(e){var r=Fn.prototype.toJSON.call(this,e),i=e?!!e.keepComments:false;return Rr.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"oneofs",Fn.arrayToJSON(this.oneofsArray,e),"fields",Fn.arrayToJSON(this.fieldsArray.filter(function(n){return !n.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])};tt.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Fn.prototype.resolveAll.call(this);var e=this.oneofsArray;for(i=0;i<e.length;)e[i++].resolve();for(var r=this.fieldsArray,i=0;i<r.length;)r[i++].resolve();return this};tt.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Fn.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(r=>{r._resolveFeatures(e);}),this.fieldsArray.forEach(r=>{r._resolveFeatures(e);}),this):this};tt.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};tt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof my&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),_y(this)}return e instanceof Mw?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),_y(this)):Fn.prototype.add.call(this,e)};tt.prototype.remove=function(e){if(e instanceof my&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),_y(this)}if(e instanceof Mw){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),_y(this)}return Fn.prototype.remove.call(this,e)};tt.prototype.isReservedId=function(e){return Fn.isReservedId(this.reserved,e)};tt.prototype.isReservedName=function(e){return Fn.isReservedName(this.reserved,e)};tt.prototype.create=function(e){return new this.ctor(e)};tt.prototype.setup=function(){for(var e=this.fullName,r=[],i=0;i<this.fieldsArray.length;++i)r.push(this._fieldsArray[i].resolve().resolvedType);this.encode=WDe(this)({Writer:YDe,types:r,util:Rr}),this.decode=KDe(this)({Reader:Iw,types:r,util:Rr}),this.verify=ZDe(this)({types:r,util:Rr}),this.fromObject=NQ.fromObject(this)({types:r,util:Rr}),this.toObject=NQ.toObject(this)({types:r,util:Rr});var n=XDe[e];if(n){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(a),a.toObject=this.toObject,this.toObject=n.toObject.bind(a);}return this};tt.prototype.encode=function(e,r){return this.setup().encode(e,r)};tt.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};tt.prototype.decode=function(e,r){return this.setup().decode(e,r)};tt.prototype.decodeDelimited=function(e){return e instanceof Iw||(e=Iw.create(e)),this.decode(e,e.uint32())};tt.prototype.verify=function(e){return this.setup().verify(e)};tt.prototype.fromObject=function(e){return this.setup().fromObject(e)};tt.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};tt.d=function(e){return function(i){Rr.decorateType(i,e);}};});var yy=y((hpt,xQ)=>{xQ.exports=Tn;var Ty=id();((Tn.prototype=Object.create(Ty.prototype)).constructor=Tn).className="Root";var Ey=Ks(),Lw=gi(),JDe=el(),Xs=Qt(),Dw,Uw,jh;function Tn(t){Ty.call(this,"",t),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={};}Tn.fromJSON=function(e,r){return r||(r=new Tn),e.options&&r.setOptions(e.options),r.addJSON(e.nested).resolveAll()};Tn.prototype.resolvePath=Xs.path.resolve;Tn.prototype.fetch=Xs.fetch;function CQ(){}Tn.prototype.load=function t(e,r,i){typeof r=="function"&&(i=r,r=void 0);var n=this;if(!i)return Xs.asPromise(t,n,e,r);var a=i===CQ;function o(f,g){if(i){if(a)throw f;g&&g.resolveAll();var S=i;i=null,S(f,g);}}function s(f){var g=f.lastIndexOf("google/protobuf/");if(g>-1){var S=f.substring(g);if(S in jh)return S}return null}function c(f,g){try{if(Xs.isString(g)&&g.charAt(0)==="{"&&(g=JSON.parse(g)),!Xs.isString(g))n.setOptions(g.options).addJSON(g.nested);else {Uw.filename=f;var S=Uw(g,n,r),v,N=0;if(S.imports)for(;N<S.imports.length;++N)(v=s(S.imports[N])||n.resolvePath(f,S.imports[N]))&&l(v);if(S.weakImports)for(N=0;N<S.weakImports.length;++N)(v=s(S.weakImports[N])||n.resolvePath(f,S.weakImports[N]))&&l(v,!0);}}catch(C){o(C);}!a&&!u&&o(null,n);}function l(f,g){if(f=s(f)||f,!(n.files.indexOf(f)>-1)){if(n.files.push(f),f in jh){a?c(f,jh[f]):(++u,setTimeout(function(){--u,c(f,jh[f]);}));return}if(a){var S;try{S=Xs.fs.readFileSync(f).toString("utf8");}catch(v){g||o(v);return}c(f,S);}else ++u,n.fetch(f,function(v,N){if(--u,!!i){if(v){g?u||o(null,n):o(v);return}c(f,N);}});}}var u=0;Xs.isString(e)&&(e=[e]);for(var d=0,p;d<e.length;++d)(p=n.resolvePath("",e[d]))&&l(p);return a?(n.resolveAll(),n):(u||o(null,n),n)};Tn.prototype.loadSync=function(e,r){if(!Xs.isNode)throw Error("not supported");return this.load(e,r,CQ)};Tn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return "'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Ty.prototype.resolveAll.call(this)};var Sy=/^[A-Z]/;function PQ(t,e){var r=e.parent.lookup(e.extend);if(r){var i=new Ey(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(i.name)||(i.declaringField=e,e.extensionField=i,r.add(i)),true}return  false}Tn.prototype._handleAdd=function(e){if(e instanceof Ey)e.extend!==void 0&&!e.extensionField&&(PQ(this,e)||this.deferred.push(e));else if(e instanceof Lw)Sy.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof JDe)){if(e instanceof Dw)for(var r=0;r<this.deferred.length;)PQ(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var i=0;i<e.nestedArray.length;++i)this._handleAdd(e._nestedArray[i]);Sy.test(e.name)&&(e.parent[e.name]=e);}(e instanceof Dw||e instanceof Lw||e instanceof Ey)&&(this._fullyQualifiedObjects[e.fullName]=e);};Tn.prototype._handleRemove=function(e){if(e instanceof Ey){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else {var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1);}}else if(e instanceof Lw)Sy.test(e.name)&&delete e.parent[e.name];else if(e instanceof Ty){for(var i=0;i<e.nestedArray.length;++i)this._handleRemove(e._nestedArray[i]);Sy.test(e.name)&&delete e.parent[e.name];}delete this._fullyQualifiedObjects[e.fullName];};Tn._configure=function(t,e,r){Dw=t,Uw=e,jh=r;};});var Qt=y((mpt,MQ)=>{var xt=MQ.exports=qi(),IQ=sM(),kw,$w;xt.codegen=sQ();xt.fetch=cQ();xt.path=dQ();xt.fs=xt.inquire("fs");xt.toArray=function(e){if(e){for(var r=Object.keys(e),i=new Array(r.length),n=0;n<r.length;)i[n]=e[r[n++]];return i}return []};xt.toObject=function(e){for(var r={},i=0;i<e.length;){var n=e[i++],a=e[i++];a!==void 0&&(r[n]=a);}return r};var QDe=/\\/g,eUe=/"/g;xt.isReserved=function(e){return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};xt.safeProp=function(e){return !/^[$\w_]+$/.test(e)||xt.isReserved(e)?'["'+e.replace(QDe,"\\\\").replace(eUe,'\\"')+'"]':"."+e};xt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var tUe=/_([a-z])/g;xt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(tUe,function(r,i){return i.toUpperCase()})};xt.compareFieldsById=function(e,r){return e.id-r.id};xt.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(xt.decorateRoot.remove(e.$type),e.$type.name=r,xt.decorateRoot.add(e.$type)),e.$type;kw||(kw=gy());var i=new kw(r||e.name);return xt.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:false}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:false}),i};var rUe=0;xt.decorateEnum=function(e){if(e.$type)return e.$type;$w||($w=gi());var r=new $w("Enum"+rUe++,e);return xt.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:false}),r};xt.setProperty=function(e,r,i,n){function a(o,s,c){var l=s.shift();if(l==="__proto__"||l==="prototype")return o;if(s.length>0)o[l]=a(o[l]||{},s,c);else {var u=o[l];if(u&&n)return o;u&&(c=[].concat(u).concat(c)),o[l]=c;}return o}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),a(e,r,i)};Object.defineProperty(xt,"decorateRoot",{get:function(){return IQ.decorated||(IQ.decorated=new(yy()))}});});var tl=y(wQ=>{var qh=wQ,nUe=Qt(),iUe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Yh(t,e){var r=0,i={};for(e|=0;r<t.length;)i[iUe[r+e]]=t[r++];return i}qh.basic=Yh([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);qh.defaults=Yh([0,0,0,0,0,0,0,0,0,0,0,0,false,"",nUe.emptyArray,null]);qh.long=Yh([0,0,0,1,1],7);qh.mapKey=Yh([0,0,0,5,5,0,0,0,1,1,0,2],2);qh.packed=Yh([1,5,0,0,0,5,5,0,0,0,1,1,0]);});var Ks=y((gpt,DQ)=>{DQ.exports=er;var Kh=Zs();((er.prototype=Object.create(Kh.prototype)).constructor=er).className="Field";var LQ=gi(),Vw=tl(),kt=Qt(),Wh,oUe=/^required|optional|repeated$/;er.fromJSON=function(e,r){var i=new er(e,r.id,r.type,r.rule,r.extend,r.options,r.comment);return r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};function er(t,e,r,i,n,a,o){if(kt.isObject(i)?(o=n,a=i,i=n=void 0):kt.isObject(n)&&(o=a,a=n,n=void 0),Kh.call(this,t,a),!kt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!kt.isString(r))throw TypeError("type must be a string");if(i!==void 0&&!oUe.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(n!==void 0&&!kt.isString(n))throw TypeError("extend must be a string");i==="proto3_optional"&&(i="optional"),this.rule=i&&i!=="optional"?i:void 0,this.type=r,this.id=e,this.extend=n||void 0,this.repeated=i==="repeated",this.map=false,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=kt.Long?Vw.long[r]!==void 0:false,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=o;}Object.defineProperty(er.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(er.prototype,"optional",{get:function(){return !this.required}});Object.defineProperty(er.prototype,"delimited",{get:function(){return this.resolvedType instanceof Wh&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(er.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(er.prototype,"hasPresence",{get:function(){return this.repeated||this.map?false:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});er.prototype.setOption=function(e,r,i){return Kh.prototype.setOption.call(this,e,r,i)};er.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return kt.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};er.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Vw.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Wh?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof LQ&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof LQ)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=kt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;kt.base64.test(this.typeDefault)?kt.base64.decode(this.typeDefault,e=kt.newBuffer(kt.base64.length(this.typeDefault)),0):kt.utf8.write(this.typeDefault,e=kt.newBuffer(kt.utf8.length(this.typeDefault)),0),this.typeDefault=e;}return this.map?this.defaultValue=kt.emptyObject:this.repeated?this.defaultValue=kt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Wh&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Kh.prototype.resolve.call(this)};er.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return {};var r={};if(this.rule==="required"&&(r.field_presence="LEGACY_REQUIRED"),this.parent&&Vw.defaults[this.type]===void 0){var i=this.parent.get(this.type.split(".").pop());i&&i instanceof Wh&&i.group&&(r.message_encoding="DELIMITED");}return this.getOption("packed")===true?r.repeated_field_encoding="PACKED":this.getOption("packed")===false&&(r.repeated_field_encoding="EXPANDED"),r};er.prototype._resolveFeatures=function(e){return Kh.prototype._resolveFeatures.call(this,this._edition||e)};er.d=function(e,r,i,n){return typeof r=="function"?r=kt.decorateType(r).name:r&&typeof r=="object"&&(r=kt.decorateEnum(r).name),function(o,s){kt.decorateType(o.constructor).add(new er(s,e,r,i,{default:n}));}};er._configure=function(e){Wh=e;};});var el=y((Ept,$Q)=>{$Q.exports=yn;var Ay=Zs();((yn.prototype=Object.create(Ay.prototype)).constructor=yn).className="OneOf";var UQ=Ks(),vy=Qt();function yn(t,e,r,i){if(Array.isArray(e)||(r=e,e=void 0),Ay.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=i;}yn.fromJSON=function(e,r){return new yn(e,r.oneof,r.options,r.comment)};yn.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return vy.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function kQ(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e]);}yn.prototype.add=function(e){if(!(e instanceof UQ))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,kQ(this),this};yn.prototype.remove=function(e){if(!(e instanceof UQ))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};yn.prototype.onAdd=function(e){Ay.prototype.onAdd.call(this,e);for(var r=this,i=0;i<this.oneof.length;++i){var n=e.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=r,r.fieldsArray.push(n));}kQ(this);};yn.prototype.onRemove=function(e){for(var r=0,i;r<this.fieldsArray.length;++r)(i=this.fieldsArray[r]).parent&&i.parent.remove(i);Ay.prototype.onRemove.call(this,e);};Object.defineProperty(yn.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return  false;var t=this.fieldsArray[0];return t.options!=null&&t.options.proto3_optional===true}});yn.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(n,a){vy.decorateType(n.constructor).add(new yn(a,e)),Object.defineProperty(n,a,{get:vy.oneOfGetter(e),set:vy.oneOfSetter(e)});}};});var Zs=y((Spt,VQ)=>{VQ.exports=cr;cr.className="ReflectionObject";var sUe=el(),Zh=Qt(),Ry,aUe={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},cUe={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},lUe={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function cr(t,e){if(!Zh.isString(t))throw TypeError("name must be a string");if(e&&!Zh.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=false,this.parent=null,this.resolved=false,this.comment=null,this.filename=null;}Object.defineProperties(cr.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});cr.prototype.toJSON=function(){throw Error()};cr.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=false;var r=e.root;r instanceof Ry&&r._handleAdd(this);};cr.prototype.onRemove=function(e){var r=e.root;r instanceof Ry&&r._handleRemove(this),this.parent=null,this.resolved=false;};cr.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Ry&&(this.resolved=true),this)};cr.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};cr.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var r={};if(!e)throw new Error("Unknown edition for "+this.fullName);var i=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")r=Object.assign({},cUe);else if(e==="proto3")r=Object.assign({},lUe);else if(e==="2023")r=Object.assign({},aUe);else throw new Error("Unknown edition: "+e);this._features=Object.assign(r,i||{}),this._featuresResolved=true;return}if(this.partOf instanceof sUe){var n=Object.assign({},this.partOf._features);this._features=Object.assign(n,i||{});}else if(!this.declaringField)if(this.parent){var a=Object.assign({},this.parent._features);this._features=Object.assign(a,i||{});}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=true;}};cr.prototype._inferLegacyProtoFeatures=function(){return {}};cr.prototype.getOption=function(e){if(this.options)return this.options[e]};cr.prototype.setOption=function(e,r,i){return this.options||(this.options={}),/^features\./.test(e)?Zh.setProperty(this.options,e,r,i):(!i||this.options[e]===void 0)&&(this.getOption(e)!==r&&(this.resolved=false),this.options[e]=r),this};cr.prototype.setParsedOption=function(e,r,i){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(i){var a=n.find(function(c){return Object.prototype.hasOwnProperty.call(c,e)});if(a){var o=a[e];Zh.setProperty(o,i,r);}else a={},a[e]=Zh.setProperty({},i,r),n.push(a);}else {var s={};s[e]=r,n.push(s);}return this};cr.prototype.setOptions=function(e,r){if(e)for(var i=Object.keys(e),n=0;n<i.length;++n)this.setOption(i[n],e[i[n]],r);return this};cr.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};cr.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};cr._configure=function(t){Ry=t;};});var gi=y((Tpt,zQ)=>{zQ.exports=Ei;var Bw=Zs();((Ei.prototype=Object.create(Bw.prototype)).constructor=Ei).className="Enum";var BQ=id(),Oy=Qt();function Ei(t,e,r,i,n,a){if(Bw.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=n||{},this.valuesOptions=a,this._valuesFeatures={},this.reserved=void 0,e)for(var o=Object.keys(e),s=0;s<o.length;++s)typeof e[o[s]]=="number"&&(this.valuesById[this.values[o[s]]=e[o[s]]]=o[s]);}Ei.prototype._resolveFeatures=function(e){return e=this._edition||e,Bw.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(r=>{var i=Object.assign({},this._features);this._valuesFeatures[r]=Object.assign(i,this.valuesOptions&&this.valuesOptions[r]&&this.valuesOptions[r].features);}),this};Ei.fromJSON=function(e,r){var i=new Ei(e,r.values,r.options,r.comment,r.comments);return i.reserved=r.reserved,r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};Ei.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return Oy.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};Ei.prototype.add=function(e,r,i,n){if(!Oy.isString(e))throw TypeError("name must be a string");if(!Oy.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r;}else this.valuesById[this.values[e]=r]=e;return n&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=i||null,this};Ei.prototype.remove=function(e){if(!Oy.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ei.prototype.isReservedId=function(e){return BQ.isReservedId(this.reserved,e)};Ei.prototype.isReservedName=function(e){return BQ.isReservedName(this.reserved,e)};});var ww=y((ypt,HQ)=>{HQ.exports=dUe;var uUe=gi(),zw=tl(),Fw=Qt();function FQ(t,e,r,i){return e.delimited?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(e.id<<3|2)>>>0)}function dUe(t){for(var e=Fw.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,i,n=t.fieldsArray.slice().sort(Fw.compareFieldsById),r=0;r<n.length;++r){var a=n[r].resolve(),o=t._fieldsArray.indexOf(a),s=a.resolvedType instanceof uUe?"int32":a.type,c=zw.basic[s];i="m"+Fw.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|zw.mapKey[a.keyType],a.keyType),c===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,i):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,s,i),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",i,i),a.packed&&zw.packed[s]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",s,i)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",i),c===void 0?FQ(e,a,o,i+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|c)>>>0,s,i)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,a.name),c===void 0?FQ(e,a,o,i):e("w.uint32(%i).%s(%s)",(a.id<<3|c)>>>0,s,i));}return e("return w")}});var jQ=y((vpt,GQ)=>{var ke=GQ.exports=aM();ke.build="light";function pUe(t,e,r){return typeof e=="function"?(r=e,e=new ke.Root):e||(e=new ke.Root),e.load(t,r)}ke.load=pUe;function fUe(t,e){return e||(e=new ke.Root),e.loadSync(t)}ke.loadSync=fUe;ke.encoder=ww();ke.decoder=vw();ke.verifier=Ow();ke.converter=Pw();ke.ReflectionObject=Zs();ke.Namespace=id();ke.Root=yy();ke.Enum=gi();ke.Type=gy();ke.Field=Ks();ke.OneOf=el();ke.MapField=dy();ke.Service=fy();ke.Method=py();ke.Message=hy();ke.wrappers=Cw();ke.types=tl();ke.util=Qt();ke.ReflectionObject._configure(ke.Root);ke.Namespace._configure(ke.Type,ke.Service,ke.Enum);ke.Root._configure(ke.Type);ke.Field._configure(ke.Type);});var Gw=y((Apt,WQ)=>{WQ.exports=YQ;var Hw=/[\s{}=;:[\],'"()<>]/g,hUe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,mUe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,_Ue=/^ *[*/]+ */,gUe=/^\s*\*?\/*/,EUe=/\n/g,SUe=/\s/,TUe=/\\(.?)/g,yUe={0:"\0",r:"\r",n:`
`,t:"	"};function qQ(t){return t.replace(TUe,function(e,r){switch(r){case "\\":case "":return r;default:return yUe[r]||""}})}YQ.unescape=qQ;function YQ(t,e){t=t.toString();var r=0,i=t.length,n=1,a=0,o={},s=[],c=null;function l(A){return Error("illegal "+A+" (line "+n+")")}function u(){var A=c==="'"?mUe:hUe;A.lastIndex=r-1;var k=A.exec(t);if(!k)throw l("string");return r=A.lastIndex,v(c),c=null,qQ(k[1])}function d(A){return t.charAt(A)}function p(A,k,j){var G={type:t.charAt(A++),lineEmpty:false,leading:j},te;e?te=2:te=3;var Z=A-te,ie;do if(--Z<0||(ie=t.charAt(Z))===`
`){G.lineEmpty=true;break}while(ie===" "||ie==="	");for(var b=t.substring(A,k).split(EUe),de=0;de<b.length;++de)b[de]=b[de].replace(e?gUe:_Ue,"").trim();G.text=b.join(`
`).trim(),o[n]=G,a=n;}function f(A){var k=g(A),j=t.substring(A,k),G=/^\s*\/\//.test(j);return G}function g(A){for(var k=A;k<i&&d(k)!==`
`;)k++;return k}function S(){if(s.length>0)return s.shift();if(c)return u();var A,k,j,G,te,Z=r===0;do{if(r===i)return null;for(A=false;SUe.test(j=d(r));)if(j===`
`&&(Z=true,++n),++r===i)return null;if(d(r)==="/"){if(++r===i)throw l("comment");if(d(r)==="/")if(e){if(G=r,te=false,f(r-1)){te=true;do if(r=g(r),r===i||(r++,!Z))break;while(f(r))}else r=Math.min(i,g(r)+1);te&&(p(G,r,Z),Z=true),n++,A=true;}else {for(te=d(G=r+1)==="/";d(++r)!==`
`;)if(r===i)return null;++r,te&&(p(G,r-1,Z),Z=true),++n,A=true;}else if((j=d(r))==="*"){G=r+1,te=e||d(G)==="*";do{if(j===`
`&&++n,++r===i)throw l("comment");k=j,j=d(r);}while(k!=="*"||j!=="/");++r,te&&(p(G,r-2,Z),Z=true),A=true;}else return "/"}}while(A);var ie=r;Hw.lastIndex=0;var b=Hw.test(d(ie++));if(!b)for(;ie<i&&!Hw.test(d(ie));)++ie;var de=t.substring(r,r=ie);return (de==='"'||de==="'")&&(c=de),de}function v(A){s.push(A);}function N(){if(!s.length){var A=S();if(A===null)return null;v(A);}return s[0]}function C(A,k){var j=N(),G=j===A;if(G)return S(),true;if(!k)throw l("token '"+j+"', '"+A+"' expected");return  false}function M(A){var k=null,j;return A===void 0?(j=o[n-1],delete o[n-1],j&&(e||j.type==="*"||j.lineEmpty)&&(k=j.leading?j.text:null)):(a<A&&N(),j=o[A],delete o[A],j&&!j.lineEmpty&&(e||j.type==="/")&&(k=j.leading?null:j.text)),k}return Object.defineProperty({next:S,peek:N,push:v,skip:C,cmnt:M},"line",{get:function(){return n}})}});var eee=y((Rpt,QQ)=>{QQ.exports=Wo;Wo.filename=null;Wo.defaults={keepCase:false};var vUe=Gw(),KQ=yy(),ZQ=gy(),XQ=Ks(),AUe=dy(),JQ=el(),RUe=gi(),OUe=fy(),NUe=py(),bUe=Zs(),PUe=tl(),jw=Qt(),CUe=/^[1-9][0-9]*$/,xUe=/^-?[1-9][0-9]*$/,IUe=/^0[x][0-9a-fA-F]+$/,MUe=/^-?0[x][0-9a-fA-F]+$/,wUe=/^0[0-7]+$/,LUe=/^-?0[0-7]+$/,DUe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Qi=/^[a-zA-Z_][a-zA-Z_0-9]*$/,eo=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Wo(t,e,r){e instanceof KQ||(r=e,e=new KQ),r||(r=Wo.defaults);var i=r.preferTrailingComment||false,n=vUe(t,r.alternateCommentMode||false),a=n.next,o=n.push,s=n.peek,c=n.skip,l=n.cmnt,u=true,d,p,f,g="proto2",S=e,v=[],N={},C=r.keepCase?function(D){return D}:jw.camelCase;function M(){v.forEach(D=>{D._edition=g,Object.keys(N).forEach(L=>{D.getOption(L)===void 0&&D.setOption(L,N[L],true);});});}function A(D,L,V){var J=Wo.filename;return V||(Wo.filename=null),Error("illegal "+(L||"token")+" '"+D+"' ("+(J?J+", ":"")+"line "+n.line+")")}function k(){var D=[],L;do{if((L=a())!=='"'&&L!=="'")throw A(L);D.push(a()),c(L),L=s();}while(L==='"'||L==="'");return D.join("")}function j(D){var L=a();switch(L){case "'":case '"':return o(L),k();case "true":case "TRUE":return  true;case "false":case "FALSE":return  false}try{return te(L,!0)}catch{if(eo.test(L))return L;throw A(L,"value")}}function G(D,L){var V,J;do if(L&&((V=s())==='"'||V==="'")){var X=k();if(D.push(X),g>=2023)throw A(X,"id")}else try{D.push([J=Z(a()),c("to",!0)?Z(a()):J]);}catch(ut){if(L&&eo.test(V)&&g>=2023)D.push(V);else throw ut}while(c(",",true));var ve={options:void 0};ve.setOption=function(ut,mr){this.options===void 0&&(this.options={}),this.options[ut]=mr;},w(ve,function(mr){if(mr==="option")me(ve,mr),c(";");else throw A(mr)},function(){Bt(ve);});}function te(D,L){var V=1;switch(D.charAt(0)==="-"&&(V=-1,D=D.substring(1)),D){case "inf":case "INF":case "Inf":return V*(1/0);case "nan":case "NAN":case "Nan":case "NaN":return NaN;case "0":return 0}if(CUe.test(D))return V*parseInt(D,10);if(IUe.test(D))return V*parseInt(D,16);if(wUe.test(D))return V*parseInt(D,8);if(DUe.test(D))return V*parseFloat(D);throw A(D,"number",L)}function Z(D,L){switch(D){case "max":case "MAX":case "Max":return 536870911;case "0":return 0}if(!L&&D.charAt(0)==="-")throw A(D,"id");if(xUe.test(D))return parseInt(D,10);if(MUe.test(D))return parseInt(D,16);if(LUe.test(D))return parseInt(D,8);throw A(D,"id")}function ie(){if(d!==void 0)throw A("package");if(d=a(),!eo.test(d))throw A(d,"name");S=S.define(d),c(";");}function b(){var D=s(),L;switch(D){case "weak":L=f||(f=[]),a();break;case "public":a();default:L=p||(p=[]);break}D=k(),c(";"),L.push(D);}function de(){if(c("="),g=k(),g<2023)throw A(g,"syntax");c(";");}function I(){if(c("="),g=k(),!["2023"].includes(g))throw A(g,"edition");c(";");}function E(D,L){switch(L){case "option":return me(D,L),c(";"),true;case "message":return he(D,L),true;case "enum":return pt(D,L),true;case "service":return Wl(D,L),true;case "extend":return Ec(D,L),true}return  false}function w(D,L,V){var J=n.line;if(D&&(typeof D.comment!="string"&&(D.comment=l()),D.filename=Wo.filename),c("{",true)){for(var X;(X=a())!=="}";)L(X);c(";",true);}else V&&V(),c(";"),D&&(typeof D.comment!="string"||i)&&(D.comment=l(J)||D.comment);}function he(D,L){if(!Qi.test(L=a()))throw A(L,"type name");var V=new ZQ(L);w(V,function(X){if(!E(V,X))switch(X){case "map":Le(V);break;case "required":if(g!=="proto2")throw A(X);case "repeated":re(V,X);break;case "optional":if(g==="proto3")re(V,"proto3_optional");else {if(g!=="proto2")throw A(X);re(V,"optional");}break;case "oneof":it(V,X);break;case "extensions":G(V.extensions||(V.extensions=[]));break;case "reserved":G(V.reserved||(V.reserved=[]),true);break;default:if(g==="proto2"||!eo.test(X))throw A(X);o(X),re(V,"optional");break}}),D.add(V),D===S&&v.push(V);}function re(D,L,V){var J=a();if(J==="group"){fe(D,L);return}for(;J.endsWith(".")||s().startsWith(".");)J+=a();if(!eo.test(J))throw A(J,"type");var X=a();if(!Qi.test(X))throw A(X,"name");X=C(X),c("=");var ve=new XQ(X,Z(a()),J,L,V);if(w(ve,function(Nr){if(Nr==="option")me(ve,Nr),c(";");else throw A(Nr)},function(){Bt(ve);}),L==="proto3_optional"){var ut=new JQ("_"+X);ve.setOption("proto3_optional",true),ut.add(ve),D.add(ut);}else D.add(ve);D===S&&v.push(ve);}function fe(D,L){if(g>=2023)throw A("group");var V=a();if(!Qi.test(V))throw A(V,"name");var J=jw.lcFirst(V);V===J&&(V=jw.ucFirst(V)),c("=");var X=Z(a()),ve=new ZQ(V);ve.group=true;var ut=new XQ(J,X,V,L);ut.filename=Wo.filename,w(ve,function(Nr){switch(Nr){case "option":me(ve,Nr),c(";");break;case "required":case "repeated":re(ve,Nr);break;case "optional":g==="proto3"?re(ve,"proto3_optional"):re(ve,"optional");break;case "message":he(ve,Nr);break;case "enum":pt(ve,Nr);break;case "reserved":G(ve.reserved||(ve.reserved=[]),true);break;default:throw A(Nr)}}),D.add(ve).add(ut);}function Le(D){c("<");var L=a();if(PUe.mapKey[L]===void 0)throw A(L,"type");c(",");var V=a();if(!eo.test(V))throw A(V,"type");c(">");var J=a();if(!Qi.test(J))throw A(J,"name");c("=");var X=new AUe(C(J),Z(a()),L,V);w(X,function(ut){if(ut==="option")me(X,ut),c(";");else throw A(ut)},function(){Bt(X);}),D.add(X);}function it(D,L){if(!Qi.test(L=a()))throw A(L,"name");var V=new JQ(C(L));w(V,function(X){X==="option"?(me(V,X),c(";")):(o(X),re(V,"optional"));}),D.add(V);}function pt(D,L){if(!Qi.test(L=a()))throw A(L,"name");var V=new RUe(L);w(V,function(X){switch(X){case "option":me(V,X),c(";");break;case "reserved":G(V.reserved||(V.reserved=[]),true),V.reserved===void 0&&(V.reserved=[]);break;default:qe(V,X);}}),D.add(V),D===S&&v.push(V);}function qe(D,L){if(!Qi.test(L))throw A(L,"name");c("=");var V=Z(a(),true),J={options:void 0};J.getOption=function(X){return this.options[X]},J.setOption=function(X,ve){bUe.prototype.setOption.call(J,X,ve);},J.setParsedOption=function(){},w(J,function(ve){if(ve==="option")me(J,ve),c(";");else throw A(ve)},function(){Bt(J);}),D.add(L,V,J.comment,J.parsedOptions||J.options);}function me(D,L){var V,J,X=true;for(L==="option"&&(L=a());L!=="=";){if(L==="("){var ve=a();c(")"),L="("+ve+")";}if(X){if(X=false,L.includes(".")&&!L.includes("(")){var ut=L.split(".");V=ut[0]+".",L=ut[1];continue}V=L;}else J=J?J+=L:L;L=a();}var mr=J?V.concat(J):V,Nr=Lt(D,mr);J=J&&J[0]==="."?J.slice(1):J,V=V&&V[V.length-1]==="."?V.slice(0,-1):V,St(D,V,Nr,J);}function Lt(D,L){if(c("{",true)){for(var V={};!c("}",true);){if(!Qi.test(Dt=a()))throw A(Dt,"name");if(Dt===null)throw A(Dt,"end of input");var J,X=Dt;if(c(":",true),s()==="{")J=Lt(D,L+"."+Dt);else if(s()==="["){J=[];var ve;if(c("[",true)){do ve=j(),J.push(ve);while(c(",",true));c("]"),typeof ve<"u"&&Fe(D,L+"."+Dt,ve);}}else J=j(),Fe(D,L+"."+Dt,J);var ut=V[X];ut&&(J=[].concat(ut).concat(J)),V[X]=J,c(",",true),c(";",true);}return V}var mr=j();return Fe(D,L,mr),mr}function Fe(D,L,V){if(S===D&&/^features\./.test(L)){N[L]=V;return}D.setOption&&D.setOption(L,V);}function St(D,L,V,J){D.setParsedOption&&D.setParsedOption(L,V,J);}function Bt(D){if(c("[",true)){do me(D,"option");while(c(",",true));c("]");}return D}function Wl(D,L){if(!Qi.test(L=a()))throw A(L,"service name");var V=new OUe(L);w(V,function(X){if(!E(V,X))if(X==="rpc")Kl(V,X);else throw A(X)}),D.add(V),D===S&&v.push(V);}function Kl(D,L){var V=l(),J=L;if(!Qi.test(L=a()))throw A(L,"name");var X=L,ve,ut,mr,Nr;if(c("("),c("stream",true)&&(ut=true),!eo.test(L=a())||(ve=L,c(")"),c("returns"),c("("),c("stream",true)&&(Nr=true),!eo.test(L=a())))throw A(L);mr=L,c(")");var Yg=new NUe(X,J,ve,mr,ut,Nr);Yg.comment=V,w(Yg,function(NC){if(NC==="option")me(Yg,NC),c(";");else throw A(NC)}),D.add(Yg);}function Ec(D,L){if(!eo.test(L=a()))throw A(L,"reference");var V=L;w(null,function(X){switch(X){case "required":case "repeated":re(D,X,V);break;case "optional":g==="proto3"?re(D,"proto3_optional",V):re(D,"optional",V);break;default:if(g==="proto2"||!eo.test(X))throw A(X);o(X),re(D,"optional",V);break}});}for(var Dt;(Dt=a())!==null;)switch(Dt){case "package":if(!u)throw A(Dt);ie();break;case "import":if(!u)throw A(Dt);b();break;case "syntax":if(!u)throw A(Dt);de();break;case "edition":if(!u)throw A(Dt);I();break;case "option":me(S,Dt),c(";",true);break;default:if(E(S,Dt)){u=false;continue}throw A(Dt)}return M(),Wo.filename=null,{package:d,imports:p,weakImports:f,root:e}}});var nee=y((Opt,ree)=>{ree.exports=Si;var UUe=/\/|\./;function Si(t,e){UUe.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Si[t]=e;}Si("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var tee;Si("duration",{Duration:tee={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Si("timestamp",{Timestamp:tee});Si("empty",{Empty:{fields:{}}});Si("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Si("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Si("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Si.get=function(e){return Si[e]||null};});var oee=y((Npt,iee)=>{var Js=iee.exports=jQ();Js.build="full";Js.tokenize=Gw();Js.parse=eee();Js.common=nee();Js.Root._configure(Js.Type,Js.parse,Js.common);});var Ny=y((bpt,see)=>{see.exports=oee();});var qw=y((Ppt,kUe)=>{kUe.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:true,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536e6,536e6]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:true}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:true}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38],"php_generic_services"],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:true}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:true}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:true}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1e3,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536e6,536e6]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:true}},span:{rule:"repeated",type:"int32",id:2,options:{packed:true}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:true}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}};});var fee=y((be,pee)=>{var vn=Ny();pee.exports=be=vn.descriptor=vn.Root.fromJSON(qw()).lookup(".google.protobuf");var aee=vn.Namespace,Xh=vn.Root,Ko=vn.Enum,to=vn.Type,Qs=vn.Field,$Ue=vn.MapField,by=vn.OneOf,Jh=vn.Service,Py=vn.Method;Xh.fromDescriptor=function(e){typeof e.length=="number"&&(e=be.FileDescriptorSet.decode(e));var r=new Xh;if(e.file)for(var i,n,a=0,o;a<e.file.length;++a){n=r,(i=e.file[a]).package&&i.package.length&&(n=r.define(i.package));var s=WUe(i);if(i.name&&i.name.length&&r.files.push(n.filename=i.name),i.messageType)for(o=0;o<i.messageType.length;++o)n.add(to.fromDescriptor(i.messageType[o],s));if(i.enumType)for(o=0;o<i.enumType.length;++o)n.add(Ko.fromDescriptor(i.enumType[o],s));if(i.extension)for(o=0;o<i.extension.length;++o)n.add(Qs.fromDescriptor(i.extension[o],s));if(i.service)for(o=0;o<i.service.length;++o)n.add(Jh.fromDescriptor(i.service[o],s));var c=sd(i.options,be.FileOptions);if(c){var l=Object.keys(c);for(o=0;o<l.length;++o)n.setOption(l[o],c[l[o]]);}}return r.resolveAll()};Xh.prototype.toDescriptor=function(e){var r=be.FileDescriptorSet.create();return cee(this,r.file,e),r};function cee(t,e,r){var i=be.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});KUe(r,i),t instanceof Xh||(i.package=t.fullName.substring(1));for(var n=0,a;n<t.nestedArray.length;++n)(a=t._nestedArray[n])instanceof to?i.messageType.push(a.toDescriptor(r)):a instanceof Ko?i.enumType.push(a.toDescriptor()):a instanceof Qs?i.extension.push(a.toDescriptor(r)):a instanceof Jh?i.service.push(a.toDescriptor()):a instanceof aee&&cee(a,e,r);i.options=ad(t.options,be.FileOptions),i.messageType.length+i.enumType.length+i.extension.length+i.service.length&&e.push(i);}var VUe=0;to.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=be.DescriptorProto.decode(e));var n=new to(e.name.length?e.name:"Type"+VUe++,sd(e.options,be.MessageOptions)),a;if(i||(n._edition=r),e.oneofDecl)for(a=0;a<e.oneofDecl.length;++a)n.add(by.fromDescriptor(e.oneofDecl[a]));if(e.field)for(a=0;a<e.field.length;++a){var o=Qs.fromDescriptor(e.field[a],r,true);n.add(o),e.field[a].hasOwnProperty("oneofIndex")&&n.oneofsArray[e.field[a].oneofIndex].add(o);}if(e.extension)for(a=0;a<e.extension.length;++a)n.add(Qs.fromDescriptor(e.extension[a],r,true));if(e.nestedType)for(a=0;a<e.nestedType.length;++a)n.add(to.fromDescriptor(e.nestedType[a],r,true)),e.nestedType[a].options&&e.nestedType[a].options.mapEntry&&n.setOption("map_entry",true);if(e.enumType)for(a=0;a<e.enumType.length;++a)n.add(Ko.fromDescriptor(e.enumType[a],r,true));if(e.extensionRange&&e.extensionRange.length)for(n.extensions=[],a=0;a<e.extensionRange.length;++a)n.extensions.push([e.extensionRange[a].start,e.extensionRange[a].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(n.reserved=[],e.reservedRange)for(a=0;a<e.reservedRange.length;++a)n.reserved.push([e.reservedRange[a].start,e.reservedRange[a].end]);if(e.reservedName)for(a=0;a<e.reservedName.length;++a)n.reserved.push(e.reservedName[a]);}return n};to.prototype.toDescriptor=function(e){var r=be.DescriptorProto.create({name:this.name}),i;for(i=0;i<this.fieldsArray.length;++i){var n;if(r.field.push(n=this._fieldsArray[i].toDescriptor(e)),this._fieldsArray[i]instanceof $Ue){var a=Yw(this._fieldsArray[i].keyType,this._fieldsArray[i].resolvedKeyType,false),o=Yw(this._fieldsArray[i].type,this._fieldsArray[i].resolvedType,false),s=o===11||o===14?this._fieldsArray[i].resolvedType&&dee(this.parent,this._fieldsArray[i].resolvedType)||this._fieldsArray[i].type:void 0;r.nestedType.push(be.DescriptorProto.create({name:n.typeName,field:[be.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),be.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:s})],options:be.MessageOptions.create({mapEntry:true})}));}}for(i=0;i<this.oneofsArray.length;++i)r.oneofDecl.push(this._oneofsArray[i].toDescriptor());for(i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof Qs?r.field.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof to?r.nestedType.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof Ko&&r.enumType.push(this._nestedArray[i].toDescriptor());if(this.extensions)for(i=0;i<this.extensions.length;++i)r.extensionRange.push(be.DescriptorProto.ExtensionRange.create({start:this.extensions[i][0],end:this.extensions[i][1]}));if(this.reserved)for(i=0;i<this.reserved.length;++i)typeof this.reserved[i]=="string"?r.reservedName.push(this.reserved[i]):r.reservedRange.push(be.DescriptorProto.ReservedRange.create({start:this.reserved[i][0],end:this.reserved[i][1]}));return r.options=ad(this.options,be.MessageOptions),r};var BUe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Qs.fromDescriptor=function(e,r,i){if(typeof e.length=="number"&&(e=be.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var n;e.typeName&&e.typeName.length?n=e.typeName:n=jUe(e.type);var a;switch(e.label){case 1:a=void 0;break;case 2:a="required";break;case 3:a="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;e.extendee!==void 0&&(o=o.length?o:void 0);var s=new Qs(e.name.length?e.name:"field"+e.number,e.number,n,a,o);if(i||(s._edition=r),s.options=sd(e.options,be.FieldOptions),e.proto3_optional&&(s.options.proto3_optional=true),e.defaultValue&&e.defaultValue.length){var c=e.defaultValue;switch(c){case "true":case "TRUE":c=true;break;case "false":case "FALSE":c=false;break;default:var l=BUe.exec(c);l&&(c=parseInt(c));break}s.setOption("default",c);}return qUe(e.type)&&(r==="proto3"?e.options&&!e.options.packed&&s.setOption("packed",false):(!r||r==="proto2")&&e.options&&e.options.packed&&s.setOption("packed",true)),s};Qs.prototype.toDescriptor=function(e){var r=be.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=vn.util.ucFirst(this.name),r.label=3;else {switch(r.type=Yw(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:r.typeName=this.resolvedType?dee(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?r.label=3:this.required&&e==="proto2"?r.label=2:r.label=1;}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=ad(this.options,be.FieldOptions),this.options.default!=null&&(r.defaultValue=String(this.options.default)),this.options.proto3_optional&&(r.proto3_optional=true)),e==="proto3"?this.packed||((r.options||(r.options=be.FieldOptions.create())).packed=false):(!e||e==="proto2")&&this.packed&&((r.options||(r.options=be.FieldOptions.create())).packed=true),r};var zUe=0;Ko.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=be.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var a=0;a<e.value.length;++a){var o=e.value[a].name,s=e.value[a].number||0;n[o&&o.length?o:"NAME"+s]=s;}var c=new Ko(e.name&&e.name.length?e.name:"Enum"+zUe++,n,sd(e.options,be.EnumOptions));return i||(c._edition=r),c};Ko.prototype.toDescriptor=function(){for(var e=[],r=0,i=Object.keys(this.values);r<i.length;++r)e.push(be.EnumValueDescriptorProto.create({name:i[r],number:this.values[i[r]]}));return be.EnumDescriptorProto.create({name:this.name,value:e,options:ad(this.options,be.EnumOptions)})};var FUe=0;by.fromDescriptor=function(e){return typeof e.length=="number"&&(e=be.OneofDescriptorProto.decode(e)),new by(e.name&&e.name.length?e.name:"oneof"+FUe++)};by.prototype.toDescriptor=function(){return be.OneofDescriptorProto.create({name:this.name})};var HUe=0;Jh.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=be.ServiceDescriptorProto.decode(e));var n=new Jh(e.name&&e.name.length?e.name:"Service"+HUe++,sd(e.options,be.ServiceOptions));if(i||(n._edition=r),e.method)for(var a=0;a<e.method.length;++a)n.add(Py.fromDescriptor(e.method[a]));return n};Jh.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return be.ServiceDescriptorProto.create({name:this.name,method:e,options:ad(this.options,be.ServiceOptions)})};var GUe=0;Py.fromDescriptor=function(e){return typeof e.length=="number"&&(e=be.MethodDescriptorProto.decode(e)),new Py(e.name&&e.name.length?e.name:"Method"+GUe++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,sd(e.options,be.MethodOptions))};Py.prototype.toDescriptor=function(){return be.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:ad(this.options,be.MethodOptions)})};function jUe(t){switch(t){case 1:return "double";case 2:return "float";case 3:return "int64";case 4:return "uint64";case 5:return "int32";case 6:return "fixed64";case 7:return "fixed32";case 8:return "bool";case 9:return "string";case 12:return "bytes";case 13:return "uint32";case 15:return "sfixed32";case 16:return "sfixed64";case 17:return "sint32";case 18:return "sint64"}throw Error("illegal type: "+t)}function qUe(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return  true}return  false}function Yw(t,e,r){switch(t){case "double":return 1;case "float":return 2;case "int64":return 3;case "uint64":return 4;case "int32":return 5;case "fixed64":return 6;case "fixed32":return 7;case "bool":return 8;case "string":return 9;case "bytes":return 12;case "uint32":return 13;case "sfixed32":return 15;case "sfixed64":return 16;case "sint32":return 17;case "sint64":return 18}if(e instanceof Ko)return 14;if(e instanceof to)return r?10:11;throw Error("illegal type: "+t)}function lee(t,e){for(var r={},i=0,n,a;i<e.fieldsArray.length;++i)if((a=(n=e._fieldsArray[i]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(t,a)){var o=YUe(a);n.resolvedType instanceof to?r[o]=lee(t[a],n.resolvedType):n.resolvedType instanceof Ko?r[o]=n.resolvedType.valuesById[t[a]]:r[o]=t[a];}return r}function sd(t,e){if(t)return lee(e.toObject(t),e)}function uee(t,e){for(var r={},i=Object.keys(t),n=0;n<i.length;++n){var a=i[n],o=vn.util.camelCase(a);if(Object.prototype.hasOwnProperty.call(e.fields,o)){var s=e.fields[o];s.resolvedType instanceof to?r[o]=uee(t[a],s.resolvedType):r[o]=t[a],s.repeated&&!Array.isArray(r[o])&&(r[o]=[r[o]]);}}return r}function ad(t,e){if(t)return e.fromObject(uee(t,e))}function dee(t,e){var r=t.fullName.split("."),i=e.fullName.split("."),n=0,a=0,o=i.length-1;if(!(t instanceof Xh)&&e instanceof aee)for(;n<r.length&&a<o&&r[n]===i[a];){var s=e.lookup(r[n++],true);if(s!==null&&s!==e)break;++a;}else for(;n<r.length&&a<o&&r[n]===i[a];++n,++a);return i.slice(a).join(".")}function YUe(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,r){return "_"+r.toLowerCase()})}function WUe(t){if(t.syntax==="editions")switch(t.edition){case be.Edition.EDITION_2023:return "2023";default:throw new Error("Unsupported edition "+t.edition)}return t.syntax==="proto3"?"proto3":"proto2"}function KUe(t,e){if(t)if(t==="proto2"||t==="proto3")e.syntax=t;else switch(e.syntax="editions",t){case "2023":e.edition=be.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+t)}}});var hee=y((Cpt,ZUe)=>{ZUe.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}};});var mee=y((xpt,XUe)=>{XUe.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}};});var _ee=y((Ipt,JUe)=>{JUe.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}};});var Tee=y(ea=>{Object.defineProperty(ea,"__esModule",{value:true});ea.addCommonProtos=ea.loadProtosWithOptionsSync=ea.loadProtosWithOptions=void 0;var gee=U("fs"),Eee=U("path"),cd=Ny();function See(t,e){let r=t.resolvePath;t.resolvePath=(i,n)=>{if(Eee.isAbsolute(n))return n;for(let a of e){let o=Eee.join(a,n);try{return gee.accessSync(o,gee.constants.R_OK),o}catch{continue}}return process.emitWarning(`${n} not found in any of the include paths ${e}`),r(i,n)};}async function QUe(t,e){let r=new cd.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));See(r,e.includeDirs);}let i=await r.load(t,e);return i.resolveAll(),i}ea.loadProtosWithOptions=QUe;function eke(t,e){let r=new cd.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");See(r,e.includeDirs);}let i=r.loadSync(t,e);return i.resolveAll(),i}ea.loadProtosWithOptionsSync=eke;function tke(){let t=hee(),e=qw(),r=mee(),i=_ee();cd.common("api",t.nested.google.nested.protobuf.nested),cd.common("descriptor",e.nested.google.nested.protobuf.nested),cd.common("source_context",r.nested.google.nested.protobuf.nested),cd.common("type",i.nested.google.nested.protobuf.nested);}ea.addCommonProtos=tke;});var yee=y((Qh,Ww)=>{(function(t,e){function r(i){return i.default||i}typeof define=="function"&&define.amd?define([],function(){var i={};return e(i),r(i)}):typeof Qh=="object"?(e(Qh),typeof Ww=="object"&&(Ww.exports=r(Qh))):(function(){var i={};e(i),t.Long=r(i);})();})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Qh,function(t){Object.defineProperty(t,"__esModule",{value:true}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports;}catch{}function r(I,E,w){this.low=I|0,this.high=E|0,this.unsigned=!!w;}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:true});function i(I){return (I&&I.__isLong__)===true}function n(I){var E=Math.clz32(I&-I);return I?31-E:E}r.isLong=i;var a={},o={};function s(I,E){var w,he,re;return E?(I>>>=0,(re=0<=I&&I<256)&&(he=o[I],he)?he:(w=l(I,0,true),re&&(o[I]=w),w)):(I|=0,(re=-128<=I&&I<128)&&(he=a[I],he)?he:(w=l(I,I<0?-1:0,false),re&&(a[I]=w),w))}r.fromInt=s;function c(I,E){if(isNaN(I))return E?A:M;if(E){if(I<0)return A;if(I>=v)return Z}else {if(I<=-9223372036854776e3)return ie;if(I+1>=N)return te}return I<0?c(-I,E).neg():l(I%S|0,I/S|0,E)}r.fromNumber=c;function l(I,E,w){return new r(I,E,w)}r.fromBits=l;var u=Math.pow;function d(I,E,w){if(I.length===0)throw Error("empty string");if(typeof E=="number"?(w=E,E=false):E=!!E,I==="NaN"||I==="Infinity"||I==="+Infinity"||I==="-Infinity")return E?A:M;if(w=w||10,w<2||36<w)throw RangeError("radix");var he;if((he=I.indexOf("-"))>0)throw Error("interior hyphen");if(he===0)return d(I.substring(1),E,w).neg();for(var re=c(u(w,8)),fe=M,Le=0;Le<I.length;Le+=8){var it=Math.min(8,I.length-Le),pt=parseInt(I.substring(Le,Le+it),w);if(it<8){var qe=c(u(w,it));fe=fe.mul(qe).add(c(pt));}else fe=fe.mul(re),fe=fe.add(c(pt));}return fe.unsigned=E,fe}r.fromString=d;function p(I,E){return typeof I=="number"?c(I,E):typeof I=="string"?d(I,E):l(I.low,I.high,typeof E=="boolean"?E:I.unsigned)}r.fromValue=p;var f=65536,g=1<<24,S=f*f,v=S*S,N=v/2,C=s(g),M=s(0);r.ZERO=M;var A=s(0,true);r.UZERO=A;var k=s(1);r.ONE=k;var j=s(1,true);r.UONE=j;var G=s(-1);r.NEG_ONE=G;var te=l(-1,2147483647,false);r.MAX_VALUE=te;var Z=l(-1,-1,true);r.MAX_UNSIGNED_VALUE=Z;var ie=l(0,-2147483648,false);r.MIN_VALUE=ie;var b=r.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*S+(this.low>>>0):this.high*S+(this.low>>>0)},b.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return "0";if(this.isNegative())if(this.eq(ie)){var w=c(E),he=this.div(w),re=he.mul(w).sub(this);return he.toString(E)+re.toInt().toString(E)}else return "-"+this.neg().toString(E);for(var fe=c(u(E,6),this.unsigned),Le=this,it="";;){var pt=Le.div(fe),qe=Le.sub(pt.mul(fe)).toInt()>>>0,me=qe.toString(E);if(Le=pt,Le.isZero())return me+it;for(;me.length<6;)me="0"+me;it=""+me+it;}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ie)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,w=31;w>0&&(E&1<<w)==0;w--);return this.high!=0?w+33:w+1},b.isSafeInteger=function(){var E=this.high>>21;return E?this.unsigned?false:E===-1&&!(this.low===0&&this.high===-2097152):true},b.isZero=function(){return this.high===0&&this.low===0},b.eqz=b.isZero,b.isNegative=function(){return !this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return (this.low&1)===1},b.isEven=function(){return (this.low&1)===0},b.equals=function(E){return i(E)||(E=p(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?false:this.high===E.high&&this.low===E.low},b.eq=b.equals,b.notEquals=function(E){return !this.eq(E)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(E){return this.comp(E)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(E){return this.comp(E)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(E){return this.comp(E)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(E){return this.comp(E)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(E){if(i(E)||(E=p(E)),this.eq(E))return 0;var w=this.isNegative(),he=E.isNegative();return w&&!he?-1:!w&&he?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return !this.unsigned&&this.eq(ie)?ie:this.not().add(k)},b.neg=b.negate,b.add=function(E){i(E)||(E=p(E));var w=this.high>>>16,he=this.high&65535,re=this.low>>>16,fe=this.low&65535,Le=E.high>>>16,it=E.high&65535,pt=E.low>>>16,qe=E.low&65535,me=0,Lt=0,Fe=0,St=0;return St+=fe+qe,Fe+=St>>>16,St&=65535,Fe+=re+pt,Lt+=Fe>>>16,Fe&=65535,Lt+=he+it,me+=Lt>>>16,Lt&=65535,me+=w+Le,me&=65535,l(Fe<<16|St,me<<16|Lt,this.unsigned)},b.subtract=function(E){return i(E)||(E=p(E)),this.add(E.neg())},b.sub=b.subtract,b.multiply=function(E){if(this.isZero())return this;if(i(E)||(E=p(E)),e){var w=e.mul(this.low,this.high,E.low,E.high);return l(w,e.get_high(),this.unsigned)}if(E.isZero())return this.unsigned?A:M;if(this.eq(ie))return E.isOdd()?ie:M;if(E.eq(ie))return this.isOdd()?ie:M;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(C)&&E.lt(C))return c(this.toNumber()*E.toNumber(),this.unsigned);var he=this.high>>>16,re=this.high&65535,fe=this.low>>>16,Le=this.low&65535,it=E.high>>>16,pt=E.high&65535,qe=E.low>>>16,me=E.low&65535,Lt=0,Fe=0,St=0,Bt=0;return Bt+=Le*me,St+=Bt>>>16,Bt&=65535,St+=fe*me,Fe+=St>>>16,St&=65535,St+=Le*qe,Fe+=St>>>16,St&=65535,Fe+=re*me,Lt+=Fe>>>16,Fe&=65535,Fe+=fe*qe,Lt+=Fe>>>16,Fe&=65535,Fe+=Le*pt,Lt+=Fe>>>16,Fe&=65535,Lt+=he*me+re*qe+fe*pt+Le*it,Lt&=65535,l(St<<16|Bt,Lt<<16|Fe,this.unsigned)},b.mul=b.multiply,b.divide=function(E){if(i(E)||(E=p(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var w=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return l(w,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?A:M;var he,re,fe;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return A;if(E.gt(this.shru(1)))return j;fe=A;}else {if(this.eq(ie)){if(E.eq(k)||E.eq(G))return ie;if(E.eq(ie))return k;var Le=this.shr(1);return he=Le.div(E).shl(1),he.eq(M)?E.isNegative()?k:G:(re=this.sub(E.mul(he)),fe=he.add(re.div(E)),fe)}else if(E.eq(ie))return this.unsigned?A:M;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();fe=M;}for(re=this;re.gte(E);){he=Math.max(1,Math.floor(re.toNumber()/E.toNumber()));for(var it=Math.ceil(Math.log(he)/Math.LN2),pt=it<=48?1:u(2,it-48),qe=c(he),me=qe.mul(E);me.isNegative()||me.gt(re);)he-=pt,qe=c(he,this.unsigned),me=qe.mul(E);qe.isZero()&&(qe=k),fe=fe.add(qe),re=re.sub(me);}return fe},b.div=b.divide,b.modulo=function(E){if(i(E)||(E=p(E)),e){var w=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return l(w,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return l(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?n(this.low):n(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(E){return i(E)||(E=p(E)),l(this.low&E.low,this.high&E.high,this.unsigned)},b.or=function(E){return i(E)||(E=p(E)),l(this.low|E.low,this.high|E.high,this.unsigned)},b.xor=function(E){return i(E)||(E=p(E)),l(this.low^E.low,this.high^E.high,this.unsigned)},b.shiftLeft=function(E){return i(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?l(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):l(0,this.low<<E-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(E){return i(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?l(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):l(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(E){return i(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?l(this.low>>>E|this.high<<32-E,this.high>>>E,this.unsigned):E===32?l(this.high,0,this.unsigned):l(this.high>>>E-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(E){var w;return i(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?l(this.high,this.low,this.unsigned):E<32?(w=32-E,l(this.low<<E|this.high>>>w,this.high<<E|this.low>>>w,this.unsigned)):(E-=32,w=32-E,l(this.high<<E|this.low>>>w,this.low<<E|this.high>>>w,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(E){var w;return i(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?l(this.high,this.low,this.unsigned):E<32?(w=32-E,l(this.high<<w|this.low>>>E,this.low<<w|this.high>>>E,this.unsigned)):(E-=32,w=32-E,l(this.low<<w|this.high>>>E,this.high<<w|this.low>>>E,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?l(this.low,this.high,false):this},b.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,true)},b.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var E=this.high,w=this.low;return [w&255,w>>>8&255,w>>>16&255,w>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},b.toBytesBE=function(){var E=this.high,w=this.low;return [E>>>24,E>>>16&255,E>>>8&255,E&255,w>>>24,w>>>16&255,w>>>8&255,w&255]},r.fromBytes=function(E,w,he){return he?r.fromBytesLE(E,w):r.fromBytesBE(E,w)},r.fromBytesLE=function(E,w){return new r(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,w)},r.fromBytesBE=function(E,w){return new r(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],w)},typeof BigInt=="function"&&(r.fromBigInt=function(E,w){var he=Number(BigInt.asIntN(32,E)),re=Number(BigInt.asIntN(32,E>>BigInt(32)));return l(he,re,w)},r.fromValue=function(E,w){return typeof E=="bigint"?r.fromBigInt(E,w):p(E,w)},b.toBigInt=function(){var E=BigInt(this.low>>>0),w=BigInt(this.unsigned?this.high>>>0:this.high);return w<<BigInt(32)|E});t.default=r;});});var e0=y(Ft=>{Object.defineProperty(Ft,"__esModule",{value:true});Ft.loadFileDescriptorSetFromObject=Ft.loadFileDescriptorSetFromBuffer=Ft.fromJSON=Ft.loadSync=Ft.load=Ft.IdempotencyLevel=Ft.isAnyExtension=Ft.Long=void 0;var rke=iQ(),ro=Ny(),Jw=fee(),Qw=Tee(),nke=yee();Ft.Long=nke;function ike(t){return "@type"in t&&typeof t["@type"]=="string"}Ft.isAnyExtension=ike;var vee;(function(t){t.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",t.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",t.IDEMPOTENT="IDEMPOTENT";})(vee=Ft.IdempotencyLevel||(Ft.IdempotencyLevel={}));var Aee={longs:String,enums:String,bytes:String,defaults:true,oneofs:true,json:true};function oke(t,e){return t===""?e:t+"."+e}function ske(t){return t instanceof ro.Service||t instanceof ro.Type||t instanceof ro.Enum}function ake(t){return t instanceof ro.Namespace||t instanceof ro.Root}function Ree(t,e){let r=oke(e,t.name);return ske(t)?[[r,t]]:ake(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(i=>Ree(t.nested[i],r)).reduce((i,n)=>i.concat(n),[]):[]}function Kw(t,e){return function(i){return t.toObject(t.decode(i),e)}}function Zw(t){return function(r){if(Array.isArray(r))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let i=t.fromObject(r);return t.encode(i).finish()}}function cke(t){return (t||[]).reduce((e,r)=>{for(let[i,n]of Object.entries(r))switch(i){case "uninterpreted_option":e.uninterpreted_option.push(r.uninterpreted_option);break;default:e[i]=n;}return e},{deprecated:false,idempotency_level:vee.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function lke(t,e,r,i){let n=t.resolvedRequestType,a=t.resolvedResponseType;return {path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:Zw(n),requestDeserialize:Kw(n,r),responseSerialize:Zw(a),responseDeserialize:Kw(a,r),originalName:rke(t.name),requestType:Xw(n,r,i),responseType:Xw(a,r,i),options:cke(t.parsedOptions)}}function uke(t,e,r,i){let n={};for(let a of t.methodsArray)n[a.name]=lke(a,e,r,i);return n}function Xw(t,e,r){let i=t.toDescriptor("proto3");return {format:"Protocol Buffer 3 DescriptorProto",type:i.$type.toObject(i,Aee),fileDescriptorProtos:r,serialize:Zw(t),deserialize:Kw(t,e)}}function dke(t,e){let r=t.toDescriptor("proto3");return {format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,Aee),fileDescriptorProtos:e}}function pke(t,e,r,i){if(t instanceof ro.Service)return uke(t,e,r,i);if(t instanceof ro.Type)return Xw(t,r,i);if(t instanceof ro.Enum)return dke(t,i);throw new Error("Type mismatch in reflection object handling")}function Cy(t,e){let r={};t.resolveAll();let n=t.toDescriptor("proto3").file.map(a=>Buffer.from(Jw.FileDescriptorProto.encode(a).finish()));for(let[a,o]of Ree(t,""))r[a]=pke(o,a,e,n);return r}function Oee(t,e){e=e||{};let r=ro.Root.fromDescriptor(t);return r.resolveAll(),Cy(r,e)}function fke(t,e){return (0, Qw.loadProtosWithOptions)(t,e).then(r=>Cy(r,e))}Ft.load=fke;function hke(t,e){let r=(0, Qw.loadProtosWithOptionsSync)(t,e);return Cy(r,e)}Ft.loadSync=hke;function mke(t,e){e=e||{};let r=ro.Root.fromJSON(t);return r.resolveAll(),Cy(r,e)}Ft.fromJSON=mke;function _ke(t,e){let r=Jw.FileDescriptorSet.decode(t);return Oee(r,e)}Ft.loadFileDescriptorSetFromBuffer=_ke;function gke(t,e){let r=Jw.FileDescriptorSet.fromObject(t);return Oee(r,e)}Ft.loadFileDescriptorSetFromObject=gke;(0, Qw.addCommonProtos)();});var ta=y(ot=>{Object.defineProperty(ot,"__esModule",{value:true});ot.registerChannelzSocket=ot.registerChannelzServer=ot.registerChannelzSubchannel=ot.registerChannelzChannel=ot.ChannelzCallTrackerStub=ot.ChannelzCallTracker=ot.ChannelzChildrenTrackerStub=ot.ChannelzChildrenTracker=ot.ChannelzTrace=ot.ChannelzTraceStub=void 0;ot.unregisterChannelzRef=vke;ot.getChannelzHandlers=wee;ot.getChannelzServiceDefinition=Lee;ot.setup=wke;var Iy=U("net"),nl=(b7(),$(N7)),em=Ir(),tm=xe(),Eke=en(),Ske=ey(),Tke=oy();function t0(t){return {channel_id:t.id,name:t.name}}function s0(t){return {subchannel_id:t.id,name:t.name}}function yke(t){return {server_id:t.id}}function Ly(t){return {socket_id:t.id,name:t.name}}var Nee=32,a0=100,r0=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0;}addTrace(){}getTraceMessage(){return {creation_timestamp:no(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};ot.ChannelzTraceStub=r0;var n0=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date;}addTrace(e,r,i){let n=new Date;this.events.push({description:r,severity:e,timestamp:n,childChannel:i?.kind==="channel"?i:void 0,childSubchannel:i?.kind==="subchannel"?i:void 0}),this.events.length>=Nee*2&&(this.events=this.events.slice(Nee)),this.eventsLogged+=1;}getTraceMessage(){return {creation_timestamp:no(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:no(e.timestamp),channel_ref:e.childChannel?t0(e.childChannel):null,subchannel_ref:e.childSubchannel?s0(e.childSubchannel):null}))}}};ot.ChannelzTrace=n0;var My=class{constructor(){this.channelChildren=new nl.OrderedMap,this.subchannelChildren=new nl.OrderedMap,this.socketChildren=new nl.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren};}refChild(e){let r=this.trackerMap[e.kind],i=r.find(e.id);i.equals(r.end())?r.setElement(e.id,{ref:e,count:1},i):i.pointer[1].count+=1;}unrefChild(e){let r=this.trackerMap[e.kind],i=r.getElementByKey(e.id);i!==void 0&&(i.count-=1,i.count===0&&r.eraseElementByKey(e.id));}getChildLists(){return {channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};ot.ChannelzChildrenTracker=My;var i0=class extends My{refChild(){}unrefChild(){}};ot.ChannelzChildrenTrackerStub=i0;var wy=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null;}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date;}addCallSucceeded(){this.callsSucceeded+=1;}addCallFailed(){this.callsFailed+=1;}};ot.ChannelzCallTracker=wy;var o0=class extends wy{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};ot.ChannelzCallTrackerStub=o0;var Zo={channel:new nl.OrderedMap,subchannel:new nl.OrderedMap,server:new nl.OrderedMap,socket:new nl.OrderedMap},Dy=t=>{let e=1;function r(){return e++}let i=Zo[t];return (n,a,o)=>{let s=r(),c={id:s,name:n,kind:t};return o&&i.setElement(s,{ref:c,getInfo:a}),c}};ot.registerChannelzChannel=Dy("channel");ot.registerChannelzSubchannel=Dy("subchannel");ot.registerChannelzServer=Dy("server");ot.registerChannelzSocket=Dy("socket");function vke(t){Zo[t.kind].eraseElementByKey(t.id);}function Ake(t){let e=Number.parseInt(t,16);return [e/256|0,e%256]}function bee(t){if(t==="")return [];let e=t.split(":").map(i=>Ake(i));return [].concat(...e)}function Rke(t){return (0, Iy.isIPv6)(t)&&t.toLowerCase().startsWith("::ffff:")&&(0, Iy.isIPv4)(t.substring(7))}function Pee(t){return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))))}function Oke(t){if((0, Iy.isIPv4)(t))return Pee(t);if(Rke(t))return Pee(t.substring(7));if((0, Iy.isIPv6)(t)){let e,r,i=t.indexOf("::");i===-1?(e=t,r=""):(e=t.substring(0,i),r=t.substring(i+2));let n=Buffer.from(bee(e)),a=Buffer.from(bee(r)),o=Buffer.alloc(16-n.length-a.length,0);return Buffer.concat([n,o,a])}else return null}function xee(t){switch(t){case em.ConnectivityState.CONNECTING:return {state:"CONNECTING"};case em.ConnectivityState.IDLE:return {state:"IDLE"};case em.ConnectivityState.READY:return {state:"READY"};case em.ConnectivityState.SHUTDOWN:return {state:"SHUTDOWN"};case em.ConnectivityState.TRANSIENT_FAILURE:return {state:"TRANSIENT_FAILURE"};default:return {state:"UNKNOWN"}}}function no(t){if(!t)return null;let e=t.getTime();return {seconds:e/1e3|0,nanos:e%1e3*1e6}}function Iee(t){let e=t.getInfo(),r=[],i=[];return e.children.channels.forEach(n=>{r.push(t0(n[1].ref));}),e.children.subchannels.forEach(n=>{i.push(s0(n[1].ref));}),{ref:t0(t.ref),data:{target:e.target,state:xee(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:no(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:r,subchannel_ref:i}}function Nke(t,e){let r=parseInt(t.request.channel_id,10),i=Zo.channel.getElementByKey(r);if(i===void 0){e({code:tm.Status.NOT_FOUND,details:"No channel data found for id "+r});return}e(null,{channel:Iee(i)});}function bke(t,e){let r=parseInt(t.request.max_results,10)||a0,i=[],n=parseInt(t.request.start_channel_id,10),a=Zo.channel,o;for(o=a.lowerBound(n);!o.equals(a.end())&&i.length<r;o=o.next())i.push(Iee(o.pointer[1]));e(null,{channel:i,end:o.equals(a.end())});}function Mee(t){let e=t.getInfo(),r=[];return e.listenerChildren.sockets.forEach(i=>{r.push(Ly(i[1].ref));}),{ref:yke(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:no(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:r}}function Pke(t,e){let r=parseInt(t.request.server_id,10),n=Zo.server.getElementByKey(r);if(n===void 0){e({code:tm.Status.NOT_FOUND,details:"No server data found for id "+r});return}e(null,{server:Mee(n)});}function Cke(t,e){let r=parseInt(t.request.max_results,10)||a0,i=parseInt(t.request.start_server_id,10),n=Zo.server,a=[],o;for(o=n.lowerBound(i);!o.equals(n.end())&&a.length<r;o=o.next())a.push(Mee(o.pointer[1]));e(null,{server:a,end:o.equals(n.end())});}function xke(t,e){let r=parseInt(t.request.subchannel_id,10),i=Zo.subchannel.getElementByKey(r);if(i===void 0){e({code:tm.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let n=i.getInfo(),a=[];n.children.sockets.forEach(s=>{a.push(Ly(s[1].ref));});let o={ref:s0(i.ref),data:{target:n.target,state:xee(n.state),calls_started:n.callTracker.callsStarted,calls_succeeded:n.callTracker.callsSucceeded,calls_failed:n.callTracker.callsFailed,last_call_started_timestamp:no(n.callTracker.lastCallStartedTimestamp),trace:n.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:o});}function Cee(t){var e;return (0, Eke.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=Oke(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function Ike(t,e){var r,i,n,a,o;let s=parseInt(t.request.socket_id,10),c=Zo.socket.getElementByKey(s);if(c===void 0){e({code:tm.Status.NOT_FOUND,details:"No socket data found for id "+s});return}let l=c.getInfo(),u=l.security?{model:"tls",tls:{cipher_suite:l.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(r=l.security.cipherSuiteStandardName)!==null&&r!==void 0?r:void 0,other_name:(i=l.security.cipherSuiteOtherName)!==null&&i!==void 0?i:void 0,local_certificate:(n=l.security.localCertificate)!==null&&n!==void 0?n:void 0,remote_certificate:(a=l.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,d={ref:Ly(c.ref),local:l.localAddress?Cee(l.localAddress):null,remote:l.remoteAddress?Cee(l.remoteAddress):null,remote_name:(o=l.remoteName)!==null&&o!==void 0?o:void 0,security:u,data:{keep_alives_sent:l.keepAlivesSent,streams_started:l.streamsStarted,streams_succeeded:l.streamsSucceeded,streams_failed:l.streamsFailed,last_local_stream_created_timestamp:no(l.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:no(l.lastRemoteStreamCreatedTimestamp),messages_received:l.messagesReceived,messages_sent:l.messagesSent,last_message_received_timestamp:no(l.lastMessageReceivedTimestamp),last_message_sent_timestamp:no(l.lastMessageSentTimestamp),local_flow_control_window:l.localFlowControlWindow?{value:l.localFlowControlWindow}:null,remote_flow_control_window:l.remoteFlowControlWindow?{value:l.remoteFlowControlWindow}:null}};e(null,{socket:d});}function Mke(t,e){let r=parseInt(t.request.server_id,10),i=Zo.server.getElementByKey(r);if(i===void 0){e({code:tm.Status.NOT_FOUND,details:"No server data found for id "+r});return}let n=parseInt(t.request.start_socket_id,10),a=parseInt(t.request.max_results,10)||a0,s=i.getInfo().sessionChildren.sockets,c=[],l;for(l=s.lowerBound(n);!l.equals(s.end())&&c.length<a;l=l.next())c.push(Ly(l.pointer[1].ref));e(null,{socket_ref:c,end:l.equals(s.end())});}function wee(){return {GetChannel:Nke,GetTopChannels:bke,GetServer:Pke,GetServers:Cke,GetSubchannel:xke,GetSocket:Ike,GetServerSockets:Mke}}var xy=null;function Lee(){if(xy)return xy;let t=e0().loadSync,e=t("channelz.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto`]});return xy=(0, Tke.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,xy}function wke(){(0, Ske.registerAdminService)(Lee,wee);}});var Uy=y(c0=>{Object.defineProperty(c0,"__esModule",{value:true});c0.getNextCallNumber=Dke;var Lke=0;function Dke(){return Lke++}});var l0=y(ky=>{Object.defineProperty(ky,"__esModule",{value:true});ky.CompressionAlgorithms=void 0;var Dee;(function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip";})(Dee||(ky.CompressionAlgorithms=Dee={}));});var d0=y($y=>{Object.defineProperty($y,"__esModule",{value:true});$y.BaseFilter=void 0;var u0=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};$y.BaseFilter=u0;});var _0=y(dd=>{Object.defineProperty(dd,"__esModule",{value:true});dd.CompressionFilterFactory=dd.CompressionFilter=void 0;var Vy=U("zlib"),kee=l0(),ld=xe(),Uke=d0(),kke=et(),$ke=t=>typeof t=="number"&&typeof kee.CompressionAlgorithms[t]=="string",ud=class{async writeMessage(e,r){let i=e;r&&(i=await this.compressMessage(i));let n=Buffer.allocUnsafe(i.length+5);return n.writeUInt8(r?1:0,0),n.writeUInt32BE(i.length,1),i.copy(n,5),n}async readMessage(e){let r=e.readUInt8(0)===1,i=e.slice(5);return r&&(i=await this.decompressMessage(i)),i}},il=class extends ud{async compressMessage(e){return e}async writeMessage(e,r){let i=Buffer.allocUnsafe(e.length+5);return i.writeUInt8(0,0),i.writeUInt32BE(e.length,1),e.copy(i,5),i}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},p0=class extends ud{constructor(e){super(),this.maxRecvMessageLength=e;}compressMessage(e){return new Promise((r,i)=>{Vy.deflate(e,(n,a)=>{n?i(n):r(a);});})}decompressMessage(e){return new Promise((r,i)=>{let n=0,a=[],o=Vy.createInflate();o.on("data",s=>{a.push(s),n+=s.byteLength,this.maxRecvMessageLength!==-1&&n>this.maxRecvMessageLength&&(o.destroy(),i({code:ld.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}));}),o.on("end",()=>{r(Buffer.concat(a));}),o.write(e),o.end();})}},f0=class extends ud{constructor(e){super(),this.maxRecvMessageLength=e;}compressMessage(e){return new Promise((r,i)=>{Vy.gzip(e,(n,a)=>{n?i(n):r(a);});})}decompressMessage(e){return new Promise((r,i)=>{let n=0,a=[],o=Vy.createGunzip();o.on("data",s=>{a.push(s),n+=s.byteLength,this.maxRecvMessageLength!==-1&&n>this.maxRecvMessageLength&&(o.destroy(),i({code:ld.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}));}),o.on("end",()=>{r(Buffer.concat(a));}),o.write(e),o.end();})}},h0=class extends ud{constructor(e){super(),this.compressionName=e;}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function Uee(t,e){switch(t){case "identity":return new il;case "deflate":return new p0(e);case "gzip":return new f0(e);default:return new h0(t)}}var By=class extends Uke.BaseFilter{constructor(e,r){var i,n,a;super(),this.sharedFilterConfig=r,this.sendCompression=new il,this.receiveCompression=new il,this.currentCompressionAlgorithm="identity";let o=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(i=e["grpc.max_receive_message_length"])!==null&&i!==void 0?i:ld.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(n=e["grpc.max_send_message_length"])!==null&&n!==void 0?n:ld.DEFAULT_MAX_SEND_MESSAGE_LENGTH,o!==void 0)if($ke(o)){let s=kee.CompressionAlgorithms[o],c=(a=r.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!c||c.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=Uee(this.currentCompressionAlgorithm,-1));}else kke.log(ld.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`);}async sendMetadata(e){let r=await e;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?r.remove("grpc-encoding"):r.set("grpc-encoding",this.currentCompressionAlgorithm),r}receiveMetadata(e){let r=e.get("grpc-encoding");if(r.length>0){let n=r[0];typeof n=="string"&&(this.receiveCompression=Uee(n,this.maxReceiveMessageLength));}e.remove("grpc-encoding");let i=e.get("grpc-accept-encoding")[0];return i&&(this.sharedFilterConfig.serverSupportedEncodingHeader=i,i.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new il,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var r;let i=await e;if(this.maxSendMessageLength!==-1&&i.message.length>this.maxSendMessageLength)throw {code:ld.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let n;return this.sendCompression instanceof il?n=false:n=(((r=i.flags)!==null&&r!==void 0?r:0)&2)===0,{message:await this.sendCompression.writeMessage(i.message,n),flags:i.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};dd.CompressionFilter=By;var m0=class{constructor(e,r){this.options=r,this.sharedFilterConfig={};}createFilter(){return new By(this.options,this.sharedFilterConfig)}};dd.CompressionFilterFactory=m0;});var rm=y(g0=>{Object.defineProperty(g0,"__esModule",{value:true});g0.restrictControlPlaneStatusCode=Bke;var io=xe(),Vke=[io.Status.OK,io.Status.INVALID_ARGUMENT,io.Status.NOT_FOUND,io.Status.ALREADY_EXISTS,io.Status.FAILED_PRECONDITION,io.Status.ABORTED,io.Status.OUT_OF_RANGE,io.Status.DATA_LOSS];function Bke(t,e){return Vke.includes(t)?{code:io.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${io.Status[t]} ${e}`}:{code:t,details:e}}});var pd=y(ol=>{Object.defineProperty(ol,"__esModule",{value:true});ol.minDeadline=zke;ol.getDeadlineTimeoutString=Hke;ol.getRelativeTimeout=jke;ol.deadlineToString=qke;ol.formatDateDifference=Yke;function zke(...t){let e=1/0;for(let r of t){let i=r instanceof Date?r.getTime():r;i<e&&(e=i);}return e}var Fke=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function Hke(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let r=Math.max(t-e,0);for(let[i,n]of Fke){let a=r/n;if(a<1e8)return String(Math.ceil(a))+i}throw new Error("Deadline is too far in the future")}var Gke=2147483647;function jke(t){let e=t instanceof Date?t.getTime():t,r=new Date().getTime(),i=e-r;return i<0?0:i>Gke?1/0:i}function qke(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}function Yke(t,e){return ((e.getTime()-t.getTime())/1e3).toFixed(3)+"s"}});var Fy=y(fd=>{Object.defineProperty(fd,"__esModule",{value:true});fd.FilterStackFactory=fd.FilterStack=void 0;var zy=class{constructor(e){this.filters=e;}sendMetadata(e){let r=e;for(let i=0;i<this.filters.length;i++)r=this.filters[i].sendMetadata(r);return r}receiveMetadata(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveMetadata(r);return r}sendMessage(e){let r=e;for(let i=0;i<this.filters.length;i++)r=this.filters[i].sendMessage(r);return r}receiveMessage(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveMessage(r);return r}receiveTrailers(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveTrailers(r);return r}push(e){this.filters.unshift(...e);}getFilters(){return this.filters}};fd.FilterStack=zy;var E0=class t{constructor(e){this.factories=e;}push(e){this.factories.unshift(...e);}clone(){return new t([...this.factories])}createFilter(){return new zy(this.factories.map(e=>e.createFilter()))}};fd.FilterStackFactory=E0;});var $ee=y(Gy=>{Object.defineProperty(Gy,"__esModule",{value:true});Gy.SingleSubchannelChannel=void 0;var Wke=Uy(),nm=ta(),Kke=_0(),Zke=Ir(),im=xe(),Xke=rm(),Jke=pd(),Qke=Fy(),S0=Jt(),e1e=pi(),Hy=xr(),T0=class{constructor(e,r,i,n,a){var o,s;this.subchannel=e,this.method=r,this.options=n,this.callNumber=a,this.childCall=null,this.pendingMessage=null,this.readPending=false,this.halfClosePending=false,this.pendingStatus=null,this.readFilterPending=false,this.writeFilterPending=false;let c=this.method.split("/"),l="";c.length>=2&&(l=c[1]);let u=(s=(o=(0, Hy.splitHostPort)(this.options.host))===null||o===void 0?void 0:o.host)!==null&&s!==void 0?s:"localhost";this.serviceUrl=`https://${u}/${l}`;let d=(0, Jke.getRelativeTimeout)(n.deadline);d!==1/0&&(d<=0?this.cancelWithStatus(im.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(im.Status.DEADLINE_EXCEEDED,"Deadline exceeded");},d)),this.filterStack=i.createFilter();}cancelWithStatus(e,r){this.childCall?this.childCall.cancelWithStatus(e,r):this.pendingStatus={code:e,details:r,metadata:new S0.Metadata};}getPeer(){var e,r;return (r=(e=this.childCall)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.subchannel.getAddress()}async start(e,r){if(this.pendingStatus){r.onReceiveStatus(this.pendingStatus);return}if(this.subchannel.getConnectivityState()!==Zke.ConnectivityState.READY){r.onReceiveStatus({code:im.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new S0.Metadata});return}let i=await this.filterStack.sendMetadata(Promise.resolve(e)),n;try{n=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl});}catch(o){let s=o,{code:c,details:l}=(0, Xke.restrictControlPlaneStatusCode)(typeof s.code=="number"?s.code:im.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${s.message}`);r.onReceiveStatus({code:c,details:l,metadata:new S0.Metadata});return}n.merge(i);let a={onReceiveMetadata:async o=>{r.onReceiveMetadata(await this.filterStack.receiveMetadata(o));},onReceiveMessage:async o=>{this.readFilterPending=true;let s=await this.filterStack.receiveMessage(o);this.readFilterPending=false,r.onReceiveMessage(s),this.pendingStatus&&r.onReceiveStatus(this.pendingStatus);},onReceiveStatus:async o=>{let s=await this.filterStack.receiveTrailers(o);this.readFilterPending?this.pendingStatus=s:r.onReceiveStatus(s);}};this.childCall=this.subchannel.createCall(n,this.options.host,this.method,a),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose();}async sendMessageWithContext(e,r){this.writeFilterPending=true;let i=await this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags}));this.writeFilterPending=false,this.childCall?(this.childCall.sendMessageWithContext(e,i.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:e,message:i.message};}startRead(){this.childCall?this.childCall.startRead():this.readPending=true;}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=true;}getCallNumber(){return this.callNumber}setCredentials(e){throw new Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}},y0=class{constructor(e,r,i){this.subchannel=e,this.target=r,this.channelzEnabled=false,this.channelzTrace=new nm.ChannelzTrace,this.callTracker=new nm.ChannelzCallTracker,this.childrenTracker=new nm.ChannelzChildrenTracker,this.channelzEnabled=i["grpc.enable_channelz"]!==0,this.channelzRef=(0, nm.registerChannelzChannel)((0, Hy.uriToString)(r),()=>({target:`${(0, Hy.uriToString)(r)} (${e.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),this.filterStackFactory=new Qke.FilterStackFactory([new Kke.CompressionFilterFactory(this,i)]);}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0, nm.unregisterChannelzRef)(this.channelzRef);}getTarget(){return (0, Hy.uriToString)(this.target)}getConnectivityState(e){throw new Error("Method not implemented.")}watchConnectivityState(e,r,i){throw new Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(e,r){let i={deadline:r,host:(0, e1e.getDefaultAuthority)(this.target),flags:im.Propagate.DEFAULTS,parentCall:null};return new T0(this.subchannel,e,this.filterStackFactory,i,(0, Wke.getNextCallNumber)())}};Gy.SingleSubchannelChannel=y0;});var Vee=y(qy=>{Object.defineProperty(qy,"__esModule",{value:true});qy.Subchannel=void 0;var We=Ir(),t1e=Zu(),v0=et(),jy=xe(),r1e=xr(),n1e=en(),oo=ta(),i1e=$ee(),o1e="subchannel",s1e=2147483647,A0=class{constructor(e,r,i,n,a){var o;this.channelTarget=e,this.subchannelAddress=r,this.options=i,this.connector=a,this.connectivityState=We.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=false,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=true,this.dataProducers=new Map,this.subchannelChannel=null;let s={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new t1e.BackoffTimeout(()=>{this.handleBackoffTimer();},s),this.backoffTimeout.unref(),this.subchannelAddressString=(0, n1e.subchannelAddressToString)(r),this.keepaliveTime=(o=i["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,i["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.channelzTrace=new oo.ChannelzTraceStub,this.callTracker=new oo.ChannelzCallTrackerStub,this.childrenTracker=new oo.ChannelzChildrenTrackerStub,this.streamTracker=new oo.ChannelzCallTrackerStub):(this.channelzTrace=new oo.ChannelzTrace,this.callTracker=new oo.ChannelzCallTracker,this.childrenTracker=new oo.ChannelzChildrenTracker,this.streamTracker=new oo.ChannelzCallTracker),this.channelzRef=(0, oo.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(i,void 0,2)),this.secureConnector=n._createSecureConnector(e,i);}getChannelzInfo(){return {state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){v0.trace(jy.LogVerbosity.DEBUG,o1e,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}refTrace(e){v0.trace(jy.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}handleBackoffTimer(){this.continueConnecting?this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.CONNECTING):this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.IDLE);}startBackoff(){this.backoffTimeout.runOnce();}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset();}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let r=Math.min(this.keepaliveTime,s1e);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":r});}this.connector.connect(this.subchannelAddress,this.secureConnector,e).then(r=>{this.transitionToState([We.ConnectivityState.CONNECTING],We.ConnectivityState.READY)?(this.transport=r,this.channelzEnabled&&this.childrenTracker.refChild(r.getChannelzRef()),r.addDisconnectListener(i=>{this.transitionToState([We.ConnectivityState.READY],We.ConnectivityState.IDLE),i&&this.keepaliveTime>0&&(this.keepaliveTime*=2,v0.log(jy.LogVerbosity.ERROR,`Connection to ${(0, r1e.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`));})):r.shutdown();},r=>{this.transitionToState([We.ConnectivityState.CONNECTING],We.ConnectivityState.TRANSIENT_FAILURE,`${r}`);});}transitionToState(e,r,i){var n,a;if(e.indexOf(this.connectivityState)===-1)return  false;i?this.trace(We.ConnectivityState[this.connectivityState]+" -> "+We.ConnectivityState[r]+' with error "'+i+'"'):this.trace(We.ConnectivityState[this.connectivityState]+" -> "+We.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+We.ConnectivityState[r]);let o=this.connectivityState;switch(this.connectivityState=r,r){case We.ConnectivityState.READY:this.stopBackoff();break;case We.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=false;break;case We.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(n=this.transport)===null||n===void 0||n.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer();});break;case We.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let s of this.stateListeners)s(this,o,r,this.keepaliveTime,i);return  true}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1;}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0, oo.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([We.ConnectivityState.CONNECTING,We.ConnectivityState.READY],We.ConnectivityState.IDLE);}));}unrefIfOneRef(){return this.refcount===1?(this.unref(),true):false}createCall(e,r,i,n){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:o=>{o.code===jy.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed();}}):a={},this.transport.createCall(e,r,i,n,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([We.ConnectivityState.IDLE],We.ConnectivityState.CONNECTING)||this.connectivityState===We.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=true);});}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e);}removeConnectivityStateListener(e){this.stateListeners.delete(e);}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([We.ConnectivityState.TRANSIENT_FAILURE],We.ConnectivityState.CONNECTING);});}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return  true}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e);}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new i1e.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(e){throw new Error("Not implemented")}getOrCreateDataProducer(e,r){let i=this.dataProducers.get(e);if(i)return i;let n=r(this);return this.dataProducers.set(e,n),n}removeDataProducer(e){this.dataProducers.delete(e);}};qy.Subchannel=A0;});var Bee=y(Yy=>{var R0;Object.defineProperty(Yy,"__esModule",{value:true});Yy.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;Yy.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((R0=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&R0!==void 0?R0:"false")==="true";});var P0=y(sl=>{Object.defineProperty(sl,"__esModule",{value:true});sl.DEFAULT_PORT=void 0;sl.setup=h1e;var zee=pi(),O0=U("dns"),a1e=$M(),N0=xe(),hd=Xc(),c1e=Jt(),l1e=et(),u1e=xe(),ra=xr(),Fee=U("net"),d1e=Zu(),Hee=Bee(),p1e="dns_resolver";function so(t){l1e.trace(u1e.LogVerbosity.DEBUG,p1e,t);}sl.DEFAULT_PORT=443;var f1e=3e4,b0=class{constructor(e,r,i){var n,a,o;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=false,this.isNextResolutionTimerRunning=false,this.isServiceConfigEnabled=true,this.returnedIpResult=false,this.alternativeResolver=new O0.promises.Resolver,so("Resolver constructed for target "+(0, ra.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);let s=(0, ra.splitHostPort)(e.path);s===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0, Fee.isIPv4)(s.host)||(0, Fee.isIPv6)(s.host)?(this.ipResult=[{addresses:[{host:s.host,port:(n=s.port)!==null&&n!==void 0?n:sl.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=s.host,this.port=(a=s.port)!==null&&a!==void 0?a:sl.DEFAULT_PORT),this.percentage=Math.random()*100,i["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=false),this.defaultResolutionError={code:N0.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0, ra.uriToString)(this.target)}`,metadata:new c1e.Metadata};let c={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoff=new d1e.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff();},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=i["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:f1e,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer);}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(so("Returning IP address for target "+(0, ra.uriToString)(this.target)),setImmediate(()=>{this.listener((0, hd.statusOrFromValue)(this.ipResult),{},null,"");}),this.returnedIpResult=true),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)so("Failed to parse DNS address "+(0, ra.uriToString)(this.target)),setImmediate(()=>{this.listener((0, hd.statusOrFromError)({code:N0.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0, ra.uriToString)(this.target)}`}),{},null,"");}),this.stopNextResolutionTimer();else {if(this.pendingLookupPromise!==null)return;so("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(r=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.latestLookupResult=(0, hd.statusOrFromValue)(r.map(a=>({addresses:[a]})));let i="["+r.map(a=>a.host+":"+a.port).join(",")+"]";so("Resolved addresses for target "+(0, ra.uriToString)(this.target)+": "+i);let n=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(n);},r=>{this.pendingLookupPromise!==null&&(so("Resolution error for target "+(0, ra.uriToString)(this.target)+": "+r.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0, hd.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""));}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(r=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;let i;try{i=(0,a1e.extractAndSelectServiceConfig)(r,this.percentage),i?this.latestServiceConfigResult=(0,hd.statusOrFromValue)(i):this.latestServiceConfigResult=null;}catch(n){this.latestServiceConfigResult=(0, hd.statusOrFromError)({code:N0.Status.UNAVAILABLE,details:`Parsing service config failed with error ${n.message}`});}this.latestLookupResult!==null&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");},r=>{}));}}handleHealthStatus(e){e?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=true;}async lookup(e){if(Hee.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){so("Using alternative DNS resolver.");let i=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(i.every(n=>n.status==="rejected"))throw new Error(i[0].reason);return i.reduce((n,a)=>a.status==="fulfilled"?[...n,...a.value]:n,[]).map(n=>({host:n,port:+this.port}))}return (await O0.promises.lookup(e,{all:true})).map(i=>({host:i.address,port:+this.port}))}async resolveTxt(e){return Hee.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(so("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):O0.promises.resolveTxt(e)}startNextResolutionTimer(){var e,r;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff();},this.minTimeBetweenResolutionsMs),(r=(e=this.nextResolutionTimer).unref)===null||r===void 0||r.call(e),this.isNextResolutionTimerRunning=true;}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=false;}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=false,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution());}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?so('resolution update delayed by "min time between resolutions" rate limit'):so("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=true):this.startResolutionWithBackoff());}destroy(){this.continueResolving=false,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=false;}static getDefaultAuthority(e){return e.path}};function h1e(){(0, zee.registerResolver)("dns",b0),(0, zee.registerDefaultScheme)("dns");}});var C0=y(am=>{Object.defineProperty(am,"__esModule",{value:true});am.parseCIDR=qee;am.mapProxyName=R1e;am.getProxiedConnection=O1e;var om=et(),md=xe(),jee=U("net"),m1e=U("http"),_1e=et(),Gee=en(),sm=xr(),g1e=U("url"),E1e=P0(),S1e="proxy";function _d(t){_1e.trace(md.LogVerbosity.DEBUG,S1e,t);}function T1e(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return {};let r;try{r=new g1e.URL(t);}catch{return (0, om.log)(md.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(r.protocol!=="http:")return (0, om.log)(md.LogVerbosity.ERROR,`"${r.protocol}" scheme not supported in proxy URI`),{};let i=null;r.username&&(r.password?((0, om.log)(md.LogVerbosity.INFO,"userinfo found in proxy URI"),i=decodeURIComponent(`${r.username}:${r.password}`)):i=r.username);let n=r.hostname,a=r.port;a===""&&(a="80");let o={address:`${n}:${a}`};return i&&(o.creds=i),_d("Proxy server "+o.address+" set by environment variable "+e),o}function y1e(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(_d("No proxy server list set by environment variable "+e),t.split(",")):[]}function qee(t){let e=t.split("/");if(e.length!==2)return null;let r=parseInt(e[1],10);return !(0, jee.isIPv4)(e[0])||Number.isNaN(r)||r<0||r>32?null:{ip:Yee(e[0]),prefixLength:r}}function Yee(t){return t.split(".").reduce((e,r)=>(e<<8)+parseInt(r,10),0)}function v1e(t,e){let r=t.ip,i=-1<<32-t.prefixLength;return (Yee(e)&i)===(r&i)}function A1e(t){for(let e of y1e()){let r=qee(e);if((0, jee.isIPv4)(t)&&r&&v1e(r,t))return  true;if(t.endsWith(e))return  true}return  false}function R1e(t,e){var r;let i={target:t,extraOptions:{}};if(((r=e["grpc.enable_http_proxy"])!==null&&r!==void 0?r:1)===0||t.scheme==="unix")return i;let n=T1e();if(!n.address)return i;let a=(0, sm.splitHostPort)(t.path);if(!a)return i;let o=a.host;if(A1e(o))return _d("Not using proxy for target in no_proxy list: "+(0, sm.uriToString)(t)),i;let s={"grpc.http_connect_target":(0, sm.uriToString)(t)};return n.creds&&(s["grpc.http_connect_creds"]=n.creds),{target:{scheme:"dns",path:n.address},extraOptions:s}}function O1e(t,e){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve(null);let i=e["grpc.http_connect_target"],n=(0, sm.parseUri)(i);if(n===null)return Promise.resolve(null);let a=(0, sm.splitHostPort)(n.path);if(a===null)return Promise.resolve(null);let o=`${a.host}:${(r=a.port)!==null&&r!==void 0?r:E1e.DEFAULT_PORT}`,s={method:"CONNECT",path:o},c={Host:o};(0, Gee.isTcpSubchannelAddress)(t)?(s.host=t.host,s.port=t.port):s.socketPath=t.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),s.headers=c;let l=(0, Gee.subchannelAddressToString)(t);return _d("Using proxy "+l+" to connect to "+s.path),new Promise((u,d)=>{let p=m1e.request(s);p.once("connect",(f,g,S)=>{p.removeAllListeners(),g.removeAllListeners(),f.statusCode===200?(_d("Successfully connected to "+s.path+" through proxy "+l),S.length>0&&g.unshift(S),_d("Successfully established a plaintext connection to "+s.path+" through proxy "+l),u(g)):((0, om.log)(md.LogVerbosity.ERROR,"Failed to connect to "+s.path+" through proxy "+l+" with status "+f.statusCode),d());}),p.once("error",f=>{p.removeAllListeners(),(0, om.log)(md.LogVerbosity.ERROR,"Failed to connect to proxy "+l+" with error "+f.message),d();}),p.end();})}});var I0=y(Wy=>{Object.defineProperty(Wy,"__esModule",{value:true});Wy.StreamDecoder=void 0;var ao;(function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE";})(ao||(ao={}));var x0=class{constructor(e){this.maxReadMessageLength=e,this.readState=ao.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0;}write(e){let r=0,i,n=[];for(;r<e.length;)switch(this.readState){case ao.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=ao.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ao.READING_SIZE:if(i=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+i),this.readSizeRemaining-=i,r+=i,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ao.READING_MESSAGE;else {let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ao.NO_DATA,n.push(a);}}break;case ao.READING_MESSAGE:if(i=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+i)),this.readMessageRemaining-=i,r+=i,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(a,this.readMessageSize+5);this.readState=ao.NO_DATA,n.push(o);}break;default:throw new Error("Unexpected read state")}return n}};Wy.StreamDecoder=x0;});var Wee=y(Ky=>{Object.defineProperty(Ky,"__esModule",{value:true});Ky.Http2SubchannelCall=void 0;var Xo=U("http2"),N1e=U("os"),Ke=xe(),Jo=Jt(),b1e=I0(),P1e=et(),C1e=xe(),x1e="subchannel_call";function I1e(t){for(let[e,r]of Object.entries(N1e.constants.errno))if(r===t)return e;return "Unknown system error "+t}function M0(t){let e=`Received HTTP status code ${t}`,r;switch(t){case 400:r=Ke.Status.INTERNAL;break;case 401:r=Ke.Status.UNAUTHENTICATED;break;case 403:r=Ke.Status.PERMISSION_DENIED;break;case 404:r=Ke.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:r=Ke.Status.UNAVAILABLE;break;default:r=Ke.Status.UNKNOWN;}return {code:r,details:e,metadata:new Jo.Metadata}}var w0=class{constructor(e,r,i,n,a){var o;this.http2Stream=e,this.callEventTracker=r,this.listener=i,this.transport=n,this.callId=a,this.isReadFilterPending=false,this.isPushPending=false,this.canPush=false,this.readsClosed=false,this.statusOutput=false,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=false,this.connectionDropped=false;let s=(o=n.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:Ke.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new b1e.StreamDecoder(s),e.on("response",(c,l)=>{let u="";for(let d of Object.keys(c))u+="		"+d+": "+c[d]+`
`;if(this.trace(`Received server headers:
`+u),this.httpStatusCode=c[":status"],l&Xo.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(c);else {let d;try{d=Jo.Metadata.fromHttp2Headers(c);}catch(p){this.endCall({code:Ke.Status.UNKNOWN,details:p.message,metadata:new Jo.Metadata});return}this.listener.onReceiveMetadata(d);}}),e.on("trailers",c=>{this.handleTrailers(c);}),e.on("data",c=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+c.length);let l;try{l=this.decoder.write(c);}catch(u){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let d=M0(this.httpStatusCode);this.cancelWithStatus(d.code,d.details);}else this.cancelWithStatus(Ke.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of l)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u);}),e.on("end",()=>{this.readsClosed=true,this.maybeOutputStatus();}),e.on("close",()=>{this.serverEndedCall=true,process.nextTick(()=>{var c;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((c=this.finalStatus)===null||c===void 0?void 0:c.code)===Ke.Status.OK)return;let l,u="";switch(e.rstCode){case Xo.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let d=M0(this.httpStatusCode);l=d.code,u=d.details;}else l=Ke.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case Xo.constants.NGHTTP2_REFUSED_STREAM:l=Ke.Status.UNAVAILABLE,u="Stream refused by server";break;case Xo.constants.NGHTTP2_CANCEL:this.connectionDropped?(l=Ke.Status.UNAVAILABLE,u="Connection dropped"):(l=Ke.Status.CANCELLED,u="Call cancelled");break;case Xo.constants.NGHTTP2_ENHANCE_YOUR_CALM:l=Ke.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case Xo.constants.NGHTTP2_INADEQUATE_SECURITY:l=Ke.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case Xo.constants.NGHTTP2_INTERNAL_ERROR:l=Ke.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(l=Ke.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:l=Ke.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`;}this.endCall({code:l,details:u,metadata:new Jo.Metadata,rstCode:e.rstCode});});}),e.on("error",c=>{c.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+c.message+" code="+c.code+" errno="+I1e(c.errno)+" syscall="+c.syscall),this.internalError=c),this.callEventTracker.onStreamEnd(false);});}getDeadlineInfo(){return [`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=true,setImmediate(()=>{this.endCall({code:Ke.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Jo.Metadata});});}outputStatus(){this.statusOutput||(this.statusOutput=true,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus);}),this.http2Stream.resume());}trace(e){P1e.trace(C1e.LogVerbosity.DEBUG,x1e,"["+this.callId+"] "+e);}endCall(e){(this.finalStatus===null||this.finalStatus.code===Ke.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream();}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Ke.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus();}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=false,this.isPushPending=true,process.nextTick(()=>{this.isPushPending=false,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus());});}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e));}handleTrailers(e){this.serverEndedCall=true,this.callEventTracker.onStreamEnd(true);let r="";for(let o of Object.keys(e))r+="		"+o+": "+e[o]+`
`;this.trace(`Received server trailers:
`+r);let i;try{i=Jo.Metadata.fromHttp2Headers(e);}catch{i=new Jo.Metadata;}let n=i.getMap(),a;if(typeof n["grpc-status"]=="string"){let o=Number(n["grpc-status"]);this.trace("received status code "+o+" from server"),i.remove("grpc-status");let s="";if(typeof n["grpc-message"]=="string"){try{s=decodeURI(n["grpc-message"]);}catch{s=n["grpc-message"];}i.remove("grpc-message"),this.trace('received status details string "'+s+'" from server');}a={code:o,details:s,metadata:i};}else this.httpStatusCode?(a=M0(this.httpStatusCode),a.metadata=i):a={code:Ke.Status.UNKNOWN,details:"No status information received",metadata:i};this.endCall(a);}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else {let r;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Ke.Status.OK?r=Xo.constants.NGHTTP2_NO_ERROR:r=Xo.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r);}}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.endCall({code:e,details:r,metadata:new Jo.Metadata});}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Ke.Status.OK){this.readsClosed=true,this.maybeOutputStatus();return}if(this.canPush=true,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length);let i=n=>{process.nextTick(()=>{var a;let o=Ke.Status.UNAVAILABLE;n?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=Ke.Status.INTERNAL),n&&this.cancelWithStatus(o,`Write error: ${n.message}`),(a=e.callback)===null||a===void 0||a.call(e);});};this.trace("sending data chunk of length "+r.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(r,i);}catch(n){this.endCall({code:Ke.Status.UNAVAILABLE,details:`Write failed with error ${n.message}`,metadata:new Jo.Metadata});}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end();}};Ky.Http2SubchannelCall=w0;});var Kee=y(Jy=>{Object.defineProperty(Jy,"__esModule",{value:true});Jy.Http2SubchannelConnector=void 0;var al=U("http2"),M1e=U("tls"),Zy=ta(),cm=xe(),w1e=C0(),gd=et(),L1e=pi(),Xy=en(),L0=xr(),D1e=U("net"),U1e=Wee(),k1e=Uy(),D0="transport",$1e="transport_flowctrl",V1e=EM().version,{HTTP2_HEADER_AUTHORITY:B1e,HTTP2_HEADER_CONTENT_TYPE:z1e,HTTP2_HEADER_METHOD:F1e,HTTP2_HEADER_PATH:H1e,HTTP2_HEADER_TE:G1e,HTTP2_HEADER_USER_AGENT:j1e}=al.constants,q1e=2e4,Y1e=Buffer.from("too_many_pings","ascii"),U0=class{constructor(e,r,i,n){this.session=e,this.options=i,this.remoteName=n,this.keepaliveTimer=null,this.pendingSendKeepalivePing=false,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=false,this.channelzEnabled=true,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0, Xy.subchannelAddressToString)(r),i["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.streamTracker=new Zy.ChannelzCallTrackerStub):this.streamTracker=new Zy.ChannelzCallTracker,this.channelzRef=(0, Zy.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[i["grpc.primary_user_agent"],`grpc-node-js/${V1e}`,i["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in i?this.keepaliveTimeMs=i["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in i?this.keepaliveTimeoutMs=i["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=q1e,"grpc.keepalive_permit_without_calls"in i?this.keepaliveWithoutCalls=i["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=false,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect();}),e.once("goaway",(a,o,s)=>{let c=false;a===al.constants.NGHTTP2_ENHANCE_YOUR_CALM&&s&&s.equals(Y1e)&&(c=true),this.trace("connection closed by GOAWAY with code "+a+" and data "+s?.toString()),this.reportDisconnectToOwner(c);}),e.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect();}),e.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect();}),gd.isTracerEnabled(D0)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a));}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a));})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),e.socket instanceof M1e.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:e.socket.getPeerCertificate()}:this.authContext={};}getChannelzInfo(){var e,r,i;let n=this.session.socket,a=n.remoteAddress?(0, Xy.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,o=n.localAddress?(0, Xy.stringToSubchannelAddress)(n.localAddress,n.localPort):null,s;if(this.session.encrypted){let l=n,u=l.getCipher(),d=l.getCertificate(),p=l.getPeerCertificate();s={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:p&&"raw"in p?p.raw:null};}else s=null;return {remoteAddress:a,localAddress:o,security:s,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(r=this.session.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=this.session.state.remoteWindowSize)!==null&&i!==void 0?i:null}}trace(e){gd.trace(cm.LogVerbosity.DEBUG,D0,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}keepaliveTrace(e){gd.trace(cm.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}flowControlTrace(e){gd.trace(cm.LogVerbosity.DEBUG,$1e,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}internalsTrace(e){gd.trace(cm.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=true,this.disconnectListeners.forEach(r=>r(e)));}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(false);for(let e of this.activeCalls)e.onDisconnect();setImmediate(()=>{this.session.destroy();});}addDisconnectListener(e){this.disconnectListeners.push(e);}canSendPing(){return !this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,r;if(!this.canSendPing()){this.pendingSendKeepalivePing=true;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect();},this.keepaliveTimeoutMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e);let i="";try{this.session.ping((a,o,s)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer());})||(i="Ping returned false");}catch(n){i=(n instanceof Error?n.message:"")||"Unknown error";}i&&(this.keepaliveTrace("Ping send failed: "+i),this.handleDisconnect());}maybeStartKeepalivePingTimer(){var e,r;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=false,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing();},this.keepaliveTimeMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e)));}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null);}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref();}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer());}createCall(e,r,i,n,a){let o=e.toHttp2Headers();o[B1e]=r,o[j1e]=this.userAgent,o[z1e]="application/grpc",o[F1e]="POST",o[H1e]=i,o[G1e]="trailers";let s;try{s=this.session.request(o);}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let c,l;return this.channelzEnabled?(this.streamTracker.addCallStarted(),c={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=a.addMessageSent)===null||u===void 0||u.call(a);},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=a.addMessageReceived)===null||u===void 0||u.call(a);},onCallEnd:u=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,u),this.removeActiveCall(l);},onStreamEnd:u=>{var d;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=a.onStreamEnd)===null||d===void 0||d.call(a,u);}}):c={addMessageSent:()=>{var u;(u=a.addMessageSent)===null||u===void 0||u.call(a);},addMessageReceived:()=>{var u;(u=a.addMessageReceived)===null||u===void 0||u.call(a);},onCallEnd:u=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,u),this.removeActiveCall(l);},onStreamEnd:u=>{var d;(d=a.onStreamEnd)===null||d===void 0||d.call(a,u);}},l=new U1e.Http2SubchannelCall(s,c,n,this,(0, k1e.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0, Zy.unregisterChannelzRef)(this.channelzRef);}},k0=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=false;}trace(e){gd.trace(cm.LogVerbosity.DEBUG,D0,(0, L0.uriToString)(this.channelTarget)+" "+e);}createSession(e,r,i){return this.isShutdown?Promise.reject():e.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((n,a)=>{var o,s,c,l,u,d,p,f;let g=null,S=this.channelTarget;if("grpc.http_connect_target"in i){let ie=(0, L0.parseUri)(i["grpc.http_connect_target"]);ie&&(S=ie,g=(0, L0.uriToString)(ie));}let v=e.secure?"https":"http",N=(0, L1e.getDefaultAuthority)(S),C=()=>{var ie;(ie=this.session)===null||ie===void 0||ie.destroy(),this.session=null,setImmediate(()=>{Z||(Z=true,a(`${te.trim()} (${new Date().toISOString()})`));});},M=ie=>{var b;(b=this.session)===null||b===void 0||b.destroy(),te=ie.message,this.trace("connection failed with error "+te),Z||(Z=true,a(`${te} (${new Date().toISOString()})`));},A={createConnection:(ie,b)=>e.socket,settings:{initialWindowSize:(l=(o=i["grpc-node.flow_control_window"])!==null&&o!==void 0?o:(c=(s=al.getDefaultSettings)===null||s===void 0?void 0:s.call(al))===null||c===void 0?void 0:c.initialWindowSize)!==null&&l!==void 0?l:65535},maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER,maxSessionMemory:(u=i["grpc-node.max_session_memory"])!==null&&u!==void 0?u:Number.MAX_SAFE_INTEGER},k=al.connect(`${v}://${N}`,A),j=(f=(p=(d=al.getDefaultSettings)===null||d===void 0?void 0:d.call(al))===null||p===void 0?void 0:p.initialWindowSize)!==null&&f!==void 0?f:65535,G=i["grpc-node.flow_control_window"];this.session=k;let te="Failed to connect",Z=false;k.unref(),k.once("remoteSettings",()=>{var ie;if(G&&G>j)try{k.setLocalWindowSize(G);}catch{let de=G-((ie=k.state.localWindowSize)!==null&&ie!==void 0?ie:j);de>0&&k.incrementWindowSize(de);}k.removeAllListeners(),e.socket.removeListener("close",C),e.socket.removeListener("error",M),n(new U0(k,r,i,g)),this.session=null;}),k.once("close",C),k.once("error",M),e.socket.once("close",C),e.socket.once("error",M);})}tcpConnect(e,r){return (0, w1e.getProxiedConnection)(e,r).then(i=>i||new Promise((n,a)=>{let o=()=>{a(new Error("Socket closed"));},s=l=>{a(l);},c=D1e.connect(e,()=>{c.removeListener("close",o),c.removeListener("error",s),n(c);});c.once("close",o),c.once("error",s);}))}async connect(e,r,i){if(this.isShutdown)return Promise.reject();let n=null,a=null,o=(0, Xy.subchannelAddressToString)(e);try{return this.trace(o+" Waiting for secureConnector to be ready"),await r.waitForReady(),this.trace(o+" secureConnector is ready"),n=await this.tcpConnect(e,i),n.setNoDelay(),this.trace(o+" Established TCP connection"),a=await r.connect(n),this.trace(o+" Established secure connection"),this.createSession(a,e,i)}catch(s){throw n?.destroy(),a?.socket.destroy(),s}}shutdown(){var e;this.isShutdown=true,(e=this.session)===null||e===void 0||e.close(),this.session=null;}};Jy.Http2SubchannelConnector=k0;});var Zee=y(um=>{Object.defineProperty(um,"__esModule",{value:true});um.SubchannelPool=void 0;um.getSubchannelPool=t$e;var W1e=y7(),K1e=Vee(),Z1e=en(),X1e=xr(),J1e=Kee(),Q1e=1e4,lm=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null;}unrefUnusedSubchannels(){let e=true;for(let r in this.pool){let n=this.pool[r].filter(a=>!a.subchannel.unrefIfOneRef());n.length>0&&(e=false),this.pool[r]=n;}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null);}ensureCleanupTask(){var e,r;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels();},Q1e),(r=(e=this.cleanupTimer).unref)===null||r===void 0||r.call(e));}getOrCreateSubchannel(e,r,i,n){this.ensureCleanupTask();let a=(0, X1e.uriToString)(e);if(a in this.pool){let s=this.pool[a];for(let c of s)if((0, Z1e.subchannelAddressEqual)(r,c.subchannelAddress)&&(0, W1e.channelOptionsEqual)(i,c.channelArguments)&&n._equals(c.channelCredentials))return c.subchannel}let o=new K1e.Subchannel(e,r,i,n,new J1e.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:r,channelArguments:i,channelCredentials:n,subchannel:o}),o.ref(),o}};um.SubchannelPool=lm;var e$e=new lm;function t$e(t){return t?e$e:new lm}});var Qee=y(tv=>{Object.defineProperty(tv,"__esModule",{value:true});tv.LoadBalancingCall=void 0;var Xee=Ir(),Qy=xe(),Jee=pd(),ev=Jt(),dm=Fo(),r$e=xr(),n$e=et(),$0=rm(),i$e=U("http2"),o$e="load_balancing_call",V0=class{constructor(e,r,i,n,a,o,s){var c,l;this.channel=e,this.callConfig=r,this.methodName=i,this.host=n,this.credentials=a,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=false,this.pendingMessage=null,this.pendingHalfClose=false,this.ended=false,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),d="";u.length>=2&&(d=u[1]);let p=(l=(c=(0, r$e.splitHostPort)(this.host))===null||c===void 0?void 0:c.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${p}/${d}`,this.startTime=new Date;}getDeadlineInfo(){var e,r;let i=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&i.push("wait_for_ready"),i.push(`LB pick: ${(0, Jee.formatDateDifference)(this.startTime,this.childStartTime)}`)),i.push(...this.child.getDeadlineInfo()),i):(!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady&&i.push("wait_for_ready"),i.push("Waiting for LB pick"),i)}trace(e){n$e.trace(Qy.LogVerbosity.DEBUG,o$e,"["+this.callNumber+"] "+e);}outputStatus(e,r){var i,n;if(!this.ended){this.ended=true,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:r});(i=this.listener)===null||i===void 0||i.onReceiveStatus(a),(n=this.onCallEnded)===null||n===void 0||n.call(this,a.code,a.details,a.metadata);}}doPick(){var e,r;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let i=this.metadata.clone(),n=this.channel.doPick(i,this.callConfig.pickInformation),a=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;switch(this.trace("Pick result: "+dm.PickResultType[n.pickResultType]+" subchannel: "+a+" status: "+((e=n.status)===null||e===void 0?void 0:e.code)+" "+((r=n.status)===null||r===void 0?void 0:r.details)),n.pickResultType){case dm.PickResultType.COMPLETE:this.credentials.compose(n.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(l=>{var u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(i.merge(l),i.get("authorization").length>1&&this.outputStatus({code:Qy.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new ev.Metadata},"PROCESSED"),n.subchannel.getConnectivityState()!==Xee.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+Xee.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&i.set("grpc-timeout",(0, Jee.getDeadlineTimeoutString)(this.deadline));try{this.child=n.subchannel.getRealSubchannel().createCall(i,this.host,this.methodName,{onReceiveMetadata:d=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(d);},onReceiveMessage:d=>{this.trace("Received message"),this.listener.onReceiveMessage(d);},onReceiveStatus:d=>{this.trace("Received status"),d.rstCode===i$e.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(d,"REFUSED"):this.outputStatus(d,"PROCESSED");}}),this.childStartTime=new Date;}catch(d){this.trace("Failed to start call on picked subchannel "+a+" with error "+d.message),this.outputStatus({code:Qy.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+d.message,metadata:new ev.Metadata},"NOT_STARTED");return}(u=n.onCallStarted)===null||u===void 0||u.call(n),this.onCallEnded=n.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose();},l=>{let{code:u,details:d}=(0, $0.restrictControlPlaneStatusCode)(typeof l.code=="number"?l.code:Qy.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${l.message}`);this.outputStatus({code:u,details:d,metadata:new ev.Metadata},"PROCESSED");});break;case dm.PickResultType.DROP:let{code:s,details:c}=(0, $0.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:s,details:c,metadata:n.status.metadata},"DROP");});break;case dm.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else {let{code:l,details:u}=(0, $0.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:l,details:u,metadata:n.status.metadata},"PROCESSED");});}break;case dm.PickResultType.QUEUE:this.channel.queueCallForPick(this);}}cancelWithStatus(e,r){var i;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new ev.Metadata},"PROCESSED");}getPeer(){var e,r;return (r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.listener=r,this.metadata=e,this.doPick();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.child.sendMessageWithContext(e,r):this.pendingMessage={context:e,message:r};}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=true;}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=true;}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}};tv.LoadBalancingCall=V0;});var tte=y(rv=>{Object.defineProperty(rv,"__esModule",{value:true});rv.ResolvingCall=void 0;var s$e=VT(),cl=xe(),ll=pd(),ete=Jt(),a$e=et(),c$e=rm(),l$e="resolving_call",B0=class{constructor(e,r,i,n,a){this.channel=e,this.method=r,this.filterStackFactory=n,this.callNumber=a,this.child=null,this.readPending=false,this.pendingMessage=null,this.pendingHalfClose=false,this.ended=false,this.readFilterPending=false,this.writeFilterPending=false,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=s$e.CallCredentials.createEmpty(),this.deadline=i.deadline,this.host=i.host,i.parentCall&&(i.flags&cl.Propagate.CANCELLATION&&i.parentCall.on("cancelled",()=>{this.cancelWithStatus(cl.Status.CANCELLED,"Cancelled by parent call");}),i.flags&cl.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+i.parentCall.getDeadline()),this.deadline=(0, ll.minDeadline)(this.deadline,i.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer();}trace(e){a$e.trace(cl.LogVerbosity.DEBUG,l$e,"["+this.callNumber+"] "+e);}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0, ll.deadlineToString)(this.deadline));let e=(0, ll.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let r=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(cl.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let i=[],n=new Date;i.push(`Deadline exceeded after ${(0, ll.formatDateDifference)(this.deadlineStartTime,n)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&i.push(`name resolution: ${(0, ll.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&i.push(`metadata filters: ${(0, ll.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):i.push("waiting for metadata filters")):i.push("waiting for name resolution"),this.child&&i.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(cl.Status.DEADLINE_EXCEEDED,i.join(","));};e<=0?process.nextTick(r):this.deadlineTimer=setTimeout(r,e);}}outputStatus(e){if(!this.ended){this.ended=true,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let r=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+r.code+' details="'+r.details+'"'),this.statusWatchers.forEach(i=>i(r)),process.nextTick(()=>{var i;(i=this.listener)===null||i===void 0||i.onReceiveStatus(r);});}}sendMessageOnChild(e,r){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let i=this.child;this.writeFilterPending=true,this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags})).then(n=>{this.writeFilterPending=false,i.sendMessageWithContext(e,n.message),this.pendingHalfClose&&i.halfClose();},n=>{this.cancelWithStatus(n.code,n.details);});}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let r=e.config;if(r.status!==cl.Status.OK){let{code:i,details:n}=(0, c$e.restrictControlPlaneStatusCode)(r.status,"Failed to route call to method "+this.method);this.outputStatus({code:i,details:n,metadata:new ete.Metadata});return}if(r.methodConfig.timeout){let i=new Date;i.setSeconds(i.getSeconds()+r.methodConfig.timeout.seconds),i.setMilliseconds(i.getMilliseconds()+r.methodConfig.timeout.nanos/1e6),this.deadline=(0, ll.minDeadline)(this.deadline,i),this.runDeadlineTimer();}this.filterStackFactory.push(r.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(i=>{this.child=this.channel.createRetryingCall(r,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(i,{onReceiveMetadata:n=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(n));},onReceiveMessage:n=>{this.trace("Received message"),this.readFilterPending=true,this.filterStack.receiveMessage(n).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=false,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus);},a=>{this.cancelWithStatus(a.code,a.details);});},onReceiveStatus:n=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=n:this.outputStatus(n);}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose();},i=>{this.outputStatus(i);});}reportResolverError(e){var r;!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e);}cancelWithStatus(e,r){var i;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new ete.Metadata});}getPeer(){var e,r;return (r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.metadata=e.clone(),this.listener=r,this.getConfig();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.sendMessageOnChild(e,r):this.pendingMessage={context:e,message:r};}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=true;}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=true;}setCredentials(e){this.credentials=e;}addStatusWatcher(e){this.statusWatchers.push(e);}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}};rv.ResolvingCall=B0;});var rte=y(na=>{Object.defineProperty(na,"__esModule",{value:true});na.RetryingCall=na.MessageBufferTracker=na.RetryThrottler=void 0;var nv=xe(),u$e=pd(),d$e=Jt(),p$e=et(),f$e="retrying_call",F0=class{constructor(e,r,i){this.maxTokens=e,this.tokenRatio=r,i?this.tokens=i.tokens*(e/i.maxTokens):this.tokens=e;}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens);}addCallFailed(){this.tokens=Math.max(this.tokens-1,0);}canRetryCall(){return this.tokens>this.maxTokens/2}};na.RetryThrottler=F0;var H0=class{constructor(e,r){this.totalLimit=e,this.limitPerCall=r,this.totalAllocated=0,this.allocatedPerCall=new Map;}allocate(e,r){var i;let n=(i=this.allocatedPerCall.get(r))!==null&&i!==void 0?i:0;return this.limitPerCall-n<e||this.totalLimit-this.totalAllocated<e?false:(this.allocatedPerCall.set(r,n+e),this.totalAllocated+=e,true)}free(e,r){var i;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=(i=this.allocatedPerCall.get(r))!==null&&i!==void 0?i:0;if(n<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(r,n-e);}freeAll(e){var r;let i=(r=this.allocatedPerCall.get(e))!==null&&r!==void 0?r:0;if(this.totalAllocated<i)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${i} > total allocated ${this.totalAllocated}`);this.totalAllocated-=i,this.allocatedPerCall.delete(e);}};na.MessageBufferTracker=H0;var z0="grpc-previous-rpc-attempts",h$e=5,G0=class{constructor(e,r,i,n,a,o,s,c,l){var u;this.channel=e,this.callConfig=r,this.methodName=i,this.host=n,this.credentials=a,this.deadline=o,this.callNumber=s,this.bufferTracker=c,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=false,this.transparentRetryUsed=false,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let d=(u=e.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&u!==void 0?u:h$e;if(e.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(r.methodConfig.retryPolicy){this.state="RETRY";let p=r.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(p.initialBackoff.substring(0,p.initialBackoff.length-1)),this.maxAttempts=Math.min(p.maxAttempts,d);}else r.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(r.methodConfig.hedgingPolicy.maxAttempts,d)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date;}getDeadlineInfo(){if(this.underlyingCalls.length===0)return [];let e=[],r=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),r.startTime>this.startTime&&e.push(`time to current attempt start: ${(0, u$e.formatDateDifference)(this.startTime,r.startTime)}`),e.push(...r.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){p$e.trace(nv.LogVerbosity.DEBUG,f$e,"["+this.callNumber+"] "+e);}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata});});}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.reportStatus({code:e,details:r,metadata:new d$e.Metadata});for(let{call:i}of this.underlyingCalls)i.cancelWithStatus(e,r);}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var r;return (r=this.writeBuffer[e-this.writeBufferOffset])!==null&&r!==void 0?r:{entryType:"FREED",allocated:false}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?e=this.getNextBufferIndex():e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let r=this.writeBufferOffset;r<e;r++){let i=this.getBufferEntry(r);i.allocated&&this.bufferTracker.free(i.message.message.length,this.callNumber);}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e;}commitCall(e){var r,i;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",(i=(r=this.callConfig).onCommitted)===null||i===void 0||i.call(r),this.committedCallIndex=e;for(let n=0;n<this.underlyingCalls.length;n++)n!==e&&this.underlyingCalls[n].state!=="COMPLETED"&&(this.underlyingCalls[n].state="COMPLETED",this.underlyingCalls[n].call.cancelWithStatus(nv.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages();}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,r=-1;for(let[i,n]of this.underlyingCalls.entries())n.state==="ACTIVE"&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,r=i);r===-1?this.state="TRANSPARENT_ONLY":this.commitCall(r);}isStatusCodeInList(e,r){return e.some(i=>{var n;return i===r||i.toString().toLowerCase()===((n=nv.Status[r])===null||n===void 0?void 0:n.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var e;let r=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!r)return 0;let n=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,a=Number(r.maxBackoff.substring(0,r.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*r.backoffMultiplier,a),n}maybeRetryCall(e,r){if(this.state!=="RETRY"){r(false);return}if(this.attempts>=this.maxAttempts){r(false);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",r(false);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var n,a;if(this.state!=="RETRY"){r(false);return}!((a=(n=this.retryThrottler)===null||n===void 0?void 0:n.canRetryCall())!==null&&a!==void 0)||a?(r(true),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),r(false));},i);}countActiveCalls(){let e=0;for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,r,i){var n,a,o;switch(this.state){case "COMMITTED":case "NO_RETRY":case "TRANSPARENT_ONLY":this.commitCall(r),this.reportStatus(e);break;case "HEDGING":if(this.isStatusCodeInList((n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&n!==void 0?n:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let s;if(i===null)s=0;else if(i<0){this.state="TRANSPARENT_ONLY",this.commitCall(r),this.reportStatus(e);return}else s=i;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(r),this.reportStatus(e));},s);}else this.commitCall(r),this.reportStatus(e);break;case "RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(i,s=>{s||(this.commitCall(r),this.reportStatus(e));})):(this.commitCall(r),this.reportStatus(e));break}}getPushback(e){let r=e.get("grpc-retry-pushback-ms");if(r.length===0)return null;try{return parseInt(r[0])}catch{return  -1}}handleChildStatus(e,r){var i;if(this.underlyingCalls[r].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[r].call.getCallNumber()+"] in state "+this.underlyingCalls[r].state),this.underlyingCalls[r].state="COMPLETED",e.code===nv.Status.OK){(i=this.retryThrottler)===null||i===void 0||i.addCallSucceeded(),this.commitCall(r),this.reportStatus(e);return}if(this.state==="NO_RETRY"){this.commitCall(r),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let n=this.getPushback(e.metadata);switch(e.progress){case "NOT_STARTED":this.startNewAttempt();break;case "REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,r,n):(this.transparentRetryUsed=true,this.startNewAttempt());break;case "DROP":this.commitCall(r),this.reportStatus(e);break;case "PROCESSED":this.handleProcessedStatus(e,r,n);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()));}maybeStartHedgingTimer(){var e,r,i;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let a=(e=n.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt();},o*1e3),(i=(r=this.hedgingTimer).unref)===null||i===void 0||i.call(r);}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let r=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let i=this.attempts-1,n=this.initialMetadata.clone();i>0&&n.set(z0,`${i}`);let a=false;e.start(n,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(r),a=true,i>0&&o.set(z0,`${i}`),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMetadata(o);},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(r),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMessage(o);},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&i>0&&o.metadata.set(z0,`${i}`),this.handleChildStatus(o,r);}}),this.sendNextChildMessage(r),this.readStarted&&e.startRead();}start(e,r){this.trace("start called"),this.listener=r,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer();}handleChildWriteCompleted(e){var r,i;let n=this.underlyingCalls[e],a=n.nextMessageToSend;(i=(r=this.getBufferEntry(a)).callback)===null||i===void 0||i.call(r),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e);}sendNextChildMessage(e){let r=this.underlyingCalls[e];if(r.state!=="COMPLETED"&&this.getBufferEntry(r.nextMessageToSend)){let i=this.getBufferEntry(r.nextMessageToSend);switch(i.entryType){case "MESSAGE":r.call.sendMessageWithContext({callback:n=>{this.handleChildWriteCompleted(e);}},i.message.message);break;case "HALF_CLOSE":r.nextMessageToSend+=1,r.call.halfClose();break;}}}sendMessageWithContext(e,r){var i;this.trace("write() called with message of length "+r.length);let n={message:r,flags:e.flags},a=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(r.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(i=e.callback)===null||i===void 0||i.call(e);for(let[s,c]of this.underlyingCalls.entries())c.state==="ACTIVE"&&c.nextMessageToSend===a&&c.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(s);}},r);}else {if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let s=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,s.state==="ACTIVE"&&s.nextMessageToSend===a&&s.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(this.committedCallIndex);}},r);}}startRead(){this.trace("startRead called"),this.readStarted=true;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead();}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:false});for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&r.nextMessageToSend===e&&(r.nextMessageToSend+=1,r.call.halfClose());}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}};na.RetryingCall=G0;});var pm=y(iv=>{Object.defineProperty(iv,"__esModule",{value:true});iv.BaseSubchannelWrapper=void 0;var j0=class{constructor(e){this.child=e,this.healthy=true,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,e.addHealthStateWatcher(r=>{this.healthy&&this.updateHealthListeners();});}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy());}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e);}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e);}startConnecting(){this.child.startConnecting();}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e);}ref(){this.child.ref(),this.refcount+=1;}unref(){this.child.unref(),this.refcount-=1,this.refcount===0&&this.destroy();}destroy(){for(let e of this.dataWatchers)e.destroy();}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e);}removeHealthStateWatcher(e){this.healthListeners.delete(e);}addDataWatcher(e){e.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(e);}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners());}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}};iv.BaseSubchannelWrapper=j0;});var Q0=y(ul=>{Object.defineProperty(ul,"__esModule",{value:true});ul.InternalChannel=ul.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var m$e=Ku(),_$e=T7(),g$e=Zee(),W0=Fo(),E$e=Jt(),ia=xe(),S$e=Fy(),T$e=_0(),nte=pi(),ov=et(),y$e=C0(),sv=xr(),Hn=Ir(),fm=ta(),v$e=Qee(),A$e=pd(),R$e=tte(),q0=Uy(),O$e=rm(),Y0=rte(),N$e=pm(),b$e=2147483647,P$e=1e3,C$e=1800*1e3,av=new Map,x$e=1<<24,I$e=1<<20,K0=class extends N$e.BaseSubchannelWrapper{constructor(e,r){super(e),this.channel=r,this.refCount=0,this.subchannelStateListener=(i,n,a,o)=>{r.throttleKeepalive(o);};}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1;}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this));}},Z0=class{pick(e){return {pickResultType:W0.PickResultType.DROP,status:{code:ia.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new E$e.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}};ul.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";var X0=class{constructor(e){this.target=e,this.trace=new fm.ChannelzTrace,this.callTracker=new fm.ChannelzCallTracker,this.childrenTracker=new fm.ChannelzChildrenTracker,this.state=Hn.ConnectivityState.IDLE;}getChannelzInfoCallback(){return ()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}},J0=class{constructor(e,r,i){var n,a,o,s,c,l;if(this.credentials=r,this.options=i,this.connectivityState=Hn.ConnectivityState.IDLE,this.currentPicker=new W0.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=true,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof m$e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new X0(e);let u=(0, sv.parseUri)(e);if(u===null)throw new Error(`Could not parse target name "${e}"`);let d=(0, nte.mapUriDefaultScheme)(u);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=false),this.channelzRef=(0, fm.registerChannelzChannel)(e,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0, nte.getDefaultAuthority)(d);let p=(0, y$e.mapProxyName)(d,i);this.target=p.target,this.options=Object.assign({},this.options,p.extraOptions),this.subchannelPool=(0, g$e.getSubchannelPool)(((n=this.options["grpc.use_local_subchannel_pool"])!==null&&n!==void 0?n:0)===0),this.retryBufferTracker=new Y0.MessageBufferTracker((a=this.options["grpc.retry_buffer_size"])!==null&&a!==void 0?a:x$e,(o=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&o!==void 0?o:I$e),this.keepaliveTime=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:-1,this.idleTimeoutMs=Math.max((c=this.options["grpc.client_idle_timeout_ms"])!==null&&c!==void 0?c:C$e,P$e);let f={createSubchannel:(S,v)=>{let N={};for(let[A,k]of Object.entries(v))A.startsWith(ul.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(N[A]=k);let C=this.subchannelPool.getOrCreateSubchannel(this.target,S,N,this.credentials);return C.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",C.getChannelzRef()),new K0(C,this)},updateState:(S,v)=>{this.currentPicker=v;let N=this.pickQueue.slice();this.pickQueue=[],N.length>0&&this.callRefTimerUnref();for(let C of N)C.doPick();this.updateState(S);},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:S=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(S);},removeChannelzChild:S=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(S);}};this.resolvingLoadBalancer=new _$e.ResolvingLoadBalancer(this.target,f,this.options,(S,v)=>{var N;S.retryThrottling?av.set(this.getTarget(),new Y0.RetryThrottler(S.retryThrottling.maxTokens,S.retryThrottling.tokenRatio,av.get(this.getTarget()))):av.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(N=this.configSelector)===null||N===void 0||N.unref(),this.configSelector=v,this.currentResolutionError=null,process.nextTick(()=>{let C=this.configSelectionQueue;this.configSelectionQueue=[],C.length>0&&this.callRefTimerUnref();for(let M of C)M.getConfig();});},S=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+S.code+' and details "'+S.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0, O$e.restrictControlPlaneStatusCode)(S.code,S.details)),{metadata:S.metadata}));let v=this.configSelectionQueue;this.configSelectionQueue=[],v.length>0&&this.callRefTimerUnref();for(let N of v)N.reportResolverError(S);}),this.filterStackFactory=new S$e.FilterStackFactory([new T$e.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(i,void 0,2));let g=new Error;(0, ov.isTracerEnabled)("channel_stacktrace")&&(0, ov.trace)(ia.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((l=g.stack)===null||l===void 0?void 0:l.substring(g.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date;}trace(e,r){(0, ov.trace)(r??ia.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0, sv.uriToString)(this.target)+" "+e);}callRefTimerRef(){var e,r,i,n;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},b$e)),!((r=(e=this.callRefTimer).hasRef)===null||r===void 0)&&r.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(i=this.callRefTimer).ref)===null||n===void 0||n.call(i));}callRefTimerUnref(){var e,r,i;(!(!((e=this.callRefTimer)===null||e===void 0)&&e.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer)===null||r===void 0?void 0:r.unref)===null||i===void 0||i.call(r));}removeConnectivityStateWatcher(e){let r=this.connectivityStateWatchers.findIndex(i=>i===e);r>=0&&this.connectivityStateWatchers.splice(r,1);}updateState(e){(0, ov.trace)(ia.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0, sv.uriToString)(this.target)+" "+Hn.ConnectivityState[this.connectivityState]+" -> "+Hn.ConnectivityState[e]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+Hn.ConnectivityState[e]),this.connectivityState=e,this.channelzInfoTracker.state=e;let r=this.connectivityStateWatchers.slice();for(let i of r)e!==i.currentState&&(i.timer&&clearTimeout(i.timer),this.removeConnectivityStateWatcher(i),i.callback());e!==Hn.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null);}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let r of this.wrappedSubchannels)r.throttleKeepalive(e);}}addWrappedSubchannel(e){this.wrappedSubchannels.add(e);}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e);}doPick(e,r){return this.currentPicker.pick({metadata:e,extraPickInfo:r})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef();}getConfig(e,r){return this.connectivityState!==Hn.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(e,r,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef();}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Hn.ConnectivityState.IDLE),this.currentPicker=new W0.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null);}startIdleTimeout(e){var r,i;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a);},e),(i=(r=this.idleTimer).unref)===null||i===void 0||i.call(r);}maybeStartIdleTimer(){this.connectivityState!==Hn.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs);}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1;}onCallEnd(e){this.channelzEnabled&&(e.code===ia.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer();}createLoadBalancingCall(e,r,i,n,a){let o=(0, q0.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+r+'"'),new v$e.LoadBalancingCall(this,e,r,i,n,a,o)}createRetryingCall(e,r,i,n,a){let o=(0, q0.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+r+'"'),new Y0.RetryingCall(this,e,r,i,n,a,o,this.retryBufferTracker,av.get(this.getTarget()))}createResolvingCall(e,r,i,n,a){let o=(0, q0.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0, A$e.deadlineToString)(r));let s={deadline:r,flags:a??ia.Propagate.DEFAULTS,host:i??this.defaultAuthority,parentCall:n},c=new R$e.ResolvingCall(this,e,s,this.filterStackFactory.clone(),o);return this.onCallStart(),c.addStatusWatcher(l=>{this.onCallEnd(l);}),c}close(){var e;this.resolvingLoadBalancer.destroy(),this.updateState(Hn.ConnectivityState.SHUTDOWN),this.currentPicker=new Z0;for(let r of this.configSelectionQueue)r.cancelWithStatus(ia.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let r of this.pickQueue)r.cancelWithStatus(ia.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0, fm.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(e=this.configSelector)===null||e===void 0||e.unref(),this.configSelector=null;}getTarget(){return (0, sv.uriToString)(this.target)}getConnectivityState(e){let r=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),r}watchConnectivityState(e,r,i){if(this.connectivityState===Hn.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(r!==1/0){let o=r instanceof Date?r:new Date(r),s=new Date;if(r===-1/0||o<=s){process.nextTick(i,new Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(a),i(new Error("Deadline passed without connectivity state change"));},o.getTime()-s.getTime());}let a={currentState:e,callback:i,timer:n};this.connectivityStateWatchers.push(a);}getChannelzRef(){return this.channelzRef}createCall(e,r,i,n,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Hn.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,r,i,n,a)}getOptions(){return this.options}};ul.InternalChannel=J0;});var cw=y(cv=>{Object.defineProperty(cv,"__esModule",{value:true});cv.ChannelImplementation=void 0;var M$e=Ku(),w$e=Q0(),eL=class{constructor(e,r,i){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof M$e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new w$e.InternalChannel(e,r,i);}close(){this.internalChannel.close();}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,r,i){this.internalChannel.watchConnectivityState(e,r,i);}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,r,i,n,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,r,i,n,a)}};cv.ChannelImplementation=eL;});var ote=y(Ti=>{Object.defineProperty(Ti,"__esModule",{value:true});Ti.ServerDuplexStreamImpl=Ti.ServerWritableStreamImpl=Ti.ServerReadableStreamImpl=Ti.ServerUnaryCallImpl=void 0;Ti.serverErrorToStatus=aL;var L$e=U("events"),oL=U("stream"),sL=xe(),ite=Jt();function aL(t,e){var r;let i={code:sL.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:(r=e??t.metadata)!==null&&r!==void 0?r:null};return "code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(i.code=t.code,"details"in t&&typeof t.details=="string"&&(i.details=t.details)),i}var tL=class extends L$e.EventEmitter{constructor(e,r,i,n){super(),this.path=e,this.call=r,this.metadata=i,this.request=n,this.cancelled=false;}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}};Ti.ServerUnaryCallImpl=tL;var rL=class extends oL.Readable{constructor(e,r,i){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.cancelled=false;}_read(e){this.call.startRead();}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}};Ti.ServerReadableStreamImpl=rL;var nL=class extends oL.Writable{constructor(e,r,i,n){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.request=n,this.pendingStatus={code:sL.Status.OK,details:"OK"},this.cancelled=false,this.trailingMetadata=new ite.Metadata,this.on("error",a=>{this.pendingStatus=aL(a),this.end();});}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(e,r,i){this.call.sendMessage(e,i);}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}));}end(e){return e&&(this.trailingMetadata=e),super.end()}};Ti.ServerWritableStreamImpl=nL;var iL=class extends oL.Duplex{constructor(e,r,i){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.pendingStatus={code:sL.Status.OK,details:"OK"},this.cancelled=false,this.trailingMetadata=new ite.Metadata,this.on("error",n=>{this.pendingStatus=aL(n),this.end();});}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(e){this.call.startRead();}_write(e,r,i){this.call.sendMessage(e,i);}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}));}end(e){return e&&(this.trailingMetadata=e),super.end()}};Ti.ServerDuplexStreamImpl=iL;});var lv=y(Ed=>{Object.defineProperty(Ed,"__esModule",{value:true});Ed.ServerCredentials=void 0;Ed.createCertificateProviderServerCredentials=D$e;Ed.createServerCredentialsWithInterceptors=U$e;var cL=xM(),dl=class{constructor(e,r){this.serverConstructorOptions=e,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=r??null;}_addWatcher(e){this.watchers.add(e);}_removeWatcher(e){this.watchers.delete(e);}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(e){this.latestContextOptions=e;for(let r of this.watchers)r(this.latestContextOptions);}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return []}static createInsecure(){return new lL}static createSsl(e,r,i=false){var n;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if(typeof i!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],o=[];for(let s=0;s<r.length;s++){let c=r[s];if(c===null||typeof c!="object")throw new TypeError(`keyCertPair[${s}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw new TypeError(`keyCertPair[${s}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw new TypeError(`keyCertPair[${s}].cert_chain must be a Buffer`);a.push(c.cert_chain),o.push(c.private_key);}return new uL({requestCert:i,ciphers:cL.CIPHER_SUITES},{ca:(n=e??(0, cL.getDefaultRootsData)())!==null&&n!==void 0?n:void 0,cert:a,key:o})}};Ed.ServerCredentials=dl;var lL=class t extends dl{constructor(){super(null);}_getSettings(){return null}_equals(e){return e instanceof t}},uL=class t extends dl{constructor(e,r){super(e,r),this.options=Object.assign(Object.assign({},e),r);}_equals(e){if(this===e)return  true;if(!(e instanceof t))return  false;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return  false}else if(this.options.ca!==e.options.ca)return  false;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return  false;for(let r=0;r<this.options.cert.length;r++){let i=this.options.cert[r],n=e.options.cert[r];if(Buffer.isBuffer(i)&&Buffer.isBuffer(n)){if(!i.equals(n))return  false}else if(i!==n)return  false}}else if(this.options.cert!==e.options.cert)return  false;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return  false;for(let r=0;r<this.options.key.length;r++){let i=this.options.key[r],n=e.options.key[r];if(Buffer.isBuffer(i)&&Buffer.isBuffer(n)){if(!i.equals(n))return  false}else if(i!==n)return  false}}else if(this.options.key!==e.options.key)return  false;return this.options.requestCert===e.options.requestCert}},dL=class t extends dl{constructor(e,r,i){super({requestCert:r!==null,rejectUnauthorized:i,ciphers:cL.CIPHER_SUITES}),this.identityCertificateProvider=e,this.caCertificateProvider=r,this.requireClientCertificate=i,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this);}_addWatcher(e){var r;this.getWatcherCount()===0&&((r=this.caCertificateProvider)===null||r===void 0||r.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(e);}_removeWatcher(e){var r;super._removeWatcher(e),this.getWatcherCount()===0&&((r=this.caCertificateProvider)===null||r===void 0||r.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener));}_equals(e){return this===e?true:e instanceof t?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&this.requireClientCertificate===e.requireClientCertificate:false}calculateSecureContextOptions(){var e;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(e=this.latestCaUpdate)===null||e===void 0?void 0:e.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let e=this.calculateSecureContextOptions();this.updateSecureContextOptions(e);}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.finalizeUpdate();}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.finalizeUpdate();}};function D$e(t,e,r){return new dL(t,e,r)}var pL=class t extends dl{constructor(e,r){super({}),this.childCredentials=e,this.interceptors=r;}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof t)||!this.childCredentials._equals(e.childCredentials)||this.interceptors.length!==e.interceptors.length)return  false;for(let r=0;r<this.interceptors.length;r++)if(this.interceptors[r]!==e.interceptors[r])return  false;return  true}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e);}_removeWatcher(e){this.childCredentials._removeWatcher(e);}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}};function U$e(t,e){return new pL(t,e)}});var hm=y(Qo=>{Object.defineProperty(Qo,"__esModule",{value:true});Qo.durationMessageToDuration=k$e;Qo.msToDuration=$$e;Qo.durationToMs=V$e;Qo.isDuration=B$e;Qo.isDurationMessage=z$e;Qo.parseDuration=H$e;Qo.durationToString=G$e;function k$e(t){return {seconds:Number.parseInt(t.seconds),nanos:t.nanos}}function $$e(t){return {seconds:t/1e3|0,nanos:t%1e3*1e6|0}}function V$e(t){return t.seconds*1e3+t.nanos/1e6|0}function B$e(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}function z$e(t){return typeof t.seconds=="string"&&typeof t.nanos=="number"}var F$e=/^(\d+)(?:\.(\d+))?s$/;function H$e(t){let e=t.match(F$e);return e?{seconds:Number.parseInt(e[1],10),nanos:e[2]?Number.parseInt(e[2].padEnd(9,"0"),10):0}:null}function G$e(t){if(t.nanos===0)return `${t.seconds}s`;let e;return t.nanos%1e6===0?e=1e6:t.nanos%1e3===0?e=1e3:e=1,`${t.seconds}.${t.nanos/e}s`}});var dv=y(An=>{Object.defineProperty(An,"__esModule",{value:true});An.OrcaOobMetricsSubchannelWrapper=An.GRPC_METRICS_HEADER=An.ServerMetricRecorder=An.PerRequestMetricRecorder=void 0;An.createOrcaClient=lte;An.createMetricsReader=X$e;var j$e=oy(),fL=hm(),q$e=Ku(),Y$e=pm(),ste=xe(),W$e=Zu(),K$e=Ir();function uv(){let t=e0().loadSync,e=t("xds/service/orca/v3/orca.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return (0, j$e.loadPackageDefinition)(e)}var hL=class{constructor(){this.message={};}recordRequestCostMetric(e,r){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[e]=r;}recordUtilizationMetric(e,r){this.message.utilization||(this.message.utilization={}),this.message.utilization[e]=r;}recordNamedMetric(e,r){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[e]=r;}recordCPUUtilizationMetric(e){this.message.cpu_utilization=e;}recordMemoryUtilizationMetric(e){this.message.mem_utilization=e;}recordApplicationUtilizationMetric(e){this.message.application_utilization=e;}recordQpsMetric(e){this.message.rps_fractional=e;}recordEpsMetric(e){this.message.eps=e;}serialize(){return uv().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}};An.PerRequestMetricRecorder=hL;var Z$e=3e4,mL=class{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:e=>{let r=e.request.report_interval?(0, fL.durationToMs)((0, fL.durationMessageToDuration)(e.request.report_interval)):Z$e,i=setInterval(()=>{e.write(this.message);},r);e.on("cancelled",()=>{clearInterval(i);});}};}putUtilizationMetric(e,r){this.message.utilization||(this.message.utilization={}),this.message.utilization[e]=r;}setAllUtilizationMetrics(e){this.message.utilization=Object.assign({},e);}deleteUtilizationMetric(e){var r;(r=this.message.utilization)===null||r===void 0||delete r[e];}setCpuUtilizationMetric(e){this.message.cpu_utilization=e;}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization;}setApplicationUtilizationMetric(e){this.message.application_utilization=e;}deleteApplicationUtilizationMetric(){delete this.message.application_utilization;}setQpsMetric(e){this.message.rps_fractional=e;}deleteQpsMetric(){delete this.message.rps_fractional;}setEpsMetric(e){this.message.eps=e;}deleteEpsMetric(){delete this.message.eps;}addToServer(e){let r=uv().xds.service.orca.v3.OpenRcaService.service;e.addService(r,this.serviceImplementation);}};An.ServerMetricRecorder=mL;function lte(t){let e=uv().xds.service.orca.v3.OpenRcaService;return new e("unused",q$e.ChannelCredentials.createInsecure(),{channelOverride:t})}An.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";var cte="grpc_orca_load_report";function X$e(t,e){return (r,i,n)=>{let a=n.getOpaque(cte);if(a)t(a);else {let o=n.get(An.GRPC_METRICS_HEADER);o.length>0&&(a=uv().xds.data.orca.v3.OrcaLoadReport.deserialize(o[0]),t(a),n.setOpaque(cte,a));}e&&e(r,i,n);}}var ute="orca_oob_metrics",_L=class{constructor(e,r){this.metricsListener=e,this.intervalMs=r,this.dataProducer=null;}setSubchannel(e){let r=e.getOrCreateDataProducer(ute,J$e);this.dataProducer=r,r.addDataWatcher(this);}destroy(){var e;(e=this.dataProducer)===null||e===void 0||e.removeDataWatcher(this);}getInterval(){return this.intervalMs}onMetricsUpdate(e){this.metricsListener(e);}},gL=class{constructor(e){this.subchannel=e,this.dataWatchers=new Set,this.orcaSupported=true,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new W$e.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();let r=e.getChannel();this.client=lte(r),e.addConnectivityStateListener(this.subchannelStateListener);}addDataWatcher(e){this.dataWatchers.add(e),this.updateMetricsSubscription();}removeDataWatcher(e){var r;this.dataWatchers.delete(e),this.dataWatchers.size===0?(this.subchannel.removeDataProducer(ute),(r=this.metricsCall)===null||r===void 0||r.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription();}updateMetricsSubscription(){var e;if(this.dataWatchers.size===0||!this.orcaSupported||this.subchannel.getConnectivityState()!==K$e.ConnectivityState.READY)return;let r=Math.min(...Array.from(this.dataWatchers).map(i=>i.getInterval()));if(!this.metricsCall||r!==this.currentInterval){(e=this.metricsCall)===null||e===void 0||e.cancel(),this.currentInterval=r;let i=this.client.streamCoreMetrics({report_interval:(0, fL.msToDuration)(r)});this.metricsCall=i,i.on("data",n=>{this.dataWatchers.forEach(a=>{a.onMetricsUpdate(n);});}),i.on("error",n=>{if(this.metricsCall=null,n.code===ste.Status.UNIMPLEMENTED){this.orcaSupported=false;return}n.code!==ste.Status.CANCELLED&&this.backoffTimer.runOnce();});}}},EL=class extends Y$e.BaseSubchannelWrapper{constructor(e,r,i){super(e),this.addDataWatcher(new _L(r,i));}getWrappedSubchannel(){return this.child}};An.OrcaOobMetricsSubchannelWrapper=EL;function J$e(t){return new gL(t)}});var OL=y(Gn=>{Object.defineProperty(Gn,"__esModule",{value:true});Gn.BaseServerInterceptingCall=Gn.ServerInterceptingCall=Gn.ResponderBuilder=Gn.ServerListenerBuilder=void 0;Gn.isInterceptingServerListener=tVe;Gn.getServerInterceptingCall=sVe;var hv=Jt(),tn=xe(),Sd=U("http2"),dte=DT(),pte=U("zlib"),Q$e=I0(),gte=et(),eVe=U("tls"),fte=dv(),Ete="server_call";function pl(t){gte.trace(tn.LogVerbosity.DEBUG,Ete,t);}var TL=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0;}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return {onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};Gn.ServerListenerBuilder=TL;function tVe(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}var yL=class{constructor(e,r){this.listener=e,this.nextListener=r,this.cancelled=false,this.processingMetadata=false,this.hasPendingMessage=false,this.pendingMessage=null,this.processingMessage=false,this.hasPendingHalfClose=false;}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=false);}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=false);}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=true,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=false,!this.cancelled&&(this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingHalfClose());}));}onReceiveMessage(e){this.cancelled||(this.processingMessage=true,this.listener.onReceiveMessage(e,r=>{this.processingMessage=false,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=true):(this.nextListener.onReceiveMessage(r),this.processPendingHalfClose()));}));}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=true:this.nextListener.onReceiveHalfClose());});}onCancel(){this.cancelled=true,this.listener.onCancel(),this.nextListener.onCancel();}},vL=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0;}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return {start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};Gn.ResponderBuilder=vL;var pv={onReceiveMetadata:(t,e)=>{e(t);},onReceiveMessage:(t,e)=>{e(t);},onReceiveHalfClose:t=>{t();},onCancel:()=>{}},fv={start:t=>{t();},sendMetadata:(t,e)=>{e(t);},sendMessage:(t,e)=>{e(t);},sendStatus:(t,e)=>{e(t);}},AL=class{constructor(e,r){var i,n,a,o;this.nextCall=e,this.processingMetadata=false,this.sentMetadata=false,this.processingMessage=false,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(i=r?.start)!==null&&i!==void 0?i:fv.start,sendMetadata:(n=r?.sendMetadata)!==null&&n!==void 0?n:fv.sendMetadata,sendMessage:(a=r?.sendMessage)!==null&&a!==void 0?a:fv.sendMessage,sendStatus:(o=r?.sendStatus)!==null&&o!==void 0?o:fv.sendStatus};}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null);}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null);}start(e){this.responder.start(r=>{var i,n,a,o;let s={onReceiveMetadata:(i=r?.onReceiveMetadata)!==null&&i!==void 0?i:pv.onReceiveMetadata,onReceiveMessage:(n=r?.onReceiveMessage)!==null&&n!==void 0?n:pv.onReceiveMessage,onReceiveHalfClose:(a=r?.onReceiveHalfClose)!==null&&a!==void 0?a:pv.onReceiveHalfClose,onCancel:(o=r?.onCancel)!==null&&o!==void 0?o:pv.onCancel},c=new yL(s,e);this.nextCall.start(c);});}sendMetadata(e){this.processingMetadata=true,this.sentMetadata=true,this.responder.sendMetadata(e,r=>{this.processingMetadata=false,this.nextCall.sendMetadata(r),this.processPendingMessage(),this.processPendingStatus();});}sendMessage(e,r){this.processingMessage=true,this.sentMetadata||this.sendMetadata(new hv.Metadata),this.responder.sendMessage(e,i=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessage=i,this.pendingMessageCallback=r):this.nextCall.sendMessage(i,r);});}sendStatus(e){this.responder.sendStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextCall.sendStatus(r);});}startRead(){this.nextCall.startRead();}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}};Gn.ServerInterceptingCall=AL;var Ste="grpc-accept-encoding",RL="grpc-encoding",hte="grpc-message",mte="grpc-status",SL="grpc-timeout",rVe=/(\d{1,8})\s*([HMSmun])/,nVe={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},iVe={[Ste]:"identity,deflate,gzip",[RL]:"identity"},_te={[Sd.constants.HTTP2_HEADER_STATUS]:Sd.constants.HTTP_STATUS_OK,[Sd.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},oVe={waitForTrailers:true},mv=class{constructor(e,r,i,n,a){var o,s;this.stream=e,this.callEventTracker=i,this.handler=n,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=tn.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=tn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=false,this.metadataSent=false,this.wantTrailers=false,this.cancelNotified=false,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=false,this.receivedHalfClose=false,this.streamEnded=false,this.metricsRecorder=new fte.PerRequestMetricRecorder,this.stream.once("error",p=>{}),this.stream.once("close",()=>{var p;pl("Request to method "+((p=this.handler)===null||p===void 0?void 0:p.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(false),this.callEventTracker.onCallEnd({code:tn.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel();}),this.stream.on("data",p=>{this.handleDataFrame(p);}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent();}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=(o=r[":authority"])!==null&&o!==void 0?o:r.host,this.decoder=new Q$e.StreamDecoder(this.maxReceiveMessageSize);let c=hv.Metadata.fromHttp2Headers(r);gte.isTracerEnabled(Ete)&&pl("Request to "+this.handler.path+" received headers "+JSON.stringify(c.toJSON()));let l=c.get(SL);l.length>0&&this.handleTimeoutHeader(l[0]);let u=c.get(RL);u.length>0&&(this.incomingEncoding=u[0]),c.remove(SL),c.remove(RL),c.remove(Ste),c.remove(Sd.constants.HTTP2_HEADER_ACCEPT_ENCODING),c.remove(Sd.constants.HTTP2_HEADER_TE),c.remove(Sd.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=c;let d=(s=e.session)===null||s===void 0?void 0:s.socket;this.connectionInfo={localAddress:d?.localAddress,localPort:d?.localPort,remoteAddress:d?.remoteAddress,remotePort:d?.remotePort},this.shouldSendMetrics=!!a["grpc.server_call_metric_recording"];}handleTimeoutHeader(e){let r=e.toString().match(rVe);if(r===null){let a={code:tn.Status.INTERNAL,details:`Invalid ${SL} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a);});return}let i=+r[1]*nVe[r[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+i),this.deadlineTimer=setTimeout(()=>{let a={code:tn.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a);},i);}checkCancelled(){return !this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=true),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=true,this.cancelled=true,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel();}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume());}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new hv.Metadata);}serializeMessage(e){let r=this.handler.serialize(e),i=r.byteLength,n=Buffer.allocUnsafe(i+5);return n.writeUInt8(0,0),n.writeUInt32BE(i,1),r.copy(n,5),n}decompressMessage(e,r){let i=e.subarray(5);if(r==="identity")return i;if(r==="deflate"||r==="gzip"){let n;return r==="deflate"?n=pte.createInflate():n=pte.createGunzip(),new Promise((a,o)=>{let s=0,c=[];n.on("data",l=>{c.push(l),s+=l.byteLength,this.maxReceiveMessageSize!==-1&&s>this.maxReceiveMessageSize&&(n.destroy(),o({code:tn.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}));}),n.on("end",()=>{a(Buffer.concat(c));}),n.write(i),n.end();})}else return Promise.reject({code:tn.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${r}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let i=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",n;try{n=await this.decompressMessage(e.compressedMessage,i);}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(n);}catch(a){this.sendStatus({code:tn.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage();}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=false;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose();}}handleDataFrame(e){var r;if(this.checkCancelled())return;pl("Request to "+this.handler.path+" received data frame of size "+e.length);let i;try{i=this.decoder.write(e);}catch(n){this.sendStatus({code:tn.Status.RESOURCE_EXHAUSTED,details:n.message});return}for(let n of i){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:n,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(r=this.callEventTracker)===null||r===void 0||r.addMessageReceived();}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=true,this.maybePushNextMessage();}start(e){pl("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata));}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=true;let r=e?e.toHttp2Headers():null,i=Object.assign(Object.assign(Object.assign({},_te),iVe),r);this.stream.respond(i,oVe);}sendMessage(e,r){if(this.checkCancelled())return;let i;try{i=this.serializeMessage(e);}catch(n){this.sendStatus({code:tn.Status.INTERNAL,details:`Error serializing response: ${(0, dte.getErrorMessage)(n)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&i.length-5>this.maxSendMessageSize){this.sendStatus({code:tn.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${i.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),pl("Request to "+this.handler.path+" sent data frame of size "+i.length),this.stream.write(i,n=>{var a;if(n){this.sendStatus({code:tn.Status.INTERNAL,details:`Error writing message: ${(0, dte.getErrorMessage)(n)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),r();});}sendStatus(e){var r,i,n;if(this.checkCancelled())return;pl("Request to method "+((r=this.handler)===null||r===void 0?void 0:r.path)+" ended with status code: "+tn.Status[e.code]+" details: "+e.details);let a=(n=(i=e.metadata)===null||i===void 0?void 0:i.clone())!==null&&n!==void 0?n:new hv.Metadata;if(this.shouldSendMetrics&&a.set(fte.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=true,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(true),this.callEventTracker.onCallEnd(e));let o=Object.assign({[mte]:e.code,[hte]:encodeURI(e.details)},a.toHttp2Headers());this.stream.sendTrailers(o),this.notifyOnCancel();}),this.stream.end());else {this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(true),this.callEventTracker.onCallEnd(e));let o=Object.assign(Object.assign({[mte]:e.code,[hte]:encodeURI(e.details)},_te),a.toHttp2Headers());this.stream.respond(o,{endStream:true}),this.notifyOnCancel();}}startRead(){pl("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=true,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage());}getPeer(){var e;let r=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return r?.remoteAddress?r.remotePort?`${r.remoteAddress}:${r.remotePort}`:r.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var e;if(((e=this.stream.session)===null||e===void 0?void 0:e.socket)instanceof eVe.TLSSocket){let r=this.stream.session.socket.getPeerCertificate();return {transportSecurityType:"ssl",sslPeerCertificate:r.raw?r:void 0}}else return {}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}};Gn.BaseServerInterceptingCall=mv;function sVe(t,e,r,i,n,a){let o={path:n.path,requestStream:n.type==="clientStream"||n.type==="bidi",responseStream:n.type==="serverStream"||n.type==="bidi",requestDeserialize:n.deserialize,responseSerialize:n.serialize},s=new mv(e,r,i,n,a);return t.reduce((c,l)=>l(o,c),s)}});var Nte=y(sa=>{var aVe=sa&&sa.__runInitializers||function(t,e,r){for(var i=arguments.length>2,n=0;n<e.length;n++)r=i?e[n].call(t,r):e[n].call(t);return i?r:void 0},cVe=sa&&sa.__esDecorate||function(t,e,r,i,n,a){function o(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var s=i.kind,c=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?i.static?t:t.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=false,f=r.length-1;f>=0;f--){var g={};for(var S in i)g[S]=S==="access"?{}:i[S];for(var S in i.access)g.access[S]=i.access[S];g.addInitializer=function(N){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(N||null));};var v=(0, r[f])(s==="accessor"?{get:u.get,set:u.set}:u[c],g);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&n.unshift(d);}else (d=o(v))&&(s==="field"?n.unshift(d):u[c]=d);}l&&Object.defineProperty(l,i.name,u),p=true;};Object.defineProperty(sa,"__esModule",{value:true});sa.Server=void 0;var rn=U("http2"),lVe=U("util"),It=xe(),vd=ote(),NL=lv(),Tte=pi(),yd=et(),oa=en(),yi=xr(),Ht=ta(),yte=OL(),Td=2147483647,bL=2147483647,uVe=2e4,vte=2147483647,{HTTP2_HEADER_PATH:Ate}=rn.constants,dVe="server",Rte=Buffer.from("max_age");function Ote(t){yd.trace(It.LogVerbosity.DEBUG,"server_call",t);}function pVe(){}function fVe(t){return function(e,r){return lVe.deprecate(e,t)}}function PL(t){return {code:It.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function hVe(t,e){let r=PL(e);switch(t){case "unary":return (i,n)=>{n(r,null);};case "clientStream":return (i,n)=>{n(r,null);};case "serverStream":return i=>{i.emit("error",r);};case "bidi":return i=>{i.emit("error",r);};default:throw new Error(`Invalid handlerType ${t}`)}}var mVe=(()=>{var t;let e=[],r;return t=class{constructor(n){var a,o,s,c,l,u;this.boundPorts=(aVe(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=false,this.shutdown=false,this.serverAddressString="null",this.channelzEnabled=true,this.options=n??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.channelzTrace=new Ht.ChannelzTraceStub,this.callTracker=new Ht.ChannelzCallTrackerStub,this.listenerChildrenTracker=new Ht.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new Ht.ChannelzChildrenTrackerStub):(this.channelzTrace=new Ht.ChannelzTrace,this.callTracker=new Ht.ChannelzCallTracker,this.listenerChildrenTracker=new Ht.ChannelzChildrenTracker,this.sessionChildrenTracker=new Ht.ChannelzChildrenTracker),this.channelzRef=(0, Ht.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:Td,this.maxConnectionAgeGraceMs=(o=this.options["grpc.max_connection_age_grace_ms"])!==null&&o!==void 0?o:Td,this.keepaliveTimeMs=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:bL,this.keepaliveTimeoutMs=(c=this.options["grpc.keepalive_timeout_ms"])!==null&&c!==void 0?c:uVe,this.sessionIdleTimeout=(l=this.options["grpc.max_connection_idle_ms"])!==null&&l!==void 0?l:vte,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed");}getChannelzInfo(){return {trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(n){var a,o,s;let c=this.sessions.get(n),l=n.socket,u=l.remoteAddress?(0, oa.stringToSubchannelAddress)(l.remoteAddress,l.remotePort):null,d=l.localAddress?(0, oa.stringToSubchannelAddress)(l.localAddress,l.localPort):null,p;if(n.encrypted){let g=l,S=g.getCipher(),v=g.getCertificate(),N=g.getPeerCertificate();p={cipherSuiteStandardName:(a=S.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:S.standardName?null:S.name,localCertificate:v&&"raw"in v?v.raw:null,remoteCertificate:N&&"raw"in N?N.raw:null};}else p=null;return {remoteAddress:u,localAddress:d,security:p,remoteName:null,streamsStarted:c.streamTracker.callsStarted,streamsSucceeded:c.streamTracker.callsSucceeded,streamsFailed:c.streamTracker.callsFailed,messagesSent:c.messagesSent,messagesReceived:c.messagesReceived,keepAlivesSent:c.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:c.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:c.lastMessageSentTimestamp,lastMessageReceivedTimestamp:c.lastMessageReceivedTimestamp,localFlowControlWindow:(o=n.state.localWindowSize)!==null&&o!==void 0?o:null,remoteFlowControlWindow:(s=n.state.remoteWindowSize)!==null&&s!==void 0?s:null}}trace(n){yd.trace(It.LogVerbosity.DEBUG,dVe,"("+this.channelzRef.id+") "+n);}keepaliveTrace(n){yd.trace(It.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+n);}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(n,a){if(n===null||typeof n!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let o=Object.keys(n);if(o.length===0)throw new Error("Cannot add an empty service to a server");o.forEach(s=>{let c=n[s],l;c.requestStream?c.responseStream?l="bidi":l="clientStream":c.responseStream?l="serverStream":l="unary";let u=a[s],d;if(u===void 0&&typeof c.originalName=="string"&&(u=a[c.originalName]),u!==void 0?d=u.bind(a):d=hVe(l,s),this.register(c.path,d,c.responseSerialize,c.requestDeserialize,l)===false)throw new Error(`Method handler for ${c.path} already provided.`)});}removeService(n){if(n===null||typeof n!="object")throw new Error("removeService() requires object as argument");Object.keys(n).forEach(o=>{let s=n[o];this.unregister(s.path);});}bind(n,a){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(n){return (0, Ht.registerChannelzSocket)((0, oa.subchannelAddressToString)(n),()=>({localAddress:n,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(n){(0, Ht.unregisterChannelzRef)(n);}createHttp2Server(n){let a;if(n._isSecure()){let o=n._getConstructorOptions(),s=n._getSecureContextOptions(),c=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),o),s),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),l=s!==null;this.trace("Initial credentials valid: "+l),a=rn.createSecureServer(c),a.prependListener("connection",d=>{l||(this.trace("Dropped connection from "+JSON.stringify(d.address())+" due to unloaded credentials"),d.destroy());}),a.on("secureConnection",d=>{d.on("error",p=>{this.trace("An incoming TLS connection closed with error: "+p.message);});});let u=d=>{if(d){let p=a;try{p.setSecureContext(d);}catch(f){yd.log(It.LogVerbosity.ERROR,"Failed to set secure context with error "+f.message),d=null;}}l=d!==null,this.trace("Post-update credentials valid: "+l);};n._addWatcher(u),a.on("close",()=>{n._removeWatcher(u);});}else a=rn.createServer(this.commonServerOptions);return a.setTimeout(0,pVe),this._setupHandlers(a,n._getInterceptors()),a}bindOneAddress(n,a){this.trace("Attempting to bind "+(0, oa.subchannelAddressToString)(n));let o=this.createHttp2Server(a.credentials);return new Promise((s,c)=>{let l=u=>{this.trace("Failed to bind "+(0, oa.subchannelAddressToString)(n)+" with error "+u.message),s({port:"port"in n?n.port:1,error:u.message});};o.once("error",l),o.listen(n,()=>{let u=o.address(),d;typeof u=="string"?d={path:u}:d={host:u.address,port:u.port};let p=this.experimentalRegisterListenerToChannelz(d);this.listenerChildrenTracker.refChild(p),this.http2Servers.set(o,{channelzRef:p,sessions:new Set,ownsChannelzRef:true}),a.listeningServers.add(o),this.trace("Successfully bound "+(0, oa.subchannelAddressToString)(d)),s({port:"port"in d?d.port:1}),o.removeListener("error",l);});})}async bindManyPorts(n,a){if(n.length===0)return {count:0,port:0,errors:[]};if((0, oa.isTcpSubchannelAddress)(n[0])&&n[0].port===0){let o=await this.bindOneAddress(n[0],a);if(o.error){let s=await this.bindManyPorts(n.slice(1),a);return Object.assign(Object.assign({},s),{errors:[o.error,...s.errors]})}else {let s=n.slice(1).map(u=>(0, oa.isTcpSubchannelAddress)(u)?{host:u.host,port:o.port}:u),c=await Promise.all(s.map(u=>this.bindOneAddress(u,a))),l=[o,...c];return {count:l.filter(u=>u.error===void 0).length,port:o.port,errors:l.filter(u=>u.error).map(u=>u.error)}}}else {let o=await Promise.all(n.map(s=>this.bindOneAddress(s,a)));return {count:o.filter(s=>s.error===void 0).length,port:o[0].port,errors:o.filter(s=>s.error).map(s=>s.error)}}}async bindAddressList(n,a){let o=await this.bindManyPorts(n,a);if(o.count>0)return o.count<n.length&&yd.log(It.LogVerbosity.INFO,`WARNING Only ${o.count} addresses added out of total ${n.length} resolved`),o.port;{let s=`No address added out of total ${n.length} resolved`;throw yd.log(It.LogVerbosity.ERROR,s),new Error(`${s} errors: [${o.errors.join(",")}]`)}}resolvePort(n){return new Promise((a,o)=>{let s=false,c=(u,d,p,f)=>{if(s)return  true;if(s=true,!u.ok)return o(new Error(u.error.details)),true;let g=[].concat(...u.value.map(S=>S.addresses));return g.length===0?(o(new Error(`No addresses resolved for port ${n}`)),true):(a(g),true)};(0, Tte.createResolver)(n,c,this.options).updateResolution();})}async bindPort(n,a){let o=await this.resolvePort(n);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let s=await this.bindAddressList(o,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return s}normalizePort(n){let a=(0, yi.parseUri)(n);if(a===null)throw new Error(`Could not parse port "${n}"`);let o=(0, Tte.mapUriDefaultScheme)(a);if(o===null)throw new Error(`Could not get a default scheme for port "${n}"`);return o}bindAsync(n,a,o){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof n!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof NL.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof o!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+n);let s=this.normalizePort(n),c=(p,f)=>{process.nextTick(()=>o(p,f));},l=this.boundPorts.get((0, yi.uriToString)(s));if(l){if(!a._equals(l.credentials)){c(new Error(`${n} already bound with incompatible credentials`),0);return}l.cancelled=false,l.completionPromise?l.completionPromise.then(p=>o(null,p),p=>o(p,0)):c(null,l.portNumber);return}l={mapKey:(0, yi.uriToString)(s),originalUri:s,completionPromise:null,cancelled:false,portNumber:0,credentials:a,listeningServers:new Set};let u=(0, yi.splitHostPort)(s.path),d=this.bindPort(s,l);l.completionPromise=d,u?.port===0?d.then(p=>{let f={scheme:s.scheme,authority:s.authority,path:(0, yi.combineHostPort)({host:u.host,port:p})};l.mapKey=(0, yi.uriToString)(f),l.completionPromise=null,l.portNumber=p,this.boundPorts.set(l.mapKey,l),o(null,p);},p=>{o(p,0);}):(this.boundPorts.set(l.mapKey,l),d.then(p=>{l.completionPromise=null,l.portNumber=p,o(null,p);},p=>{o(p,0);}));}registerInjectorToChannelz(){return (0, Ht.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(n,a,o=false){if(n===null||!(n instanceof NL.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(a);let s=this.createHttp2Server(n),c=new Set;return this.http2Servers.set(s,{channelzRef:a,sessions:c,ownsChannelzRef:o}),{injectConnection:l=>{s.emit("connection",l);},drain:l=>{var u,d;for(let p of c)this.closeSession(p);(d=(u=setTimeout(()=>{for(let p of c)p.destroy(rn.constants.NGHTTP2_CANCEL);},l)).unref)===null||d===void 0||d.call(u);},destroy:()=>{this.closeServer(s);for(let l of c)this.closeSession(l);}}}createConnectionInjector(n){if(n===null||!(n instanceof NL.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");let a=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(n,a,true)}closeServer(n,a){this.trace("Closing server with address "+JSON.stringify(n.address()));let o=this.http2Servers.get(n);n.close(()=>{o&&o.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(o.channelzRef),(0, Ht.unregisterChannelzRef)(o.channelzRef)),this.http2Servers.delete(n),a?.();});}closeSession(n,a){var o;this.trace("Closing session initiated by "+((o=n.socket)===null||o===void 0?void 0:o.remoteAddress));let s=this.sessions.get(n),c=()=>{s&&(this.sessionChildrenTracker.unrefChild(s.ref),(0, Ht.unregisterChannelzRef)(s.ref)),a?.();};n.closed?queueMicrotask(c):n.close(c);}completeUnbind(n){for(let a of n.listeningServers){let o=this.http2Servers.get(a);if(this.closeServer(a,()=>{n.listeningServers.delete(a);}),o)for(let s of o.sessions)this.closeSession(s);}this.boundPorts.delete(n.mapKey);}unbind(n){this.trace("unbind port="+n);let a=this.normalizePort(n),o=(0, yi.splitHostPort)(a.path);if(o?.port===0)throw new Error("Cannot unbind port 0");let s=this.boundPorts.get((0, yi.uriToString)(a));s&&(this.trace("unbinding "+s.mapKey+" originally bound as "+(0, yi.uriToString)(s.originalUri)),s.completionPromise?s.cancelled=true:this.completeUnbind(s));}drain(n,a){var o,s;this.trace("drain port="+n+" graceTimeMs="+a);let c=this.normalizePort(n),l=(0, yi.splitHostPort)(c.path);if(l?.port===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0, yi.uriToString)(c));if(!u)return;let d=new Set;for(let p of u.listeningServers){let f=this.http2Servers.get(p);if(f)for(let g of f.sessions)d.add(g),this.closeSession(g,()=>{d.delete(g);});}(s=(o=setTimeout(()=>{for(let p of d)p.destroy(rn.constants.NGHTTP2_CANCEL);},a)).unref)===null||s===void 0||s.call(o);}forceShutdown(){for(let n of this.boundPorts.values())n.cancelled=true;this.boundPorts.clear();for(let n of this.http2Servers.keys())this.closeServer(n);this.sessions.forEach((n,a)=>{this.closeSession(a),a.destroy(rn.constants.NGHTTP2_CANCEL);}),this.sessions.clear(),(0, Ht.unregisterChannelzRef)(this.channelzRef),this.shutdown=true;}register(n,a,o,s,c){return this.handlers.has(n)?false:(this.handlers.set(n,{func:a,serialize:o,deserialize:s,type:c,path:n}),true)}unregister(n){return this.handlers.delete(n)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(n=>!n.listening))throw new Error("server must be bound in order to start");if(this.started===true)throw new Error("server is already started");this.started=true;}tryShutdown(n){var a;let o=l=>{(0, Ht.unregisterChannelzRef)(this.channelzRef),n(l);},s=0;function c(){s--,s===0&&o();}this.shutdown=true;for(let[l,u]of this.http2Servers.entries()){s++;let d=u.channelzRef.name;this.trace("Waiting for server "+d+" to close"),this.closeServer(l,()=>{this.trace("Server "+d+" finished closing"),c();});for(let p of u.sessions.keys()){s++;let f=(a=p.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+f+" to close"),this.closeSession(p,()=>{this.trace("Session "+f+" finished closing"),c();});}}s===0&&o();}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(n,a){let o=a[rn.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof o!="string"||!o.startsWith("application/grpc")?(n.respond({[rn.constants.HTTP2_HEADER_STATUS]:rn.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:true}),false):true}_retrieveHandler(n){Ote("Received call to method "+n+" at address "+this.serverAddressString);let a=this.handlers.get(n);return a===void 0?(Ote("No handler registered for method "+n+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(n,a,o=null){var s,c;let l=Object.assign({"grpc-status":(s=n.code)!==null&&s!==void 0?s:It.Status.INTERNAL,"grpc-message":n.details,[rn.constants.HTTP2_HEADER_STATUS]:rn.constants.HTTP_STATUS_OK,[rn.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(c=n.metadata)===null||c===void 0?void 0:c.toHttp2Headers());a.respond(l,{endStream:true}),this.callTracker.addCallFailed(),o?.streamTracker.addCallFailed();}_channelzHandler(n,a,o){this.onStreamOpened(a);let s=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),s?.streamTracker.addCallStarted(),!this._verifyContentType(a,o)){this.callTracker.addCallFailed(),s?.streamTracker.addCallFailed();return}let c=o[Ate],l=this._retrieveHandler(c);if(!l){this._respondWithError(PL(c),a,s);return}let u={addMessageSent:()=>{s&&(s.messagesSent+=1,s.lastMessageSentTimestamp=new Date);},addMessageReceived:()=>{s&&(s.messagesReceived+=1,s.lastMessageReceivedTimestamp=new Date);},onCallEnd:p=>{p.code===It.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed();},onStreamEnd:p=>{s&&(p?s.streamTracker.addCallSucceeded():s.streamTracker.addCallFailed());}},d=(0, yte.getServerInterceptingCall)([...n,...this.interceptors],a,o,u,l,this.options);this._runHandlerForCall(d,l)||(this.callTracker.addCallFailed(),s?.streamTracker.addCallFailed(),d.sendStatus({code:It.Status.INTERNAL,details:`Unknown handler type: ${l.type}`}));}_streamHandler(n,a,o){if(this.onStreamOpened(a),this._verifyContentType(a,o)!==true)return;let s=o[Ate],c=this._retrieveHandler(s);if(!c){this._respondWithError(PL(s),a,null);return}let l=(0, yte.getServerInterceptingCall)([...n,...this.interceptors],a,o,null,c,this.options);this._runHandlerForCall(l,c)||l.sendStatus({code:It.Status.INTERNAL,details:`Unknown handler type: ${c.type}`});}_runHandlerForCall(n,a){let{type:o}=a;if(o==="unary")_Ve(n,a);else if(o==="clientStream")gVe(n,a);else if(o==="serverStream")EVe(n,a);else if(o==="bidi")SVe(n,a);else return  false;return  true}_setupHandlers(n,a){if(n===null)return;let o=n.address(),s="null";o&&(typeof o=="string"?s=o:s=o.address+":"+o.port),this.serverAddressString=s;let c=this.channelzEnabled?this._channelzHandler:this._streamHandler,l=this.channelzEnabled?this._channelzSessionHandler(n):this._sessionHandler(n);n.on("stream",c.bind(this,a)),n.on("session",l);}_sessionHandler(n){return a=>{var o,s;(o=this.http2Servers.get(n))===null||o===void 0||o.sessions.add(a);let c=null,l=null,u=null,d=false,p=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Td){let N=this.maxConnectionAgeMs/10,C=Math.random()*N*2-N;c=setTimeout(()=>{var M,A;d=true,this.trace("Connection dropped by max connection age: "+((M=a.socket)===null||M===void 0?void 0:M.remoteAddress));try{a.goaway(rn.constants.NGHTTP2_NO_ERROR,~(1<<31),Rte);}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Td&&(l=setTimeout(()=>{a.destroy();},this.maxConnectionAgeGraceMs),(A=l.unref)===null||A===void 0||A.call(l));},this.maxConnectionAgeMs+C),(s=c.unref)===null||s===void 0||s.call(c);}let f=()=>{u&&(clearTimeout(u),u=null);},g=()=>!a.destroyed&&this.keepaliveTimeMs<bL&&this.keepaliveTimeMs>0,S,v=()=>{var N;g()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),u=setTimeout(()=>{f(),S();},this.keepaliveTimeMs),(N=u.unref)===null||N===void 0||N.call(u));};S=()=>{var N;if(!g())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let C="";try{a.ping((A,k,j)=>{f(),A?(this.keepaliveTrace("Ping failed with error: "+A.message),d=!0,a.destroy()):(this.keepaliveTrace("Received ping response"),v());})||(C="Ping returned false");}catch(M){C=(M instanceof Error?M.message:"")||"Unknown error";}if(C){this.keepaliveTrace("Ping send failed: "+C),this.trace("Connection dropped due to ping send error: "+C),d=true,a.destroy();return}u=setTimeout(()=>{f(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),d=true,a.destroy();},this.keepaliveTimeoutMs),(N=u.unref)===null||N===void 0||N.call(u);},v(),a.on("close",()=>{var N,C;d||this.trace(`Connection dropped by client ${(N=a.socket)===null||N===void 0?void 0:N.remoteAddress}`),c&&clearTimeout(c),l&&clearTimeout(l),f(),p!==null&&(clearTimeout(p.timeout),this.sessionIdleTimeouts.delete(a)),(C=this.http2Servers.get(n))===null||C===void 0||C.sessions.delete(a);});}}_channelzSessionHandler(n){return a=>{var o,s,c,l;let u=(0, Ht.registerChannelzSocket)((s=(o=a.socket)===null||o===void 0?void 0:o.remoteAddress)!==null&&s!==void 0?s:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),d={ref:u,streamTracker:new Ht.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(c=this.http2Servers.get(n))===null||c===void 0||c.sessions.add(a),this.sessions.set(a,d);let p=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+p),this.trace("Connection established by client "+p),this.sessionChildrenTracker.refChild(u);let f=null,g=null,S=null,v=false,N=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Td){let j=this.maxConnectionAgeMs/10,G=Math.random()*j*2-j;f=setTimeout(()=>{var te;v=true,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+p);try{a.goaway(rn.constants.NGHTTP2_NO_ERROR,~(1<<31),Rte);}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Td&&(g=setTimeout(()=>{a.destroy();},this.maxConnectionAgeGraceMs),(te=g.unref)===null||te===void 0||te.call(g));},this.maxConnectionAgeMs+G),(l=f.unref)===null||l===void 0||l.call(f);}let C=()=>{S&&(clearTimeout(S),S=null);},M=()=>!a.destroyed&&this.keepaliveTimeMs<bL&&this.keepaliveTimeMs>0,A,k=()=>{var j;M()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),S=setTimeout(()=>{C(),A();},this.keepaliveTimeMs),(j=S.unref)===null||j===void 0||j.call(S));};A=()=>{var j;if(!M())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let G="";try{a.ping((Z,ie,b)=>{C(),Z?(this.keepaliveTrace("Ping failed with error: "+Z.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+Z.message+" return in "+ie),v=!0,a.destroy()):(this.keepaliveTrace("Received ping response"),k());})||(G="Ping returned false");}catch(te){G=(te instanceof Error?te.message:"")||"Unknown error";}if(G){this.keepaliveTrace("Ping send failed: "+G),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+G),v=true,a.destroy();return}d.keepAlivesSent+=1,S=setTimeout(()=>{C(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+p),v=true,a.destroy();},this.keepaliveTimeoutMs),(j=S.unref)===null||j===void 0||j.call(S);},k(),a.on("close",()=>{var j;v||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+p),this.sessionChildrenTracker.unrefChild(u),(0, Ht.unregisterChannelzRef)(u),f&&clearTimeout(f),g&&clearTimeout(g),C(),N!==null&&(clearTimeout(N.timeout),this.sessionIdleTimeouts.delete(a)),(j=this.http2Servers.get(n))===null||j===void 0||j.sessions.delete(a),this.sessions.delete(a);});}}enableIdleTimeout(n){var a,o;if(this.sessionIdleTimeout>=vte)return null;let s={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,n),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,n)};(o=(a=s.timeout).unref)===null||o===void 0||o.call(a),this.sessionIdleTimeouts.set(n,s);let{socket:c}=n;return this.trace("Enable idle timeout for "+c.remoteAddress+":"+c.remotePort),s}onIdleTimeout(n,a){let{socket:o}=a,s=n.sessionIdleTimeouts.get(a);s!==void 0&&s.activeStreams===0&&(Date.now()-s.lastIdle>=n.sessionIdleTimeout?(n.trace("Session idle timeout triggered for "+o?.remoteAddress+":"+o?.remotePort+" last idle at "+s.lastIdle),n.closeSession(a)):s.timeout.refresh());}onStreamOpened(n){let a=n.session,o=this.sessionIdleTimeouts.get(a);o&&(o.activeStreams+=1,n.once("close",o.onClose));}onStreamClose(n){var a,o;let s=this.sessionIdleTimeouts.get(n);s&&(s.activeStreams-=1,s.activeStreams===0&&(s.lastIdle=Date.now(),s.timeout.refresh(),this.trace("Session onStreamClose"+((a=n.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((o=n.socket)===null||o===void 0?void 0:o.remotePort)+" at "+s.lastIdle)));}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;r=[fVe("Calling start() is no longer necessary. It can be safely omitted.")],cVe(t,null,r,{kind:"method",name:"start",static:false,private:false,access:{has:n=>"start"in n,get:n=>n.start},metadata:i},null,e),i&&Object.defineProperty(t,Symbol.metadata,{enumerable:true,configurable:true,writable:true,value:i});})(),t})();sa.Server=mVe;async function _Ve(t,e){let r;function i(o,s,c,l){if(o){t.sendStatus((0, vd.serverErrorToStatus)(o,c));return}t.sendMessage(s,()=>{t.sendStatus({code:It.Status.OK,details:"OK",metadata:c??null});});}let n,a=null;t.start({onReceiveMetadata(o){n=o,t.startRead();},onReceiveMessage(o){if(a){t.sendStatus({code:It.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=o,t.startRead();},onReceiveHalfClose(){if(!a){t.sendStatus({code:It.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new vd.ServerWritableStreamImpl(e.path,t,n,a);try{e.func(r,i);}catch(o){t.sendStatus({code:It.Status.UNKNOWN,details:`Server method handler threw error ${o.message}`,metadata:null});}},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"));}});}function gVe(t,e){let r;function i(n,a,o,s){if(n){t.sendStatus((0, vd.serverErrorToStatus)(n,o));return}t.sendMessage(a,()=>{t.sendStatus({code:It.Status.OK,details:"OK",metadata:o??null});});}t.start({onReceiveMetadata(n){r=new vd.ServerDuplexStreamImpl(e.path,t,n);try{e.func(r,i);}catch(a){t.sendStatus({code:It.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null});}},onReceiveMessage(n){r.push(n);},onReceiveHalfClose(){r.push(null);},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}function EVe(t,e){let r,i,n=null;t.start({onReceiveMetadata(a){i=a,t.startRead();},onReceiveMessage(a){if(n){t.sendStatus({code:It.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}n=a,t.startRead();},onReceiveHalfClose(){if(!n){t.sendStatus({code:It.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new vd.ServerWritableStreamImpl(e.path,t,i,n);try{e.func(r);}catch(a){t.sendStatus({code:It.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null});}},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}function SVe(t,e){let r;t.start({onReceiveMetadata(i){r=new vd.ServerDuplexStreamImpl(e.path,t,i);try{e.func(r);}catch(n){t.sendStatus({code:It.Status.UNKNOWN,details:`Server method handler threw error ${n.message}`,metadata:null});}},onReceiveMessage(i){r.push(i);},onReceiveHalfClose(){r.push(null);},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}});var bte=y(_v=>{Object.defineProperty(_v,"__esModule",{value:true});_v.StatusBuilder=void 0;var CL=class{constructor(){this.code=null,this.details=null,this.metadata=null;}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};_v.StatusBuilder=CL;});var Em=y(co=>{Object.defineProperty(co,"__esModule",{value:true});co.LeafLoadBalancer=co.PickFirstLoadBalancer=co.PickFirstLoadBalancingConfig=void 0;co.shuffled=Ite;co.setup=bVe;var xL=qs(),Mt=Ir(),aa=Fo(),Pte=en(),TVe=et(),yVe=xe(),Cte=en(),xte=U("net"),vVe=Xc(),AVe="pick_first";function mm(t){TVe.trace(yVe.LogVerbosity.DEBUG,AVe,t);}var _m="pick_first",RVe=250,Ad=class t{constructor(e){this.shuffleAddressList=e;}getLoadBalancerName(){return _m}toJsonObject(){return {[_m]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new t(e.shuffleAddressList===true)}};co.PickFirstLoadBalancingConfig=Ad;var IL=class{constructor(e){this.subchannel=e;}pick(e){return {pickResultType:aa.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Ite(t){let e=t.slice();for(let r=e.length-1;r>1;r--){let i=Math.floor(Math.random()*(r+1)),n=e[r];e[r]=e[i],e[i]=n;}return e}function OVe(t){if(t.length===0)return [];let e=[],r=[],i=[],n=(0, Cte.isTcpSubchannelAddress)(t[0])&&(0, xte.isIPv6)(t[0].host);for(let s of t)(0, Cte.isTcpSubchannelAddress)(s)&&(0, xte.isIPv6)(s.host)?r.push(s):i.push(s);let a=n?r:i,o=n?i:r;for(let s=0;s<Math.max(a.length,o.length);s++)s<a.length&&e.push(a[s]),s<o.length&&e.push(o[s]);return e}var Mte="grpc-node.internal.pick-first.report_health_status",gm=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=Mt.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(r,i,n,a,o)=>{this.onSubchannelStateUpdate(r,i,n,o);},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=false,this.reportHealthStatus=false,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout);}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(e=>e.hasReportedTransientFailure=false);}calculateAndReportNewState(){var e;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let r=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(Mt.ConnectivityState.TRANSIENT_FAILURE,new aa.UnavailablePicker({details:r}),r);}else this.updateState(Mt.ConnectivityState.READY,new IL(this.currentPick),null);else if(((e=this.latestAddressList)===null||e===void 0?void 0:e.length)===0){let r=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(Mt.ConnectivityState.TRANSIENT_FAILURE,new aa.UnavailablePicker({details:r}),r);}else if(this.children.length===0)this.updateState(Mt.ConnectivityState.IDLE,new aa.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let r=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(Mt.ConnectivityState.TRANSIENT_FAILURE,new aa.UnavailablePicker({details:r}),r);}else this.updateState(Mt.ConnectivityState.CONNECTING,new aa.QueuePicker(this),null);}requestReresolution(){this.channelControlHelper.requestReresolution();}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=true;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState();}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null);}onSubchannelStateUpdate(e,r,i,n){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){i!==Mt.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[o,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){i===Mt.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),i===Mt.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=true,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);for(let[r,i]of this.children.entries())if(r>=e){let n=i.subchannel.getConnectivityState();if(n===Mt.ConnectivityState.IDLE||n===Mt.ConnectivityState.CONNECTING){this.startConnecting(r);return}}this.maybeEnterStickyTransientFailureMode();}startConnecting(e){var r,i;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Mt.ConnectivityState.IDLE&&(mm("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var n;(n=this.children[e])===null||n===void 0||n.subchannel.startConnecting();})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1);},RVe),(i=(r=this.connectionDelayTimeout).unref)===null||i===void 0||i.call(r);}pickSubchannel(e){mm("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=false,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),e.addConnectivityStateListener(this.subchannelStateListener),e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=e,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState();}updateState(e,r,i){mm(Mt.ConnectivityState[this.currentState]+" -> "+Mt.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}resetSubchannelList(){for(let e of this.children)e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[];}connectToAddressList(e,r){mm("connectToAddressList(["+e.map(n=>(0, Pte.subchannelAddressToString)(n))+"])");let i=e.map(n=>({subchannel:this.channelControlHelper.createSubchannel(n,r),hasReportedTransientFailure:false}));for(let{subchannel:n}of i)if(n.getConnectivityState()===Mt.ConnectivityState.READY){this.pickSubchannel(n);return}for(let{subchannel:n}of i)n.ref(),this.channelControlHelper.addChannelzChild(n.getChannelzRef());this.resetSubchannelList(),this.children=i;for(let{subchannel:n}of this.children)n.addConnectivityStateListener(this.subchannelStateListener);for(let n of this.children)n.subchannel.getConnectivityState()===Mt.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=true);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState();}updateAddressList(e,r,i,n){if(!(r instanceof Ad))return  false;if(!e.ok)return this.children.length===0&&this.currentPick===null&&this.channelControlHelper.updateState(Mt.ConnectivityState.TRANSIENT_FAILURE,new aa.UnavailablePicker(e.error),e.error.details),true;let a=e.value;this.reportHealthStatus=i[Mte],r.getShuffleAddressList()&&(a=Ite(a));let o=[].concat(...a.map(c=>c.addresses));mm("updateAddressList(["+o.map(c=>(0, Pte.subchannelAddressToString)(c))+"])");let s=OVe(o);return this.latestAddressList=s,this.latestOptions=i,this.connectToAddressList(s,i),this.latestResolutionNote=n,o.length>0?true:(this.lastError="No addresses resolved",false)}exitIdle(){this.currentState===Mt.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions);}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick();}getTypeName(){return _m}};co.PickFirstLoadBalancer=gm;var NVe=new Ad(false),ML=class{constructor(e,r,i,n){this.endpoint=e,this.options=i,this.resolutionNote=n,this.latestState=Mt.ConnectivityState.IDLE;let a=(0, xL.createChildChannelControlHelper)(r,{updateState:(o,s,c)=>{this.latestState=o,this.latestPicker=s,r.updateState(o,s,c);}});this.pickFirstBalancer=new gm(a),this.latestPicker=new aa.QueuePicker(this.pickFirstBalancer);}startConnecting(){this.pickFirstBalancer.updateAddressList((0, vVe.statusOrFromValue)([this.endpoint]),NVe,Object.assign(Object.assign({},this.options),{[Mte]:true}),this.resolutionNote);}updateEndpoint(e,r){this.options=r,this.endpoint=e,this.latestState!==Mt.ConnectivityState.IDLE&&this.startConnecting();}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle();}destroy(){this.pickFirstBalancer.destroy();}};co.LeafLoadBalancer=ML;function bVe(){(0, xL.registerLoadBalancerType)(_m,gm,Ad),(0, xL.registerDefaultLoadBalancerType)(_m);}});var wte=y(Ev=>{Object.defineProperty(Ev,"__esModule",{value:true});Ev.FileWatcherCertificateProvider=void 0;var PVe=U("fs"),CVe=et(),xVe=xe(),IVe=U("util"),MVe="certificate_provider";function gv(t){CVe.trace(xVe.LogVerbosity.DEBUG,MVe,t);}var wL=(0, IVe.promisify)(PVe.readFile),LL=class{constructor(e){if(this.config=e,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,e.certificateFile===void 0!=(e.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(e.certificateFile===void 0&&e.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");gv("File watcher constructed with config "+JSON.stringify(e));}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?wL(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?wL(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?wL(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([e,r,i])=>{if(this.refreshTimer){gv("File watcher read certificates certificate "+e.status+", privateKey "+r.status+", CA certificate "+i.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,e.status==="fulfilled"&&r.status==="fulfilled"?this.latestIdentityUpdate={certificate:e.value,privateKey:r.value}:this.latestIdentityUpdate=null,i.status==="fulfilled"?this.latestCaUpdate={caCertificate:i.value}:this.latestCaUpdate=null;for(let n of this.identityListeners)n(this.latestIdentityUpdate);for(let n of this.caListeners)n(this.latestCaUpdate);}}),gv("File watcher initiated certificate update"));}maybeStartWatchingFiles(){if(!this.refreshTimer){let e=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;e>this.config.refreshIntervalMs&&this.updateCertificates(),e>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),gv("File watcher started watching");}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null));}addCaCertificateListener(e){this.caListeners.add(e),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(e,this.latestCaUpdate);}removeCaCertificateListener(e){this.caListeners.delete(e),this.maybeStopWatchingFiles();}addIdentityCertificateListener(e){this.identityListeners.add(e),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(e,this.latestIdentityUpdate);}removeIdentityCertificateListener(e){this.identityListeners.delete(e),this.maybeStopWatchingFiles();}};Ev.FileWatcherCertificateProvider=LL;});var kL=y(K=>{Object.defineProperty(K,"__esModule",{value:true});K.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=K.createCertificateProviderChannelCredentials=K.FileWatcherCertificateProvider=K.createCertificateProviderServerCredentials=K.createServerCredentialsWithInterceptors=K.BaseSubchannelWrapper=K.registerAdminService=K.FilterStackFactory=K.BaseFilter=K.statusOrFromError=K.statusOrFromValue=K.PickResultType=K.QueuePicker=K.UnavailablePicker=K.ChildLoadBalancerHandler=K.EndpointMap=K.endpointHasAddress=K.endpointToString=K.subchannelAddressToString=K.LeafLoadBalancer=K.isLoadBalancerNameRegistered=K.parseLoadBalancingConfig=K.selectLbConfigFromList=K.registerLoadBalancerType=K.createChildChannelControlHelper=K.BackoffTimeout=K.parseDuration=K.durationToMs=K.splitHostPort=K.uriToString=K.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=K.createResolver=K.registerResolver=K.log=K.trace=void 0;var Lte=et();Object.defineProperty(K,"trace",{enumerable:true,get:function(){return Lte.trace}});Object.defineProperty(K,"log",{enumerable:true,get:function(){return Lte.log}});var DL=pi();Object.defineProperty(K,"registerResolver",{enumerable:true,get:function(){return DL.registerResolver}});Object.defineProperty(K,"createResolver",{enumerable:true,get:function(){return DL.createResolver}});Object.defineProperty(K,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:true,get:function(){return DL.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var Dte=xr();Object.defineProperty(K,"uriToString",{enumerable:true,get:function(){return Dte.uriToString}});Object.defineProperty(K,"splitHostPort",{enumerable:true,get:function(){return Dte.splitHostPort}});var Ute=hm();Object.defineProperty(K,"durationToMs",{enumerable:true,get:function(){return Ute.durationToMs}});Object.defineProperty(K,"parseDuration",{enumerable:true,get:function(){return Ute.parseDuration}});var wVe=Zu();Object.defineProperty(K,"BackoffTimeout",{enumerable:true,get:function(){return wVe.BackoffTimeout}});var Sm=qs();Object.defineProperty(K,"createChildChannelControlHelper",{enumerable:true,get:function(){return Sm.createChildChannelControlHelper}});Object.defineProperty(K,"registerLoadBalancerType",{enumerable:true,get:function(){return Sm.registerLoadBalancerType}});Object.defineProperty(K,"selectLbConfigFromList",{enumerable:true,get:function(){return Sm.selectLbConfigFromList}});Object.defineProperty(K,"parseLoadBalancingConfig",{enumerable:true,get:function(){return Sm.parseLoadBalancingConfig}});Object.defineProperty(K,"isLoadBalancerNameRegistered",{enumerable:true,get:function(){return Sm.isLoadBalancerNameRegistered}});var LVe=Em();Object.defineProperty(K,"LeafLoadBalancer",{enumerable:true,get:function(){return LVe.LeafLoadBalancer}});var Sv=en();Object.defineProperty(K,"subchannelAddressToString",{enumerable:true,get:function(){return Sv.subchannelAddressToString}});Object.defineProperty(K,"endpointToString",{enumerable:true,get:function(){return Sv.endpointToString}});Object.defineProperty(K,"endpointHasAddress",{enumerable:true,get:function(){return Sv.endpointHasAddress}});Object.defineProperty(K,"EndpointMap",{enumerable:true,get:function(){return Sv.EndpointMap}});var DVe=ZT();Object.defineProperty(K,"ChildLoadBalancerHandler",{enumerable:true,get:function(){return DVe.ChildLoadBalancerHandler}});var UL=Fo();Object.defineProperty(K,"UnavailablePicker",{enumerable:true,get:function(){return UL.UnavailablePicker}});Object.defineProperty(K,"QueuePicker",{enumerable:true,get:function(){return UL.QueuePicker}});Object.defineProperty(K,"PickResultType",{enumerable:true,get:function(){return UL.PickResultType}});var kte=Xc();Object.defineProperty(K,"statusOrFromValue",{enumerable:true,get:function(){return kte.statusOrFromValue}});Object.defineProperty(K,"statusOrFromError",{enumerable:true,get:function(){return kte.statusOrFromError}});var UVe=d0();Object.defineProperty(K,"BaseFilter",{enumerable:true,get:function(){return UVe.BaseFilter}});var kVe=Fy();Object.defineProperty(K,"FilterStackFactory",{enumerable:true,get:function(){return kVe.FilterStackFactory}});var $Ve=ey();Object.defineProperty(K,"registerAdminService",{enumerable:true,get:function(){return $Ve.registerAdminService}});var VVe=pm();Object.defineProperty(K,"BaseSubchannelWrapper",{enumerable:true,get:function(){return VVe.BaseSubchannelWrapper}});var $te=lv();Object.defineProperty(K,"createServerCredentialsWithInterceptors",{enumerable:true,get:function(){return $te.createServerCredentialsWithInterceptors}});Object.defineProperty(K,"createCertificateProviderServerCredentials",{enumerable:true,get:function(){return $te.createCertificateProviderServerCredentials}});var BVe=wte();Object.defineProperty(K,"FileWatcherCertificateProvider",{enumerable:true,get:function(){return BVe.FileWatcherCertificateProvider}});var zVe=Ku();Object.defineProperty(K,"createCertificateProviderChannelCredentials",{enumerable:true,get:function(){return zVe.createCertificateProviderChannelCredentials}});var FVe=Q0();Object.defineProperty(K,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:true,get:function(){return FVe.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}});});var Vte=y(VL=>{Object.defineProperty(VL,"__esModule",{value:true});VL.setup=jVe;var HVe=pi(),GVe=Xc(),$L=class{constructor(e,r,i){this.listener=r,this.hasReturnedResult=false,this.endpoints=[];let n;e.authority===""?n="/"+e.path:n=e.path,this.endpoints=[{addresses:[{path:n}]}];}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=true,process.nextTick(this.listener,(0, GVe.statusOrFromValue)(this.endpoints),{},null,""));}destroy(){this.hasReturnedResult=false;}static getDefaultAuthority(e){return "localhost"}};function jVe(){(0, HVe.registerResolver)("unix",$L);}});var jte=y(HL=>{Object.defineProperty(HL,"__esModule",{value:true});HL.setup=ZVe;var Bte=U("net"),zte=Xc(),Tv=xe(),BL=Jt(),Fte=pi(),qVe=en(),Hte=xr(),YVe=et(),WVe="ip_resolver";function Gte(t){YVe.trace(Tv.LogVerbosity.DEBUG,WVe,t);}var zL="ipv4",FL="ipv6",KVe=443,yv=class{constructor(e,r,i){var n;this.listener=r,this.endpoints=[],this.error=null,this.hasReturnedResult=false,Gte("Resolver constructed for target "+(0, Hte.uriToString)(e));let a=[];if(!(e.scheme===zL||e.scheme===FL)){this.error={code:Tv.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new BL.Metadata};return}let o=e.path.split(",");for(let s of o){let c=(0, Hte.splitHostPort)(s);if(c===null){this.error={code:Tv.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new BL.Metadata};return}if(e.scheme===zL&&!(0, Bte.isIPv4)(c.host)||e.scheme===FL&&!(0, Bte.isIPv6)(c.host)){this.error={code:Tv.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new BL.Metadata};return}a.push({host:c.host,port:(n=c.port)!==null&&n!==void 0?n:KVe});}this.endpoints=a.map(s=>({addresses:[s]})),Gte("Parsed "+e.scheme+" address list "+a.map(qVe.subchannelAddressToString));}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=true,process.nextTick(()=>{this.error?this.listener((0, zte.statusOrFromError)(this.error),{},null,""):this.listener((0, zte.statusOrFromValue)(this.endpoints),{},null,"");}));}destroy(){this.hasReturnedResult=false;}static getDefaultAuthority(e){return e.path.split(",")[0]}};function ZVe(){(0, Fte.registerResolver)(zL,yv),(0, Fte.registerResolver)(FL,yv);}});var Kte=y(ym=>{Object.defineProperty(ym,"__esModule",{value:true});ym.RoundRobinLoadBalancer=void 0;ym.setup=rBe;var Wte=qs(),lr=Ir(),Tm=Fo(),XVe=et(),JVe=xe(),qte=en(),QVe=Em(),eBe="round_robin";function Yte(t){XVe.trace(JVe.LogVerbosity.DEBUG,eBe,t);}var vv="round_robin",Av=class t{getLoadBalancerName(){return vv}constructor(){}toJsonObject(){return {[vv]:{}}}static createFromJson(e){return new t}},GL=class{constructor(e,r=0){this.children=e,this.nextIndex=r;}pick(e){let r=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,r.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}};function tBe(t,e){return [...t.slice(e),...t.slice(0,e)]}var Rv=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=lr.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=false,this.lastError=null,this.childChannelControlHelper=(0, Wte.createChildChannelControlHelper)(e,{updateState:(r,i,n)=>{this.currentState===lr.ConnectivityState.READY&&r!==lr.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),n&&(this.lastError=n),this.calculateAndUpdateState();}});}countChildrenWithState(e){return this.children.filter(r=>r.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(lr.ConnectivityState.READY)>0){let e=this.children.filter(i=>i.getConnectivityState()===lr.ConnectivityState.READY),r=0;if(this.currentReadyPicker!==null){let i=this.currentReadyPicker.peekNextEndpoint();r=e.findIndex(n=>(0, qte.endpointEqual)(n.getEndpoint(),i)),r<0&&(r=0);}this.updateState(lr.ConnectivityState.READY,new GL(e.map(i=>({endpoint:i.getEndpoint(),picker:i.getPicker()})),r),null);}else if(this.countChildrenWithState(lr.ConnectivityState.CONNECTING)>0)this.updateState(lr.ConnectivityState.CONNECTING,new Tm.QueuePicker(this),null);else if(this.countChildrenWithState(lr.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(lr.ConnectivityState.TRANSIENT_FAILURE,new Tm.UnavailablePicker({details:e}),e);}else this.updateState(lr.ConnectivityState.IDLE,new Tm.QueuePicker(this),null);for(let e of this.children)e.getConnectivityState()===lr.ConnectivityState.IDLE&&e.exitIdle();}}updateState(e,r,i){Yte(lr.ConnectivityState[this.currentState]+" -> "+lr.ConnectivityState[e]),e===lr.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,r,i);}resetSubchannelList(){for(let e of this.children)e.destroy();this.children=[];}updateAddressList(e,r,i,n){if(!(r instanceof Av))return  false;if(!e.ok)return this.children.length===0&&this.updateState(lr.ConnectivityState.TRANSIENT_FAILURE,new Tm.UnavailablePicker(e.error),e.error.details),true;let a=Math.random()*e.value.length|0,o=tBe(e.value,a);if(this.resetSubchannelList(),o.length===0){let s=`No addresses resolved. Resolution note: ${n}`;this.updateState(lr.ConnectivityState.TRANSIENT_FAILURE,new Tm.UnavailablePicker({details:s}),s);}Yte("Connect to endpoint list "+o.map(qte.endpointToString)),this.updatesPaused=true,this.children=o.map(s=>new QVe.LeafLoadBalancer(s,this.childChannelControlHelper,i,n));for(let s of this.children)s.startConnecting();return this.updatesPaused=false,this.calculateAndUpdateState(),true}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList();}getTypeName(){return vv}};ym.RoundRobinLoadBalancer=Rv;function rBe(){(0, Wte.registerLoadBalancerType)(vv,Rv,Av);}});var Jte=y(hl=>{var jL;Object.defineProperty(hl,"__esModule",{value:true});hl.OutlierDetectionLoadBalancer=hl.OutlierDetectionLoadBalancingConfig=void 0;hl.setup=fBe;var nBe=Ir(),Zte=xe(),fl=hm(),Xte=kL(),iBe=qs(),oBe=ZT(),sBe=Fo(),qL=en(),aBe=pm(),cBe=et(),lBe="outlier_detection";function tr(t){cBe.trace(Zte.LogVerbosity.DEBUG,lBe,t);}var JL="outlier_detection",uBe=((jL=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&jL!==void 0?jL:"true")==="true",dBe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},pBe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Rd(t,e,r,i){if(e in t&&t[e]!==void 0&&typeof t[e]!==r){let n=i?`${i}.${e}`:e;throw new Error(`outlier detection config ${n} parse error: expected ${r}, got ${typeof t[e]}`)}}function YL(t,e,r){let i=e;if(e in t&&t[e]!==void 0){if(!(0, fl.isDuration)(t[e]))throw new Error(`outlier detection config ${i} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${i} parse error: values out of range for non-negative Duaration`)}}function Ov(t,e,r){let i=r?`${r}.${e}`:e;if(Rd(t,e,"number",r),e in t&&t[e]!==void 0&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${i} parse error: value out of range for percentage (0-100)`)}var vm=class t{constructor(e,r,i,n,a,o,s){if(this.childPolicy=s,s.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=r??3e4,this.maxEjectionTimeMs=i??3e5,this.maxEjectionPercent=n??10,this.successRateEjection=a?Object.assign(Object.assign({},dBe),a):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},pBe),o):null;}getLoadBalancerName(){return JL}toJsonObject(){var e,r;return {outlier_detection:{interval:(0, fl.msToDuration)(this.intervalMs),base_ejection_time:(0, fl.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0, fl.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(r=this.failurePercentageEjection)!==null&&r!==void 0?r:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var r;if(YL(e,"interval"),YL(e,"base_ejection_time"),YL(e,"max_ejection_time"),Ov(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Rd(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Ov(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Rd(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Rd(e.success_rate_ejection,"request_volume","number","success_rate_ejection");}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Ov(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Ov(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Rd(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Rd(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection");}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let i=(0, iBe.selectLbConfigFromList)(e.child_policy);if(!i)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new t(e.interval?(0, fl.durationToMs)(e.interval):null,e.base_ejection_time?(0, fl.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0, fl.durationToMs)(e.max_ejection_time):null,(r=e.max_ejection_percent)!==null&&r!==void 0?r:null,e.success_rate_ejection,e.failure_percentage_ejection,i)}};hl.OutlierDetectionLoadBalancingConfig=vm;var KL=class extends aBe.BaseSubchannelWrapper{constructor(e,r){super(e),this.mapEntry=r,this.refCount=0;}ref(){this.child.ref(),this.refCount+=1;}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1);}}eject(){this.setHealthy(false);}uneject(){this.setHealthy(true);}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function WL(){return {success:0,failure:0}}var ZL=class{constructor(){this.activeBucket=WL(),this.inactiveBucket=WL();}addSuccess(){this.activeBucket.success+=1;}addFailure(){this.activeBucket.failure+=1;}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=WL();}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},XL=class{constructor(e,r){this.wrappedPicker=e,this.countCalls=r;}pick(e){let r=this.wrappedPicker.pick(e);if(r.pickResultType===sBe.PickResultType.COMPLETE){let i=r.subchannel,n=i.getMapEntry();if(n){let a=r.onCallEnded;return this.countCalls&&(a=(o,s,c)=>{var l;o===Zte.Status.OK?n.counter.addSuccess():n.counter.addFailure(),(l=r.onCallEnded)===null||l===void 0||l.call(r,o,s,c);}),Object.assign(Object.assign({},r),{subchannel:i.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},r),{subchannel:i.getWrappedSubchannel()})}else return r}},Nv=class{constructor(e){this.entryMap=new qL.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new oBe.ChildLoadBalancerHandler((0, Xte.createChildChannelControlHelper)(e,{createSubchannel:(r,i)=>{let n=e.createSubchannel(r,i),a=this.entryMap.getForSubchannelAddress(r),o=new KL(n,a);return a?.currentEjectionTimestamp!==null&&o.eject(),a?.subchannelWrappers.push(o),o},updateState:(r,i,n)=>{r===nBe.ConnectivityState.READY?e.updateState(r,new XL(i,this.isCountingEnabled()),n):e.updateState(r,i,n);}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer);}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let r of this.entryMap.values())r.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getSuccessRateEjectionConfig();if(!r)return;tr("Running success rate check");let i=r.request_volume,n=0,a=[];for(let[d,p]of this.entryMap.entries()){let f=p.counter.getLastSuccesses(),g=p.counter.getLastFailures();tr("Stats for "+(0, qL.endpointToString)(d)+": successes="+f+" failures="+g+" targetRequestVolume="+i),f+g>=i&&(n+=1,a.push(f/(f+g)));}if(tr("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),n<r.minimum_hosts)return;let o=a.reduce((d,p)=>d+p)/a.length,s=0;for(let d of a){let p=d-o;s+=p*p;}let c=s/a.length,l=Math.sqrt(c),u=o-l*(r.stdev_factor/1e3);tr("stdev="+l+" ejectionThreshold="+u);for(let[d,p]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=p.counter.getLastSuccesses(),g=p.counter.getLastFailures();if(f+g<i)continue;let S=f/(f+g);if(tr("Checking candidate "+d+" successRate="+S),S<u){let v=Math.random()*100;tr("Candidate "+d+" randomNumber="+v+" enforcement_percentage="+r.enforcement_percentage),v<r.enforcement_percentage&&(tr("Ejecting candidate "+d),this.eject(p,e));}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getFailurePercentageEjectionConfig();if(!r)return;tr("Running failure percentage check. threshold="+r.threshold+" request volume threshold="+r.request_volume);let i=0;for(let n of this.entryMap.values()){let a=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();a+o>=r.request_volume&&(i+=1);}if(!(i<r.minimum_hosts))for(let[n,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=a.counter.getLastSuccesses(),s=a.counter.getLastFailures();if(tr("Candidate successes="+o+" failures="+s),o+s<r.request_volume)continue;if(s*100/(s+o)>r.threshold){let l=Math.random()*100;tr("Candidate "+n+" randomNumber="+l+" enforcement_percentage="+r.enforcement_percentage),l<r.enforcement_percentage&&(tr("Ejecting candidate "+n),this.eject(a,e));}}}eject(e,r){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let i of e.subchannelWrappers)i.eject();}uneject(e){e.currentEjectionTimestamp=null;for(let r of e.subchannelWrappers)r.uneject();}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets();}startTimer(e){var r,i;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(i=(r=this.ejectionTimer).unref)===null||i===void 0||i.call(r);}runChecks(){let e=new Date;if(tr("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[r,i]of this.entryMap.entries())if(i.currentEjectionTimestamp===null)i.ejectionTimeMultiplier>0&&(i.ejectionTimeMultiplier-=1);else {let n=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(i.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(n*i.ejectionTimeMultiplier,Math.max(n,a))),o<new Date&&(tr("Unejecting "+r),this.uneject(i));}}}updateAddressList(e,r,i,n){if(!(r instanceof vm))return  false;if(tr("Received update with config: "+JSON.stringify(r.toJsonObject(),void 0,2)),e.ok){for(let o of e.value)this.entryMap.has(o)||(tr("Adding map entry for "+(0, qL.endpointToString)(o)),this.entryMap.set(o,{counter:new ZL,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e.value);}let a=r.getChildPolicy();if(this.childBalancer.updateAddressList(e,a,i,n),r.getSuccessRateEjectionConfig()||r.getFailurePercentageEjectionConfig())if(this.timerStartTime){tr("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=r.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o);}else tr("Starting new timer"),this.timerStartTime=new Date,this.startTimer(r.getIntervalMs()),this.switchAllBuckets();else {tr("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.entryMap.values())this.uneject(o),o.ejectionTimeMultiplier=0;}return this.latestConfig=r,true}exitIdle(){this.childBalancer.exitIdle();}resetBackoff(){this.childBalancer.resetBackoff();}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy();}getTypeName(){return JL}};hl.OutlierDetectionLoadBalancer=Nv;function fBe(){uBe&&(0, Xte.registerLoadBalancerType)(JL,Nv,vm);}});var Qte=y(Pv=>{Object.defineProperty(Pv,"__esModule",{value:true});Pv.PriorityQueue=void 0;var Od=0,QL=t=>Math.floor(t/2),bv=t=>t*2+1,Am=t=>t*2+2,eD=class{constructor(e=(r,i)=>r>i){this.comparator=e,this.heap=[];}size(){return this.heap.length}isEmpty(){return this.size()==0}peek(){return this.heap[Od]}push(...e){return e.forEach(r=>{this.heap.push(r),this.siftUp();}),this.size()}pop(){let e=this.peek(),r=this.size()-1;return r>Od&&this.swap(Od,r),this.heap.pop(),this.siftDown(),e}replace(e){let r=this.peek();return this.heap[Od]=e,this.siftDown(),r}greater(e,r){return this.comparator(this.heap[e],this.heap[r])}swap(e,r){[this.heap[e],this.heap[r]]=[this.heap[r],this.heap[e]];}siftUp(){let e=this.size()-1;for(;e>Od&&this.greater(e,QL(e));)this.swap(e,QL(e)),e=QL(e);}siftDown(){let e=Od;for(;bv(e)<this.size()&&this.greater(bv(e),e)||Am(e)<this.size()&&this.greater(Am(e),e);){let r=Am(e)<this.size()&&this.greater(Am(e),bv(e))?Am(e):bv(e);this.swap(e,r),e=r;}}};Pv.PriorityQueue=eD;});var ire=y(Om=>{Object.defineProperty(Om,"__esModule",{value:true});Om.WeightedRoundRobinLoadBalancingConfig=void 0;Om.setup=RBe;var rr=Ir(),hBe=xe(),Rn=hm(),rre=qs(),mBe=Em(),_Be=et(),nre=dv(),Nd=Fo(),gBe=Qte(),ere=en(),EBe="weighted_round_robin";function tD(t){_Be.trace(hBe.LogVerbosity.DEBUG,EBe,t);}var iD="weighted_round_robin",SBe=1e4,TBe=1e4,yBe=3*6e4,vBe=1e3,ABe=1;function tre(t,e,r){if(e in t&&t[e]!==void 0&&typeof t[e]!==r)throw new Error(`weighted round robin config ${e} parse error: expected ${r}, got ${typeof t[e]}`)}function Cv(t,e){if(e in t&&t[e]!==void 0&&t[e]!==null){let r;if((0, Rn.isDuration)(t[e]))r=t[e];else if((0, Rn.isDurationMessage)(t[e]))r=(0, Rn.durationMessageToDuration)(t[e]);else if(typeof t[e]=="string"){let i=(0, Rn.parseDuration)(t[e]);if(!i)throw new Error(`weighted round robin config ${e}: failed to parse duration string ${t[e]}`);r=i;}else throw new Error(`weighted round robin config ${e}: expected duration, got ${typeof t[e]}`);return (0, Rn.durationToMs)(r)}return null}var Rm=class t{constructor(e,r,i,n,a,o){this.enableOobLoadReport=e??false,this.oobLoadReportingPeriodMs=r??SBe,this.blackoutPeriodMs=i??TBe,this.weightExpirationPeriodMs=n??yBe,this.weightUpdatePeriodMs=Math.max(a??vBe,100),this.errorUtilizationPenalty=o??ABe;}getLoadBalancerName(){return iD}toJsonObject(){return {enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0, Rn.durationToString)((0, Rn.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0, Rn.durationToString)((0, Rn.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0, Rn.durationToString)((0, Rn.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0, Rn.durationToString)((0, Rn.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(e){if(tre(e,"enable_oob_load_report","boolean"),tre(e,"error_utilization_penalty","number"),e.error_utilization_penalty<0)throw new Error("weighted round robin config error_utilization_penalty < 0");return new t(e.enable_oob_load_report,Cv(e,"oob_load_reporting_period"),Cv(e,"blackout_period"),Cv(e,"weight_expiration_period"),Cv(e,"weight_update_period"),e.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}};Om.WeightedRoundRobinLoadBalancingConfig=Rm;var rD=class{constructor(e,r){this.metricsHandler=r,this.queue=new gBe.PriorityQueue((a,o)=>a.deadline<o.deadline);let i=e.filter(a=>a.weight>0),n;if(i.length<2)n=1;else {let a=0;for(let{weight:o}of i)a+=o;n=a/i.length;}for(let a of e){let o=a.weight>0?1/a.weight:n;this.queue.push({endpointName:a.endpointName,picker:a.picker,period:o,deadline:Math.random()*o});}}pick(e){let r=this.queue.pop();this.queue.push(Object.assign(Object.assign({},r),{deadline:r.deadline+r.period}));let i=r.picker.pick(e);if(i.pickResultType===Nd.PickResultType.COMPLETE){if(this.metricsHandler)return Object.assign(Object.assign({},i),{onCallEnded:(0, nre.createMetricsReader)(n=>this.metricsHandler(n,r.endpointName),i.onCallEnded)});{let n=i.subchannel;return Object.assign(Object.assign({},i),{subchannel:n.getWrappedSubchannel()})}}else return i}},nD=class{constructor(e){this.channelControlHelper=e,this.latestConfig=null,this.children=new Map,this.currentState=rr.ConnectivityState.IDLE,this.updatesPaused=false,this.lastError=null,this.weightUpdateTimer=null;}countChildrenWithState(e){let r=0;for(let i of this.children.values())i.child.getConnectivityState()===e&&(r+=1);return r}updateWeight(e,r){var i,n;let a=r.rps_fractional,o=r.application_utilization;o>0&&a>0&&(o+=r.eps/a*((n=(i=this.latestConfig)===null||i===void 0?void 0:i.getErrorUtilizationPenalty())!==null&&n!==void 0?n:0));let s=o===0?0:a/o;if(s===0)return;let c=new Date;e.nonEmptySince===null&&(e.nonEmptySince=c),e.lastUpdated=c,e.weight=s;}getWeight(e){if(!this.latestConfig)return 0;let r=new Date().getTime();if(r-e.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return e.nonEmptySince=null,0;let i=this.latestConfig.getBlackoutPeriodMs();return i>0&&(e.nonEmptySince===null||r-e.nonEmptySince.getTime()<i)?0:e.weight}calculateAndUpdateState(){if(!(this.updatesPaused||!this.latestConfig)){if(this.countChildrenWithState(rr.ConnectivityState.READY)>0){let e=[];for(let[i,n]of this.children)n.child.getConnectivityState()===rr.ConnectivityState.READY&&e.push({endpointName:i,picker:n.child.getPicker(),weight:this.getWeight(n)});tD("Created picker with weights: "+e.map(i=>i.endpointName+":"+i.weight).join(","));let r;this.latestConfig.getEnableOobLoadReport()?r=null:r=(i,n)=>{let a=this.children.get(n);a&&this.updateWeight(a,i);},this.updateState(rr.ConnectivityState.READY,new rD(e,r),null);}else if(this.countChildrenWithState(rr.ConnectivityState.CONNECTING)>0)this.updateState(rr.ConnectivityState.CONNECTING,new Nd.QueuePicker(this),null);else if(this.countChildrenWithState(rr.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(rr.ConnectivityState.TRANSIENT_FAILURE,new Nd.UnavailablePicker({details:e}),e);}else this.updateState(rr.ConnectivityState.IDLE,new Nd.QueuePicker(this),null);for(let{child:e}of this.children.values())e.getConnectivityState()===rr.ConnectivityState.IDLE&&e.exitIdle();}}updateState(e,r,i){tD(rr.ConnectivityState[this.currentState]+" -> "+rr.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}updateAddressList(e,r,i,n){var a,o;if(!(r instanceof Rm))return  false;if(!e.ok)return this.children.size===0&&this.updateState(rr.ConnectivityState.TRANSIENT_FAILURE,new Nd.UnavailablePicker(e.error),e.error.details),true;if(e.value.length===0){let l=`No addresses resolved. Resolution note: ${n}`;return this.updateState(rr.ConnectivityState.TRANSIENT_FAILURE,new Nd.UnavailablePicker({details:l}),l),false}tD("Connect to endpoint list "+e.value.map(ere.endpointToString));let s=new Date,c=new Set;this.updatesPaused=true,this.latestConfig=r;for(let l of e.value){let u=(0, ere.endpointToString)(l);c.add(u);let d=this.children.get(u);d||(d={child:new mBe.LeafLoadBalancer(l,(0, rre.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(p,f,g)=>{this.currentState===rr.ConnectivityState.READY&&p!==rr.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),p===rr.ConnectivityState.READY&&(d.nonEmptySince=null),g&&(this.lastError=g),this.calculateAndUpdateState();},createSubchannel:(p,f)=>{let g=this.channelControlHelper.createSubchannel(p,f);return d?.oobMetricsListener?new nre.OrcaOobMetricsSubchannelWrapper(g,d.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):g}}),i,n),lastUpdated:s,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(u,d)),r.getEnableOobLoadReport()?d.oobMetricsListener=p=>{this.updateWeight(d,p);}:d.oobMetricsListener=null;}for(let[l,u]of this.children)c.has(l)?u.child.startConnecting():(u.child.destroy(),this.children.delete(l));return this.updatesPaused=false,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=(o=(a=setInterval(()=>{this.currentState===rr.ConnectivityState.READY&&this.calculateAndUpdateState();},r.getWeightUpdatePeriodMs())).unref)===null||o===void 0?void 0:o.call(a),true}exitIdle(){}resetBackoff(){}destroy(){for(let e of this.children.values())e.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer);}getTypeName(){return iD}};function RBe(){(0, rre.registerLoadBalancerType)(iD,nD,Rm);}});var Nm=y(Y=>{Object.defineProperty(Y,"__esModule",{value:true});Y.experimental=Y.ServerMetricRecorder=Y.ServerInterceptingCall=Y.ResponderBuilder=Y.ServerListenerBuilder=Y.addAdminServicesToServer=Y.getChannelzHandlers=Y.getChannelzServiceDefinition=Y.InterceptorConfigurationError=Y.InterceptingCall=Y.RequesterBuilder=Y.ListenerBuilder=Y.StatusBuilder=Y.getClientChannel=Y.ServerCredentials=Y.Server=Y.setLogVerbosity=Y.setLogger=Y.load=Y.loadObject=Y.CallCredentials=Y.ChannelCredentials=Y.waitForClientReady=Y.closeClient=Y.Channel=Y.makeGenericClientConstructor=Y.makeClientConstructor=Y.loadPackageDefinition=Y.Client=Y.compressionAlgorithms=Y.propagate=Y.connectivityState=Y.status=Y.logVerbosity=Y.Metadata=Y.credentials=void 0;var xv=VT();Object.defineProperty(Y,"CallCredentials",{enumerable:true,get:function(){return xv.CallCredentials}});var OBe=cw();Object.defineProperty(Y,"Channel",{enumerable:true,get:function(){return OBe.ChannelImplementation}});var NBe=l0();Object.defineProperty(Y,"compressionAlgorithms",{enumerable:true,get:function(){return NBe.CompressionAlgorithms}});var bBe=Ir();Object.defineProperty(Y,"connectivityState",{enumerable:true,get:function(){return bBe.ConnectivityState}});var Iv=Ku();Object.defineProperty(Y,"ChannelCredentials",{enumerable:true,get:function(){return Iv.ChannelCredentials}});var ore=aw();Object.defineProperty(Y,"Client",{enumerable:true,get:function(){return ore.Client}});var oD=xe();Object.defineProperty(Y,"logVerbosity",{enumerable:true,get:function(){return oD.LogVerbosity}});Object.defineProperty(Y,"status",{enumerable:true,get:function(){return oD.Status}});Object.defineProperty(Y,"propagate",{enumerable:true,get:function(){return oD.Propagate}});var sre=et(),sD=oy();Object.defineProperty(Y,"loadPackageDefinition",{enumerable:true,get:function(){return sD.loadPackageDefinition}});Object.defineProperty(Y,"makeClientConstructor",{enumerable:true,get:function(){return sD.makeClientConstructor}});Object.defineProperty(Y,"makeGenericClientConstructor",{enumerable:true,get:function(){return sD.makeClientConstructor}});var PBe=Jt();Object.defineProperty(Y,"Metadata",{enumerable:true,get:function(){return PBe.Metadata}});var CBe=Nte();Object.defineProperty(Y,"Server",{enumerable:true,get:function(){return CBe.Server}});var xBe=lv();Object.defineProperty(Y,"ServerCredentials",{enumerable:true,get:function(){return xBe.ServerCredentials}});var IBe=bte();Object.defineProperty(Y,"StatusBuilder",{enumerable:true,get:function(){return IBe.StatusBuilder}});Y.credentials={combineChannelCredentials:(t,...e)=>e.reduce((r,i)=>r.compose(i),t),combineCallCredentials:(t,...e)=>e.reduce((r,i)=>r.compose(i),t),createInsecure:Iv.ChannelCredentials.createInsecure,createSsl:Iv.ChannelCredentials.createSsl,createFromSecureContext:Iv.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:xv.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:xv.CallCredentials.createFromGoogleCredential,createEmpty:xv.CallCredentials.createEmpty};var MBe=t=>t.close();Y.closeClient=MBe;var wBe=(t,e,r)=>t.waitForReady(e,r);Y.waitForClientReady=wBe;var LBe=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.loadObject=LBe;var DBe=(t,e,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.load=DBe;var UBe=t=>{sre.setLogger(t);};Y.setLogger=UBe;var kBe=t=>{sre.setLoggerVerbosity(t);};Y.setLogVerbosity=kBe;var $Be=t=>ore.Client.prototype.getChannel.call(t);Y.getClientChannel=$Be;var Mv=iw();Object.defineProperty(Y,"ListenerBuilder",{enumerable:true,get:function(){return Mv.ListenerBuilder}});Object.defineProperty(Y,"RequesterBuilder",{enumerable:true,get:function(){return Mv.RequesterBuilder}});Object.defineProperty(Y,"InterceptingCall",{enumerable:true,get:function(){return Mv.InterceptingCall}});Object.defineProperty(Y,"InterceptorConfigurationError",{enumerable:true,get:function(){return Mv.InterceptorConfigurationError}});var are=ta();Object.defineProperty(Y,"getChannelzServiceDefinition",{enumerable:true,get:function(){return are.getChannelzServiceDefinition}});Object.defineProperty(Y,"getChannelzHandlers",{enumerable:true,get:function(){return are.getChannelzHandlers}});var VBe=ey();Object.defineProperty(Y,"addAdminServicesToServer",{enumerable:true,get:function(){return VBe.addAdminServicesToServer}});var aD=OL();Object.defineProperty(Y,"ServerListenerBuilder",{enumerable:true,get:function(){return aD.ServerListenerBuilder}});Object.defineProperty(Y,"ResponderBuilder",{enumerable:true,get:function(){return aD.ResponderBuilder}});Object.defineProperty(Y,"ServerInterceptingCall",{enumerable:true,get:function(){return aD.ServerInterceptingCall}});var BBe=dv();Object.defineProperty(Y,"ServerMetricRecorder",{enumerable:true,get:function(){return BBe.ServerMetricRecorder}});var zBe=kL();Y.experimental=zBe;var FBe=P0(),HBe=Vte(),GBe=jte(),jBe=Em(),qBe=Kte(),YBe=Jte(),WBe=ire(),KBe=ta();FBe.setup(),HBe.setup(),GBe.setup(),jBe.setup(),qBe.setup(),YBe.setup(),WBe.setup(),KBe.setup();});var cre=y(wv=>{Object.defineProperty(wv,"__esModule",{value:true});wv.createServiceClientConstructor=void 0;var ZBe=Nm();function XBe(t,e){let r={export:{path:t,requestStream:false,responseStream:false,requestSerialize:i=>i,requestDeserialize:i=>i,responseSerialize:i=>i,responseDeserialize:i=>i}};return ZBe.makeGenericClientConstructor(r,e)}wv.createServiceClientConstructor=XBe;});var bm=y(jn=>{Object.defineProperty(jn,"__esModule",{value:true});jn.createOtlpGrpcExporterTransport=jn.GrpcExporterTransport=jn.createEmptyMetadata=jn.createSslCredentials=jn.createInsecureCredentials=void 0;var JBe=0,QBe=2;function eze(t){return t==="gzip"?QBe:JBe}function tze(){let{credentials:t}=Nm();return t.createInsecure()}jn.createInsecureCredentials=tze;function rze(t,e,r){let{credentials:i}=Nm();return i.createSsl(t,e,r)}jn.createSslCredentials=rze;function nze(){let{Metadata:t}=Nm();return new t}jn.createEmptyMetadata=nze;var Lv=class{_parameters;_client;_metadata;constructor(e){this._parameters=e;}shutdown(){this._client?.close();}send(e,r){let i=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:n}=cre();try{this._metadata=this._parameters.metadata();}catch(o){return Promise.resolve({status:"failure",error:o})}let a=n(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new a(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":eze(this._parameters.compression)});}catch(o){return Promise.resolve({status:"failure",error:o})}}return new Promise(n=>{let a=Date.now()+r;if(this._metadata==null)return n({error:new Error("metadata was null"),status:"failure"});this._client.export(i,this._metadata,{deadline:a},(o,s)=>{n(o?{status:"failure",error:o}:{data:s,status:"success"});});})}};jn.GrpcExporterTransport=Lv;function ize(t){return new Lv(t)}jn.createOtlpGrpcExporterTransport=ize;});var lre=y(Dv=>{Object.defineProperty(Dv,"__esModule",{value:true});Dv.VERSION=void 0;Dv.VERSION="0.204.0";});var hre=y(ca=>{Object.defineProperty(ca,"__esModule",{value:true});ca.getOtlpGrpcDefaultConfiguration=ca.mergeOtlpGrpcConfigurationWithDefaults=ca.validateAndNormalizeUrl=void 0;var pre=(ji(),$(_h)),Pm=bm(),oze=lre(),sze=U("url"),ure=(P(),$(Ve));function fre(t){t=t.trim(),t.match(/^([\w]{1,8}):\/\//)||(t=`https://${t}`);let r=new sze.URL(t);return r.protocol==="unix:"?t:(r.pathname&&r.pathname!=="/"&&ure.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),r.protocol!==""&&!r.protocol?.match(/^(http)s?:$/)&&ure.diag.warn("URL protocol should be http(s)://. Using http://."),r.host)}ca.validateAndNormalizeUrl=fre;function dre(t,e){for(let[r,i]of Object.entries(e.getMap()))t.get(r).length<1&&t.set(r,i);}function aze(t,e,r){let i=t.url??e.url??r.url;return {...(0, pre.mergeOtlpSharedConfigurationWithDefaults)(t,e,r),metadata:()=>{let n=r.metadata();return dre(n,t.metadata?.().clone()??(0, Pm.createEmptyMetadata)()),dre(n,e.metadata?.()??(0, Pm.createEmptyMetadata)()),n},url:fre(i),credentials:t.credentials??e.credentials?.(i)??r.credentials(i)}}ca.mergeOtlpGrpcConfigurationWithDefaults=aze;function cze(){return {...(0, pre.getSharedConfigurationDefaults)(),metadata:()=>{let t=(0, Pm.createEmptyMetadata)();return t.set("User-Agent",`OTel-OTLP-Exporter-JavaScript/${oze.VERSION}`),t},url:"http://localhost:4317",credentials:t=>t.startsWith("http://")?()=>(0, Pm.createInsecureCredentials)():()=>(0, Pm.createSslCredentials)()}}ca.getOtlpGrpcDefaultConfiguration=cze;});var Sre=y(Uv=>{Object.defineProperty(Uv,"__esModule",{value:true});Uv.getOtlpGrpcConfigurationFromEnv=void 0;var mre=(Q(),$(Ui)),Cm=bm(),lze=(Hs(),$(X9)),uze=U("fs"),dze=U("path"),gre=(P(),$(Ve));function cD(t,e){if(t!=null&&t!=="")return t;if(e!=null&&e!=="")return e}function pze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_HEADERS`]?.trim(),r=process.env.OTEL_EXPORTER_OTLP_HEADERS?.trim(),i=(0, mre.parseKeyPairsIntoRecord)(e),n=(0, mre.parseKeyPairsIntoRecord)(r);if(Object.keys(i).length===0&&Object.keys(n).length===0)return;let a=Object.assign({},n,i),o=(0, Cm.createEmptyMetadata)();for(let[s,c]of Object.entries(a))o.set(s,c);return o}function fze(t){let e=pze(t);if(e!=null)return ()=>e}function hze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_ENDPOINT`]?.trim(),r=process.env.OTEL_EXPORTER_OTLP_ENDPOINT?.trim();return cD(e,r)}function mze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_INSECURE`]?.toLowerCase().trim(),r=process.env.OTEL_EXPORTER_OTLP_INSECURE?.toLowerCase().trim();return cD(e,r)==="true"}function lD(t,e,r){let i=process.env[t]?.trim(),n=process.env[e]?.trim(),a=cD(i,n);if(a!=null)try{return uze.readFileSync(dze.resolve(process.cwd(),a))}catch{gre.diag.warn(r);return}else return}function _ze(t){return lD(`OTEL_EXPORTER_OTLP_${t}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function gze(t){return lD(`OTEL_EXPORTER_OTLP_${t}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function _re(t){return lD(`OTEL_EXPORTER_OTLP_${t}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function Ere(t){let e=gze(t),r=_ze(t),i=_re(t),n=e!=null&&r!=null;return i!=null&&!n?(gre.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0, Cm.createSslCredentials)(_re(t))):(0, Cm.createSslCredentials)(i,e,r)}function Eze(t){return mze(t)?(0, Cm.createInsecureCredentials)():Ere(t)}function Sze(t){return {...(0, lze.getSharedConfigurationFromEnvironment)(t),metadata:fze(t),url:hze(t),credentials:e=>e.startsWith("http://")?()=>(0, Cm.createInsecureCredentials)():e.startsWith("https://")?()=>Ere(t):()=>Eze(t)}}Uv.getOtlpGrpcConfigurationFromEnv=Sze;});var yre=y(kv=>{Object.defineProperty(kv,"__esModule",{value:true});kv.convertLegacyOtlpGrpcOptions=void 0;var Tze=(P(),$(Ve)),Tre=hre(),yze=bm(),vze=Sre();function Aze(t,e){t.headers&&Tze.diag.warn("Headers cannot be set when using grpc");let r=t.credentials;return (0, Tre.mergeOtlpGrpcConfigurationWithDefaults)({url:t.url,metadata:()=>t.metadata??(0, yze.createEmptyMetadata)(),compression:t.compression,timeoutMillis:t.timeoutMillis,concurrencyLimit:t.concurrencyLimit,credentials:r!=null?()=>r:void 0},(0, vze.getOtlpGrpcConfigurationFromEnv)(e),(0, Tre.getOtlpGrpcDefaultConfiguration)())}kv.convertLegacyOtlpGrpcOptions=Aze;});var vre=y($v=>{Object.defineProperty($v,"__esModule",{value:true});$v.createOtlpGrpcExportDelegate=void 0;var Rze=(ji(),$(_h)),Oze=bm();function Nze(t,e,r,i){return (0, Rze.createOtlpNetworkExportDelegate)(t,e,(0, Oze.createOtlpGrpcExporterTransport)({address:t.url,compression:t.compression,credentials:t.credentials,metadata:t.metadata,grpcName:r,grpcPath:i}))}$v.createOtlpGrpcExportDelegate=Nze;});var Vv=y(bd=>{Object.defineProperty(bd,"__esModule",{value:true});bd.createOtlpGrpcExportDelegate=bd.convertLegacyOtlpGrpcOptions=void 0;var bze=yre();Object.defineProperty(bd,"convertLegacyOtlpGrpcOptions",{enumerable:true,get:function(){return bze.convertLegacyOtlpGrpcOptions}});var Pze=vre();Object.defineProperty(bd,"createOtlpGrpcExportDelegate",{enumerable:true,get:function(){return Pze.createOtlpGrpcExportDelegate}});});var Rre=y(Bv=>{Object.defineProperty(Bv,"__esModule",{value:true});Bv.OTLPLogExporter=void 0;var Are=Vv(),Cze=(Wi(),$(MT)),xze=(ji(),$(_h)),uD=class extends xze.OTLPExporterBase{constructor(e={}){super((0, Are.createOtlpGrpcExportDelegate)((0, Are.convertLegacyOtlpGrpcOptions)(e,"LOGS"),Cze.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"));}};Bv.OTLPLogExporter=uD;});var Ore=y(zv=>{Object.defineProperty(zv,"__esModule",{value:true});zv.OTLPLogExporter=void 0;var Ize=Rre();Object.defineProperty(zv,"OTLPLogExporter",{enumerable:true,get:function(){return Ize.OTLPLogExporter}});});var Nre,bre=_(()=>{Nre="0.204.0";});var Pd,Pre=_(()=>{ji();Wi();Hs();bre();Pd=class extends Kr{constructor(e={}){super(Xr(Jr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Nre}`,"Content-Type":"application/x-protobuf"}),Th));}};});var Cre=_(()=>{Pre();});var xre=_(()=>{Cre();});var Ire={};Ne(Ire,{OTLPLogExporter:()=>Pd});var Mre=_(()=>{xre();});var ml,dD=_(()=>{(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE",t[t.LOWMEMORY=2]="LOWMEMORY";})(ml||(ml={}));});function Mze(){let t=(zt("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();return t==="cumulative"?xm:t==="delta"?Fv:t==="lowmemory"?Hv:(T.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${t}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),xm)}function wze(t){return t!=null?t===ml.DELTA?Fv:t===ml.LOWMEMORY?Hv:xm:Mze()}function Dze(t){return t?.aggregationPreference??(()=>Lze)}var xm,Fv,Hv,Lze,la,pD=_(()=>{Q();Wt();dD();ji();P();xm=()=>mt.CUMULATIVE,Fv=t=>{switch(t){case le.COUNTER:case le.OBSERVABLE_COUNTER:case le.GAUGE:case le.HISTOGRAM:case le.OBSERVABLE_GAUGE:return mt.DELTA;case le.UP_DOWN_COUNTER:case le.OBSERVABLE_UP_DOWN_COUNTER:return mt.CUMULATIVE}},Hv=t=>{switch(t){case le.COUNTER:case le.HISTOGRAM:return mt.DELTA;case le.GAUGE:case le.UP_DOWN_COUNTER:case le.OBSERVABLE_UP_DOWN_COUNTER:case le.OBSERVABLE_COUNTER:case le.OBSERVABLE_GAUGE:return mt.CUMULATIVE}};Lze=Object.freeze({type:yr.DEFAULT});la=class extends Kr{_aggregationTemporalitySelector;_aggregationSelector;constructor(e,r){super(e),this._aggregationSelector=Dze(r),this._aggregationTemporalitySelector=wze(r?.temporalityPreference);}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}};});var wre,Lre=_(()=>{wre="0.204.0";});var Uze,Cd,Dre=_(()=>{pD();Wi();Lre();Hs();Uze={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${wre}`},Cd=class extends la{constructor(e){super(Xr(Jr(e??{},"METRICS","v1/metrics",{...Uze,"Content-Type":"application/json"}),Oh),e);}};});var Ure=_(()=>{Dre();});var kre=_(()=>{Ure();});var fD={};Ne(fD,{AggregationTemporalityPreference:()=>ml,CumulativeTemporalitySelector:()=>xm,DeltaTemporalitySelector:()=>Fv,LowMemoryTemporalitySelector:()=>Hv,OTLPMetricExporter:()=>Cd,OTLPMetricExporterBase:()=>la});var Gv=_(()=>{kre();dD();pD();});var Vre=y(jv=>{Object.defineProperty(jv,"__esModule",{value:true});jv.OTLPMetricExporter=void 0;var kze=(Gv(),$(fD)),$re=Vv(),$ze=(Wi(),$(MT)),hD=class extends kze.OTLPMetricExporterBase{constructor(e){super((0, $re.createOtlpGrpcExportDelegate)((0, $re.convertLegacyOtlpGrpcOptions)(e??{},"METRICS"),$ze.ProtobufMetricsSerializer,"MetricsExportService","/opentelemetry.proto.collector.metrics.v1.MetricsService/Export"),e);}};jv.OTLPMetricExporter=hD;});var Bre=y(qv=>{Object.defineProperty(qv,"__esModule",{value:true});qv.OTLPMetricExporter=void 0;var Vze=Vre();Object.defineProperty(qv,"OTLPMetricExporter",{enumerable:true,get:function(){return Vze.OTLPMetricExporter}});});var zre,Fre=_(()=>{zre="0.204.0";});var xd,Hre=_(()=>{Gv();Wi();Fre();Hs();xd=class extends la{constructor(e){super(Xr(Jr(e??{},"METRICS","v1/metrics",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${zre}`,"Content-Type":"application/x-protobuf"}),vh),e);}};});var Gre=_(()=>{Hre();});var jre=_(()=>{Gre();});var qre={};Ne(qre,{OTLPMetricExporter:()=>xd});var Yre=_(()=>{jre();});var ED=y(Kv=>{Object.defineProperty(Kv,"__esModule",{value:true});Kv.PrometheusSerializer=void 0;var Bze=(P(),$(Ve)),_l=(Wt(),$(rh)),Wre=(Q(),$(Ui));function Wv(t){return t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}function Kre(t=""){return typeof t!="string"&&(t=JSON.stringify(t)),Wv(t).replace(/"/g,'\\"')}var zze=/[^a-z0-9_]/gi,Fze=/_{2,}/g;function _D(t){return t.replace(zze,"_").replace(Fze,"_")}function mD(t,e){return !t.endsWith("_total")&&e.dataPointType===_l.DataPointType.SUM&&e.isMonotonic&&(t=t+"_total"),t}function Hze(t){return t===1/0?"+Inf":t===-1/0?"-Inf":`${t}`}function Gze(t){switch(t.dataPointType){case _l.DataPointType.SUM:return t.isMonotonic?"counter":"gauge";case _l.DataPointType.GAUGE:return "gauge";case _l.DataPointType.HISTOGRAM:return "histogram";default:return "untyped"}}function Yv(t,e,r,i,n){let a=false,o="";for(let[s,c]of Object.entries(e)){let l=_D(s);a=true,o+=`${o.length>0?",":""}${l}="${Kre(c)}"`;}if(n)for(let[s,c]of Object.entries(n)){let l=_D(s);a=true,o+=`${o.length>0?",":""}${l}="${Kre(c)}"`;}return a&&(t+=`{${o}}`),`${t} ${Hze(r)}${i!==void 0?" "+String(i):""}
`}var jze="# no registered metrics",gD=class{_prefix;_appendTimestamp;_additionalAttributes;_withResourceConstantLabels;constructor(e,r=false,i){e&&(this._prefix=e+"_"),this._appendTimestamp=r,this._withResourceConstantLabels=i;}serialize(e){let r="";this._additionalAttributes=this._filterResourceConstantLabels(e.resource.attributes,this._withResourceConstantLabels);for(let i of e.scopeMetrics)r+=this._serializeScopeMetrics(i);return r===""&&(r+=jze),this._serializeResource(e.resource)+r}_filterResourceConstantLabels(e,r){if(r){let i={};for(let[n,a]of Object.entries(e))n.match(r)&&(i[n]=a);return i}}_serializeScopeMetrics(e){let r="";for(let i of e.metrics)r+=this._serializeMetricData(i)+`
`;return r}_serializeMetricData(e){let r=_D(Wv(e.descriptor.name));this._prefix&&(r=`${this._prefix}${r}`);let i=e.dataPointType;r=mD(r,e);let n=`# HELP ${r} ${Wv(e.descriptor.description||"description missing")}`,a=e.descriptor.unit?`
# UNIT ${r} ${Wv(e.descriptor.unit)}`:"",o=`# TYPE ${r} ${Gze(e)}`,s="";switch(i){case _l.DataPointType.SUM:case _l.DataPointType.GAUGE:{s=e.dataPoints.map(c=>this._serializeSingularDataPoint(r,e,c)).join("");break}case _l.DataPointType.HISTOGRAM:{s=e.dataPoints.map(c=>this._serializeHistogramDataPoint(r,e,c)).join("");break}default:Bze.diag.error(`Unrecognizable DataPointType: ${i} for metric "${r}"`);}return `${n}${a}
${o}
${s}`.trim()}_serializeSingularDataPoint(e,r,i){let n="";e=mD(e,r);let{value:a,attributes:o}=i,s=(0, Wre.hrTimeToMilliseconds)(i.endTime);return n+=Yv(e,o,a,this._appendTimestamp?s:void 0,this._additionalAttributes),n}_serializeHistogramDataPoint(e,r,i){let n="";e=mD(e,r);let a=i.attributes,o=i.value,s=(0, Wre.hrTimeToMilliseconds)(i.endTime);for(let d of ["count","sum"]){let p=o[d];p!=null&&(n+=Yv(e+"_"+d,a,p,this._appendTimestamp?s:void 0,this._additionalAttributes));}let c=0,l=o.buckets.counts.entries(),u=false;for(let[d,p]of l){c+=p;let f=o.buckets.boundaries[d];if(f===void 0&&u)break;f===1/0&&(u=true),n+=Yv(e+"_bucket",a,c,this._appendTimestamp?s:void 0,Object.assign({},this._additionalAttributes??{},{le:f===void 0||f===1/0?"+Inf":String(f)}));}return n}_serializeResource(e){let r="target_info",i=`# HELP ${r} Target metadata`,n=`# TYPE ${r} gauge`,a=Yv(r,e.attributes,1).trim();return `${i}
${n}
${a}
`}};Kv.PrometheusSerializer=gD;});var Zre=y(Zv=>{Object.defineProperty(Zv,"__esModule",{value:true});Zv.PrometheusExporter=void 0;var Im=(P(),$(Ve)),qze=(Q(),$(Ui)),SD=(Wt(),$(rh)),Yze=U("http"),Wze=ED(),Kze=U("url"),TD=class t extends SD.MetricReader{static DEFAULT_OPTIONS={host:void 0,port:9464,endpoint:"/metrics",prefix:"",appendTimestamp:false,withResourceConstantLabels:void 0};_host;_port;_baseUrl;_endpoint;_server;_prefix;_appendTimestamp;_serializer;_startServerPromise;constructor(e={},r=()=>{}){super({aggregationSelector:n=>({type:SD.AggregationType.DEFAULT}),aggregationTemporalitySelector:n=>SD.AggregationTemporality.CUMULATIVE,metricProducers:e.metricProducers}),this._host=e.host||process.env.OTEL_EXPORTER_PROMETHEUS_HOST||t.DEFAULT_OPTIONS.host,this._port=e.port||Number(process.env.OTEL_EXPORTER_PROMETHEUS_PORT)||t.DEFAULT_OPTIONS.port,this._prefix=e.prefix||t.DEFAULT_OPTIONS.prefix,this._appendTimestamp=typeof e.appendTimestamp=="boolean"?e.appendTimestamp:t.DEFAULT_OPTIONS.appendTimestamp;let i=e.withResourceConstantLabels||t.DEFAULT_OPTIONS.withResourceConstantLabels;this._server=(0, Yze.createServer)(this._requestHandler).unref(),this._serializer=new Wze.PrometheusSerializer(this._prefix,this._appendTimestamp,i),this._baseUrl=`http://${this._host}:${this._port}/`,this._endpoint=(e.endpoint||t.DEFAULT_OPTIONS.endpoint).replace(/^([^/])/,"/$1"),e.preventServerStart!==true?this.startServer().then(r,n=>{Im.diag.error(n),r(n);}):r&&queueMicrotask(r);}async onForceFlush(){}onShutdown(){return this.stopServer()}stopServer(){return this._server?new Promise(e=>{this._server.close(r=>{r?r.code!=="ERR_SERVER_NOT_RUNNING"&&(0, qze.globalErrorHandler)(r):Im.diag.debug("Prometheus exporter was stopped"),e();});}):(Im.diag.debug("Prometheus stopServer() was called but server was never started."),Promise.resolve())}startServer(){return this._startServerPromise??=new Promise((e,r)=>{this._server.once("error",r),this._server.listen({port:this._port,host:this._host},()=>{Im.diag.debug(`Prometheus exporter server started: ${this._host}:${this._port}/${this._endpoint}`),e();});}),this._startServerPromise}getMetricsRequestHandler(e,r){this._exportMetrics(r);}_requestHandler=(e,r)=>{e.url!=null&&new Kze.URL(e.url,this._baseUrl).pathname===this._endpoint?this._exportMetrics(r):this._notFound(r);};_exportMetrics=e=>{e.statusCode=200,e.setHeader("content-type","text/plain"),this.collect().then(r=>{let{resourceMetrics:i,errors:n}=r;n.length&&Im.diag.error("PrometheusExporter: metrics collection errors",...n),e.end(this._serializer.serialize(i));},r=>{e.end(`# failed to export metrics: ${r}`);});};_notFound=e=>{e.statusCode=404,e.end();}};Zv.PrometheusExporter=TD;});var Xre=y(Id=>{Object.defineProperty(Id,"__esModule",{value:true});Id.PrometheusSerializer=Id.PrometheusExporter=void 0;var Zze=Zre();Object.defineProperty(Id,"PrometheusExporter",{enumerable:true,get:function(){return Zze.PrometheusExporter}});var Xze=ED();Object.defineProperty(Id,"PrometheusSerializer",{enumerable:true,get:function(){return Xze.PrometheusSerializer}});});var Jre,Qre=_(()=>{Jre="0.204.0";});var Md,ene=_(()=>{ji();Wi();Qre();Hs();Md=class extends Kr{constructor(e={}){super(Xr(Jr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Jre}`,"Content-Type":"application/x-protobuf"}),Ah));}};});var tne=_(()=>{ene();});var rne=_(()=>{tne();});var nne={};Ne(nne,{OTLPTraceExporter:()=>Md});var ine=_(()=>{rne();});var one,sne=_(()=>{one="0.204.0";});var wd,ane=_(()=>{ji();sne();Wi();Hs();wd=class extends Kr{constructor(e={}){super(Xr(Jr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${one}`,"Content-Type":"application/json"}),Nh));}};});var cne=_(()=>{ane();});var lne=_(()=>{cne();});var une={};Ne(une,{OTLPTraceExporter:()=>wd});var dne=_(()=>{lne();});var fne=y(Xv=>{Object.defineProperty(Xv,"__esModule",{value:true});Xv.OTLPTraceExporter=void 0;var pne=Vv(),Jze=(Wi(),$(MT)),Qze=(ji(),$(_h)),yD=class extends Qze.OTLPExporterBase{constructor(e={}){super((0, pne.createOtlpGrpcExportDelegate)((0, pne.convertLegacyOtlpGrpcOptions)(e,"TRACES"),Jze.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"));}};Xv.OTLPTraceExporter=yD;});var hne=y(Jv=>{Object.defineProperty(Jv,"__esModule",{value:true});Jv.OTLPTraceExporter=void 0;var eFe=fne();Object.defineProperty(Jv,"OTLPTraceExporter",{enumerable:true,get:function(){return eFe.OTLPTraceExporter}});});function gl(t,e){let r=new URL(t),i=Object.assign({method:"POST",headers:{"Content-Type":"application/json",...e}});return function(a,o){if(a.length===0)return T.debug("Zipkin send with empty spans"),o({code:W.SUCCESS});let{request:s}=r.protocol==="http:"?tp__namespace:rp__namespace,c=s(r,i,u=>{let d="";u.on("data",p=>{d+=p;}),u.on("end",()=>{let p=u.statusCode||0;return T.debug(`Zipkin response status code: ${p}, body: ${d}`),p<400?o({code:W.SUCCESS}):o({code:W.FAILED,error:new Error(`Got unexpected status code from zipkin: ${p}`)})});});c.on("error",u=>o({code:W.FAILED,error:u}));let l=JSON.stringify(a);T.debug(`Zipkin request payload: ${l}`),c.write(l,"utf8"),c.end();}}var mne=_(()=>{P();Q();});var _ne=_(()=>{mne();});var vD=_(()=>{_ne();});var El,gne=_(()=>{(function(t){t.CLIENT="CLIENT",t.SERVER="SERVER",t.CONSUMER="CONSUMER",t.PRODUCER="PRODUCER";})(El||(El={}));});function Tne(t,e,r,i){return {traceId:t.spanContext().traceId,parentId:t.parentSpanContext?.spanId,name:t.name,id:t.spanContext().spanId,kind:iFe[t.kind],timestamp:Tr(t.startTime),duration:Math.round(Tr(t.duration)),localEndpoint:{serviceName:e},tags:oFe(t,r,i),annotations:t.events.length?sFe(t.events):void 0}}function oFe({attributes:t,resource:e,status:r,droppedAttributesCount:i,droppedEventsCount:n,droppedLinksCount:a},o,s){let c={};for(let l of Object.keys(t))c[l]=String(t[l]);return r.code!==Qe.UNSET&&(c[o]=String(Qe[r.code])),r.code===Qe.ERROR&&r.message&&(c[s]=r.message),i&&(c["otel.dropped_attributes_count"]=String(i)),n&&(c["otel.dropped_events_count"]=String(n)),a&&(c["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(l=>c[l]=String(e.attributes[l])),c}function sFe(t){return t.map(e=>({timestamp:Math.round(Tr(e.time)),value:e.name}))}var iFe,Ene,Sne,yne=_(()=>{P();Q();gne();iFe={[ge.CLIENT]:El.CLIENT,[ge.SERVER]:El.SERVER,[ge.CONSUMER]:El.CONSUMER,[ge.PRODUCER]:El.PRODUCER,[ge.INTERNAL]:void 0},Ene="otel.status_code",Sne="error";});function vne(t){return function(){return t()}}var Ane=_(()=>{});var Qv,Rne=_(()=>{P();Q();vD();yne();ht();Ane();Qv=class{DEFAULT_SERVICE_NAME="OpenTelemetry Service";_statusCodeTagName;_statusDescriptionTagName;_urlStr;_send;_getHeaders;_serviceName;_isShutdown;_sendingPromises=[];constructor(e={}){this._urlStr=e.url||(zt("OTEL_EXPORTER_ZIPKIN_ENDPOINT")??"http://localhost:9411/api/v2/spans"),this._send=gl(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||Ene,this._statusDescriptionTagName=e.statusDescriptionTagName||Sne,this._isShutdown=false,typeof e.getExportRequestHeaders=="function"?this._getHeaders=vne(e.getExportRequestHeaders):this._beforeSend=function(){};}export(e,r){let i=String(this._serviceName||e[0].resource.attributes[Do]||this.DEFAULT_SERVICE_NAME);if(T.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>r({code:W.FAILED,error:new Error("Exporter has been shutdown")}));return}let n=new Promise(o=>{this._sendSpans(e,i,s=>{o(),r(s);});});this._sendingPromises.push(n);let a=()=>{let o=this._sendingPromises.indexOf(n);this._sendingPromises.splice(o,1);};n.then(a,a);}shutdown(){return T.debug("Zipkin exporter shutdown"),this._isShutdown=true,this.forceFlush()}forceFlush(){return new Promise((e,r)=>{Promise.all(this._sendingPromises).then(()=>{e();},r);})}_beforeSend(){this._getHeaders&&(this._send=gl(this._urlStr,this._getHeaders()));}_sendSpans(e,r,i){let n=e.map(a=>Tne(a,String(a.attributes[Do]||a.resource.attributes[Do]||r),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(n,a=>{if(i)return i(a)})}};});var One={};Ne(One,{ZipkinExporter:()=>Qv,prepareSend:()=>gl});var Nne=_(()=>{vD();Rne();});var Ld,AD=_(()=>{P();Ld=gr("OpenTelemetry Context Key B3 Debug Flag");});var Dd,Ud,kd,$d,eA,Vd,RD=_(()=>{Dd="b3",Ud="x-b3-traceid",kd="x-b3-spanid",$d="x-b3-sampled",eA="x-b3-parentspanid",Vd="x-b3-flags";});function lFe(t){return t===Ce.SAMPLED||t===Ce.NONE}function uFe(t){return Array.isArray(t)?t[0]:t}function rA(t,e,r){let i=e.get(t,r);return uFe(i)}function dFe(t,e){let r=rA(t,e,Ud);return typeof r=="string"?r.padStart(32,"0"):""}function pFe(t,e){let r=rA(t,e,kd);return typeof r=="string"?r:""}function bne(t,e){return rA(t,e,Vd)==="1"?"1":void 0}function fFe(t,e){let r=rA(t,e,$d);if(bne(t,e)==="1"||aFe.has(r))return Ce.SAMPLED;if(r===void 0||cFe.has(r))return Ce.NONE}var aFe,cFe,tA,Pne=_(()=>{P();Q();AD();RD();aFe=new Set([true,"true","True","1",1]),cFe=new Set([false,"false","False","0",0]);tA=class{inject(e,r,i){let n=se.getSpanContext(e);if(!n||!jt(n)||Sr(e))return;let a=e.getValue(Ld);i.set(r,Ud,n.traceId),i.set(r,kd,n.spanId),a==="1"?i.set(r,Vd,a):n.traceFlags!==void 0&&i.set(r,$d,(Ce.SAMPLED&n.traceFlags)===Ce.SAMPLED?"1":"0");}extract(e,r,i){let n=dFe(r,i),a=pFe(r,i),o=fFe(r,i),s=bne(r,i);return Lo(n)&&vc(a)&&lFe(o)?(e=e.setValue(Ld,s),se.setSpanContext(e,{traceId:n,spanId:a,isRemote:true,traceFlags:o})):e}fields(){return [Ud,kd,Vd,$d,eA]}};});function EFe(t){return t.length===32?t:`${mFe}${t}`}function SFe(t){return t&&_Fe.has(t)?Ce.SAMPLED:Ce.NONE}var hFe,mFe,_Fe,gFe,nA,Cne=_(()=>{P();Q();AD();hFe=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,mFe="0".repeat(16),_Fe=new Set(["d","1"]),gFe="d";nA=class{inject(e,r,i){let n=se.getSpanContext(e);if(!n||!jt(n)||Sr(e))return;let a=e.getValue(Ld)||n.traceFlags&1,o=`${n.traceId}-${n.spanId}-${a}`;i.set(r,"b3",o);}extract(e,r,i){let n=i.get(r,"b3"),a=Array.isArray(n)?n[0]:n;if(typeof a!="string")return e;let o=a.match(hFe);if(!o)return e;let[,s,c,l]=o,u=EFe(s);if(!Lo(u)||!vc(c))return e;let d=SFe(l);return l===gFe&&(e=e.setValue(Ld,l)),se.setSpanContext(e,{traceId:u,spanId:c,isRemote:true,traceFlags:d})}fields(){return ["b3"]}};});var Bd,OD=_(()=>{(function(t){t[t.SINGLE_HEADER=0]="SINGLE_HEADER",t[t.MULTI_HEADER=1]="MULTI_HEADER";})(Bd||(Bd={}));});var iA,xne=_(()=>{Q();Pne();Cne();OD();iA=class{_b3MultiPropagator=new tA;_b3SinglePropagator=new nA;_inject;_fields;constructor(e={}){e.injectEncoding===Bd.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields());}inject(e,r,i){Sr(e)||this._inject(e,r,i);}extract(e,r,i){let n=i.get(r,"b3");return (Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(e,r,i):this._b3MultiPropagator.extract(e,r,i)}fields(){return this._fields}};});var Ine={};Ne(Ine,{B3InjectEncoding:()=>Bd,B3Propagator:()=>iA,B3_CONTEXT_HEADER:()=>Dd,X_B3_FLAGS:()=>Vd,X_B3_PARENT_SPAN_ID:()=>eA,X_B3_SAMPLED:()=>$d,X_B3_SPAN_ID:()=>kd,X_B3_TRACE_ID:()=>Ud});var Mne=_(()=>{xne();RD();OD();});function yFe(t){let e=decodeURIComponent(t).split(":");if(e.length!==4)return null;let[r,i,,n]=e,a=r.padStart(32,"0"),o=i.padStart(16,"0"),s=TFe.test(n)?parseInt(n,16)&1:1;return {traceId:a,spanId:o,isRemote:true,traceFlags:s}}var ND,oA,sA,TFe,wne=_(()=>{P();Q();ND="uber-trace-id",oA="uberctx",sA=class{_jaegerTraceHeader;_jaegerBaggageHeaderPrefix;constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=oA):(this._jaegerTraceHeader=e?.customTraceHeader||ND,this._jaegerBaggageHeaderPrefix=e?.customBaggageHeaderPrefix||oA);}inject(e,r,i){let n=se.getSpanContext(e),a=qt.getBaggage(e);if(n&&Sr(e)===false){let o=`0${(n.traceFlags||Ce.NONE).toString(16)}`;i.set(r,this._jaegerTraceHeader,`${n.traceId}:${n.spanId}:0:${o}`);}if(a)for(let[o,s]of a.getAllEntries())i.set(r,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(s.value));}extract(e,r,i){let n=i.get(r,this._jaegerTraceHeader),a=Array.isArray(n)?n[0]:n,o=i.keys(r).filter(l=>l.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(l=>{let u=i.get(r,l);return {key:l.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(u)?u[0]:u}}),s=e;if(typeof a=="string"){let l=yFe(a);l&&(s=se.setSpanContext(s,l));}if(o.length===0)return s;let c=qt.getBaggage(e)??qt.createBaggage();for(let l of o)l.value!==void 0&&(c=c.setEntry(l.key,{value:decodeURIComponent(l.value)}));return s=qt.setBaggage(s,c),s}fields(){return [this._jaegerTraceHeader]}},TFe=/^[0-9a-f]{1,2}$/i;});var Lne={};Ne(Lne,{JaegerPropagator:()=>sA,UBER_BAGGAGE_HEADER_PREFIX:()=>oA,UBER_TRACE_ID_HEADER:()=>ND});var Dne=_(()=>{wne();});var Vne=y(qn=>{Object.defineProperty(qn,"__esModule",{value:true});qn.getPropagatorFromEnv=qn.getSpanProcessorsFromEnv=qn.getOtlpProtocolFromEnv=qn.filterBlanksAndNulls=qn.getResourceDetectorsFromEnv=void 0;var ua=(P(),$(Ve)),da=(Q(),$(Ui)),Une=(ine(),$(nne)),vFe=(dne(),$(une)),AFe=hne(),RFe=(Nne(),$(One)),Mm=($i(),$(LE)),aA=(Gi(),$(Iu)),bD=(Mne(),$(Ine)),OFe=(Dne(),$(Lne)),NFe="env",bFe="host",PFe="os",CFe="process",xFe="serviceinstance";function IFe(){let t=new Map([[NFe,Mm.envDetector],[bFe,Mm.hostDetector],[PFe,Mm.osDetector],[xFe,Mm.serviceInstanceIdDetector],[CFe,Mm.processDetector]]),e=(0, da.getStringListFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")??["all"];return e.includes("all")?[...t.values()].flat():e.includes("none")?[]:e.flatMap(r=>{let i=t.get(r);return i||ua.diag.warn(`Invalid resource detector "${r}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),i||[]})}qn.getResourceDetectorsFromEnv=IFe;function kne(t){return t.map(e=>e.trim()).filter(e=>e!=="null"&&e!=="")}qn.filterBlanksAndNulls=kne;function $ne(){return (0, da.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_PROTOCOL")??(0, da.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf"}qn.getOtlpProtocolFromEnv=$ne;function MFe(){let t=$ne();switch(t){case "grpc":return new AFe.OTLPTraceExporter;case "http/json":return new vFe.OTLPTraceExporter;case "http/protobuf":return new Une.OTLPTraceExporter;default:return ua.diag.warn(`Unsupported OTLP traces protocol: ${t}. Using http/protobuf.`),new Une.OTLPTraceExporter}}function wFe(){try{let{JaegerExporter:t}=U("@opentelemetry/exporter-jaeger");return new t}catch(t){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${t}`)}}function LFe(){let t=new Map([["otlp",()=>MFe()],["zipkin",()=>new RFe.ZipkinExporter],["console",()=>new aA.ConsoleSpanExporter],["jaeger",()=>wFe()]]),e=[],r=[],i=kne(Array.from(new Set((0, da.getStringListFromEnv)("OTEL_TRACES_EXPORTER"))));if(i[0]==="none")return ua.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];i.length===0?(ua.diag.debug("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),i=["otlp"]):i.length>1&&i.includes("none")&&(ua.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),i=["otlp"]);for(let n of i){let a=t.get(n)?.();a?e.push(a):ua.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${n}.`);}for(let n of e)n instanceof aA.ConsoleSpanExporter?r.push(new aA.SimpleSpanProcessor(n)):r.push(new aA.BatchSpanProcessor(n));return e.length===0&&ua.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."),r}qn.getSpanProcessorsFromEnv=LFe;function DFe(){let t=(0, da.getStringListFromEnv)("OTEL_PROPAGATORS");if(t==null)return;let e=new Map([["tracecontext",()=>new da.W3CTraceContextPropagator],["baggage",()=>new da.W3CBaggagePropagator],["b3",()=>new bD.B3Propagator],["b3multi",()=>new bD.B3Propagator({injectEncoding:bD.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new OFe.JaegerPropagator]]),r=Array.from(new Set(t)),n=r.map(a=>{let o=e.get(a)?.();if(!o){ua.diag.warn(`Propagator "${a}" requested through environment variable is unavailable.`);return}return o}).reduce((a,o)=>(o&&a.push(o),a),[]);return n.length===0?null:r.length===1?n[0]:new da.CompositePropagator({propagators:n})}qn.getPropagatorFromEnv=DFe;});var Fne=y(cA=>{Object.defineProperty(cA,"__esModule",{value:true});cA.NodeSDK=void 0;var Mr=(P(),$(Ve)),UFe=(In(),$(bc)),kFe=(Wr(),$(Yr)),zd=($i(),$(LE)),wm=(GE(),$(Nx)),$Fe=(r7(),$(t7)),VFe=Ore(),PD=(Mre(),$(Ire)),BFe=Bre(),Bne=(Yre(),$(qre)),zFe=(Gv(),$(fD)),FFe=Xre(),Sl=(Wt(),$(rh)),HFe=(Gi(),$(Iu)),GFe=fI(),jFe=(ht(),$(Gr)),pa=(Q(),$(Ui)),CD=Vne();function zne(t,e){return parseInt(process.env[t]||"")||e}function qFe(){let t=[],e=(0, pa.getStringListFromEnv)("OTEL_METRICS_EXPORTER");return e?(e.length===0&&Mr.diag.debug("OTEL_METRICS_EXPORTER is empty. Using default otlp exporter."),e.includes("none")?(Mr.diag.info('OTEL_METRICS_EXPORTER contains "none". Metric provider will not be initialized.'),t):(e.forEach(r=>{if(r==="otlp"){let i=process.env.OTEL_EXPORTER_OTLP_METRICS_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),n=zne("OTEL_METRIC_EXPORT_INTERVAL",6e4),a=zne("OTEL_METRIC_EXPORT_TIMEOUT",3e4);switch(i){case "grpc":t.push(new Sl.PeriodicExportingMetricReader({exporter:new BFe.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;case "http/json":t.push(new Sl.PeriodicExportingMetricReader({exporter:new zFe.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;case "http/protobuf":t.push(new Sl.PeriodicExportingMetricReader({exporter:new Bne.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;default:Mr.diag.warn(`Unsupported OTLP metrics protocol: "${i}". Using http/protobuf.`),t.push(new Sl.PeriodicExportingMetricReader({exporter:new Bne.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));}}else r==="console"?t.push(new Sl.PeriodicExportingMetricReader({exporter:new Sl.ConsoleMetricExporter})):r==="prometheus"?t.push(new FFe.PrometheusExporter):Mr.diag.warn(`Unsupported OTEL_METRICS_EXPORTER value: "${r}". Supported values are: otlp, console, prometheus, none.`);}),t)):t}var xD=class{_tracerProviderConfig;_loggerProviderConfig;_meterProviderConfig;_instrumentations;_resource;_resourceDetectors;_autoDetectResources;_tracerProvider;_loggerProvider;_meterProvider;_serviceName;_configuration;_disabled;constructor(e={}){(0, pa.getBooleanFromEnv)("OTEL_SDK_DISABLED")&&(this._disabled=true);let r=(0, pa.getStringFromEnv)("OTEL_LOG_LEVEL");if(r!=null&&Mr.diag.setLogger(new Mr.DiagConsoleLogger,{logLevel:(0, pa.diagLogLevelFromString)(r)}),this._configuration=e,this._resource=e.resource??(0, zd.defaultResource)(),this._autoDetectResources=e.autoDetectResources??true,this._autoDetectResources?e.resourceDetectors!=null?this._resourceDetectors=e.resourceDetectors:(0, pa.getStringFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")?this._resourceDetectors=(0, CD.getResourceDetectorsFromEnv)():this._resourceDetectors=[zd.envDetector,zd.processDetector,zd.hostDetector]:this._resourceDetectors=[],this._serviceName=e.serviceName,e.traceExporter||e.spanProcessor||e.spanProcessors){let i={};e.sampler&&(i.sampler=e.sampler),e.spanLimits&&(i.spanLimits=e.spanLimits),e.idGenerator&&(i.idGenerator=e.idGenerator),e.spanProcessor&&Mr.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let n=e.spanProcessor??new HFe.BatchSpanProcessor(e.traceExporter),a=e.spanProcessors??[n];this._tracerProviderConfig={tracerConfig:i,spanProcessors:a,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator};}if(e.logRecordProcessors?this._loggerProviderConfig={logRecordProcessors:e.logRecordProcessors}:e.logRecordProcessor?(this._loggerProviderConfig={logRecordProcessors:[e.logRecordProcessor]},Mr.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.")):this.configureLoggerProviderFromEnv(),e.metricReaders||e.metricReader||e.views){let i={};e.metricReaders?i.readers=e.metricReaders:e.metricReader&&(i.readers=[e.metricReader],Mr.diag.warn("The 'metricReader' option is deprecated. Please use 'metricReaders' instead.")),e.views&&(i.views=e.views),this._meterProviderConfig=i;}this._instrumentations=e.instrumentations?.flat()??[];}start(){if(this._disabled)return;if((0, kFe.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let i={detectors:this._resourceDetectors};this._resource=this._resource.merge((0, zd.detectResources)(i));}this._resource=this._serviceName===void 0?this._resource:this._resource.merge((0, zd.resourceFromAttributes)({[jFe.ATTR_SERVICE_NAME]:this._serviceName}));let e=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0, CD.getSpanProcessorsFromEnv)();if(this._tracerProvider=new GFe.NodeTracerProvider({...this._configuration,resource:this._resource,spanProcessors:e}),e.length>0&&this._tracerProvider.register({contextManager:this._tracerProviderConfig?.contextManager??this._configuration?.contextManager,propagator:this._tracerProviderConfig?.textMapPropagator??(0, CD.getPropagatorFromEnv)()}),this._loggerProviderConfig){let i=new wm.LoggerProvider({resource:this._resource,processors:this._loggerProviderConfig.logRecordProcessors});this._loggerProvider=i,UFe.logs.setGlobalLoggerProvider(i);}let r=qFe();if(this._meterProviderConfig||r.length>0){let i=[];this._meterProviderConfig?.readers&&i.push(...this._meterProviderConfig.readers),i.length===0&&r.forEach(a=>i.push(a));let n=new Sl.MeterProvider({resource:this._resource,views:this._meterProviderConfig?.views??[],readers:i});this._meterProvider=n,Mr.metrics.setGlobalMeterProvider(n);for(let a of this._instrumentations)a.setMeterProvider(Mr.metrics.getMeterProvider());}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}configureLoggerProviderFromEnv(){let e=(0, pa.getStringListFromEnv)("OTEL_LOGS_EXPORTER")??[];if(e.length===0&&(Mr.diag.debug("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),e.push("otlp")),e.includes("none")){Mr.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let r=[];e.forEach(i=>{if(i==="otlp"){let n=((0, pa.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_PROTOCOL")??(0, pa.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL"))?.trim();switch(n){case "grpc":r.push(new VFe.OTLPLogExporter);break;case "http/json":r.push(new $Fe.OTLPLogExporter);break;case "http/protobuf":r.push(new PD.OTLPLogExporter);break;case void 0:case "":r.push(new PD.OTLPLogExporter);break;default:Mr.diag.warn(`Unsupported OTLP logs protocol: "${n}". Using http/protobuf.`),r.push(new PD.OTLPLogExporter);}}else i==="console"?r.push(new wm.ConsoleLogRecordExporter):Mr.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${i}". Supported values are: otlp, console, none.`);}),r.length>0&&(this._loggerProviderConfig={logRecordProcessors:r.map(i=>i instanceof wm.ConsoleLogRecordExporter?new wm.SimpleLogRecordProcessor(i):new wm.BatchLogRecordProcessor(i))});}};cA.NodeSDK=xD;});var Hne=y($t=>{Object.defineProperty($t,"__esModule",{value:true});$t.NodeSDK=$t.tracing=$t.resources=$t.node=$t.metrics=$t.logs=$t.core=$t.contextBase=$t.api=void 0;$t.api=(P(),$(Ve));$t.contextBase=(P(),$(Ve));$t.core=(Q(),$(Ui));$t.logs=(GE(),$(Nx));$t.metrics=(Wt(),$(rh));$t.node=fI();$t.resources=($i(),$(LE));$t.tracing=(Gi(),$(Iu));var YFe=Fne();Object.defineProperty($t,"NodeSDK",{enumerable:true,get:function(){return YFe.NodeSDK}});});function fa(t){return t.setValue(XD,true)}function gie(t){return t.deleteValue(XD)}function Gd(t){return t.getValue(XD)===true}var XD,km=_(()=>{P();XD=gr("OpenTelemetry SDK Context Key SUPPRESS_TRACING");});var RA,Eie=_(()=>{RA="baggage";});function Tie(t){return t.reduce((e,r)=>{let i=`${e}${e!==""?",":""}${r}`;return i.length>8192?e:i},"")}function yie(t){return t.getAllEntries().map(([e,r])=>{let i=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(i+=";"+r.metadata.toString()),i})}function JD(t){let e=t.split(";");if(e.length<=0)return;let r=e.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let n=decodeURIComponent(r.substring(0,i).trim()),a=decodeURIComponent(r.substring(i+1).trim()),o;return e.length>0&&(o=Zl(e.join(";"))),{key:n,value:a,metadata:o}}function vie(t){let e={};return typeof t=="string"&&t.length>0&&t.split(",").forEach(r=>{let i=JD(r);i!==void 0&&i.value.length>0&&(e[i.key]=i.value);}),e}var QD=_(()=>{P();});var NA,Aie=_(()=>{P();km();Eie();QD();NA=class{inject(e,r,i){let n=qt.getBaggage(e);if(!n||Gd(e))return;let a=yie(n).filter(s=>s.length<=4096).slice(0,180),o=Tie(a);o.length>0&&i.set(r,RA,o);}extract(e,r,i){let n=i.get(r,RA),a=Array.isArray(n)?n.join(","):n;if(!a)return e;let o={};return a.length===0||(a.split(",").forEach(c=>{let l=JD(c);if(l){let u={value:l.value};l.metadata&&(u.metadata=l.metadata),o[l.key]=u;}}),Object.entries(o).length===0)?e:qt.setBaggage(e,qt.createBaggage(o))}fields(){return [RA]}};});var bA,Rie=_(()=>{bA=class{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now();}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};});function vl(t){let e={};if(typeof t!="object"||t==null)return e;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;if(!yHe(r)){T.warn(`Invalid attribute key: ${r}`);continue}let i=t[r];if(!$m(i)){T.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?e[r]=i.slice():e[r]=i;}return e}function yHe(t){return typeof t=="string"&&t!==""}function $m(t){return t==null?true:Array.isArray(t)?vHe(t):Oie(typeof t)}function vHe(t){let e;for(let r of t){if(r==null)continue;let i=typeof r;if(i!==e){if(!e){if(Oie(i)){e=i;continue}return  false}return  false}}return  true}function Oie(t){switch(t){case "number":case "boolean":case "string":return  true}return  false}var Nie=_(()=>{P();});function PA(){return t=>{T.error(AHe(t));}}function AHe(t){return typeof t=="string"?t:JSON.stringify(RHe(t))}function RHe(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(i=>{if(e[i])return;let n=r[i];n&&(e[i]=String(n));}),r=Object.getPrototypeOf(r);return e}var eU=_(()=>{P();});function Pie(t){bie=t;}function Cie(t){try{bie(t);}catch{}}var bie,xie=_(()=>{eU();bie=PA();});function CA(t){let e=process.env[t];if(e==null||e.trim()==="")return;let r=Number(e);if(isNaN(r)){T.warn(`Unknown value ${N8.inspect(e)} for ${t}, expected a number, using defaults`);return}return r}function Vm(t){let e=process.env[t];if(!(e==null||e.trim()===""))return e}function xA(t){let e=process.env[t]?.trim().toLowerCase();return e==null||e===""?false:e==="true"?true:(e==="false"||T.warn(`Unknown value ${N8.inspect(e)} for ${t}, expected 'true' or 'false', falling back to 'false' (default)`),false)}function IA(t){return Vm(t)?.split(",").map(e=>e.trim()).filter(e=>e!=="")}var Mie=_(()=>{P();});var MA,wie=_(()=>{MA=typeof globalThis=="object"?globalThis:global;});var ha,Lie=_(()=>{ha=perf_hooks.performance;});var Die,Uie=_(()=>{Die="2.2.0";});var kie,$ie=_(()=>{kie="process.runtime.name";});var wA,Vie=_(()=>{Uie();ht();$ie();wA={[Cs]:"opentelemetry",[kie]:"node",[Ps]:Lf,[xs]:Die};});var Bie=_(()=>{Mie();wie();Lie();Vie();});var tU=_(()=>{Bie();});function jd(t){let e=t/1e3,r=Math.trunc(e),i=Math.round(t%1e3*bHe);return [r,i]}function DA(){let t=ha.timeOrigin;if(typeof t!="number"){let e=ha;t=e.timing&&e.timing.fetchStart;}return t}function rU(t){let e=jd(DA()),r=jd(typeof t=="number"?t:ha.now());return nU(e,r)}function Fie(t){if(UA(t))return t;if(typeof t=="number")return t<DA()?rU(t):jd(t);if(t instanceof Date)return jd(t.getTime());throw TypeError("Invalid input type")}function Hie(t,e){let r=e[0]-t[0],i=e[1]-t[1];return i<0&&(r-=1,i+=LA),[r,i]}function Gie(t){let e=zie,r=`${"0".repeat(e)}${t[1]}Z`,i=r.substring(r.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",i)}function jie(t){return t[0]*LA+t[1]}function qie(t){return t[0]*1e3+t[1]/1e6}function Yie(t){return t[0]*1e6+t[1]/1e3}function UA(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function Wie(t){return UA(t)||typeof t=="number"||t instanceof Date}function nU(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=LA&&(r[1]-=LA,r[0]+=1),r}var zie,NHe,bHe,LA,Kie=_(()=>{tU();zie=9,NHe=6,bHe=Math.pow(10,NHe),LA=Math.pow(10,zie);});function Zie(t){typeof t!="number"&&t.unref();}var Xie=_(()=>{});var kA,Jie=_(()=>{(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED";})(kA||(kA={}));});var $A,Qie=_(()=>{P();$A=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(r=>typeof r.fields=="function"?r.fields():[]).reduce((r,i)=>r.concat(i),[])));}inject(e,r,i){for(let n of this._propagators)try{n.inject(e,r,i);}catch(a){T.warn(`Failed to inject with ${n.constructor.name}. Err: ${a.message}`);}}extract(e,r,i){return this._propagators.reduce((n,a)=>{try{return a.extract(n,r,i)}catch(o){T.warn(`Failed to extract with ${a.constructor.name}. Err: ${o.message}`);}return n},e)}fields(){return this._fields.slice()}};});function eoe(t){return xHe.test(t)}function toe(t){return IHe.test(t)&&!MHe.test(t)}var iU,PHe,CHe,xHe,IHe,MHe,roe=_(()=>{iU="[_0-9a-z-*/]",PHe=`[a-z]${iU}{0,255}`,CHe=`[a-z0-9]${iU}{0,240}@[a-z]${iU}{0,13}`,xHe=new RegExp(`^(?:${PHe}|${CHe})$`),IHe=/^[ -~]{0,255}[!-~]$/,MHe=/,|=/;});var noe,wHe,ioe,ooe,qd,oU=_(()=>{roe();noe=32,wHe=512,ioe=",",ooe="=",qd=class t{_internalState=new Map;constructor(e){e&&this._parse(e);}set(e,r){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,r),i}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+ooe+this.get(r)),e),[]).join(ioe)}_parse(e){e.length>wHe||(this._internalState=e.split(ioe).reverse().reduce((r,i)=>{let n=i.trim(),a=n.indexOf(ooe);if(a!==-1){let o=n.slice(0,a),s=n.slice(a+1,i.length);eoe(o)&&toe(s)&&r.set(o,s);}return r},new Map),this._internalState.size>noe&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,noe))));}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};});function sU(t){let e=VHe.exec(t);return !e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Bm,zm,LHe,DHe,UHe,kHe,$He,VHe,Yd,soe=_(()=>{P();km();oU();Bm="traceparent",zm="tracestate",LHe="00",DHe="(?!ff)[\\da-f]{2}",UHe="(?![0]{32})[\\da-f]{32}",kHe="(?![0]{16})[\\da-f]{16}",$He="[\\da-f]{2}",VHe=new RegExp(`^\\s?(${DHe})-(${UHe})-(${kHe})-(${$He})(-.*)?\\s?$`);Yd=class{inject(e,r,i){let n=se.getSpanContext(e);if(!n||Gd(e)||!jt(n))return;let a=`${LHe}-${n.traceId}-${n.spanId}-0${Number(n.traceFlags||Ce.NONE).toString(16)}`;i.set(r,Bm,a),n.traceState&&i.set(r,zm,n.traceState.serialize());}extract(e,r,i){let n=i.get(r,Bm);if(!n)return e;let a=Array.isArray(n)?n[0]:n;if(typeof a!="string")return e;let o=sU(a);if(!o)return e;o.isRemote=true;let s=i.get(r,zm);if(s){let c=Array.isArray(s)?s.join(","):s;o.traceState=new qd(typeof c=="string"?c:void 0);}return se.setSpanContext(e,o)}fields(){return [Bm,zm]}};});function aoe(t,e){return t.setValue(aU,e)}function coe(t){return t.deleteValue(aU)}function loe(t){return t.getValue(aU)}var aU,VA,uoe=_(()=>{P();aU=gr("OpenTelemetry SDK Context Key RPC_METADATA");(function(t){t.HTTP="http";})(VA||(VA={}));});function cU(t){if(!qHe(t)||YHe(t)!==BHe)return  false;let e=jHe(t);if(e===null)return  true;let r=foe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&doe.call(r)===GHe}function qHe(t){return t!=null&&typeof t=="object"}function YHe(t){return t==null?t===void 0?FHe:zHe:Al&&Al in Object(t)?WHe(t):KHe(t)}function WHe(t){let e=foe.call(t,Al),r=t[Al],i=false;try{t[Al]=void 0,i=!0;}catch{}let n=hoe.call(t);return i&&(e?t[Al]=r:delete t[Al]),n}function KHe(t){return hoe.call(t)}var BHe,zHe,FHe,HHe,doe,GHe,jHe,poe,foe,Al,hoe,moe=_(()=>{BHe="[object Object]",zHe="[object Null]",FHe="[object Undefined]",HHe=Function.prototype,doe=HHe.toString,GHe=doe.call(Object),jHe=Object.getPrototypeOf,poe=Object.prototype,foe=poe.hasOwnProperty,Al=Symbol?Symbol.toStringTag:void 0,hoe=poe.toString;});function goe(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=Eoe(e,t.shift(),0,r);return e}function lU(t){return zA(t)?t.slice():t}function Eoe(t,e,r=0,i){let n;if(!(r>ZHe)){if(r++,BA(t)||BA(e)||Soe(e))n=lU(e);else if(zA(t)){if(n=t.slice(),zA(e))for(let a=0,o=e.length;a<o;a++)n.push(lU(e[a]));else if(Fm(e)){let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o];n[c]=lU(e[c]);}}}else if(Fm(t))if(Fm(e)){if(!XHe(t,e))return e;n=Object.assign({},t);let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o],l=e[c];if(BA(l))typeof l>"u"?delete n[c]:n[c]=l;else {let u=n[c],d=l;if(_oe(t,c,i)||_oe(e,c,i))delete n[c];else {if(Fm(u)&&Fm(d)){let p=i.get(u)||[],f=i.get(d)||[];p.push({obj:t,key:c}),f.push({obj:e,key:c}),i.set(u,p),i.set(d,f);}n[c]=Eoe(n[c],l,r,i);}}}}else n=e;return n}}function _oe(t,e,r){let i=r.get(t[e])||[];for(let n=0,a=i.length;n<a;n++){let o=i[n];if(o.key===e&&o.obj===t)return  true}return  false}function zA(t){return Array.isArray(t)}function Soe(t){return typeof t=="function"}function Fm(t){return !BA(t)&&!zA(t)&&!Soe(t)&&typeof t=="object"}function BA(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function XHe(t,e){return !(!cU(t)||!cU(e))}var ZHe,Toe=_(()=>{moe();ZHe=20;});function yoe(t,e){let r,i=new Promise(function(a,o){r=setTimeout(function(){o(new Hm("Operation timed out."));},e);});return Promise.race([t,i]).then(n=>(clearTimeout(r),n),n=>{throw clearTimeout(r),n})}var Hm,voe=_(()=>{Hm=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype);}};});function uU(t,e){return typeof e=="string"?t===e:!!t.match(e)}function Aoe(t,e){if(!e)return  false;for(let r of e)if(uU(t,r))return  true;return  false}var Roe=_(()=>{});var FA,Ooe=_(()=>{FA=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;});}get promise(){return this._promise}resolve(e){this._resolve(e);}reject(e){this._reject(e);}};});var HA,Noe=_(()=>{Ooe();HA=class{_callback;_that;_isCalled=false;_deferred=new FA;constructor(e,r){this._callback=e,this._that=r;}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=true;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r));}catch(r){this._deferred.reject(r);}}return this._deferred.promise}};});function Poe(t){if(t==null)return;let e=boe[t.toUpperCase()];return e??(T.warn(`Unknown log level "${t}", expected one of ${Object.keys(boe)}, using default`),Se.INFO)}var boe,Coe=_(()=>{P();boe={ALL:Se.ALL,VERBOSE:Se.VERBOSE,DEBUG:Se.DEBUG,INFO:Se.INFO,WARN:Se.WARN,ERROR:Se.ERROR,NONE:Se.NONE};});function xoe(t,e){return new Promise(r=>{pe.with(fa(pe.active()),()=>{t.export(e,i=>{r(i);});});})}var Ioe=_(()=>{P();km();});var dU={};Ne(dU,{AnchoredClock:()=>bA,BindOnceFuture:()=>HA,CompositePropagator:()=>$A,ExportResultCode:()=>kA,RPCType:()=>VA,SDK_INFO:()=>wA,TRACE_PARENT_HEADER:()=>Bm,TRACE_STATE_HEADER:()=>zm,TimeoutError:()=>Hm,TraceState:()=>qd,W3CBaggagePropagator:()=>NA,W3CTraceContextPropagator:()=>Yd,_globalThis:()=>MA,addHrTimes:()=>nU,callWithTimeout:()=>yoe,deleteRPCMetadata:()=>coe,diagLogLevelFromString:()=>Poe,getBooleanFromEnv:()=>xA,getNumberFromEnv:()=>CA,getRPCMetadata:()=>loe,getStringFromEnv:()=>Vm,getStringListFromEnv:()=>IA,getTimeOrigin:()=>DA,globalErrorHandler:()=>Cie,hrTime:()=>rU,hrTimeDuration:()=>Hie,hrTimeToMicroseconds:()=>Yie,hrTimeToMilliseconds:()=>qie,hrTimeToNanoseconds:()=>jie,hrTimeToTimeStamp:()=>Gie,internal:()=>JHe,isAttributeValue:()=>$m,isTimeInput:()=>Wie,isTimeInputHrTime:()=>UA,isTracingSuppressed:()=>Gd,isUrlIgnored:()=>Aoe,loggingErrorHandler:()=>PA,merge:()=>goe,millisToHrTime:()=>jd,otperformance:()=>ha,parseKeyPairsIntoRecord:()=>vie,parseTraceParent:()=>sU,sanitizeAttributes:()=>vl,setGlobalErrorHandler:()=>Pie,setRPCMetadata:()=>aoe,suppressTracing:()=>fa,timeInputToHrTime:()=>Fie,unrefTimer:()=>Zie,unsuppressTracing:()=>gie,urlMatches:()=>uU});var JHe,Rl=_(()=>{Aie();Rie();Nie();xie();eU();Kie();Xie();Jie();QD();tU();Qie();soe();uoe();km();oU();Toe();voe();Roe();Noe();Coe();Ioe();JHe={_export:xoe};});var qse=y(an=>{var D2e=an&&an.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),U2e=an&&an.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),Gse=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&D2e(e,t,r);return U2e(e,t),e};Object.defineProperty(an,"__esModule",{value:true});an.req=an.json=an.toBuffer=void 0;var k2e=Gse(U("http")),$2e=Gse(U("https"));async function jse(t){let e=0,r=[];for await(let i of t)e+=i.length,r.push(i);return Buffer.concat(r,e)}an.toBuffer=jse;async function V2e(t){let r=(await jse(t)).toString("utf8");try{return JSON.parse(r)}catch(i){let n=i;throw n.message+=` (input: ${r})`,n}}an.json=V2e;function B2e(t,e={}){let i=((typeof t=="string"?t:t.href).startsWith("https:")?$2e:k2e).request(t,e),n=new Promise((a,o)=>{i.once("response",a).once("error",o).end();});return i.then=n.then.bind(n),i}an.req=B2e;});var YU=y(Nn=>{var Wse=Nn&&Nn.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),z2e=Nn&&Nn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),Kse=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wse(e,t,r);return z2e(e,t),e},F2e=Nn&&Nn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wse(e,t,r);};Object.defineProperty(Nn,"__esModule",{value:true});Nn.Agent=void 0;var H2e=Kse(U("net")),Yse=Kse(U("http")),G2e=U("https");F2e(qse(),Nn);var _o=Symbol("AgentBaseInternalState"),qU=class extends Yse.Agent{constructor(e){super(e),this[_o]={};}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?false:r.split(`
`).some(i=>i.indexOf("(https.js:")!==-1||i.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new H2e.Socket({writable:false});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let i=this.sockets[e],n=i.indexOf(r);n!==-1&&(i.splice(n,1),this.totalSocketCount--,i.length===0&&delete this.sockets[e]);}getName(e){return this.isSecureEndpoint(e)?G2e.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,i){let n={...r,secureEndpoint:this.isSecureEndpoint(r)},a=this.getName(n),o=this.incrementSockets(a);Promise.resolve().then(()=>this.connect(e,n)).then(s=>{if(this.decrementSockets(a,o),s instanceof Yse.Agent)try{return s.addRequest(e,n)}catch(c){return i(c)}this[_o].currentSocket=s,super.createSocket(e,r,i);},s=>{this.decrementSockets(a,o),i(s);});}createConnection(){let e=this[_o].currentSocket;if(this[_o].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[_o].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[_o]&&(this[_o].defaultPort=e);}get protocol(){return this[_o].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[_o]&&(this[_o].protocol=e);}};Nn.Agent=qU;});var Zse=y(ip=>{var j2e=ip&&ip.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ip,"__esModule",{value:true});ip.parseProxyResponse=void 0;var q2e=j2e(ch()),JR=(0, q2e.default)("https-proxy-agent:parse-proxy-response");function Y2e(t){return new Promise((e,r)=>{let i=0,n=[];function a(){let u=t.read();u?l(u):t.once("readable",a);}function o(){t.removeListener("end",s),t.removeListener("error",c),t.removeListener("readable",a);}function s(){o(),JR("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"));}function c(u){o(),JR("onerror %o",u),r(u);}function l(u){n.push(u),i+=u.length;let d=Buffer.concat(n,i),p=d.indexOf(`\r
\r
`);if(p===-1){JR("have not received end of HTTP headers yet..."),a();return}let f=d.slice(0,p).toString("ascii").split(`\r
`),g=f.shift();if(!g)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let S=g.split(" "),v=+S[1],N=S.slice(2).join(" "),C={};for(let M of f){if(!M)continue;let A=M.indexOf(":");if(A===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${M}"`));let k=M.slice(0,A).toLowerCase(),j=M.slice(A+1).trimStart(),G=C[k];typeof G=="string"?C[k]=[G,j]:Array.isArray(G)?G.push(j):C[k]=j;}JR("got proxy server response: %o %o",g,C),o(),e({connect:{statusCode:v,statusText:N,headers:C},buffered:d});}t.on("error",c),t.on("end",s),a();})}ip.parseProxyResponse=Y2e;});var WU=y(Kn=>{var W2e=Kn&&Kn.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),K2e=Kn&&Kn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),eae=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W2e(e,t,r);return K2e(e,t),e},tae=Kn&&Kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:true});Kn.HttpsProxyAgent=void 0;var QR=eae(U("net")),Xse=eae(U("tls")),Z2e=tae(U("assert")),X2e=tae(ch()),J2e=YU(),Q2e=U("url"),eje=Zse(),i_=(0, X2e.default)("https-proxy-agent"),Jse=t=>t.servername===void 0&&t.host&&!QR.isIP(t.host)?{...t,servername:t.host}:t,eO=class extends J2e.Agent{constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new Q2e.URL(e):e,this.proxyHeaders=r?.headers??{},i_("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?Qse(r,"headers"):null,host:i,port:n};}async connect(e,r){let{proxy:i}=this;if(!r.host)throw new TypeError('No "host" provided');let n;i.protocol==="https:"?(i_("Creating `tls.Socket`: %o",this.connectOpts),n=Xse.connect(Jse(this.connectOpts))):(i_("Creating `net.Socket`: %o",this.connectOpts),n=QR.connect(this.connectOpts));let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},o=QR.isIPv6(r.host)?`[${r.host}]`:r.host,s=`CONNECT ${o}:${r.port} HTTP/1.1\r
`;if(i.username||i.password){let p=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`;}a.Host=`${o}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(a))s+=`${p}: ${a[p]}\r
`;let c=(0, eje.parseProxyResponse)(n);n.write(`${s}\r
`);let{connect:l,buffered:u}=await c;if(e.emit("proxyConnect",l),this.emit("proxyConnect",l,e),l.statusCode===200)return e.once("socket",tje),r.secureEndpoint?(i_("Upgrading socket connection to TLS"),Xse.connect({...Qse(Jse(r),"host","path","port"),socket:n})):n;n.destroy();let d=new QR.Socket({writable:false});return d.readable=true,e.once("socket",p=>{i_("Replaying proxy buffer for failed request"),(0, Z2e.default)(p.listenerCount("data")>0),p.push(u),p.push(null);}),d}};eO.protocols=["http","https"];Kn.HttpsProxyAgent=eO;function tje(t){t.resume();}function Qse(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var KU=y(Zn=>{var rje=Zn&&Zn.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),nje=Zn&&Zn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),nae=Zn&&Zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rje(e,t,r);return nje(e,t),e},ije=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:true});Zn.HttpProxyAgent=void 0;var oje=nae(U("net")),sje=nae(U("tls")),aje=ije(ch()),cje=U("events"),lje=YU(),rae=U("url"),op=(0, aje.default)("http-proxy-agent"),tO=class extends lje.Agent{constructor(e,r){super(r),this.proxy=typeof e=="string"?new rae.URL(e):e,this.proxyHeaders=r?.headers??{},op("Creating new HttpProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?uje(r,"headers"):null,host:i,port:n};}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r);}setRequestProps(e,r){let{proxy:i}=this,n=r.secureEndpoint?"https:":"http:",a=e.getHeader("host")||"localhost",o=`${n}//${a}`,s=new rae.URL(e.path,o);r.port!==80&&(s.port=String(r.port)),e.path=String(s);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(i.username||i.password){let l=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(l).toString("base64")}`;}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let l of Object.keys(c)){let u=c[l];u&&e.setHeader(l,u);}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let i,n;op("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(op("Patching connection write() output buffer with updated header"),i=e.outputData[0].data,n=i.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+i.substring(n),op("Output buffer: %o",e.outputData[0].data));let a;return this.proxy.protocol==="https:"?(op("Creating `tls.Socket`: %o",this.connectOpts),a=sje.connect(this.connectOpts)):(op("Creating `net.Socket`: %o",this.connectOpts),a=oje.connect(this.connectOpts)),await(0, cje.once)(a,"connect"),a}};tO.protocols=["http","https"];Zn.HttpProxyAgent=tO;function uje(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var Eae=y(nO=>{Object.defineProperty(nO,"__esModule",{value:true});nO.state=void 0;nO.state={instrumenterImplementation:void 0};});var hce=y(DO=>{Object.defineProperty(DO,"__esModule",{value:true});DO.state=void 0;DO.state={instrumenterImplementation:void 0};});var vce=y(VO=>{Object.defineProperty(VO,"__esModule",{value:true});VO.state=void 0;VO.state={operationRequestMap:new WeakMap};});var F1=y((cVt,sue)=>{function z1(t){return typeof t=="function"}var kr=console.error.bind(console);function x_(t,e,r){var i=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}function I_(t){t&&t.logger&&(z1(t.logger)?kr=t.logger:kr("new logger isn't a function, not replacing"));}function iue(t,e,r){if(!t||!t[e]){kr("no original function "+e+" to wrap");return}if(!r){kr("no wrapper function"),kr(new Error().stack);return}if(!z1(t[e])||!z1(r)){kr("original object and wrapper must be functions");return}var i=t[e],n=r(i,e);return x_(n,"__original",i),x_(n,"__unwrap",function(){t[e]===n&&x_(t,e,i);}),x_(n,"__wrapped",true),x_(t,e,n),n}function W3e(t,e,r){if(t)Array.isArray(t)||(t=[t]);else {kr("must provide one or more modules to patch"),kr(new Error().stack);return}if(!(e&&Array.isArray(e))){kr("must provide one or more functions to wrap on modules");return}t.forEach(function(i){e.forEach(function(n){iue(i,n,r);});});}function oue(t,e){if(!t||!t[e]){kr("no function to unwrap."),kr(new Error().stack);return}if(!t[e].__unwrap)kr("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function K3e(t,e){if(t)Array.isArray(t)||(t=[t]);else {kr("must provide one or more modules to patch"),kr(new Error().stack);return}if(!(e&&Array.isArray(e))){kr("must provide one or more functions to unwrap on modules");return}t.forEach(function(r){e.forEach(function(i){oue(r,i);});});}I_.wrap=iue;I_.massWrap=W3e;I_.unwrap=oue;I_.massUnwrap=K3e;sue.exports=I_;});var Eue=y(yN=>{Object.defineProperty(yN,"__esModule",{value:true});yN.VERSION=void 0;yN.VERSION="0.204.0";});var Sue=y(ae=>{Object.defineProperty(ae,"__esModule",{value:true});ae.HTTP_FLAVOR_VALUE_HTTP_1_1=ae.NET_TRANSPORT_VALUE_IP_UDP=ae.NET_TRANSPORT_VALUE_IP_TCP=ae.ATTR_NET_TRANSPORT=ae.ATTR_NET_PEER_PORT=ae.ATTR_NET_PEER_NAME=ae.ATTR_NET_PEER_IP=ae.ATTR_NET_HOST_PORT=ae.ATTR_NET_HOST_NAME=ae.ATTR_NET_HOST_IP=ae.ATTR_HTTP_USER_AGENT=ae.ATTR_HTTP_URL=ae.ATTR_HTTP_TARGET=ae.ATTR_HTTP_STATUS_CODE=ae.ATTR_HTTP_SERVER_NAME=ae.ATTR_HTTP_SCHEME=ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH=ae.ATTR_HTTP_METHOD=ae.ATTR_HTTP_HOST=ae.ATTR_HTTP_FLAVOR=ae.ATTR_HTTP_CLIENT_IP=ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST=ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT=ae.ATTR_USER_AGENT_SYNTHETIC_TYPE=void 0;ae.ATTR_USER_AGENT_SYNTHETIC_TYPE="user_agent.synthetic.type";ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT="bot";ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST="test";ae.ATTR_HTTP_CLIENT_IP="http.client_ip";ae.ATTR_HTTP_FLAVOR="http.flavor";ae.ATTR_HTTP_HOST="http.host";ae.ATTR_HTTP_METHOD="http.method";ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH="http.request_content_length";ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED="http.response_content_length_uncompressed";ae.ATTR_HTTP_SCHEME="http.scheme";ae.ATTR_HTTP_SERVER_NAME="http.server_name";ae.ATTR_HTTP_STATUS_CODE="http.status_code";ae.ATTR_HTTP_TARGET="http.target";ae.ATTR_HTTP_URL="http.url";ae.ATTR_HTTP_USER_AGENT="http.user_agent";ae.ATTR_NET_HOST_IP="net.host.ip";ae.ATTR_NET_HOST_NAME="net.host.name";ae.ATTR_NET_HOST_PORT="net.host.port";ae.ATTR_NET_PEER_IP="net.peer.ip";ae.ATTR_NET_PEER_NAME="net.peer.name";ae.ATTR_NET_PEER_PORT="net.peer.port";ae.ATTR_NET_TRANSPORT="net.transport";ae.NET_TRANSPORT_VALUE_IP_TCP="ip_tcp";ae.NET_TRANSPORT_VALUE_IP_UDP="ip_udp";ae.HTTP_FLAVOR_VALUE_HTTP_1_1="1.1";});var Tue=y(L_=>{Object.defineProperty(L_,"__esModule",{value:true});L_.AttributeNames=void 0;(function(t){t.HTTP_ERROR_NAME="http.error_name",t.HTTP_ERROR_MESSAGE="http.error_message",t.HTTP_STATUS_TEXT="http.status_text";})(L_.AttributeNames||(L_.AttributeNames={}));});var Y1=y(Ro=>{Object.defineProperty(Ro,"__esModule",{value:true});Ro.DEFAULT_QUERY_STRINGS_TO_REDACT=Ro.STR_REDACTED=Ro.SYNTHETIC_BOT_NAMES=Ro.SYNTHETIC_TEST_NAMES=void 0;Ro.SYNTHETIC_TEST_NAMES=["alwayson"];Ro.SYNTHETIC_BOT_NAMES=["googlebot","bingbot"];Ro.STR_REDACTED="REDACTED";Ro.DEFAULT_QUERY_STRINGS_TO_REDACT=["sig","Signature","AWSAccessKeyId","X-Goog-Signature"];});var vue=y((oBt,yue)=>{var iYe=U("util");function W1(t,e){Error.captureStackTrace(this,W1),this.name=this.constructor.name,this.message=t,this.input=e;}iYe.inherits(W1,Error);yue.exports=W1;});var Rue=y((sBt,Aue)=>{function oYe(t){return t===34||t===40||t===41||t===44||t===47||t>=58&&t<=64||t>=91&&t<=93||t===123||t===125}function sYe(t){return t===33||t>=35&&t<=39||t===42||t===43||t===45||t===46||t>=48&&t<=57||t>=65&&t<=90||t>=94&&t<=122||t===124||t===126}function aYe(t){return t>=32&&t<=126}function cYe(t){return t>=128&&t<=255}Aue.exports={isDelimiter:oYe,isTokenChar:sYe,isExtended:cYe,isPrint:aYe};});var Cue=y((aBt,Pue)=>{var lYe=U("util"),gp=vue(),vN=Rue(),uYe=vN.isDelimiter,Oue=vN.isTokenChar,Nue=vN.isExtended,dYe=vN.isPrint;function bue(t){return t.replace(/\\(.)/g,"$1")}function D_(t,e){return lYe.format("Unexpected character '%s' at index %d",t.charAt(e),e)}function pYe(t){for(var e=false,r=false,i=false,n={},a=[],o=-1,s=-1,c,l,u=0;u<t.length;u++)if(l=t.charCodeAt(u),c===void 0){if(u!==0&&o===-1&&(l===32||l===9))continue;if(Oue(l))o===-1&&(o=u);else if(l===61&&o!==-1)c=t.slice(o,u).toLowerCase(),o=-1;else throw new gp(D_(t,u),t)}else if(r&&(l===9||dYe(l)||Nue(l)))r=false;else if(Oue(l)){if(s!==-1)throw new gp(D_(t,u),t);o===-1&&(o=u);}else if(uYe(l)||Nue(l))if(i)l===34?(i=false,s=u):l===92?(o===-1&&(o=u),r=e=true):o===-1&&(o=u);else if(l===34&&t.charCodeAt(u-1)===61)i=true;else if((l===44||l===59)&&(o!==-1||s!==-1))o!==-1?(s===-1&&(s=u),n[c]=e?bue(t.slice(o,s)):t.slice(o,s)):n[c]="",l===44&&(a.push(n),n={}),c=void 0,o=s=-1;else throw new gp(D_(t,u),t);else if(l===32||l===9){if(s!==-1)continue;if(i)o===-1&&(o=u);else if(o!==-1)s=u;else throw new gp(D_(t,u),t)}else throw new gp(D_(t,u),t);if(c===void 0||i||o===-1&&s===-1||l===32||l===9)throw new gp("Unexpected end of input",t);return o!==-1?(s===-1&&(s=u),n[c]=e?bue(t.slice(o,s)):t.slice(o,s)):n[c]="",a.push(n),a}Pue.exports=pYe;});var $ue=y(ce=>{Object.defineProperty(ce,"__esModule",{value:true});ce.headerCapture=ce.getIncomingStableRequestMetricAttributesOnResponse=ce.getIncomingRequestMetricAttributesOnResponse=ce.getIncomingRequestAttributesOnResponse=ce.getIncomingRequestMetricAttributes=ce.getIncomingRequestAttributes=ce.getRemoteClientAddress=ce.getOutgoingStableRequestMetricAttributesOnResponse=ce.getOutgoingRequestMetricAttributesOnResponse=ce.getOutgoingRequestAttributesOnResponse=ce.setAttributesFromHttpKind=ce.getOutgoingRequestMetricAttributes=ce.getOutgoingRequestAttributes=ce.extractHostnameAndPort=ce.isValidOptionsType=ce.getRequestInfo=ce.isCompressed=ce.setResponseContentLengthAttribute=ce.setRequestContentLengthAttribute=ce.setSpanWithError=ce.satisfiesPattern=ce.parseResponseStatus=ce.getAbsoluteUrl=void 0;var U_=(P(),$(Ve)),Oe=(ht(),$(Gr)),ne=Sue(),xue=(Q(),$(Ui)),Oo=(Wr(),$(Yr)),Mue=U("url"),RN=Tue(),Iue=Y1(),AN=Y1(),fYe=Cue(),hYe=(t,e,r="http:",i=Array.from(AN.DEFAULT_QUERY_STRINGS_TO_REDACT))=>{let n=t||{},a=n.protocol||r,o=(n.port||"").toString(),s=n.path||"/",c=n.host||n.hostname||e.host||"localhost";if(c.indexOf(":")===-1&&o&&o!=="80"&&o!=="443"&&(c+=`:${o}`),s.includes("?")){let u=Mue.parse(s),d=u.pathname||"",p=u.query||"",f=new URLSearchParams(p),g=i||[];for(let v of g)f.has(v)&&f.get(v)!==""&&f.set(v,AN.STR_REDACTED);let S=f.toString();s=`${d}?${S}`;}let l=n.auth?`${AN.STR_REDACTED}:${AN.STR_REDACTED}@`:"";return `${a}//${l}${c}${s}`};ce.getAbsoluteUrl=hYe;var mYe=(t,e)=>{let r=t===U_.SpanKind.CLIENT?400:500;return e&&e>=100&&e<r?U_.SpanStatusCode.UNSET:U_.SpanStatusCode.ERROR};ce.parseResponseStatus=mYe;var _Ye=(t,e)=>{if(typeof e=="string")return e===t;if(e instanceof RegExp)return e.test(t);if(typeof e=="function")return e(t);throw new TypeError("Pattern is in unsupported datatype")};ce.satisfiesPattern=_Ye;var gYe=(t,e,r)=>{let i=e.message;r&Oo.SemconvStability.OLD&&(t.setAttribute(RN.AttributeNames.HTTP_ERROR_NAME,e.name),t.setAttribute(RN.AttributeNames.HTTP_ERROR_MESSAGE,i)),r&Oo.SemconvStability.STABLE&&t.setAttribute(Oe.ATTR_ERROR_TYPE,e.name),t.setStatus({code:U_.SpanStatusCode.ERROR,message:i}),t.recordException(e);};ce.setSpanWithError=gYe;var EYe=(t,e)=>{let r=wue(t.headers);r!==null&&((0, ce.isCompressed)(t.headers)?e[ne.ATTR_HTTP_REQUEST_CONTENT_LENGTH]=r:e[ne.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=r);};ce.setRequestContentLengthAttribute=EYe;var SYe=(t,e)=>{let r=wue(t.headers);r!==null&&((0, ce.isCompressed)(t.headers)?e[ne.ATTR_HTTP_RESPONSE_CONTENT_LENGTH]=r:e[ne.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=r);};ce.setResponseContentLengthAttribute=SYe;function wue(t){let e=t["content-length"];if(e===void 0)return null;let r=parseInt(e,10);return isNaN(r)?null:r}var TYe=t=>{let e=t["content-encoding"];return !!e&&e!=="identity"};ce.isCompressed=TYe;function yYe(t){let{hostname:e,pathname:r,port:i,username:n,password:a,search:o,protocol:s,hash:c,href:l,origin:u,host:d}=new URL(t),p={protocol:s,hostname:e&&e[0]==="["?e.slice(1,-1):e,hash:c,search:o,pathname:r,path:`${r||""}${o||""}`,href:l,origin:u,host:d};return i!==""&&(p.port=Number(i)),(n||a)&&(p.auth=`${decodeURIComponent(n)}:${decodeURIComponent(a)}`),p}var vYe=(t,e,r)=>{let i,n,a,o=false;if(typeof e=="string"){try{let c=yYe(e);a=c,i=c.pathname||"/";}catch(c){o=true,t.verbose("Unable to parse URL provided to HTTP request, using fallback to determine path. Original error:",c),a={path:e},i=a.path||"/";}n=`${a.protocol||"http:"}//${a.host}`,r!==void 0&&Object.assign(a,r);}else if(e instanceof Mue.URL)a={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,path:`${e.pathname||""}${e.search||""}`},e.port!==""&&(a.port=Number(e.port)),(e.username||e.password)&&(a.auth=`${e.username}:${e.password}`),i=e.pathname,n=e.origin,r!==void 0&&Object.assign(a,r);else {a=Object.assign({protocol:e.host?"http:":void 0},e);let c=a.host||(a.port!=null?`${a.hostname}${a.port}`:a.hostname);if(n=`${a.protocol||"http:"}//${c}`,i=e.pathname,!i&&a.path)try{i=new URL(a.path,n).pathname||"/";}catch{i="/";}}let s=a.method?a.method.toUpperCase():"GET";return {origin:n,pathname:i,method:s,optionsParsed:a,invalidUrl:o}};ce.getRequestInfo=vYe;var AYe=t=>{if(!t)return  false;let e=typeof t;return e==="string"||e==="object"&&!Array.isArray(t)};ce.isValidOptionsType=AYe;var RYe=t=>{if(t.hostname&&t.port)return {hostname:t.hostname,port:t.port};let e=t.host?.match(/^([^:/ ]+)(:\d{1,5})?/)||null,r=t.hostname||(e===null?"localhost":e[1]),i=t.port;return i||(e&&e[2]?i=e[2].substring(1):i=t.protocol==="https:"?"443":"80"),{hostname:r,port:i}};ce.extractHostnameAndPort=RYe;var OYe=(t,e,r,i)=>{let n=e.hostname,a=e.port,o=t.method??"GET",s=Uue(o),c=t.headers||{},l=c["user-agent"],u=(0, ce.getAbsoluteUrl)(t,c,`${e.component}:`,e.redactedQueryParams),d={[ne.ATTR_HTTP_URL]:u,[ne.ATTR_HTTP_METHOD]:o,[ne.ATTR_HTTP_TARGET]:t.path||"/",[ne.ATTR_NET_PEER_NAME]:n,[ne.ATTR_HTTP_HOST]:c.host??`${n}:${a}`},p={[Oe.ATTR_HTTP_REQUEST_METHOD]:s,[Oe.ATTR_SERVER_ADDRESS]:n,[Oe.ATTR_SERVER_PORT]:Number(a),[Oe.ATTR_URL_FULL]:u,[Oe.ATTR_USER_AGENT_ORIGINAL]:l};switch(o!==s&&(p[Oe.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=o),i&&l&&(p[ne.ATTR_USER_AGENT_SYNTHETIC_TYPE]=Lue(l)),l!==void 0&&(d[ne.ATTR_HTTP_USER_AGENT]=l),r){case Oo.SemconvStability.STABLE:return Object.assign(p,e.hookAttributes);case Oo.SemconvStability.OLD:return Object.assign(d,e.hookAttributes)}return Object.assign(d,p,e.hookAttributes)};ce.getOutgoingRequestAttributes=OYe;var NYe=t=>{let e={};return e[ne.ATTR_HTTP_METHOD]=t[ne.ATTR_HTTP_METHOD],e[ne.ATTR_NET_PEER_NAME]=t[ne.ATTR_NET_PEER_NAME],e};ce.getOutgoingRequestMetricAttributes=NYe;var bYe=(t,e)=>{t&&(e[ne.ATTR_HTTP_FLAVOR]=t,t.toUpperCase()!=="QUIC"?e[ne.ATTR_NET_TRANSPORT]=ne.NET_TRANSPORT_VALUE_IP_TCP:e[ne.ATTR_NET_TRANSPORT]=ne.NET_TRANSPORT_VALUE_IP_UDP);};ce.setAttributesFromHttpKind=bYe;var Lue=t=>{let e=String(t).toLowerCase();for(let r of Iue.SYNTHETIC_TEST_NAMES)if(e.includes(r))return ne.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST;for(let r of Iue.SYNTHETIC_BOT_NAMES)if(e.includes(r))return ne.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT},PYe=(t,e)=>{let{statusCode:r,statusMessage:i,httpVersion:n,socket:a}=t,o={},s={};if(r!=null&&(s[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]=r),a){let{remoteAddress:c,remotePort:l}=a;o[ne.ATTR_NET_PEER_IP]=c,o[ne.ATTR_NET_PEER_PORT]=l,s[Oe.ATTR_NETWORK_PEER_ADDRESS]=c,s[Oe.ATTR_NETWORK_PEER_PORT]=l,s[Oe.ATTR_NETWORK_PROTOCOL_VERSION]=t.httpVersion;}switch((0, ce.setResponseContentLengthAttribute)(t,o),r&&(o[ne.ATTR_HTTP_STATUS_CODE]=r,o[RN.AttributeNames.HTTP_STATUS_TEXT]=(i||"").toUpperCase()),(0, ce.setAttributesFromHttpKind)(n,o),e){case Oo.SemconvStability.STABLE:return s;case Oo.SemconvStability.OLD:return o}return Object.assign(o,s)};ce.getOutgoingRequestAttributesOnResponse=PYe;var CYe=t=>{let e={};return e[ne.ATTR_NET_PEER_PORT]=t[ne.ATTR_NET_PEER_PORT],e[ne.ATTR_HTTP_STATUS_CODE]=t[ne.ATTR_HTTP_STATUS_CODE],e[ne.ATTR_HTTP_FLAVOR]=t[ne.ATTR_HTTP_FLAVOR],e};ce.getOutgoingRequestMetricAttributesOnResponse=CYe;var xYe=t=>{let e={};return t[Oe.ATTR_NETWORK_PROTOCOL_VERSION]&&(e[Oe.ATTR_NETWORK_PROTOCOL_VERSION]=t[Oe.ATTR_NETWORK_PROTOCOL_VERSION]),t[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(e[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]=t[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]),e};ce.getOutgoingStableRequestMetricAttributesOnResponse=xYe;function Xa(t,e){let r=t.split(":");if(r.length===1)return e==="http"?{host:r[0],port:"80"}:e==="https"?{host:r[0],port:"443"}:{host:r[0]};if(r.length===2)return {host:r[0],port:r[1]};if(r[0].startsWith("[")){if(r[r.length-1].endsWith("]")){if(e==="http")return {host:t,port:"80"};if(e==="https")return {host:t,port:"443"}}else if(r[r.length-2].endsWith("]"))return {host:r.slice(0,-1).join(":"),port:r[r.length-1]}}return {host:t}}function IYe(t,e){let r=t.headers.forwarded;if(r){for(let a of kue(r))if(a.host)return Xa(a.host,a.proto)}let i=t.headers["x-forwarded-host"];if(typeof i=="string")return typeof t.headers["x-forwarded-proto"]=="string"?Xa(i,t.headers["x-forwarded-proto"]):Array.isArray(t.headers["x-forwarded-proto"])?Xa(i,t.headers["x-forwarded-proto"][0]):Xa(i);if(Array.isArray(i)&&typeof i[0]=="string"&&i[0].length>0)return typeof t.headers["x-forwarded-proto"]=="string"?Xa(i[0],t.headers["x-forwarded-proto"]):Array.isArray(t.headers["x-forwarded-proto"])?Xa(i[0],t.headers["x-forwarded-proto"][0]):Xa(i[0]);let n=t.headers.host;return typeof n=="string"&&n.length>0?Xa(n,e):null}function Due(t){let e=t.headers.forwarded;if(e){for(let n of kue(e))if(n.for)return n.for}let r=t.headers["x-forwarded-for"];if(typeof r=="string")return r;if(Array.isArray(r))return r[0];let i=t.socket.remoteAddress;return i||null}ce.getRemoteClientAddress=Due;function MYe(t,e,r){try{if(e.headers.host)return new URL(e.url??"/",`${t}://${e.headers.host}`);{let i=new URL(e.url??"/",`${t}://localhost`);return {pathname:i.pathname,search:i.search,toString:function(){return i.pathname+i.search}}}}catch(i){return r.verbose("Unable to get URL from request",i),{}}}var wYe=(t,e,r)=>{let i=t.headers,n=i["user-agent"],a=i["x-forwarded-for"],o=t.httpVersion,s=i.host,c=s?.replace(/^(.*)(:[0-9]{1,5})/,"$1")||"localhost",l=t.method,u=Uue(l),d=IYe(t,e.component),p=e.serverName,f=Due(t),g={[Oe.ATTR_HTTP_REQUEST_METHOD]:u,[Oe.ATTR_URL_SCHEME]:e.component,[Oe.ATTR_SERVER_ADDRESS]:d?.host,[Oe.ATTR_NETWORK_PEER_ADDRESS]:t.socket.remoteAddress,[Oe.ATTR_NETWORK_PEER_PORT]:t.socket.remotePort,[Oe.ATTR_NETWORK_PROTOCOL_VERSION]:t.httpVersion,[Oe.ATTR_USER_AGENT_ORIGINAL]:n},S=MYe(e.component,t,r);S?.pathname!=null&&(g[Oe.ATTR_URL_PATH]=S.pathname),S.search&&(g[Oe.ATTR_URL_QUERY]=S.search.slice(1)),f!=null&&(g[Oe.ATTR_CLIENT_ADDRESS]=f.split(",")[0]),d?.port!=null&&(g[Oe.ATTR_SERVER_PORT]=Number(d.port)),l!==u&&(g[Oe.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=l),e.enableSyntheticSourceDetection&&n&&(g[ne.ATTR_USER_AGENT_SYNTHETIC_TYPE]=Lue(n));let v={[ne.ATTR_HTTP_URL]:S.toString(),[ne.ATTR_HTTP_HOST]:s,[ne.ATTR_NET_HOST_NAME]:c,[ne.ATTR_HTTP_METHOD]:l,[ne.ATTR_HTTP_SCHEME]:e.component};switch(typeof a=="string"&&(v[ne.ATTR_HTTP_CLIENT_IP]=a.split(",")[0]),typeof p=="string"&&(v[ne.ATTR_HTTP_SERVER_NAME]=p),S?.pathname&&(v[ne.ATTR_HTTP_TARGET]=S?.pathname+S?.search||"/"),n!==void 0&&(v[ne.ATTR_HTTP_USER_AGENT]=n),(0, ce.setRequestContentLengthAttribute)(t,v),(0, ce.setAttributesFromHttpKind)(o,v),e.semconvStability){case Oo.SemconvStability.STABLE:return Object.assign(g,e.hookAttributes);case Oo.SemconvStability.OLD:return Object.assign(v,e.hookAttributes)}return Object.assign(v,g,e.hookAttributes)};ce.getIncomingRequestAttributes=wYe;var LYe=t=>{let e={};return e[ne.ATTR_HTTP_SCHEME]=t[ne.ATTR_HTTP_SCHEME],e[ne.ATTR_HTTP_METHOD]=t[ne.ATTR_HTTP_METHOD],e[ne.ATTR_NET_HOST_NAME]=t[ne.ATTR_NET_HOST_NAME],e[ne.ATTR_HTTP_FLAVOR]=t[ne.ATTR_HTTP_FLAVOR],e};ce.getIncomingRequestMetricAttributes=LYe;var DYe=(t,e,r)=>{let{socket:i}=t,{statusCode:n,statusMessage:a}=e,o={[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]:n},s=(0, xue.getRPCMetadata)(U_.context.active()),c={};if(i){let{localAddress:l,localPort:u,remoteAddress:d,remotePort:p}=i;c[ne.ATTR_NET_HOST_IP]=l,c[ne.ATTR_NET_HOST_PORT]=u,c[ne.ATTR_NET_PEER_IP]=d,c[ne.ATTR_NET_PEER_PORT]=p;}switch(c[ne.ATTR_HTTP_STATUS_CODE]=n,c[RN.AttributeNames.HTTP_STATUS_TEXT]=(a||"").toUpperCase(),s?.type===xue.RPCType.HTTP&&s.route!==void 0&&(c[Oe.ATTR_HTTP_ROUTE]=s.route,o[Oe.ATTR_HTTP_ROUTE]=s.route),r){case Oo.SemconvStability.STABLE:return o;case Oo.SemconvStability.OLD:return c}return Object.assign(c,o)};ce.getIncomingRequestAttributesOnResponse=DYe;var UYe=t=>{let e={};return e[ne.ATTR_HTTP_STATUS_CODE]=t[ne.ATTR_HTTP_STATUS_CODE],e[ne.ATTR_NET_HOST_PORT]=t[ne.ATTR_NET_HOST_PORT],t[Oe.ATTR_HTTP_ROUTE]!==void 0&&(e[Oe.ATTR_HTTP_ROUTE]=t[Oe.ATTR_HTTP_ROUTE]),e};ce.getIncomingRequestMetricAttributesOnResponse=UYe;var kYe=t=>{let e={};return t[Oe.ATTR_HTTP_ROUTE]!==void 0&&(e[Oe.ATTR_HTTP_ROUTE]=t[Oe.ATTR_HTTP_ROUTE]),t[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(e[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]=t[Oe.ATTR_HTTP_RESPONSE_STATUS_CODE]),e};ce.getIncomingStableRequestMetricAttributesOnResponse=kYe;function $Ye(t,e){let r=new Map;for(let i=0,n=e.length;i<n;i++){let a=e[i].toLowerCase();r.set(a,a.replace(/-/g,"_"));}return (i,n)=>{for(let a of r.keys()){let o=n(a);if(o===void 0)continue;let s=r.get(a),c=`http.${t}.header.${s}`;typeof o=="string"?i.setAttribute(c,[o]):Array.isArray(o)?i.setAttribute(c,o):i.setAttribute(c,[o]);}}}ce.headerCapture=$Ye;var VYe=new Set(["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]);function Uue(t){if(t==null)return "GET";let e=t.toUpperCase();return VYe.has(e)?e:"_OTHER"}function kue(t){try{return fYe(t)}catch{return []}}});var Vue=y(ON=>{Object.defineProperty(ON,"__esModule",{value:true});ON.HttpInstrumentation=void 0;var ye=(P(),$(Ve)),Ja=(Q(),$(Ui)),BYe=U("url"),zYe=Eue(),ir=(Wr(),$(Yr)),K1=U("events"),dt=(ht(),$(Gr)),wt=$ue(),Z1=class extends ir.InstrumentationBase{_spanNotEnded=new WeakSet;_headerCapture;_semconvStability=ir.SemconvStability.OLD;constructor(e={}){super("@opentelemetry/instrumentation-http",zYe.VERSION,e),this._headerCapture=this._createHeaderCapture(),this._semconvStability=(0, ir.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}_updateMetricInstruments(){this._oldHttpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:ye.ValueType.DOUBLE}),this._oldHttpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:ye.ValueType.DOUBLE}),this._stableHttpServerDurationHistogram=this.meter.createHistogram(dt.METRIC_HTTP_SERVER_REQUEST_DURATION,{description:"Duration of HTTP server requests.",unit:"s",valueType:ye.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}}),this._stableHttpClientDurationHistogram=this.meter.createHistogram(dt.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Duration of HTTP client requests.",unit:"s",valueType:ye.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}});}_recordServerDuration(e,r,i){this._semconvStability&ir.SemconvStability.OLD&&this._oldHttpServerDurationHistogram.record(e,r),this._semconvStability&ir.SemconvStability.STABLE&&this._stableHttpServerDurationHistogram.record(e/1e3,i);}_recordClientDuration(e,r,i){this._semconvStability&ir.SemconvStability.OLD&&this._oldHttpClientDurationHistogram.record(e,r),this._semconvStability&ir.SemconvStability.STABLE&&this._stableHttpClientDurationHistogram.record(e/1e3,i);}setConfig(e={}){super.setConfig(e),this._headerCapture=this._createHeaderCapture();}init(){return [this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new ir.InstrumentationNodeModuleDefinition("http",["*"],e=>{let r=e[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let i=this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),n=this._wrap(e,"get",this._getPatchOutgoingGetFunction(i));r&&(e.default.request=i,e.default.get=n);}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e},e=>{e!==void 0&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"));})}_getHttpsInstrumentation(){return new ir.InstrumentationNodeModuleDefinition("https",["*"],e=>{let r=e[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let i=this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),n=this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(i));r&&(e.default.request=i,e.default.get=n);}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e},e=>{e!==void 0&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"));})}_getPatchIncomingRequestFunction(e){return r=>this._incomingRequestFunction(e,r)}_getPatchOutgoingRequestFunction(e){return r=>this._outgoingRequestFunction(e,r)}_getPatchOutgoingGetFunction(e){return r=>function(n,...a){let o=e(n,...a);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return r=>{let i=this;return function(a,...o){return e==="https"&&typeof a=="object"&&a?.constructor?.name!=="URL"&&(a=Object.assign({},a),i._setDefaultOptions(a)),i._getPatchOutgoingRequestFunction(e)(r)(a,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443;}_getPatchHttpsOutgoingGetFunction(e){return r=>{let i=this;return function(a,...o){return i._getPatchOutgoingGetFunction(e)(r)(a,...o)}}}_traceClientRequest(e,r,i,n,a){this.getConfig().requestHook&&this._callRequestHook(r,e);let o=false;return e.prependListener("response",s=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&s.resume();let c=(0, wt.getOutgoingRequestAttributesOnResponse)(s,this._semconvStability);r.setAttributes(c),n=Object.assign(n,(0, wt.getOutgoingRequestMetricAttributesOnResponse)(c)),a=Object.assign(a,(0, wt.getOutgoingStableRequestMetricAttributesOnResponse)(c)),this.getConfig().responseHook&&this._callResponseHook(r,s),this._headerCapture.client.captureRequestHeaders(r,u=>e.getHeader(u)),this._headerCapture.client.captureResponseHeaders(r,u=>s.headers[u]),ye.context.bind(ye.context.active(),s);let l=()=>{if(this._diag.debug("outgoingRequest on end()"),o)return;o=true;let u;s.aborted&&!s.complete?u={code:ye.SpanStatusCode.ERROR}:u={code:(0, wt.parseResponseStatus)(ye.SpanKind.CLIENT,s.statusCode)},r.setStatus(u),this.getConfig().applyCustomAttributesOnSpan&&(0, ir.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(r,e,s),()=>{},true),this._closeHttpSpan(r,ye.SpanKind.CLIENT,i,n,a);};s.on("end",l),s.on(K1.errorMonitor,u=>{this._diag.debug("outgoingRequest on error()",u),!o&&(o=true,this._onOutgoingRequestError(r,n,a,i,u));});}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),!(e.aborted||o)&&(o=true,this._closeHttpSpan(r,ye.SpanKind.CLIENT,i,n,a));}),e.on(K1.errorMonitor,s=>{this._diag.debug("outgoingRequest on request error()",s),!o&&(o=true,this._onOutgoingRequestError(r,n,a,i,s));}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,r){let i=this;return function(a,...o){if(a!=="request")return r.apply(this,[a,...o]);let s=o[0],c=o[1],l=s.method||"GET";if(i._diag.debug(`${e} instrumentation incomingRequest`),(0, ir.safeExecuteInTheMiddle)(()=>i.getConfig().ignoreIncomingRequestHook?.(s),M=>{M!=null&&i._diag.error("caught ignoreIncomingRequestHook error: ",M);},true))return ye.context.with((0, Ja.suppressTracing)(ye.context.active()),()=>(ye.context.bind(ye.context.active(),s),ye.context.bind(ye.context.active(),c),r.apply(this,[a,...o])));let u=s.headers,d=(0, wt.getIncomingRequestAttributes)(s,{component:e,serverName:i.getConfig().serverName,hookAttributes:i._callStartSpanHook(s,i.getConfig().startIncomingSpanHook),semconvStability:i._semconvStability,enableSyntheticSourceDetection:i.getConfig().enableSyntheticSourceDetection||false},i._diag),p={kind:ye.SpanKind.SERVER,attributes:d},f=(0, Ja.hrTime)(),g=(0, wt.getIncomingRequestMetricAttributes)(d),S={[dt.ATTR_HTTP_REQUEST_METHOD]:d[dt.ATTR_HTTP_REQUEST_METHOD],[dt.ATTR_URL_SCHEME]:d[dt.ATTR_URL_SCHEME]};d[dt.ATTR_NETWORK_PROTOCOL_VERSION]&&(S[dt.ATTR_NETWORK_PROTOCOL_VERSION]=d[dt.ATTR_NETWORK_PROTOCOL_VERSION]);let v=ye.propagation.extract(ye.ROOT_CONTEXT,u),N=i._startHttpSpan(l,p,v),C={type:Ja.RPCType.HTTP,span:N};return ye.context.with((0, Ja.setRPCMetadata)(ye.trace.setSpan(v,N),C),()=>{ye.context.bind(ye.context.active(),s),ye.context.bind(ye.context.active(),c),i.getConfig().requestHook&&i._callRequestHook(N,s),i.getConfig().responseHook&&i._callResponseHook(N,c),i._headerCapture.server.captureRequestHeaders(N,A=>s.headers[A]);let M=false;return c.on("close",()=>{M||i._onServerResponseFinish(s,c,N,g,S,f);}),c.on(K1.errorMonitor,A=>{M=true,i._onServerResponseError(N,g,S,f,A);}),(0, ir.safeExecuteInTheMiddle)(()=>r.apply(this,[a,...o]),A=>{if(A)throw i._onServerResponseError(N,g,S,f,A),A})})}}_outgoingRequestFunction(e,r){let i=this;return function(a,...o){if(!(0, wt.isValidOptionsType)(a))return r.apply(this,[a,...o]);let s=typeof o[0]=="object"&&(typeof a=="string"||a instanceof BYe.URL)?o.shift():void 0,{method:c,invalidUrl:l,optionsParsed:u}=(0, wt.getRequestInfo)(i._diag,a,s);if((0, ir.safeExecuteInTheMiddle)(()=>i.getConfig().ignoreOutgoingRequestHook?.(u),k=>{k!=null&&i._diag.error("caught ignoreOutgoingRequestHook error: ",k);},true))return r.apply(this,[u,...o]);let{hostname:d,port:p}=(0, wt.extractHostnameAndPort)(u),f=(0, wt.getOutgoingRequestAttributes)(u,{component:e,port:p,hostname:d,hookAttributes:i._callStartSpanHook(u,i.getConfig().startOutgoingSpanHook),redactedQueryParams:i.getConfig().redactedQueryParams},i._semconvStability,i.getConfig().enableSyntheticSourceDetection||false),g=(0, Ja.hrTime)(),S=(0, wt.getOutgoingRequestMetricAttributes)(f),v={[dt.ATTR_HTTP_REQUEST_METHOD]:f[dt.ATTR_HTTP_REQUEST_METHOD],[dt.ATTR_SERVER_ADDRESS]:f[dt.ATTR_SERVER_ADDRESS],[dt.ATTR_SERVER_PORT]:f[dt.ATTR_SERVER_PORT]};f[dt.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(v[dt.ATTR_HTTP_RESPONSE_STATUS_CODE]=f[dt.ATTR_HTTP_RESPONSE_STATUS_CODE]),f[dt.ATTR_NETWORK_PROTOCOL_VERSION]&&(v[dt.ATTR_NETWORK_PROTOCOL_VERSION]=f[dt.ATTR_NETWORK_PROTOCOL_VERSION]);let N={kind:ye.SpanKind.CLIENT,attributes:f},C=i._startHttpSpan(c,N),M=ye.context.active(),A=ye.trace.setSpan(M,C);return u.headers?u.headers=Object.assign({},u.headers):u.headers={},ye.propagation.inject(A,u.headers),ye.context.with(A,()=>{let k=o[o.length-1];typeof k=="function"&&(o[o.length-1]=ye.context.bind(M,k));let j=(0, ir.safeExecuteInTheMiddle)(()=>l?r.apply(this,[a,...o]):r.apply(this,[u,...o]),G=>{if(G)throw i._onOutgoingRequestError(C,S,v,g,G),G});return i._diag.debug(`${e} instrumentation outgoingRequest`),ye.context.bind(M,j),i._traceClientRequest(j,C,g,S,v)})}}_onServerResponseFinish(e,r,i,n,a,o){let s=(0, wt.getIncomingRequestAttributesOnResponse)(e,r,this._semconvStability);n=Object.assign(n,(0, wt.getIncomingRequestMetricAttributesOnResponse)(s)),a=Object.assign(a,(0, wt.getIncomingStableRequestMetricAttributesOnResponse)(s)),this._headerCapture.server.captureResponseHeaders(i,l=>r.getHeader(l)),i.setAttributes(s).setStatus({code:(0, wt.parseResponseStatus)(ye.SpanKind.SERVER,r.statusCode)});let c=s[dt.ATTR_HTTP_ROUTE];c&&i.updateName(`${e.method||"GET"} ${c}`),this.getConfig().applyCustomAttributesOnSpan&&(0, ir.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(i,e,r),()=>{},true),this._closeHttpSpan(i,ye.SpanKind.SERVER,o,n,a);}_onOutgoingRequestError(e,r,i,n,a){(0, wt.setSpanWithError)(e,a,this._semconvStability),i[dt.ATTR_ERROR_TYPE]=a.name,this._closeHttpSpan(e,ye.SpanKind.CLIENT,n,r,i);}_onServerResponseError(e,r,i,n,a){(0, wt.setSpanWithError)(e,a,this._semconvStability),i[dt.ATTR_ERROR_TYPE]=a.name,this._closeHttpSpan(e,ye.SpanKind.SERVER,n,r,i);}_startHttpSpan(e,r,i=ye.context.active()){let n=r.kind===ye.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans,a,o=ye.trace.getSpan(i);return n===true&&o===void 0?a=ye.trace.wrapSpanContext(ye.INVALID_SPAN_CONTEXT):n===true&&o?.spanContext().isRemote?a=o:a=this.tracer.startSpan(e,r,i),this._spanNotEnded.add(a),a}_closeHttpSpan(e,r,i,n,a){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let o=(0, Ja.hrTimeToMilliseconds)((0, Ja.hrTimeDuration)(i,(0, Ja.hrTime)()));r===ye.SpanKind.SERVER?this._recordServerDuration(o,n,a):r===ye.SpanKind.CLIENT&&this._recordClientDuration(o,n,a);}_callResponseHook(e,r){(0, ir.safeExecuteInTheMiddle)(()=>this.getConfig().responseHook(e,r),()=>{},true);}_callRequestHook(e,r){(0, ir.safeExecuteInTheMiddle)(()=>this.getConfig().requestHook(e,r),()=>{},true);}_callStartSpanHook(e,r){if(typeof r=="function")return (0, ir.safeExecuteInTheMiddle)(()=>r(e),()=>{},true)}_createHeaderCapture(){let e=this.getConfig();return {client:{captureRequestHeaders:(0, wt.headerCapture)("request",e.headersToSpanAttributes?.client?.requestHeaders??[]),captureResponseHeaders:(0, wt.headerCapture)("response",e.headersToSpanAttributes?.client?.responseHeaders??[])},server:{captureRequestHeaders:(0, wt.headerCapture)("request",e.headersToSpanAttributes?.server?.requestHeaders??[]),captureResponseHeaders:(0, wt.headerCapture)("response",e.headersToSpanAttributes?.server?.responseHeaders??[])}}}};ON.HttpInstrumentation=Z1;});var Bue=y(NN=>{Object.defineProperty(NN,"__esModule",{value:true});NN.HttpInstrumentation=void 0;var FYe=Vue();Object.defineProperty(NN,"HttpInstrumentation",{enumerable:true,get:function(){return FYe.HttpInstrumentation}});});var zue=y(k_=>{Object.defineProperty(k_,"__esModule",{value:true});k_.MongodbCommandType=void 0;(function(t){t.CREATE_INDEXES="createIndexes",t.FIND_AND_MODIFY="findAndModify",t.IS_MASTER="isMaster",t.COUNT="count",t.AGGREGATE="aggregate",t.UNKNOWN="unknown";})(k_.MongodbCommandType||(k_.MongodbCommandType={}));});var Fue=y(Ep=>{Object.defineProperty(Ep,"__esModule",{value:true});Ep.PACKAGE_NAME=Ep.PACKAGE_VERSION=void 0;Ep.PACKAGE_VERSION="0.57.0";Ep.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb";});var jue=y(bN=>{Object.defineProperty(bN,"__esModule",{value:true});bN.MongoDBInstrumentation=void 0;var gt=(P(),$(Ve)),st=(Wr(),$(Yr)),ps=(ht(),$(Gr)),Qa=zue(),Hue=Fue(),Gue={requireParentSpan:true},X1=class t extends st.InstrumentationBase{constructor(e={}){super(Hue.PACKAGE_NAME,Hue.PACKAGE_VERSION,{...Gue,...e});}setConfig(e={}){super.setConfig({...Gue,...e});}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"});}init(){let{v3PatchConnection:e,v3UnpatchConnection:r}=this._getV3ConnectionPatches(),{v4PatchConnect:i,v4UnpatchConnect:n}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:a,v4PatchConnectionPromise:o,v4UnpatchConnection:s}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:c,v4UnpatchConnectionPool:l}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:u,v4UnpatchSessions:d}=this._getV4SessionsPatches();return [new st.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new st.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],e,r)]),new st.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new st.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],a,s),new st.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],o,s),new st.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],c,l),new st.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],i,n),new st.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],u,d)])]}_getV3ConnectionPatches(){return {v3PatchConnection:e=>((0, st.isWrapped)(e.insert)&&this._unwrap(e,"insert"),this._wrap(e,"insert",this._getV3PatchOperation("insert")),(0, st.isWrapped)(e.remove)&&this._unwrap(e,"remove"),this._wrap(e,"remove",this._getV3PatchOperation("remove")),(0, st.isWrapped)(e.update)&&this._unwrap(e,"update"),this._wrap(e,"update",this._getV3PatchOperation("update")),(0, st.isWrapped)(e.command)&&this._unwrap(e,"command"),this._wrap(e,"command",this._getV3PatchCommand()),(0, st.isWrapped)(e.query)&&this._unwrap(e,"query"),this._wrap(e,"query",this._getV3PatchFind()),(0, st.isWrapped)(e.getMore)&&this._unwrap(e,"getMore"),this._wrap(e,"getMore",this._getV3PatchCursor()),e),v3UnpatchConnection:e=>{e!==void 0&&(this._unwrap(e,"insert"),this._unwrap(e,"remove"),this._unwrap(e,"update"),this._unwrap(e,"command"),this._unwrap(e,"query"),this._unwrap(e,"getMore"));}}}_getV4SessionsPatches(){return {v4PatchSessions:e=>((0, st.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),this._wrap(e.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0, st.isWrapped)(e.release)&&this._unwrap(e,"release"),this._wrap(e.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),e),v4UnpatchSessions:e=>{e!==void 0&&((0, st.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),(0, st.isWrapped)(e.release)&&this._unwrap(e,"release"));}}}_getV4AcquireCommand(){let e=this;return r=>function(){let n=this.sessions.length,a=r.call(this),o=this.sessions.length;return n===o?e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName}):n-1===o&&(e._connectionsUsage.add(-1,{state:"idle","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName})),a}}_getV4ReleaseCommand(){let e=this;return r=>function(n){let a=r.call(this,n);return e._connectionsUsage.add(-1,{state:"used","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"idle","pool.name":e._poolName}),a}}_getV4ConnectionPoolPatches(){return {v4PatchConnectionPool:e=>{let r=e.ConnectionPool.prototype;return (0, st.isWrapped)(r.checkOut)&&this._unwrap(r,"checkOut"),this._wrap(r,"checkOut",this._getV4ConnectionPoolCheckOut()),e},v4UnpatchConnectionPool:e=>{e!==void 0&&this._unwrap(e.ConnectionPool.prototype,"checkOut");}}}_getV4ConnectPatches(){return {v4PatchConnect:e=>((0, st.isWrapped)(e.connect)&&this._unwrap(e,"connect"),this._wrap(e,"connect",this._getV4ConnectCommand()),e),v4UnpatchConnect:e=>{e!==void 0&&this._unwrap(e,"connect");}}}_getV4ConnectionPoolCheckOut(){return e=>function(i){let n=gt.context.bind(gt.context.active(),i);return e.call(this,n)}}_getV4ConnectCommand(){let e=this;return r=>function(n,a){if(r.length===1){let s=r.call(this,n);return s&&typeof s.then=="function"&&s.then(()=>e.setPoolName(n),()=>{}),s}let o=function(s,c){if(s||!c){a(s,c);return}e.setPoolName(n),a(s,c);};return r.call(this,n,o)}}_getV4ConnectionPatches(){return {v4PatchConnectionCallback:e=>((0, st.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandCallback()),e),v4PatchConnectionPromise:e=>((0, st.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandPromise()),e),v4UnpatchConnection:e=>{e!==void 0&&this._unwrap(e.Connection.prototype,"command");}}}_getV3PatchOperation(e){let r=this;return i=>function(a,o,s,c,l){let u=gt.trace.getSpan(gt.context.active()),d=r._checkSkipInstrumentation(u),p=typeof c=="function"?c:l;if(d||typeof p!="function"||typeof s!="object")return typeof c=="function"?i.call(this,a,o,s,c):i.call(this,a,o,s,c,l);let f=r.tracer.startSpan(`mongodb.${e}`,{kind:gt.SpanKind.CLIENT});r._populateV3Attributes(f,o,a,s[0],e);let g=r._patchEnd(f,p);return typeof c=="function"?i.call(this,a,o,s,g):i.call(this,a,o,s,c,g)}}_getV3PatchCommand(){let e=this;return r=>function(n,a,o,s,c){let l=gt.trace.getSpan(gt.context.active()),u=e._checkSkipInstrumentation(l),d=typeof s=="function"?s:c;if(u||typeof d!="function"||typeof o!="object")return typeof s=="function"?r.call(this,n,a,o,s):r.call(this,n,a,o,s,c);let p=t._getCommandType(o),f=p===Qa.MongodbCommandType.UNKNOWN?"command":p,g=e.tracer.startSpan(`mongodb.${f}`,{kind:gt.SpanKind.CLIENT}),S=p===Qa.MongodbCommandType.UNKNOWN?void 0:p;e._populateV3Attributes(g,a,n,o,S);let v=e._patchEnd(g,d);return typeof s=="function"?r.call(this,n,a,o,v):r.call(this,n,a,o,s,v)}}_getV4PatchCommandCallback(){let e=this;return r=>function(n,a,o,s){let c=gt.trace.getSpan(gt.context.active()),l=e._checkSkipInstrumentation(c),u=s,d=Object.keys(a)[0];if(typeof a!="object"||a.ismaster||a.hello)return r.call(this,n,a,o,s);let p;l||(p=e.tracer.startSpan(`mongodb.${d}`,{kind:gt.SpanKind.CLIENT}),e._populateV4Attributes(p,this,n,a,d));let f=e._patchEnd(p,u,this.id,d);return r.call(this,n,a,o,f)}}_getV4PatchCommandPromise(){let e=this;return r=>function(...n){let[a,o]=n,s=gt.trace.getSpan(gt.context.active()),c=e._checkSkipInstrumentation(s),l=Object.keys(o)[0],u=()=>{};if(typeof o!="object"||o.ismaster||o.hello)return r.apply(this,n);let d;c||(d=e.tracer.startSpan(`mongodb.${l}`,{kind:gt.SpanKind.CLIENT}),e._populateV4Attributes(d,this,a,o,l));let p=e._patchEnd(d,u,this.id,l),f=r.apply(this,n);return f.then(g=>p(null,g),g=>p(g)),f}}_getV3PatchFind(){let e=this;return r=>function(n,a,o,s,c,l){let u=gt.trace.getSpan(gt.context.active()),d=e._checkSkipInstrumentation(u),p=typeof c=="function"?c:l;if(d||typeof p!="function"||typeof o!="object")return typeof c=="function"?r.call(this,n,a,o,s,c):r.call(this,n,a,o,s,c,l);let f=e.tracer.startSpan("mongodb.find",{kind:gt.SpanKind.CLIENT});e._populateV3Attributes(f,a,n,o,"find");let g=e._patchEnd(f,p);return typeof c=="function"?r.call(this,n,a,o,s,g):r.call(this,n,a,o,s,c,g)}}_getV3PatchCursor(){let e=this;return r=>function(n,a,o,s,c,l){let u=gt.trace.getSpan(gt.context.active()),d=e._checkSkipInstrumentation(u),p=typeof c=="function"?c:l;if(d||typeof p!="function")return typeof c=="function"?r.call(this,n,a,o,s,c):r.call(this,n,a,o,s,c,l);let f=e.tracer.startSpan("mongodb.getMore",{kind:gt.SpanKind.CLIENT});e._populateV3Attributes(f,a,n,o.cmd,"getMore");let g=e._patchEnd(f,p);return typeof c=="function"?r.call(this,n,a,o,s,g):r.call(this,n,a,o,s,c,g)}}static _getCommandType(e){return e.createIndexes!==void 0?Qa.MongodbCommandType.CREATE_INDEXES:e.findandmodify!==void 0?Qa.MongodbCommandType.FIND_AND_MODIFY:e.ismaster!==void 0?Qa.MongodbCommandType.IS_MASTER:e.count!==void 0?Qa.MongodbCommandType.COUNT:e.aggregate!==void 0?Qa.MongodbCommandType.AGGREGATE:Qa.MongodbCommandType.UNKNOWN}_populateV4Attributes(e,r,i,n,a){let o,s;if(r){let l=typeof r.address=="string"?r.address.split(":"):"";l.length===2&&(o=l[0],s=l[1]);}let c;n?.documents&&n.documents[0]?c=n.documents[0]:n?.cursors?c=n.cursors:c=n,this._addAllSpanAttributes(e,i.db,i.collection,o,s,c,a);}_populateV3Attributes(e,r,i,n,a){let o,s;if(i&&i.s&&(o=i.s.options?.host??i.s.host,s=(i.s.options?.port??i.s.port)?.toString(),o==null||s==null)){let d=i.description?.address;if(d){let p=d.split(":");o=p[0],s=p[1];}}let[c,l]=r.toString().split("."),u=n?.query??n?.q??n;this._addAllSpanAttributes(e,c,l,o,s,u,a);}_addAllSpanAttributes(e,r,i,n,a,o,s){if(e.setAttributes({[ps.SEMATTRS_DB_SYSTEM]:ps.DBSYSTEMVALUES_MONGODB,[ps.SEMATTRS_DB_NAME]:r,[ps.SEMATTRS_DB_MONGODB_COLLECTION]:i,[ps.SEMATTRS_DB_OPERATION]:s,[ps.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${n}:${a}/${r}`}),n&&a){e.setAttribute(ps.SEMATTRS_NET_PEER_NAME,n);let u=parseInt(a,10);isNaN(u)||e.setAttribute(ps.SEMATTRS_NET_PEER_PORT,u);}if(!o)return;let{dbStatementSerializer:c}=this.getConfig(),l=typeof c=="function"?c:this._defaultDbStatementSerializer.bind(this);(0, st.safeExecuteInTheMiddle)(()=>{let u=l(o);e.setAttribute(ps.SEMATTRS_DB_STATEMENT,u);},u=>{u&&this._diag.error("Error running dbStatementSerializer hook",u);},true);}_defaultDbStatementSerializer(e){let{enhancedDatabaseReporting:r}=this.getConfig(),i=r?e:this._scrubStatement(e);return JSON.stringify(i)}_scrubStatement(e){return Array.isArray(e)?e.map(r=>this._scrubStatement(r)):typeof e=="object"&&e!==null?Object.fromEntries(Object.entries(e).map(([r,i])=>[r,this._scrubStatement(i)])):"?"}_handleExecutionResult(e,r){let{responseHook:i}=this.getConfig();typeof i=="function"&&(0, st.safeExecuteInTheMiddle)(()=>{i(e,{data:r});},n=>{n&&this._diag.error("Error running response hook",n);},true);}_patchEnd(e,r,i,n){let a=gt.context.active(),o=this;return function(...c){let l=c[0];if(e){if(l instanceof Error)e?.setStatus({code:gt.SpanStatusCode.ERROR,message:l.message});else {let u=c[1];o._handleExecutionResult(e,u);}e.end();}return gt.context.with(a,()=>(n==="endSessions"&&o._connectionsUsage.add(-1,{state:"idle","pool.name":o._poolName}),r.apply(this,c)))}}setPoolName(e){let r=e.hostAddress?.host,i=e.hostAddress?.port,n=e.dbName,a=`mongodb://${r}:${i}/${n}`;this._poolName=a;}_checkSkipInstrumentation(e){return this.getConfig().requireParentSpan===true&&e===void 0}};bN.MongoDBInstrumentation=X1;});var que=y($_=>{Object.defineProperty($_,"__esModule",{value:true});$_.MongodbCommandType=void 0;(function(t){t.CREATE_INDEXES="createIndexes",t.FIND_AND_MODIFY="findAndModify",t.IS_MASTER="isMaster",t.COUNT="count",t.UNKNOWN="unknown";})($_.MongodbCommandType||($_.MongodbCommandType={}));});var Yue=y(Sp=>{Object.defineProperty(Sp,"__esModule",{value:true});Sp.MongodbCommandType=Sp.MongoDBInstrumentation=void 0;var jYe=jue();Object.defineProperty(Sp,"MongoDBInstrumentation",{enumerable:true,get:function(){return jYe.MongoDBInstrumentation}});var qYe=que();Object.defineProperty(Sp,"MongodbCommandType",{enumerable:true,get:function(){return qYe.MongodbCommandType}});});var Wue=y(V_=>{Object.defineProperty(V_,"__esModule",{value:true});V_.AttributeNames=void 0;(function(t){t.MYSQL_VALUES="db.mysql.values";})(V_.AttributeNames||(V_.AttributeNames={}));});var Zue=y(dn=>{Object.defineProperty(dn,"__esModule",{value:true});dn.getPoolName=dn.arrayStringifyHelper=dn.getSpanName=dn.getDbValues=dn.getDbStatement=dn.getConnectionAttributes=void 0;var fs=(ht(),$(Gr));function WYe(t){let{host:e,port:r,database:i,user:n}=KYe(t),a=parseInt(r,10);return isNaN(a)?{[fs.SEMATTRS_NET_PEER_NAME]:e,[fs.SEMATTRS_DB_CONNECTION_STRING]:Kue(e,r,i),[fs.SEMATTRS_DB_NAME]:i,[fs.SEMATTRS_DB_USER]:n}:{[fs.SEMATTRS_NET_PEER_NAME]:e,[fs.SEMATTRS_NET_PEER_PORT]:a,[fs.SEMATTRS_DB_CONNECTION_STRING]:Kue(e,r,i),[fs.SEMATTRS_DB_NAME]:i,[fs.SEMATTRS_DB_USER]:n}}dn.getConnectionAttributes=WYe;function KYe(t){let{host:e,port:r,database:i,user:n}=t&&t.connectionConfig||t||{};return {host:e,port:r,database:i,user:n}}function Kue(t,e,r){let i=`jdbc:mysql://${t||"localhost"}`;return typeof e=="number"&&(i+=`:${e}`),typeof r=="string"&&(i+=`/${r}`),i}function ZYe(t){return typeof t=="string"?t:t.sql}dn.getDbStatement=ZYe;function XYe(t,e){return J1(typeof t=="string"?e:e||t.values)}dn.getDbValues=XYe;function JYe(t){let e=typeof t=="object"?t.sql:t,r=e?.indexOf(" ");return typeof r=="number"&&r!==-1?e?.substring(0,r):e}dn.getSpanName=JYe;function J1(t){return t?`[${t.toString()}]`:""}dn.arrayStringifyHelper=J1;function QYe(t){let e=t.config.connectionConfig,r="";return r+=e.host?`host: '${e.host}', `:"",r+=e.port?`port: ${e.port}, `:"",r+=e.database?`database: '${e.database}', `:"",r+=e.user?`user: '${e.user}'`:"",e.user||(r=r.substring(0,r.length-2)),r.trim()}dn.getPoolName=QYe;});var Xue=y(Tp=>{Object.defineProperty(Tp,"__esModule",{value:true});Tp.PACKAGE_NAME=Tp.PACKAGE_VERSION=void 0;Tp.PACKAGE_VERSION="0.50.0";Tp.PACKAGE_NAME="@opentelemetry/instrumentation-mysql";});var Que=y(PN=>{Object.defineProperty(PN,"__esModule",{value:true});PN.MySQLInstrumentation=void 0;var pn=(P(),$(Ve)),yp=(Wr(),$(Yr)),Q1=(ht(),$(Gr)),eWe=Wue(),vp=Zue(),Jue=Xue(),e$=class t extends yp.InstrumentationBase{static COMMON_ATTRIBUTES={[Q1.SEMATTRS_DB_SYSTEM]:Q1.DBSYSTEMVALUES_MYSQL};constructor(e={}){super(Jue.PACKAGE_NAME,Jue.PACKAGE_VERSION,e);}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"});}init(){return [new yp.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],e=>((0, yp.isWrapped)(e.createConnection)&&this._unwrap(e,"createConnection"),this._wrap(e,"createConnection",this._patchCreateConnection()),(0, yp.isWrapped)(e.createPool)&&this._unwrap(e,"createPool"),this._wrap(e,"createPool",this._patchCreatePool()),(0, yp.isWrapped)(e.createPoolCluster)&&this._unwrap(e,"createPoolCluster"),this._wrap(e,"createPoolCluster",this._patchCreatePoolCluster()),e),e=>{e!==void 0&&(this._unwrap(e,"createConnection"),this._unwrap(e,"createPool"),this._unwrap(e,"createPoolCluster"));})]}_patchCreateConnection(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"query",r._patchQuery(a)),a}}}_patchCreatePool(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"query",r._patchQuery(a)),r._wrap(a,"getConnection",r._patchGetConnection(a)),r._wrap(a,"end",r._patchPoolEnd(a)),r._setPoolcallbacks(a,r,""),a}}}_patchPoolEnd(e){return r=>{let i=this;return function(a){let o=e._allConnections.length,s=e._freeConnections.length,c=o-s,l=(0, vp.getPoolName)(e);i._connectionsUsage.add(-c,{state:"used",name:l}),i._connectionsUsage.add(-s,{state:"idle",name:l}),r.apply(e,arguments);}}}_patchCreatePoolCluster(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"getConnection",r._patchGetConnection(a)),r._wrap(a,"add",r._patchAdd(a)),a}}}_patchAdd(e){return r=>{let i=this;return function(a,o){if(!i._enabled)return i._unwrap(e,"add"),r.apply(e,arguments);r.apply(e,arguments);let s=e._nodes;if(s){let c=typeof a=="object"?"CLUSTER::"+e._lastId:String(a),l=s[c].pool;i._setPoolcallbacks(l,i,a);}}}}_patchGetConnection(e){return r=>{let i=this;return function(a,o,s){if(!i._enabled)return i._unwrap(e,"getConnection"),r.apply(e,arguments);if(arguments.length===1&&typeof a=="function"){let c=i._getConnectionCallbackPatchFn(a);return r.call(e,c)}if(arguments.length===2&&typeof o=="function"){let c=i._getConnectionCallbackPatchFn(o);return r.call(e,a,c)}if(arguments.length===3&&typeof s=="function"){let c=i._getConnectionCallbackPatchFn(s);return r.call(e,a,o,c)}return r.apply(e,arguments)}}}_getConnectionCallbackPatchFn(e){let r=this,i=pn.context.active();return function(n,a){a&&((0, yp.isWrapped)(a.query)||r._wrap(a,"query",r._patchQuery(a))),typeof e=="function"&&pn.context.with(i,e,this,n,a);}}_patchQuery(e){return r=>{let i=this;return function(n,a,o){if(!i._enabled)return i._unwrap(e,"query"),r.apply(e,arguments);let s=i.tracer.startSpan((0, vp.getSpanName)(n),{kind:pn.SpanKind.CLIENT,attributes:{...t.COMMON_ATTRIBUTES,...(0, vp.getConnectionAttributes)(e.config)}});if(s.setAttribute(Q1.SEMATTRS_DB_STATEMENT,(0, vp.getDbStatement)(n)),i.getConfig().enhancedDatabaseReporting){let u;Array.isArray(a)?u=a:arguments[2]&&(u=[a]),s.setAttribute(eWe.AttributeNames.MYSQL_VALUES,(0, vp.getDbValues)(n,u));}let c=Array.from(arguments).findIndex(u=>typeof u=="function"),l=pn.context.active();if(c===-1){let u=pn.context.with(pn.trace.setSpan(pn.context.active(),s),()=>r.apply(e,arguments));return pn.context.bind(l,u),u.on("error",d=>s.setStatus({code:pn.SpanStatusCode.ERROR,message:d.message})).on("end",()=>{s.end();})}else return i._wrap(arguments,c,i._patchCallbackQuery(s,l)),pn.context.with(pn.trace.setSpan(pn.context.active(),s),()=>r.apply(e,arguments))}}}_patchCallbackQuery(e,r){return i=>function(n,a,o){return n&&e.setStatus({code:pn.SpanStatusCode.ERROR,message:n.message}),e.end(),pn.context.with(r,()=>i(...arguments))}}_setPoolcallbacks(e,r,i){let n=i||(0, vp.getPoolName)(e);e.on("connection",a=>{r._connectionsUsage.add(1,{state:"idle",name:n});}),e.on("acquire",a=>{r._connectionsUsage.add(-1,{state:"idle",name:n}),r._connectionsUsage.add(1,{state:"used",name:n});}),e.on("release",a=>{r._connectionsUsage.add(-1,{state:"used",name:n}),r._connectionsUsage.add(1,{state:"idle",name:n});});}};PN.MySQLInstrumentation=e$;});var ede=y(CN=>{Object.defineProperty(CN,"__esModule",{value:true});CN.MySQLInstrumentation=void 0;var tWe=Que();Object.defineProperty(CN,"MySQLInstrumentation",{enumerable:true,get:function(){return tWe.MySQLInstrumentation}});});var tde=y(xN=>{Object.defineProperty(xN,"__esModule",{value:true});xN.EVENT_LISTENERS_SET=void 0;xN.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.pg.eventListenersSet");});var t$=y(B_=>{Object.defineProperty(B_,"__esModule",{value:true});B_.AttributeNames=void 0;(function(t){t.PG_VALUES="db.postgresql.values",t.PG_PLAN="db.postgresql.plan",t.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",t.MAX_CLIENT="db.postgresql.max.client";})(B_.AttributeNames||(B_.AttributeNames={}));});var r$=y(Ge=>{Object.defineProperty(Ge,"__esModule",{value:true});Ge.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS=Ge.METRIC_DB_CLIENT_CONNECTION_COUNT=Ge.DB_SYSTEM_VALUE_POSTGRESQL=Ge.DB_CLIENT_CONNECTION_STATE_VALUE_USED=Ge.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE=Ge.ATTR_NET_PEER_PORT=Ge.ATTR_NET_PEER_NAME=Ge.ATTR_DB_USER=Ge.ATTR_DB_SYSTEM=Ge.ATTR_DB_STATEMENT=Ge.ATTR_DB_NAME=Ge.ATTR_DB_CONNECTION_STRING=Ge.ATTR_DB_CLIENT_CONNECTION_STATE=Ge.ATTR_DB_CLIENT_CONNECTION_POOL_NAME=void 0;Ge.ATTR_DB_CLIENT_CONNECTION_POOL_NAME="db.client.connection.pool.name";Ge.ATTR_DB_CLIENT_CONNECTION_STATE="db.client.connection.state";Ge.ATTR_DB_CONNECTION_STRING="db.connection_string";Ge.ATTR_DB_NAME="db.name";Ge.ATTR_DB_STATEMENT="db.statement";Ge.ATTR_DB_SYSTEM="db.system";Ge.ATTR_DB_USER="db.user";Ge.ATTR_NET_PEER_NAME="net.peer.name";Ge.ATTR_NET_PEER_PORT="net.peer.port";Ge.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE="idle";Ge.DB_CLIENT_CONNECTION_STATE_VALUE_USED="used";Ge.DB_SYSTEM_VALUE_POSTGRESQL="postgresql";Ge.METRIC_DB_CLIENT_CONNECTION_COUNT="db.client.connection.count";Ge.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS="db.client.connection.pending_requests";});var n$=y(z_=>{Object.defineProperty(z_,"__esModule",{value:true});z_.SpanNames=void 0;(function(t){t.QUERY_PREFIX="pg.query",t.CONNECT="pg.connect",t.POOL_CONNECT="pg-pool.connect";})(z_.SpanNames||(z_.SpanNames={}));});var cde=y($e=>{Object.defineProperty($e,"__esModule",{value:true});$e.isObjectWithTextString=$e.getErrorMessage=$e.patchClientConnectCallback=$e.patchCallbackPGPool=$e.updateCounter=$e.getPoolName=$e.patchCallback=$e.handleExecutionResult=$e.handleConfigQuery=$e.shouldSkipInstrumentation=$e.getSemanticAttributesFromPoolConnection=$e.getSemanticAttributesFromConnection=$e.getConnectionString=$e.parseAndMaskConnectionString=$e.parseNormalizedOperationName=$e.getQuerySpanName=void 0;var ec=(P(),$(Ve)),IN=t$(),ti=(ht(),$(Gr)),Rt=r$(),wl=(Wr(),$(Yr)),rde=n$();function nde(t,e){if(!e)return rde.SpanNames.QUERY_PREFIX;let r=typeof e.name=="string"&&e.name?e.name:ide(e.text);return `${rde.SpanNames.QUERY_PREFIX}:${r}${t?` ${t}`:""}`}$e.getQuerySpanName=nde;function ide(t){let e=t.indexOf(" "),r=e===-1?t:t.slice(0,e);return r=r.toUpperCase(),r.endsWith(";")?r.slice(0,-1):r}$e.parseNormalizedOperationName=ide;function ode(t){try{let e=new URL(t);return e.username="",e.password="",e.toString()}catch{return "postgresql://localhost:5432/"}}$e.parseAndMaskConnectionString=ode;function i$(t){if("connectionString"in t&&t.connectionString)return ode(t.connectionString);let e=t.host||"localhost",r=t.port||5432,i=t.database||"";return `postgresql://${e}:${r}/${i}`}$e.getConnectionString=i$;function MN(t){if(Number.isInteger(t))return t}function sde(t,e){let r={};return e&wl.SemconvStability.OLD&&(r={...r,[Rt.ATTR_DB_SYSTEM]:Rt.DB_SYSTEM_VALUE_POSTGRESQL,[Rt.ATTR_DB_NAME]:t.database,[Rt.ATTR_DB_CONNECTION_STRING]:i$(t),[Rt.ATTR_DB_USER]:t.user,[Rt.ATTR_NET_PEER_NAME]:t.host,[Rt.ATTR_NET_PEER_PORT]:MN(t.port)}),e&wl.SemconvStability.STABLE&&(r={...r,[ti.ATTR_DB_SYSTEM_NAME]:ti.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[ti.ATTR_DB_NAMESPACE]:t.namespace,[ti.ATTR_SERVER_ADDRESS]:t.host,[ti.ATTR_SERVER_PORT]:MN(t.port)}),r}$e.getSemanticAttributesFromConnection=sde;function iWe(t,e){let r;try{r=t.connectionString?new URL(t.connectionString):void 0;}catch{r=void 0;}let i={[IN.AttributeNames.IDLE_TIMEOUT_MILLIS]:t.idleTimeoutMillis,[IN.AttributeNames.MAX_CLIENT]:t.maxClient};return e&wl.SemconvStability.OLD&&(i={...i,[Rt.ATTR_DB_SYSTEM]:Rt.DB_SYSTEM_VALUE_POSTGRESQL,[Rt.ATTR_DB_NAME]:r?.pathname.slice(1)??t.database,[Rt.ATTR_DB_CONNECTION_STRING]:i$(t),[Rt.ATTR_NET_PEER_NAME]:r?.hostname??t.host,[Rt.ATTR_NET_PEER_PORT]:Number(r?.port)||MN(t.port),[Rt.ATTR_DB_USER]:r?.username??t.user}),e&wl.SemconvStability.STABLE&&(i={...i,[ti.ATTR_DB_SYSTEM_NAME]:ti.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[ti.ATTR_DB_NAMESPACE]:t.namespace,[ti.ATTR_SERVER_ADDRESS]:r?.hostname??t.host,[ti.ATTR_SERVER_PORT]:Number(r?.port)||MN(t.port)}),i}$e.getSemanticAttributesFromPoolConnection=iWe;function oWe(t){return t.requireParentSpan===true&&ec.trace.getSpan(ec.context.active())===void 0}$e.shouldSkipInstrumentation=oWe;function sWe(t,e,r,i){let{connectionParameters:n}=this,a=n.database,o=nde(a,i),s=t.startSpan(o,{kind:ec.SpanKind.CLIENT,attributes:sde(n,r)});if(!i)return s;if(i.text&&(r&wl.SemconvStability.OLD&&s.setAttribute(Rt.ATTR_DB_STATEMENT,i.text),r&wl.SemconvStability.STABLE&&s.setAttribute(ti.ATTR_DB_QUERY_TEXT,i.text)),e.enhancedDatabaseReporting&&Array.isArray(i.values))try{let c=i.values.map(l=>l==null?"null":l instanceof Buffer?l.toString():typeof l=="object"?typeof l.toPostgres=="function"?l.toPostgres():JSON.stringify(l):l.toString());s.setAttribute(IN.AttributeNames.PG_VALUES,c);}catch(c){ec.diag.error("failed to stringify ",i.values,c);}return typeof i.name=="string"&&s.setAttribute(IN.AttributeNames.PG_PLAN,i.name),s}$e.handleConfigQuery=sWe;function ade(t,e,r){typeof t.responseHook=="function"&&(0, wl.safeExecuteInTheMiddle)(()=>{t.responseHook(e,{data:r});},i=>{i&&ec.diag.error("Error running response hook",i);},true);}$e.handleExecutionResult=ade;function aWe(t,e,r,i,n){return function(o,s){o?(Object.prototype.hasOwnProperty.call(o,"code")&&(i[ti.ATTR_ERROR_TYPE]=o.code),e.setStatus({code:ec.SpanStatusCode.ERROR,message:o.message})):ade(t,e,s),n(),e.end(),r.call(this,o,s);}}$e.patchCallback=aWe;function cWe(t){let e="";return e+=(t?.host?`${t.host}`:"unknown_host")+":",e+=(t?.port?`${t.port}`:"unknown_port")+"/",e+=t?.database?`${t.database}`:"unknown_database",e.trim()}$e.getPoolName=cWe;function lWe(t,e,r,i,n){let a=e.totalCount,o=e.waitingCount,s=e.idleCount,c=a-s;return r.add(c-n.used,{[Rt.ATTR_DB_CLIENT_CONNECTION_STATE]:Rt.DB_CLIENT_CONNECTION_STATE_VALUE_USED,[Rt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),r.add(s-n.idle,{[Rt.ATTR_DB_CLIENT_CONNECTION_STATE]:Rt.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,[Rt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),i.add(o-n.pending,{[Rt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),{used:c,idle:s,pending:o}}$e.updateCounter=lWe;function uWe(t,e){return function(i,n,a){i&&t.setStatus({code:ec.SpanStatusCode.ERROR,message:i.message}),t.end(),e.call(this,i,n,a);}}$e.patchCallbackPGPool=uWe;function dWe(t,e){return function(i){i&&t.setStatus({code:ec.SpanStatusCode.ERROR,message:i.message}),t.end(),e.apply(this,arguments);}}$e.patchClientConnectCallback=dWe;function pWe(t){return typeof t=="object"&&t!==null&&"message"in t?String(t.message):void 0}$e.getErrorMessage=pWe;function fWe(t){return typeof t=="object"&&typeof t?.text=="string"}$e.isObjectWithTextString=fWe;});var lde=y(wN=>{Object.defineProperty(wN,"__esModule",{value:true});wN.addSqlCommenterComment=void 0;var o$=(P(),$(Ve)),hWe=(Rl(),$(dU));function mWe(t){let e=t.indexOf("--");if(e>=0)return  true;if(t.indexOf("/*")<0)return  false;let i=t.indexOf("*/");return e<i}function _We(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)}function gWe(t,e){if(typeof e!="string"||e.length===0||mWe(e))return e;let r=new hWe.W3CTraceContextPropagator,i={};r.inject(o$.trace.setSpan(o$.ROOT_CONTEXT,t),i,o$.defaultTextMapSetter);let n=Object.keys(i).sort();if(n.length===0)return e;let a=n.map(o=>{let s=_We(i[o]);return `${o}='${s}'`}).join(",");return `${e} /*${a}*/`}wN.addSqlCommenterComment=gWe;});var ude=y(Ap=>{Object.defineProperty(Ap,"__esModule",{value:true});Ap.PACKAGE_NAME=Ap.PACKAGE_VERSION=void 0;Ap.PACKAGE_VERSION="0.57.0";Ap.PACKAGE_NAME="@opentelemetry/instrumentation-pg";});var _de=y(DN=>{Object.defineProperty(DN,"__esModule",{value:true});DN.PgInstrumentation=void 0;var $r=(Wr(),$(Yr)),Ze=(P(),$(Ve)),dde=tde(),Vt=cde(),pde=lde(),fde=ude(),hde=n$(),LN=(Rl(),$(dU)),Ci=(ht(),$(Gr)),F_=r$();function Rp(t){return t[Symbol.toStringTag]==="Module"?t.default:t}var s$=class extends $r.InstrumentationBase{_connectionsCounter={used:0,idle:0,pending:0};_semconvStability;constructor(e={}){super(fde.PACKAGE_NAME,fde.PACKAGE_VERSION,e),this._semconvStability=(0, $r.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}_updateMetricInstruments(){this._operationDuration=this.meter.createHistogram(Ci.METRIC_DB_CLIENT_OPERATION_DURATION,{description:"Duration of database client operations.",unit:"s",valueType:Ze.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.001,.005,.01,.05,.1,.5,1,5,10]}}),this._connectionsCounter={idle:0,pending:0,used:0},this._connectionsCount=this.meter.createUpDownCounter(F_.METRIC_DB_CLIENT_CONNECTION_COUNT,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"}),this._connectionPendingRequests=this.meter.createUpDownCounter(F_.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,{description:"The number of current pending requests for an open connection.",unit:"{connection}"});}init(){let e=[">=8.0.3 <9"],r=[">=2.0.0 <4"],i=new $r.InstrumentationNodeModuleFile("pg/lib/native/client.js",e,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),n=new $r.InstrumentationNodeModuleFile("pg/lib/client.js",e,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),a=new $r.InstrumentationNodeModuleDefinition("pg",e,s=>{let c=Rp(s);return this._patchPgClient(c.Client),s},s=>{let c=Rp(s);return this._unpatchPgClient(c.Client),s},[n,i]),o=new $r.InstrumentationNodeModuleDefinition("pg-pool",r,s=>{let c=Rp(s);return (0, $r.isWrapped)(c.prototype.connect)&&this._unwrap(c.prototype,"connect"),this._wrap(c.prototype,"connect",this._getPoolConnectPatch()),c},s=>{let c=Rp(s);(0, $r.isWrapped)(c.prototype.connect)&&this._unwrap(c.prototype,"connect");});return [a,o]}_patchPgClient(e){if(!e)return;let r=Rp(e);return (0, $r.isWrapped)(r.prototype.query)&&this._unwrap(r.prototype,"query"),(0, $r.isWrapped)(r.prototype.connect)&&this._unwrap(r.prototype,"connect"),this._wrap(r.prototype,"query",this._getClientQueryPatch()),this._wrap(r.prototype,"connect",this._getClientConnectPatch()),e}_unpatchPgClient(e){let r=Rp(e);return (0, $r.isWrapped)(r.prototype.query)&&this._unwrap(r.prototype,"query"),(0, $r.isWrapped)(r.prototype.connect)&&this._unwrap(r.prototype,"connect"),e}_getClientConnectPatch(){let e=this;return r=>function(n){if(Vt.shouldSkipInstrumentation(e.getConfig()))return r.call(this,n);let a=e.tracer.startSpan(hde.SpanNames.CONNECT,{kind:Ze.SpanKind.CLIENT,attributes:Vt.getSemanticAttributesFromConnection(this,e._semconvStability)});if(n){let s=Ze.trace.getSpan(Ze.context.active());n=Vt.patchClientConnectCallback(a,n),s&&(n=Ze.context.bind(Ze.context.active(),n));}let o=Ze.context.with(Ze.trace.setSpan(Ze.context.active(),a),()=>r.call(this,n));return mde(a,o)}}recordOperationDuration(e,r){let i={},n=[Ci.ATTR_DB_NAMESPACE,Ci.ATTR_ERROR_TYPE,Ci.ATTR_SERVER_PORT,Ci.ATTR_SERVER_ADDRESS,Ci.ATTR_DB_OPERATION_NAME];this._semconvStability&$r.SemconvStability.OLD&&n.push(F_.ATTR_DB_SYSTEM),this._semconvStability&$r.SemconvStability.STABLE&&n.push(Ci.ATTR_DB_SYSTEM_NAME),n.forEach(o=>{o in e&&(i[o]=e[o]);});let a=(0, LN.hrTimeToMilliseconds)((0, LN.hrTimeDuration)(r,(0, LN.hrTime)()))/1e3;this._operationDuration.record(a,i);}_getClientQueryPatch(){let e=this;return r=>(this._diag.debug("Patching pg.Client.prototype.query"),function(...n){if(Vt.shouldSkipInstrumentation(e.getConfig()))return r.apply(this,n);let a=(0, LN.hrTime)(),o=n[0],s=typeof o=="string",c=Vt.isObjectWithTextString(o),l=s?{text:o,values:Array.isArray(n[1])?n[1]:void 0}:c?o:void 0,u={[F_.ATTR_DB_SYSTEM]:F_.DB_SYSTEM_VALUE_POSTGRESQL,[Ci.ATTR_DB_NAMESPACE]:this.database,[Ci.ATTR_SERVER_PORT]:this.connectionParameters.port,[Ci.ATTR_SERVER_ADDRESS]:this.connectionParameters.host};l?.text&&(u[Ci.ATTR_DB_OPERATION_NAME]=Vt.parseNormalizedOperationName(l?.text));let d=()=>{e.recordOperationDuration(u,a);},p=e.getConfig(),f=Vt.handleConfigQuery.call(this,e.tracer,p,e._semconvStability,l);if(p.addSqlCommenterCommentToQueries&&(s?n[0]=(0, pde.addSqlCommenterComment)(f,o):c&&!("name"in o)&&(n[0]={...o,text:(0, pde.addSqlCommenterComment)(f,o.text)})),n.length>0){let v=Ze.trace.getSpan(Ze.context.active());if(typeof n[n.length-1]=="function")n[n.length-1]=Vt.patchCallback(p,f,n[n.length-1],u,d),v&&(n[n.length-1]=Ze.context.bind(Ze.context.active(),n[n.length-1]));else if(typeof l?.callback=="function"){let N=Vt.patchCallback(e.getConfig(),f,l.callback,u,d);v&&(N=Ze.context.bind(Ze.context.active(),N)),n[0].callback=N;}}let{requestHook:g}=p;typeof g=="function"&&l&&(0, $r.safeExecuteInTheMiddle)(()=>{let{database:v,host:N,port:C,user:M}=this.connectionParameters;g(f,{connection:{database:v,host:N,port:C,user:M},query:{text:l.text,values:l.values,name:l.name}});},v=>{v&&e._diag.error("Error running query hook",v);},true);let S;try{S=r.apply(this,n);}catch(v){throw f.setStatus({code:Ze.SpanStatusCode.ERROR,message:Vt.getErrorMessage(v)}),f.end(),v}return S instanceof Promise?S.then(v=>new Promise(N=>{Vt.handleExecutionResult(e.getConfig(),f,v),d(),f.end(),N(v);})).catch(v=>new Promise((N,C)=>{f.setStatus({code:Ze.SpanStatusCode.ERROR,message:v.message}),d(),f.end(),C(v);})):S})}_setPoolConnectEventListeners(e){if(e[dde.EVENT_LISTENERS_SET])return;let r=Vt.getPoolName(e.options);e.on("connect",()=>{this._connectionsCounter=Vt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("acquire",()=>{this._connectionsCounter=Vt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("remove",()=>{this._connectionsCounter=Vt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("release",()=>{this._connectionsCounter=Vt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e[dde.EVENT_LISTENERS_SET]=true;}_getPoolConnectPatch(){let e=this;return r=>function(n){if(Vt.shouldSkipInstrumentation(e.getConfig()))return r.call(this,n);let a=e.tracer.startSpan(hde.SpanNames.POOL_CONNECT,{kind:Ze.SpanKind.CLIENT,attributes:Vt.getSemanticAttributesFromPoolConnection(this.options,e._semconvStability)});if(e._setPoolConnectEventListeners(this),n){let s=Ze.trace.getSpan(Ze.context.active());n=Vt.patchCallbackPGPool(a,n),s&&(n=Ze.context.bind(Ze.context.active(),n));}let o=Ze.context.with(Ze.trace.setSpan(Ze.context.active(),a),()=>r.call(this,n));return mde(a,o)}}};DN.PgInstrumentation=s$;function mde(t,e){if(!(e instanceof Promise))return e;let r=e;return Ze.context.bind(Ze.context.active(),r.then(i=>(t.end(),i)).catch(i=>(t.setStatus({code:Ze.SpanStatusCode.ERROR,message:Vt.getErrorMessage(i)}),t.end(),Promise.reject(i))))}});var gde=y(Op=>{Object.defineProperty(Op,"__esModule",{value:true});Op.AttributeNames=Op.PgInstrumentation=void 0;var EWe=_de();Object.defineProperty(Op,"PgInstrumentation",{enumerable:true,get:function(){return EWe.PgInstrumentation}});var SWe=t$();Object.defineProperty(Op,"AttributeNames",{enumerable:true,get:function(){return SWe.AttributeNames}});});var UN=y(Np=>{Object.defineProperty(Np,"__esModule",{value:true});Np.PACKAGE_NAME=Np.PACKAGE_VERSION=void 0;Np.PACKAGE_VERSION="0.53.0";Np.PACKAGE_NAME="@opentelemetry/instrumentation-redis";});var Ede=y(tc=>{Object.defineProperty(tc,"__esModule",{value:true});tc.getTracedCreateStreamTrace=tc.getTracedCreateClient=tc.endSpan=void 0;var H_=(P(),$(Ve)),TWe=(t,e)=>{e&&t.setStatus({code:H_.SpanStatusCode.ERROR,message:e.message}),t.end();};tc.endSpan=TWe;var yWe=t=>function(){let r=t.apply(this,arguments);return H_.context.bind(H_.context.active(),r)};tc.getTracedCreateClient=yWe;var vWe=t=>function(){return Object.prototype.hasOwnProperty.call(this,"stream")||Object.defineProperty(this,"stream",{get(){return this._patched_redis_stream},set(r){H_.context.bind(H_.context.active(),r),this._patched_redis_stream=r;}}),t.apply(this,arguments)};tc.getTracedCreateStreamTrace=vWe;});var a$=y(kN=>{Object.defineProperty(kN,"__esModule",{value:true});kN.defaultDbStatementSerializer=void 0;var AWe=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],RWe=(t,e)=>{if(Array.isArray(e)&&e.length){let r=AWe.find(({regex:n})=>n.test(t))?.args??0,i=r>=0?e.slice(0,r):e;return e.length>i.length&&i.push(`[${e.length-r} other arguments]`),`${t} ${i.join(" ")}`}return t};kN.defaultDbStatementSerializer=RWe;});var Tde=y(VN=>{Object.defineProperty(VN,"__esModule",{value:true});VN.RedisInstrumentationV2_V3=void 0;var bn=(Wr(),$(Yr)),$N=Ede(),Sde=UN(),G_=(P(),$(Ve)),xi=(ht(),$(Gr)),OWe=a$(),c$=class t extends bn.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(e={}){super(Sde.PACKAGE_NAME,Sde.PACKAGE_VERSION,e),this._semconvStability=e.semconvStability?e.semconvStability:(0, bn.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}setConfig(e={}){super.setConfig(e),this._semconvStability=e.semconvStability?e.semconvStability:(0, bn.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}init(){return [new bn.InstrumentationNodeModuleDefinition("redis",[">=2.6.0 <4"],e=>((0, bn.isWrapped)(e.RedisClient.prototype.internal_send_command)&&this._unwrap(e.RedisClient.prototype,"internal_send_command"),this._wrap(e.RedisClient.prototype,"internal_send_command",this._getPatchInternalSendCommand()),(0, bn.isWrapped)(e.RedisClient.prototype.create_stream)&&this._unwrap(e.RedisClient.prototype,"create_stream"),this._wrap(e.RedisClient.prototype,"create_stream",this._getPatchCreateStream()),(0, bn.isWrapped)(e.createClient)&&this._unwrap(e,"createClient"),this._wrap(e,"createClient",this._getPatchCreateClient()),e),e=>{e!==void 0&&(this._unwrap(e.RedisClient.prototype,"internal_send_command"),this._unwrap(e.RedisClient.prototype,"create_stream"),this._unwrap(e,"createClient"));})]}_getPatchInternalSendCommand(){let e=this;return function(i){return function(a){if(arguments.length!==1||typeof a!="object")return i.apply(this,arguments);let o=e.getConfig(),s=G_.trace.getSpan(G_.context.active())===void 0;if(o.requireParentSpan===true&&s)return i.apply(this,arguments);let c=o?.dbStatementSerializer||OWe.defaultDbStatementSerializer,l={};e._semconvStability&bn.SemconvStability.OLD&&Object.assign(l,{[xi.SEMATTRS_DB_SYSTEM]:xi.DBSYSTEMVALUES_REDIS,[xi.SEMATTRS_DB_STATEMENT]:c(a.command,a.args)}),e._semconvStability&bn.SemconvStability.STABLE&&Object.assign(l,{[xi.ATTR_DB_SYSTEM_NAME]:"redis",[xi.ATTR_DB_OPERATION_NAME]:a.command,[xi.ATTR_DB_QUERY_TEXT]:c(a.command,a.args)});let u=e.tracer.startSpan(`${t.COMPONENT}-${a.command}`,{kind:G_.SpanKind.CLIENT,attributes:l});if(this.connection_options){let p={};e._semconvStability&bn.SemconvStability.OLD&&Object.assign(p,{[xi.SEMATTRS_NET_PEER_NAME]:this.connection_options.host,[xi.SEMATTRS_NET_PEER_PORT]:this.connection_options.port}),e._semconvStability&bn.SemconvStability.STABLE&&Object.assign(p,{[xi.ATTR_SERVER_ADDRESS]:this.connection_options.host,[xi.ATTR_SERVER_PORT]:this.connection_options.port}),u.setAttributes(p);}this.address&&e._semconvStability&bn.SemconvStability.OLD&&u.setAttribute(xi.SEMATTRS_DB_CONNECTION_STRING,`redis://${this.address}`);let d=arguments[0].callback;if(d){let p=G_.context.active();arguments[0].callback=function(g,S){if(o?.responseHook){let v=o.responseHook;(0, bn.safeExecuteInTheMiddle)(()=>{v(u,a.command,a.args,S);},N=>{N&&e._diag.error("Error executing responseHook",N);},true);}return (0, $N.endSpan)(u,g),G_.context.with(p,d,this,...arguments)};}try{return i.apply(this,arguments)}catch(p){throw (0, $N.endSpan)(u,p),p}}}}_getPatchCreateClient(){return function(r){return (0, $N.getTracedCreateClient)(r)}}_getPatchCreateStream(){return function(r){return (0, $N.getTracedCreateStreamTrace)(r)}}};VN.RedisInstrumentationV2_V3=c$;});var vde=y(BN=>{Object.defineProperty(BN,"__esModule",{value:true});BN.getClientAttributes=void 0;var rc=(ht(),$(Gr)),yde=(Wr(),$(Yr));function NWe(t,e,r){let i={};return r&yde.SemconvStability.OLD&&Object.assign(i,{[rc.SEMATTRS_DB_SYSTEM]:rc.DBSYSTEMVALUES_REDIS,[rc.SEMATTRS_NET_PEER_NAME]:e?.socket?.host,[rc.SEMATTRS_NET_PEER_PORT]:e?.socket?.port,[rc.SEMATTRS_DB_CONNECTION_STRING]:bWe(t,e?.url)}),r&yde.SemconvStability.STABLE&&Object.assign(i,{[rc.ATTR_DB_SYSTEM_NAME]:"redis",[rc.ATTR_SERVER_ADDRESS]:e?.socket?.host,[rc.ATTR_SERVER_PORT]:e?.socket?.port}),i}BN.getClientAttributes=NWe;function bWe(t,e){if(!(typeof e!="string"||!e))try{let r=new URL(e);return r.searchParams.delete("user_pwd"),r.username="",r.password="",r.href}catch(r){t.error("failed to sanitize redis connection url",r);}}});var Nde=y(zN=>{Object.defineProperty(zN,"__esModule",{value:true});zN.RedisInstrumentationV4_V5=void 0;var ri=(P(),$(Ve)),Et=(Wr(),$(Yr)),Ade=vde(),PWe=a$(),Rde=UN(),l$=(ht(),$(Gr)),j_=Symbol("opentelemetry.instrumentation.redis.open_spans"),Ode=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),u$=class t extends Et.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(e={}){super(Rde.PACKAGE_NAME,Rde.PACKAGE_VERSION,e),this._semconvStability=e.semconvStability?e.semconvStability:(0, Et.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}setConfig(e={}){super.setConfig(e),this._semconvStability=e.semconvStability?e.semconvStability:(0, Et.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}init(){return [this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){let r=new Et.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],(a,o)=>{let s=a.transformCommandArguments;if(!s)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),a;let c=o?.startsWith("1.0.")?"extendWithCommands":"attachCommands";return (0, Et.isWrapped)(a?.[c])&&this._unwrap(a,c),this._wrap(a,c,this._getPatchExtendWithCommands(s)),a},a=>{(0, Et.isWrapped)(a?.extendWithCommands)&&this._unwrap(a,"extendWithCommands"),(0, Et.isWrapped)(a?.attachCommands)&&this._unwrap(a,"attachCommands");}),i=new Et.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0","^5.0.0"],a=>{let o=a?.default?.prototype;return (0, Et.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),this._wrap(o,"exec",this._getPatchMultiCommandsExec()),(0, Et.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand"),this._wrap(o,"addCommand",this._getPatchMultiCommandsAddCommand()),a},a=>{let o=a?.default?.prototype;(0, Et.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),(0, Et.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand");}),n=new Et.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0","^5.0.0"],a=>{let o=a?.default?.prototype;return o?.multi&&((0, Et.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),this._wrap(o,"multi",this._getPatchRedisClientMulti())),o?.MULTI&&((0, Et.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),this._wrap(o,"MULTI",this._getPatchRedisClientMulti())),(0, Et.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand"),this._wrap(o,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(o,"connect",this._getPatchedClientConnect()),a},a=>{let o=a?.default?.prototype;(0, Et.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),(0, Et.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),(0, Et.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand");});return new Et.InstrumentationNodeModuleDefinition(e,["^1.0.0","^5.0.0"],a=>a,()=>{},[r,i,n])}_getPatchExtendWithCommands(e){let r=this;return function(n){return function(o){if(o?.BaseClass?.name!=="RedisClient")return n.apply(this,arguments);let s=o.executor;return o.executor=function(c,l){let u=e(c,l).args;return r._traceClientCommand(s,this,arguments,u)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let e=this;return function(i){return function(){let a=i.apply(this,arguments);return typeof a?.then!="function"?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),a):a.then(o=>{let s=this[j_];return e._endSpansWithRedisReplies(s,o),o}).catch(o=>{let s=this[j_];if(!s)e._diag.error("cannot find open spans to end for redis multi command");else {let c=o.constructor.name==="MultiErrorReply"?o.replies:new Array(s.length).fill(o);e._endSpansWithRedisReplies(s,c);}return Promise.reject(o)})}}}_getPatchMultiCommandsAddCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchRedisClientMulti(){return function(r){return function(){let n=r.apply(this,arguments);return n[Ode]=this.options,n}}}_getPatchRedisClientSendCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchedClientConnect(){let e=this;return function(i){return function(){let a=this.options,o=(0, Ade.getClientAttributes)(e._diag,a,e._semconvStability),s=e.tracer.startSpan(`${t.COMPONENT}-connect`,{kind:ri.SpanKind.CLIENT,attributes:o});return ri.context.with(ri.trace.setSpan(ri.context.active(),s),()=>i.apply(this)).then(l=>(s.end(),l)).catch(l=>(s.recordException(l),s.setStatus({code:ri.SpanStatusCode.ERROR,message:l.message}),s.end(),Promise.reject(l)))}}}_traceClientCommand(e,r,i,n){if(ri.trace.getSpan(ri.context.active())===void 0&&this.getConfig().requireParentSpan)return e.apply(r,i);let o=r.options||r[Ode],s=n[0],c=n.slice(1),l=this.getConfig().dbStatementSerializer||PWe.defaultDbStatementSerializer,u=(0, Ade.getClientAttributes)(this._diag,o,this._semconvStability);this._semconvStability&Et.SemconvStability.STABLE&&(u[l$.ATTR_DB_OPERATION_NAME]=s);try{let f=l(s,c);f!=null&&(this._semconvStability&Et.SemconvStability.OLD&&(u[l$.SEMATTRS_DB_STATEMENT]=f),this._semconvStability&Et.SemconvStability.STABLE&&(u[l$.ATTR_DB_QUERY_TEXT]=f));}catch(f){this._diag.error("dbStatementSerializer throw an exception",f,{commandName:s});}let d=this.tracer.startSpan(`${t.COMPONENT}-${s}`,{kind:ri.SpanKind.CLIENT,attributes:u}),p=ri.context.with(ri.trace.setSpan(ri.context.active(),d),()=>e.apply(r,i));if(typeof p?.then=="function")p.then(f=>{this._endSpanWithResponse(d,s,c,f,void 0);},f=>{this._endSpanWithResponse(d,s,c,null,f);});else {let f=p;f[j_]=f[j_]||[],f[j_].push({span:d,commandName:s,commandArgs:c});}return p}_endSpansWithRedisReplies(e,r){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(r.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let i=0;i<e.length;i++){let{span:n,commandName:a,commandArgs:o}=e[i],s=r[i],[c,l]=s instanceof Error?[null,s]:[s,void 0];this._endSpanWithResponse(n,a,o,c,l);}}_endSpanWithResponse(e,r,i,n,a){let{responseHook:o}=this.getConfig();if(!a&&o)try{o(e,r,i,n);}catch(s){this._diag.error("responseHook throw an exception",s);}a&&(e.recordException(a),e.setStatus({code:ri.SpanStatusCode.ERROR,message:a?.message})),e.end();}};zN.RedisInstrumentationV4_V5=u$;});var Cde=y(FN=>{Object.defineProperty(FN,"__esModule",{value:true});FN.RedisInstrumentation=void 0;var CWe=(Wr(),$(Yr)),bde=UN(),xWe=Tde(),IWe=Nde(),Pde={requireParentSpan:false},d$=class extends CWe.InstrumentationBase{instrumentationV2_V3;instrumentationV4_V5;initialized=false;constructor(e={}){let r={...Pde,...e};super(bde.PACKAGE_NAME,bde.PACKAGE_VERSION,r),this.instrumentationV2_V3=new xWe.RedisInstrumentationV2_V3(this.getConfig()),this.instrumentationV4_V5=new IWe.RedisInstrumentationV4_V5(this.getConfig()),this.initialized=true;}setConfig(e={}){let r={...Pde,...e};super.setConfig(r),this.initialized&&(this.instrumentationV2_V3.setConfig(r),this.instrumentationV4_V5.setConfig(r));}init(){}setTracerProvider(e){super.setTracerProvider(e),this.initialized&&(this.instrumentationV2_V3.setTracerProvider(e),this.instrumentationV4_V5.setTracerProvider(e));}enable(){super.enable(),this.initialized&&(this.instrumentationV2_V3.enable(),this.instrumentationV4_V5.enable());}disable(){super.disable(),this.initialized&&(this.instrumentationV2_V3.disable(),this.instrumentationV4_V5.disable());}};FN.RedisInstrumentation=d$;});var xde=y(HN=>{Object.defineProperty(HN,"__esModule",{value:true});HN.RedisInstrumentation=void 0;var MWe=Cde();Object.defineProperty(HN,"RedisInstrumentation",{enumerable:true,get:function(){return MWe.RedisInstrumentation}});});var q_,Ide,p$=_(()=>{q_=class{emit(e){}},Ide=new q_;});var f$,GN,h$=_(()=>{p$();f$=class{getLogger(e,r,i){return new q_}},GN=new f$;});var jN,Mde=_(()=>{p$();jN=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ide}};});var Y_,wde=_(()=>{h$();Mde();Y_=class{getLogger(e,r,i){var n;return (n=this.getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new jN(this,e,r,i)}getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:GN}setDelegate(e){this._delegate=e;}getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};});var qN,Lde=_(()=>{qN=typeof globalThis=="object"?globalThis:global;});var Dde=_(()=>{Lde();});var Ude=_(()=>{Dde();});function kde(t,e,r){return i=>i===t?e:r}var W_,bp,m$,$de=_(()=>{Ude();W_=Symbol.for("io.opentelemetry.js.api.logs"),bp=qN;m$=1;});var YN,Vde=_(()=>{$de();h$();wde();YN=class t{constructor(){this._proxyLoggerProvider=new Y_;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return bp[W_]?this.getLoggerProvider():(bp[W_]=kde(m$,e,GN),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=bp[W_])===null||e===void 0?void 0:e.call(bp,m$))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete bp[W_],this._proxyLoggerProvider=new Y_;}};});var WN,_$=_(()=>{Vde();WN=YN.getInstance();});function Bde(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}function zde(t){t.forEach(e=>e.disable());}var Fde=_(()=>{});function Hde(t){let e=t.tracerProvider||se.getTracerProvider(),r=t.meterProvider||br.getMeterProvider(),i=t.loggerProvider||WN.getLoggerProvider(),n=t.instrumentations?.flat()??[];return Bde(n,e,r,i),()=>{zde(n);}}var Gde=_(()=>{P();_$();Fde();});function Zde(t,e,r){if(!DWe(t))return T.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=VWe(t);if(!i)return  false;let n=[],a=Xde(i,e,n,r);return a&&!r?.includePrerelease?kWe(i,n):a}function DWe(t){return typeof t=="string"&&Kde.test(t)}function Xde(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(g$(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=sKe(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!g$(t,a,r,i))return  false;return  true}return g$(t,e,r,i)}function g$(t,e,r,i){if(e=$We(e,i),e.includes(" "))return Xde(t,e,r,i);{let n=BWe(e);return r.push(n),UWe(t,n)}}function UWe(t,e){if(e.invalid)return  false;if(!e.version||S$(e.version))return  true;let r=qde(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=qde(i,n);}return LWe[e.op]?.includes(r)}function kWe(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function $We(t,e){return t=t.trim(),t=iKe(t,e),t=nKe(t),t=oKe(t,e),t=t.trim(),t}function Vr(t){return !t||t.toLowerCase()==="x"||t==="*"}function VWe(t){let e=t.match(Kde);if(!e){T.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function BWe(t){if(!t)return {};let e=t.match(wWe);if(!e)return T.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function S$(t){return t==="*"||t==="x"||t==="X"}function jde(t){let e=parseInt(t,10);return isNaN(e)?t:e}function zWe(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function FWe(t,e){if(S$(t)||S$(e))return 0;let[r,i]=zWe(jde(t),jde(e));return r>i?1:r<i?-1:0}function qde(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=FWe(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}function nKe(t){let e=QWe;return t.replace(e,(r,i,n,a,o)=>{let s;return Vr(i)?s="":Vr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:Vr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function iKe(t,e){let r=rKe,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let l;return Vr(a)?l="":Vr(o)?l=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Vr(s)?a==="0"?l=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?l=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?l=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,l})}function oKe(t,e){let r=WWe;return t.replace(r,(i,n,a,o,s,c)=>{let l=Vr(a),u=l||Vr(o),d=u||Vr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",l?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(u&&(o=0),s=0,n===">"?(n=">=",u?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",u?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):u?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function sKe(t,e){let r=ZWe;return t.replace(r,(i,n,a,o,s,c,l,u,d,p,f,g)=>(Vr(a)?n="":Vr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:Vr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,Vr(d)?u="":Vr(p)?u=`<${+d+1}.0.0-0`:Vr(f)?u=`<${d}.${+p+1}.0-0`:g?u=`<=${d}.${p}.${f}-${g}`:e?.includePrerelease?u=`<${d}.${p}.${+f+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()))}var Kde,wWe,LWe,Jde,Qde,HWe,GWe,Yde,jWe,Wde,qWe,E$,K_,YWe,WWe,KWe,ZWe,XWe,JWe,QWe,eKe,tKe,rKe,epe=_(()=>{P();Kde=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,wWe=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,LWe={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};Jde="[a-zA-Z0-9-]",Qde="0|[1-9]\\d*",HWe=`\\d*[a-zA-Z-]${Jde}*`,GWe="((?:<|>)?=?)",Yde=`(?:${Qde}|${HWe})`,jWe=`(?:-(${Yde}(?:\\.${Yde})*))`,Wde=`${Jde}+`,qWe=`(?:\\+(${Wde}(?:\\.${Wde})*))`,E$=`${Qde}|x|X|\\*`,K_=`[v=\\s]*(${E$})(?:\\.(${E$})(?:\\.(${E$})(?:${jWe})?${qWe}?)?)?`,YWe=`^${GWe}\\s*${K_}$`,WWe=new RegExp(YWe),KWe=`^\\s*(${K_})\\s+-\\s+(${K_})\\s*$`,ZWe=new RegExp(KWe),XWe="(?:~>?)",JWe=`^${XWe}${K_}$`,QWe=new RegExp(JWe),eKe="(?:\\^)",tKe=`^${eKe}${K_}$`,rKe=new RegExp(tKe);});function Z_(t,e,r){let i=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}var Br,Ll,T$,Pp,y$,v$=_(()=>{Br=console.error.bind(console);Ll=(t,e,r)=>{if(!t||!t[e]){Br("no original function "+String(e)+" to wrap");return}if(!r){Br("no wrapper function"),Br(new Error().stack);return}let i=t[e];if(typeof i!="function"||typeof r!="function"){Br("original object and wrapper must be functions");return}let n=r(i,e);return Z_(n,"__original",i),Z_(n,"__unwrap",()=>{t[e]===n&&Z_(t,e,i);}),Z_(n,"__wrapped",true),Z_(t,e,n),n},T$=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else {Br("must provide one or more modules to patch"),Br(new Error().stack);return}if(!(e&&Array.isArray(e))){Br("must provide one or more functions to wrap on modules");return}t.forEach(i=>{e.forEach(n=>{Ll(i,n,r);});});},Pp=(t,e)=>{if(!t||!t[e]){Br("no function to unwrap."),Br(new Error().stack);return}let r=t[e];if(!r.__unwrap)Br("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else {r.__unwrap();return}},y$=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else {Br("must provide one or more modules to patch"),Br(new Error().stack);return}if(!(e&&Array.isArray(e))){Br("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(i=>{Pp(r,i);});});};});var KN,tpe=_(()=>{P();_$();v$();KN=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=T.createComponentLogger({namespace:e}),this._tracer=se.getTracer(e,r),this._meter=br.getMeter(e,r),this._logger=WN.getLogger(e,r),this._updateMetricInstruments();}_wrap=Ll;_unwrap=Pp;_massWrap=T$;_massUnwrap=y$;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};});var ZN,XN,rpe=_(()=>{ZN=class{hooks=[];children=new Map},XN=class{_trie=new ZN;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new ZN,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};});function lKe(t){return Tl__namespace.sep!=="/"?t.split(Tl__namespace.sep).join("/"):t}var ipe,cKe,JN,ope=_(()=>{ipe=He(Fc());rpe();cKe=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),JN=class t{_moduleNameTrie=new XN;static _instance;constructor(){this._initialize();}_initialize(){new ipe.Hook(null,{internals:true},(e,r,i)=>{let n=lKe(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return cKe?new t:this._instance=this._instance??new t}};});function spe(t,e,r){let i,n;try{n=t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}async function ape(t,e,r){let i,n;try{n=await t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}function QN(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var R$=_(()=>{});function lpe(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>Zde(e,i,{includePrerelease:r}))}var upe,dpe,Cp,ppe=_(()=>{epe();v$();tpe();ope();upe=He(oT());P();dpe=He(Fc());R$();Cp=class extends KN{_modules;_hooks=[];_requireInTheMiddleSingleton=JN.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(QN(e[r])&&this._unwrap(e,r),N8.types.isProxy(e)){let n=Ll(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return Ll(e,r,i)};_unwrap=(e,r)=>N8.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):Pp(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=U.resolve(r);U.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=es.readFileSync(Tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{T.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return lpe(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=Tl__namespace.normalize(i);return o.filter(l=>l.name===s).filter(l=>lpe(l.supportedVersions,a,e.includePrerelease)).reduce((l,u)=>(u.moduleExports=l,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:u.name,baseDir:n}),u.patch(l,e.moduleVersion)):l),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&Tl__namespace.isAbsolute(s)){let l=Tl__namespace.parse(s);s=l.name,c=l.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=Tl__namespace.isAbsolute(e.name)?new dpe.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new upe.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};});var fpe=_(()=>{});var hpe=_(()=>{ppe();fpe();});var O$=_(()=>{hpe();});var tb,mpe=_(()=>{tb=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};});var rb,_pe=_(()=>{O$();rb=class{supportedVersions;patch;unpatch;name;constructor(e,r,i,n){this.supportedVersions=r,this.patch=i,this.unpatch=n,this.name=Tl.normalize(e);}};});function gpe(t,e){let r=Dl.OLD,i=e?.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of i??[])if(n.toLowerCase()===t+"/dup"){r=Dl.DUPLICATE;break}else n.toLowerCase()===t&&(r=Dl.STABLE);return r}var Dl,Epe=_(()=>{(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE";})(Dl||(Dl={}));});var Spe={};Ne(Spe,{InstrumentationBase:()=>Cp,InstrumentationNodeModuleDefinition:()=>tb,InstrumentationNodeModuleFile:()=>rb,SemconvStability:()=>Dl,isWrapped:()=>QN,registerInstrumentations:()=>Hde,safeExecuteInTheMiddle:()=>spe,safeExecuteInTheMiddleAsync:()=>ape,semconvStabilityFromStr:()=>gpe});var Tpe=_(()=>{Gde();O$();mpe();_pe();R$();Epe();});var ype=y(nb=>{Object.defineProperty(nb,"__esModule",{value:true});nb.getClientAttributes=void 0;var J_=(ht(),$(Gr));function dKe(t,e){return {[J_.SEMATTRS_DB_SYSTEM]:J_.DBSYSTEMVALUES_REDIS,[J_.SEMATTRS_NET_PEER_NAME]:e?.socket?.host,[J_.SEMATTRS_NET_PEER_PORT]:e?.socket?.port,[J_.SEMATTRS_DB_CONNECTION_STRING]:pKe(t,e?.url)}}nb.getClientAttributes=dKe;function pKe(t,e){if(!(typeof e!="string"||!e))try{let r=new URL(e);return r.searchParams.delete("user_pwd"),r.username="",r.password="",r.href}catch(r){t.error("failed to sanitize redis connection url",r);}}});var vpe=y(ib=>{Object.defineProperty(ib,"__esModule",{value:true});ib.defaultDbStatementSerializer=void 0;var fKe=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],hKe=(t,e)=>{if(Array.isArray(e)&&e.length){let r=fKe.find(({regex:n})=>n.test(t))?.args??0,i=r>=0?e.slice(0,r):e;return e.length>i.length&&i.push(`[${e.length-r} other arguments]`),`${t} ${i.join(" ")}`}return t};ib.defaultDbStatementSerializer=hKe;});var Ape=y(xp=>{Object.defineProperty(xp,"__esModule",{value:true});xp.PACKAGE_NAME=xp.PACKAGE_VERSION=void 0;xp.PACKAGE_VERSION="0.49.0";xp.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4";});var Ppe=y(ob=>{Object.defineProperty(ob,"__esModule",{value:true});ob.RedisInstrumentation=void 0;var ni=(P(),$(Ve)),or=(Tpe(),$(Spe)),Rpe=ype(),mKe=vpe(),Ope=Ape(),_Ke=(ht(),$(Gr)),Q_=Symbol("opentelemetry.instrumentation.redis.open_spans"),Npe=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),bpe={requireParentSpan:false},N$=class t extends or.InstrumentationBase{static COMPONENT="redis";constructor(e={}){super(Ope.PACKAGE_NAME,Ope.PACKAGE_VERSION,{...bpe,...e});}setConfig(e={}){super.setConfig({...bpe,...e});}init(){return [this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){let r=new or.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],(a,o)=>{let s=a.transformCommandArguments;if(!s)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),a;let c=o?.startsWith("1.0.")?"extendWithCommands":"attachCommands";return (0, or.isWrapped)(a?.[c])&&this._unwrap(a,c),this._wrap(a,c,this._getPatchExtendWithCommands(s)),a},a=>{(0, or.isWrapped)(a?.extendWithCommands)&&this._unwrap(a,"extendWithCommands"),(0, or.isWrapped)(a?.attachCommands)&&this._unwrap(a,"attachCommands");}),i=new or.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0"],a=>{let o=a?.default?.prototype;return (0, or.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),this._wrap(o,"exec",this._getPatchMultiCommandsExec()),(0, or.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand"),this._wrap(o,"addCommand",this._getPatchMultiCommandsAddCommand()),a},a=>{let o=a?.default?.prototype;(0, or.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),(0, or.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand");}),n=new or.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0"],a=>{let o=a?.default?.prototype;return o?.multi&&((0, or.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),this._wrap(o,"multi",this._getPatchRedisClientMulti())),o?.MULTI&&((0, or.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),this._wrap(o,"MULTI",this._getPatchRedisClientMulti())),(0, or.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand"),this._wrap(o,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(o,"connect",this._getPatchedClientConnect()),a},a=>{let o=a?.default?.prototype;(0, or.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),(0, or.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),(0, or.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand");});return new or.InstrumentationNodeModuleDefinition(e,["^1.0.0"],a=>a,()=>{},[r,i,n])}_getPatchExtendWithCommands(e){let r=this;return function(n){return function(o){if(o?.BaseClass?.name!=="RedisClient")return n.apply(this,arguments);let s=o.executor;return o.executor=function(c,l){let u=e(c,l).args;return r._traceClientCommand(s,this,arguments,u)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let e=this;return function(i){return function(){let a=i.apply(this,arguments);return typeof a?.then!="function"?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),a):a.then(o=>{let s=this[Q_];return e._endSpansWithRedisReplies(s,o),o}).catch(o=>{let s=this[Q_];if(!s)e._diag.error("cannot find open spans to end for redis multi command");else {let c=o.constructor.name==="MultiErrorReply"?o.replies:new Array(s.length).fill(o);e._endSpansWithRedisReplies(s,c);}return Promise.reject(o)})}}}_getPatchMultiCommandsAddCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchRedisClientMulti(){return function(r){return function(){let n=r.apply(this,arguments);return n[Npe]=this.options,n}}}_getPatchRedisClientSendCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchedClientConnect(){let e=this;return function(i){return function(){let a=this.options,o=(0, Rpe.getClientAttributes)(e._diag,a),s=e.tracer.startSpan(`${t.COMPONENT}-connect`,{kind:ni.SpanKind.CLIENT,attributes:o});return ni.context.with(ni.trace.setSpan(ni.context.active(),s),()=>i.apply(this)).then(l=>(s.end(),l)).catch(l=>(s.recordException(l),s.setStatus({code:ni.SpanStatusCode.ERROR,message:l.message}),s.end(),Promise.reject(l)))}}}_traceClientCommand(e,r,i,n){if(ni.trace.getSpan(ni.context.active())===void 0&&this.getConfig().requireParentSpan)return e.apply(r,i);let o=r.options||r[Npe],s=n[0],c=n.slice(1),l=this.getConfig().dbStatementSerializer||mKe.defaultDbStatementSerializer,u=(0, Rpe.getClientAttributes)(this._diag,o);try{let f=l(s,c);f!=null&&(u[_Ke.SEMATTRS_DB_STATEMENT]=f);}catch(f){this._diag.error("dbStatementSerializer throw an exception",f,{commandName:s});}let d=this.tracer.startSpan(`${t.COMPONENT}-${s}`,{kind:ni.SpanKind.CLIENT,attributes:u}),p=ni.context.with(ni.trace.setSpan(ni.context.active(),d),()=>e.apply(r,i));if(typeof p?.then=="function")p.then(f=>{this._endSpanWithResponse(d,s,c,f,void 0);},f=>{this._endSpanWithResponse(d,s,c,null,f);});else {let f=p;f[Q_]=f[Q_]||[],f[Q_].push({span:d,commandName:s,commandArgs:c});}return p}_endSpansWithRedisReplies(e,r){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(r.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let i=0;i<e.length;i++){let{span:n,commandName:a,commandArgs:o}=e[i],s=r[i],[c,l]=s instanceof Error?[null,s]:[s,void 0];this._endSpanWithResponse(n,a,o,c,l);}}_endSpanWithResponse(e,r,i,n,a){let{responseHook:o}=this.getConfig();if(!a&&o)try{o(e,r,i,n);}catch(s){this._diag.error("responseHook throw an exception",s);}a&&(e.recordException(a),e.setStatus({code:ni.SpanStatusCode.ERROR,message:a?.message})),e.end();}};ob.RedisInstrumentation=N$;});var Cpe=y(sb=>{Object.defineProperty(sb,"__esModule",{value:true});sb.RedisInstrumentation=void 0;var gKe=Ppe();Object.defineProperty(sb,"RedisInstrumentation",{enumerable:true,get:function(){return gKe.RedisInstrumentation}});});var b$=y(Ip=>{Object.defineProperty(Ip,"__esModule",{value:true});Ip.PACKAGE_NAME=Ip.PACKAGE_VERSION=void 0;Ip.PACKAGE_VERSION="0.50.0";Ip.PACKAGE_NAME="@opentelemetry/instrumentation-bunyan";});var x$=y(db=>{Object.defineProperty(db,"__esModule",{value:true});db.OpenTelemetryBunyanStream=void 0;var at=(In(),$(bc)),kpe=b$(),EKe=kpe.PACKAGE_NAME,SKe=kpe.PACKAGE_VERSION,$pe=10,Vpe=20,Bpe=30,zpe=40,Fpe=50,Hpe=60,Upe={trace:$pe,debug:Vpe,info:Bpe,warn:zpe,error:Fpe,fatal:Hpe},Gpe={};Object.keys(Upe).forEach(function(t){Gpe[Upe[t]]=t;});var TKe={[$pe]:at.SeverityNumber.TRACE,[Vpe]:at.SeverityNumber.DEBUG,[Bpe]:at.SeverityNumber.INFO,[zpe]:at.SeverityNumber.WARN,[Fpe]:at.SeverityNumber.ERROR,[Hpe]:at.SeverityNumber.FATAL},P$=[at.SeverityNumber.TRACE2,at.SeverityNumber.TRACE3,at.SeverityNumber.TRACE4,at.SeverityNumber.DEBUG2,at.SeverityNumber.DEBUG3,at.SeverityNumber.DEBUG4,at.SeverityNumber.INFO2,at.SeverityNumber.INFO3,at.SeverityNumber.INFO4,at.SeverityNumber.WARN2,at.SeverityNumber.WARN3,at.SeverityNumber.WARN4,at.SeverityNumber.ERROR2,at.SeverityNumber.ERROR3,at.SeverityNumber.ERROR4,at.SeverityNumber.FATAL2,at.SeverityNumber.FATAL3,at.SeverityNumber.FATAL4];function yKe(t){let e=TKe[t];if(e!==void 0)return e;let r=(t-10)/60,i=Math.floor(r*P$.length),n=Math.min(P$.length-1,Math.max(0,i));return P$[n]}var C$=class{_otelLogger;constructor(){this._otelLogger=at.logs.getLogger(EKe,SKe);}write(e){let{time:r,level:i,msg:n,v:a,hostname:o,pid:s,trace_id:c,span_id:l,trace_flags:u,...d}=e,p;typeof r.getTime=="function"?p=r.getTime():d.time=r;let f={timestamp:p,observedTimestamp:p,severityNumber:yKe(i),severityText:Gpe[i],body:n,attributes:d};this._otelLogger.emit(f);}};db.OpenTelemetryBunyanStream=C$;});var Ype=y(pb=>{Object.defineProperty(pb,"__esModule",{value:true});pb.BunyanInstrumentation=void 0;var vKe=U("util"),I$=(P(),$(Ve)),M$=(Wr(),$(Yr)),jpe=b$(),AKe=x$(),Mp=(In(),$(bc)),qpe={disableLogSending:false,disableLogCorrelation:false},w$=class extends M$.InstrumentationBase{constructor(e={}){super(jpe.PACKAGE_NAME,jpe.PACKAGE_VERSION,{...qpe,...e});}init(){return [new M$.InstrumentationNodeModuleDefinition("bunyan",[">=1.0.0 <2"],e=>{let r=this,i=e[Symbol.toStringTag]==="Module"?e.default:e;this._wrap(i.prototype,"_emit",this._getPatchedEmit());function n(...o){let s,c;return this instanceof n?(s=this,i.apply(this,o)):(s=i(...o),c=s),o[1]===void 0&&r._addStream(s),c}(0, vKe.inherits)(n,i);let a=Object.assign(n,i);return this._wrap(a,"createLogger",this._getPatchedCreateLogger()),a})]}setConfig(e={}){super.setConfig({...qpe,...e});}_getPatchedEmit(){return e=>{let r=this;return function(...n){let a=r.getConfig();if(!r.isEnabled()||a.disableLogCorrelation)return e.apply(this,n);let o=I$.trace.getSpan(I$.context.active());if(!o)return e.apply(this,n);let s=o.spanContext();if(!(0, I$.isSpanContextValid)(s))return e.apply(this,n);let c=n[0];return c.trace_id=s.traceId,c.span_id=s.spanId,c.trace_flags=`0${s.traceFlags.toString(16)}`,r._callHook(o,c),e.apply(this,n)}}}_getPatchedCreateLogger(){return e=>{let r=this;return function(...n){let a=e(...n);return r._addStream(a),a}}}_addStream(e){let r=this.getConfig();if(!this.isEnabled()||r.disableLogSending)return;this._diag.debug("Adding OpenTelemetryBunyanStream to logger");let i=e.level();r.logSeverity&&(i=RKe(r.logSeverity)||i),e.addStream({type:"raw",stream:new AKe.OpenTelemetryBunyanStream,level:i});}_callHook(e,r){let{logHook:i}=this.getConfig();typeof i=="function"&&(0, M$.safeExecuteInTheMiddle)(()=>i(e,r),n=>{n&&this._diag.error("error calling logHook",n);},true);}};pb.BunyanInstrumentation=w$;function RKe(t){if(t>=Mp.SeverityNumber.FATAL)return "fatal";if(t>=Mp.SeverityNumber.ERROR)return "error";if(t>=Mp.SeverityNumber.WARN)return "warn";if(t>=Mp.SeverityNumber.INFO)return "info";if(t>=Mp.SeverityNumber.DEBUG)return "debug";if(t>=Mp.SeverityNumber.TRACE)return "trace"}});var Wpe=y(wp=>{Object.defineProperty(wp,"__esModule",{value:true});wp.OpenTelemetryBunyanStream=wp.BunyanInstrumentation=void 0;var OKe=Ype();Object.defineProperty(wp,"BunyanInstrumentation",{enumerable:true,get:function(){return OKe.BunyanInstrumentation}});var NKe=x$();Object.defineProperty(wp,"OpenTelemetryBunyanStream",{enumerable:true,get:function(){return NKe.OpenTelemetryBunyanStream}});});var Kpe=y(Lp=>{Object.defineProperty(Lp,"__esModule",{value:true});Lp.PACKAGE_NAME=Lp.PACKAGE_VERSION=void 0;Lp.PACKAGE_VERSION="0.49.0";Lp.PACKAGE_NAME="@opentelemetry/instrumentation-winston";});var Xpe=y((TFt,Zpe)=>{Zpe.exports=U("util").deprecate;});var L$=y((yFt,Jpe)=>{Jpe.exports=U("stream");});var U$=y((vFt,efe)=>{function bKe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=true,process.nextTick(D$,this,t)):process.nextTick(D$,this,t)),this):(this._readableState&&(this._readableState.destroyed=true),this._writableState&&(this._writableState.destroyed=true),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(fb,r):(r._writableState.errorEmitted=true,process.nextTick(Qpe,r,a)):process.nextTick(Qpe,r,a):e?(process.nextTick(fb,r),e(a)):process.nextTick(fb,r);}),this)}function Qpe(t,e){D$(t,e),fb(t);}function fb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close");}function PKe(){this._readableState&&(this._readableState.destroyed=false,this._readableState.reading=false,this._readableState.ended=false,this._readableState.endEmitted=false),this._writableState&&(this._writableState.destroyed=false,this._writableState.ended=false,this._writableState.ending=false,this._writableState.finalCalled=false,this._writableState.prefinished=false,this._writableState.finished=false,this._writableState.errorEmitted=false);}function D$(t,e){t.emit("error",e);}function CKe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e);}efe.exports={destroy:bKe,undestroy:PKe,errorOrDestroy:CKe};});var Dp=y((AFt,nfe)=>{var rfe={};function ii(t,e,r){r||(r=Error);function i(a,o,s){return typeof e=="string"?e:e(a,o,s)}class n extends r{constructor(o,s,c){super(i(o,s,c));}}n.prototype.name=r.name,n.prototype.code=t,rfe[t]=n;}function tfe(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return `of ${e} ${String(t)}`}function xKe(t,e,r){return t.substr(0,e.length)===e}function IKe(t,e,r){return (r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function MKe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?false:t.indexOf(e,r)!==-1}ii("ERR_INVALID_OPT_VALUE",function(t,e){return 'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ii("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&xKe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(IKe(t," argument"))n=`The ${t} ${i} ${tfe(e,"type")}`;else {let a=MKe(t,".")?"property":"argument";n=`The "${t}" ${a} ${i} ${tfe(e,"type")}`;}return n+=`. Received type ${typeof r}`,n},TypeError);ii("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ii("ERR_METHOD_NOT_IMPLEMENTED",function(t){return "The "+t+" method is not implemented"});ii("ERR_STREAM_PREMATURE_CLOSE","Premature close");ii("ERR_STREAM_DESTROYED",function(t){return "Cannot call "+t+" after a stream was destroyed"});ii("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ii("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ii("ERR_STREAM_WRITE_AFTER_END","write after end");ii("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ii("ERR_UNKNOWN_ENCODING",function(t){return "Unknown encoding: "+t},TypeError);ii("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");nfe.exports.codes=rfe;});var k$=y((RFt,ife)=>{var wKe=Dp().codes.ERR_INVALID_OPT_VALUE;function LKe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function DKe(t,e,r,i){var n=LKe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=i?r:"highWaterMark";throw new wKe(a,n)}return Math.floor(n)}return t.objectMode?16:16*1024}ife.exports={getHighWaterMark:DKe};});var ofe=y((OFt,$$)=>{typeof Object.create=="function"?$$.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}}));}:$$.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e;}};});var hb=y((NFt,B$)=>{try{if(V$=U("util"),typeof V$.inherits!="function")throw "";B$.exports=V$.inherits;}catch{B$.exports=ofe();}var V$;});var dfe=y((bFt,ufe)=>{function sfe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i);}return r}function afe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sfe(Object(r),true).forEach(function(i){UKe(t,i,r[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sfe(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i));});}return t}function UKe(t,e,r){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function kKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cfe(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false,i.configurable=true,"value"in i&&(i.writable=true),Object.defineProperty(t,lfe(i.key),i);}}function $Ke(t,e,r){return e&&cfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:false}),t}function lfe(t){var e=VKe(t,"string");return typeof e=="symbol"?e:String(e)}function VKe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (String)(t)}var BKe=U("buffer"),mb=BKe.Buffer,zKe=U("util"),z$=zKe.inspect,FKe=z$&&z$.custom||"inspect";function HKe(t,e,r){mb.prototype.copy.call(t,e,r);}ufe.exports=(function(){function t(){kKe(this,t),this.head=null,this.tail=null,this.length=0;}return $Ke(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length;}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length;}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0;}},{key:"join",value:function(r){if(this.length===0)return "";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return mb.alloc(0);for(var i=mb.allocUnsafe(r>>>0),n=this.head,a=0;n;)HKe(n.data,i,a),a+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,a=i.data;for(r-=a.length;i=i.next;){var o=i.data,s=r>o.length?o.length:r;if(s===o.length?a+=o:a+=o.slice(0,r),r-=s,r===0){s===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(s));break}++n;}return this.length-=n,a}},{key:"_getBuffer",value:function(r){var i=mb.allocUnsafe(r),n=this.head,a=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,s=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,s),r-=s,r===0){s===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(s));break}++a;}return this.length-=a,i}},{key:FKe,value:function(r,i){return z$(this,afe(afe({},i),{},{depth:0,customInspect:false}))}}]),t})();});var hfe=y((F$,ffe)=>{var _b=U("buffer"),No=_b.Buffer;function pfe(t,e){for(var r in t)e[r]=t[r];}No.from&&No.alloc&&No.allocUnsafe&&No.allocUnsafeSlow?ffe.exports=_b:(pfe(_b,F$),F$.Buffer=Ul);function Ul(t,e,r){return No(t,e,r)}Ul.prototype=Object.create(No.prototype);pfe(No,Ul);Ul.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return No(t,e,r)};Ul.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=No(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ul.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return No(t)};Ul.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return _b.SlowBuffer(t)};});var j$=y(_fe=>{var G$=hfe().Buffer,mfe=G$.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return  true;default:return  false}};function GKe(t){if(!t)return "utf8";for(var e;;)switch(t){case "utf8":case "utf-8":return "utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return "utf16le";case "latin1":case "binary":return "latin1";case "base64":case "ascii":case "hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=true;}}function jKe(t){var e=GKe(t);if(typeof e!="string"&&(G$.isEncoding===mfe||!mfe(t)))throw new Error("Unknown encoding: "+t);return e||t}_fe.StringDecoder=eg;function eg(t){this.encoding=jKe(t);var e;switch(this.encoding){case "utf16le":this.text=XKe,this.end=JKe,e=4;break;case "utf8":this.fillLast=WKe,e=4;break;case "base64":this.text=QKe,this.end=e8e,e=3;break;default:this.write=t8e,this.end=r8e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=G$.allocUnsafe(e);}eg.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};eg.prototype.end=ZKe;eg.prototype.text=KKe;eg.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};function H$(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function qKe(t,e,r){var i=e.length-1;if(i<r)return 0;var n=H$(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=H$(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=H$(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function YKe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function WKe(t){var e=this.lastTotal-this.lastNeed,r=YKe(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length;}function KKe(t,e){var r=qKe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function ZKe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function XKe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function JKe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function QKe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function e8e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function t8e(t){return t.toString(this.encoding)}function r8e(t){return t&&t.length?this.write(t):""}});var Tfe=y((CFt,Sfe)=>{var gfe=Dp().codes.ERR_STREAM_PREMATURE_CLOSE;function n8e(t){var e=false;return function(){if(!e){e=true;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i);}}}function i8e(){}function o8e(t){return t.setHeader&&typeof t.abort=="function"}function Efe(t,e,r){if(typeof e=="function")return Efe(t,null,e);e||(e={}),r=n8e(r||i8e);var i=e.readable||e.readable!==false&&t.readable,n=e.writable||e.writable!==false&&t.writable,a=function(){t.writable||s();},o=t._writableState&&t._writableState.finished,s=function(){n=false,o=true,i||r.call(t);},c=t._readableState&&t._readableState.endEmitted,l=function(){i=false,c=true,n||r.call(t);},u=function(g){r.call(t,g);},d=function(){var g;if(i&&!c)return (!t._readableState||!t._readableState.ended)&&(g=new gfe),r.call(t,g);if(n&&!o)return (!t._writableState||!t._writableState.ended)&&(g=new gfe),r.call(t,g)},p=function(){t.req.on("finish",s);};return o8e(t)?(t.on("complete",s),t.on("abort",d),t.req?p():t.on("request",p)):n&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",l),t.on("finish",s),e.error!==false&&t.on("error",u),t.on("close",d),function(){t.removeListener("complete",s),t.removeListener("abort",d),t.removeListener("request",p),t.req&&t.req.removeListener("finish",s),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",s),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",d);}}Sfe.exports=Efe;});var vfe=y((xFt,yfe)=>{var gb;function nc(t,e,r){return e=s8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function s8e(t){var e=a8e(t,"string");return typeof e=="symbol"?e:String(e)}function a8e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var c8e=Tfe(),ic=Symbol("lastResolve"),kl=Symbol("lastReject"),tg=Symbol("error"),Eb=Symbol("ended"),$l=Symbol("lastPromise"),q$=Symbol("handlePromise"),Vl=Symbol("stream");function oc(t,e){return {value:t,done:e}}function l8e(t){var e=t[ic];if(e!==null){var r=t[Vl].read();r!==null&&(t[$l]=null,t[ic]=null,t[kl]=null,e(oc(r,false)));}}function u8e(t){process.nextTick(l8e,t);}function d8e(t,e){return function(r,i){t.then(function(){if(e[Eb]){r(oc(void 0,true));return}e[q$](r,i);},i);}}var p8e=Object.getPrototypeOf(function(){}),f8e=Object.setPrototypeOf((gb={get stream(){return this[Vl]},next:function(){var e=this,r=this[tg];if(r!==null)return Promise.reject(r);if(this[Eb])return Promise.resolve(oc(void 0,true));if(this[Vl].destroyed)return new Promise(function(o,s){process.nextTick(function(){e[tg]?s(e[tg]):o(oc(void 0,true));});});var i=this[$l],n;if(i)n=new Promise(d8e(i,this));else {var a=this[Vl].read();if(a!==null)return Promise.resolve(oc(a,false));n=new Promise(this[q$]);}return this[$l]=n,n}},nc(gb,Symbol.asyncIterator,function(){return this}),nc(gb,"return",function(){var e=this;return new Promise(function(r,i){e[Vl].destroy(null,function(n){if(n){i(n);return}r(oc(void 0,true));});})}),gb),p8e),h8e=function(e){var r,i=Object.create(f8e,(r={},nc(r,Vl,{value:e,writable:true}),nc(r,ic,{value:null,writable:true}),nc(r,kl,{value:null,writable:true}),nc(r,tg,{value:null,writable:true}),nc(r,Eb,{value:e._readableState.endEmitted,writable:true}),nc(r,q$,{value:function(a,o){var s=i[Vl].read();s?(i[$l]=null,i[ic]=null,i[kl]=null,a(oc(s,false))):(i[ic]=a,i[kl]=o);},writable:true}),r));return i[$l]=null,c8e(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[kl];a!==null&&(i[$l]=null,i[ic]=null,i[kl]=null,a(n)),i[tg]=n;return}var o=i[ic];o!==null&&(i[$l]=null,i[ic]=null,i[kl]=null,o(oc(void 0,true))),i[Eb]=true;}),e.on("readable",u8e.bind(null,i)),i};yfe.exports=h8e;});var Nfe=y((IFt,Ofe)=>{function Afe(t,e,r,i,n,a,o){try{var s=t[a](o),c=s.value;}catch(l){r(l);return}s.done?e(c):Promise.resolve(c).then(i,n);}function m8e(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var a=t.apply(e,r);function o(c){Afe(a,i,n,o,s,"next",c);}function s(c){Afe(a,i,n,o,s,"throw",c);}o(void 0);})}}function Rfe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i);}return r}function _8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rfe(Object(r),true).forEach(function(i){g8e(t,i,r[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rfe(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i));});}return t}function g8e(t,e,r){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function E8e(t){var e=S8e(t,"string");return typeof e=="symbol"?e:String(e)}function S8e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var T8e=Dp().codes.ERR_INVALID_ARG_TYPE;function y8e(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new T8e("iterable",["Iterable"],e);var n=new t(_8e({objectMode:true},r)),a=false;n._read=function(){a||(a=true,o());};function o(){return s.apply(this,arguments)}function s(){return s=m8e(function*(){try{var c=yield i.next(),l=c.value,u=c.done;u?n.push(null):n.push(yield l)?o():a=!1;}catch(d){n.destroy(d);}}),s.apply(this,arguments)}return n}Ofe.exports=y8e;});var kfe=y((wFt,Ufe)=>{Ufe.exports=ze;var Up;ze.ReadableState=xfe;U("events").EventEmitter;var Cfe=function(e,r){return e.listeners(r).length},ng=L$(),Sb=U("buffer").Buffer,v8e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function A8e(t){return Sb.from(t)}function R8e(t){return Sb.isBuffer(t)||t instanceof v8e}var Y$=U("util"),we;Y$&&Y$.debuglog?we=Y$.debuglog("stream"):we=function(){};var O8e=dfe(),eV=U$(),N8e=k$(),b8e=N8e.getHighWaterMark,Tb=Dp().codes,P8e=Tb.ERR_INVALID_ARG_TYPE,C8e=Tb.ERR_STREAM_PUSH_AFTER_EOF,x8e=Tb.ERR_METHOD_NOT_IMPLEMENTED,I8e=Tb.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,kp,W$,K$;hb()(ze,ng);var rg=eV.errorOrDestroy,Z$=["error","close","destroy","pause","resume"];function M8e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}function xfe(t,e,r){Up=Up||ig(),t=t||{},typeof r!="boolean"&&(r=e instanceof Up),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b8e(this,t,"readableHighWaterMark",r),this.buffer=new O8e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=false,this.endEmitted=false,this.reading=false,this.sync=true,this.needReadable=false,this.emittedReadable=false,this.readableListening=false,this.resumeScheduled=false,this.paused=true,this.emitClose=t.emitClose!==false,this.autoDestroy=!!t.autoDestroy,this.destroyed=false,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=false,this.decoder=null,this.encoding=null,t.encoding&&(kp||(kp=j$().StringDecoder),this.decoder=new kp(t.encoding),this.encoding=t.encoding);}function ze(t){if(Up=Up||ig(),!(this instanceof ze))return new ze(t);var e=this instanceof Up;this._readableState=new xfe(t,this,e),this.readable=true,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ng.call(this);}Object.defineProperty(ze.prototype,"destroyed",{enumerable:false,get:function(){return this._readableState===void 0?false:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e);}});ze.prototype.destroy=eV.destroy;ze.prototype._undestroy=eV.undestroy;ze.prototype._destroy=function(t,e){e(t);};ze.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=true:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Sb.from(t,e),e=""),i=true),Ife(this,t,e,false,i)};ze.prototype.unshift=function(t){return Ife(this,t,null,true,false)};function Ife(t,e,r,i,n){we("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=false,D8e(t,a);else {var o;if(n||(o=w8e(a,e)),o)rg(t,o);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==Sb.prototype&&(e=A8e(e)),i)a.endEmitted?rg(t,new I8e):X$(t,a,e,true);else if(a.ended)rg(t,new C8e);else {if(a.destroyed)return  false;a.reading=false,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?X$(t,a,e,false):Q$(t,a)):X$(t,a,e,false);}else i||(a.reading=false,Q$(t,a));}return !a.ended&&(a.length<a.highWaterMark||a.length===0)}function X$(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yb(t)),Q$(t,e);}function w8e(t,e){var r;return !R8e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new P8e("chunk",["string","Buffer","Uint8Array"],e)),r}ze.prototype.isPaused=function(){return this._readableState.flowing===false};ze.prototype.setEncoding=function(t){kp||(kp=j$().StringDecoder);var e=new kp(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var bfe=1073741824;function L8e(t){return t>=bfe?t=bfe:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Pfe(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=L8e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=true,0))}ze.prototype.read=function(t){we("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=false),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?J$(this):yb(this),null;if(t=Pfe(t,e),t===0&&e.ended)return e.length===0&&J$(this),null;var i=e.needReadable;we("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=true,we("length less than watermark",i)),e.ended||e.reading?(i=false,we("reading or ended",i)):i&&(we("do read"),e.reading=true,e.sync=true,e.length===0&&(e.needReadable=true),this._read(e.highWaterMark),e.sync=false,e.reading||(t=Pfe(r,e)));var n;return t>0?n=Lfe(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=true),r!==t&&e.ended&&J$(this)),n!==null&&this.emit("data",n),n};function D8e(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=true,e.sync?yb(t):(e.needReadable=false,e.emittedReadable||(e.emittedReadable=true,Mfe(t)));}}function yb(t){var e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=false,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=true,process.nextTick(Mfe,t));}function Mfe(t){var e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=false),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,tV(t);}function Q$(t,e){e.readingMore||(e.readingMore=true,process.nextTick(U8e,t,e));}function U8e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=false;}ze.prototype._read=function(t){rg(this,new x8e("_read()"));};ze.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,we("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==false)&&t!==process.stdout&&t!==process.stderr,a=n?s:S;i.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",o);function o(v,N){we("onunpipe"),v===r&&N&&N.hasUnpiped===false&&(N.hasUnpiped=true,u());}function s(){we("onend"),t.end();}var c=k8e(r);t.on("drain",c);var l=false;function u(){we("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",S),r.removeListener("data",d),l=true,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c();}r.on("data",d);function d(v){we("ondata");var N=t.write(v);we("dest.write",N),N===false&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&Dfe(i.pipes,t)!==-1)&&!l&&(we("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause());}function p(v){we("onerror",v),S(),t.removeListener("error",p),Cfe(t,"error")===0&&rg(t,v);}M8e(t,"error",p);function f(){t.removeListener("finish",g),S();}t.once("close",f);function g(){we("onfinish"),t.removeListener("close",f),S();}t.once("finish",g);function S(){we("unpipe"),r.unpipe(t);}return t.emit("pipe",r),i.flowing||(we("pipe resume"),r.resume()),t};function k8e(t){return function(){var r=t._readableState;we("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Cfe(t,"data")&&(r.flowing=true,tV(t));}}ze.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:false};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=false,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=false;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:false});return this}var o=Dfe(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ze.prototype.on=function(t,e){var r=ng.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==false&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=true,i.flowing=false,i.emittedReadable=false,we("on readable",i.length,i.reading),i.length?yb(this):i.reading||process.nextTick($8e,this)),r};ze.prototype.addListener=ze.prototype.on;ze.prototype.removeListener=function(t,e){var r=ng.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(wfe,this),r};ze.prototype.removeAllListeners=function(t){var e=ng.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&process.nextTick(wfe,this),e};function wfe(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=true:t.listenerCount("data")>0&&t.resume();}function $8e(t){we("readable nexttick read 0"),t.read(0);}ze.prototype.resume=function(){var t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,V8e(this,t)),t.paused=false,this};function V8e(t,e){e.resumeScheduled||(e.resumeScheduled=true,process.nextTick(B8e,t,e));}function B8e(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=false,t.emit("resume"),tV(t),e.flowing&&!e.reading&&t.read(0);}ze.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==false&&(we("pause"),this._readableState.flowing=false,this.emit("pause")),this._readableState.paused=true,this};function tV(t){var e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}ze.prototype.wrap=function(t){var e=this,r=this._readableState,i=false;t.on("end",function(){if(we("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o);}e.push(null);}),t.on("data",function(o){if(we("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var s=e.push(o);s||(i=true,t.pause());}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=(function(s){return function(){return t[s].apply(t,arguments)}})(n));for(var a=0;a<Z$.length;a++)t.on(Z$[a],this.emit.bind(this,Z$[a]));return this._read=function(o){we("wrapped _read",o),i&&(i=false,t.resume());},this};typeof Symbol=="function"&&(ze.prototype[Symbol.asyncIterator]=function(){return W$===void 0&&(W$=vfe()),W$(this)});Object.defineProperty(ze.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ze.prototype,"readableBuffer",{enumerable:false,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ze.prototype,"readableFlowing",{enumerable:false,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e);}});ze._fromList=Lfe;Object.defineProperty(ze.prototype,"readableLength",{enumerable:false,get:function(){return this._readableState.length}});function Lfe(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function J$(t){var e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=true,process.nextTick(z8e,e,t));}function z8e(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=true,e.readable=false,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy();}}typeof Symbol=="function"&&(ze.from=function(t,e){return K$===void 0&&(K$=Nfe()),K$(ze,t,e)});function Dfe(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return  -1}});var ig=y((LFt,Vfe)=>{var F8e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Vfe.exports=bo;var $fe=kfe(),nV=iV();hb()(bo,$fe);for(rV=F8e(nV.prototype),vb=0;vb<rV.length;vb++)Ab=rV[vb],bo.prototype[Ab]||(bo.prototype[Ab]=nV.prototype[Ab]);var rV,Ab,vb;function bo(t){if(!(this instanceof bo))return new bo(t);$fe.call(this,t),nV.call(this,t),this.allowHalfOpen=true,t&&(t.readable===false&&(this.readable=false),t.writable===false&&(this.writable=false),t.allowHalfOpen===false&&(this.allowHalfOpen=false,this.once("end",H8e)));}Object.defineProperty(bo.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(bo.prototype,"writableBuffer",{enumerable:false,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(bo.prototype,"writableLength",{enumerable:false,get:function(){return this._writableState.length}});function H8e(){this._writableState.ended||process.nextTick(G8e,this);}function G8e(t){t.end();}Object.defineProperty(bo.prototype,"destroyed",{enumerable:false,get:function(){return this._readableState===void 0||this._writableState===void 0?false:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e);}});});var iV=y((DFt,jfe)=>{jfe.exports=Ot;function zfe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){gZe(e,t);};}var $p;Ot.WritableState=sg;var j8e={deprecate:Xpe()},Ffe=L$(),Ob=U("buffer").Buffer,q8e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Y8e(t){return Ob.from(t)}function W8e(t){return Ob.isBuffer(t)||t instanceof q8e}var sV=U$(),K8e=k$(),Z8e=K8e.getHighWaterMark,sc=Dp().codes,X8e=sc.ERR_INVALID_ARG_TYPE,J8e=sc.ERR_METHOD_NOT_IMPLEMENTED,Q8e=sc.ERR_MULTIPLE_CALLBACK,eZe=sc.ERR_STREAM_CANNOT_PIPE,tZe=sc.ERR_STREAM_DESTROYED,rZe=sc.ERR_STREAM_NULL_VALUES,nZe=sc.ERR_STREAM_WRITE_AFTER_END,iZe=sc.ERR_UNKNOWN_ENCODING,Vp=sV.errorOrDestroy;hb()(Ot,Ffe);function oZe(){}function sg(t,e,r){$p=$p||ig(),t=t||{},typeof r!="boolean"&&(r=e instanceof $p),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Z8e(this,t,"writableHighWaterMark",r),this.finalCalled=false,this.needDrain=false,this.ending=false,this.ended=false,this.finished=false,this.destroyed=false;var i=t.decodeStrings===false;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=false,this.corked=0,this.sync=true,this.bufferProcessing=false,this.onwrite=function(n){pZe(e,n);},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=false,this.errorEmitted=false,this.emitClose=t.emitClose!==false,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new zfe(this);}sg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(sg.prototype,"buffer",{get:j8e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")});}catch{}})();var Rb;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Rb=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ot,Symbol.hasInstance,{value:function(e){return Rb.call(this,e)?true:this!==Ot?false:e&&e._writableState instanceof sg}})):Rb=function(e){return e instanceof this};function Ot(t){$p=$p||ig();var e=this instanceof $p;if(!e&&!Rb.call(Ot,this))return new Ot(t);this._writableState=new sg(t,this,e),this.writable=true,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Ffe.call(this);}Ot.prototype.pipe=function(){Vp(this,new eZe);};function sZe(t,e){var r=new nZe;Vp(t,r),process.nextTick(e,r);}function aZe(t,e,r,i){var n;return r===null?n=new rZe:typeof r!="string"&&!e.objectMode&&(n=new X8e("chunk",["string","Buffer"],r)),n?(Vp(t,n),process.nextTick(i,n),false):true}Ot.prototype.write=function(t,e,r){var i=this._writableState,n=false,a=!i.objectMode&&W8e(t);return a&&!Ob.isBuffer(t)&&(t=Y8e(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=oZe),i.ending?sZe(this,r):(a||aZe(this,i,t,r))&&(i.pendingcb++,n=lZe(this,i,a,t,e,r)),n};Ot.prototype.cork=function(){this._writableState.corked++;};Ot.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Hfe(this,t));};Ot.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new iZe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ot.prototype,"writableBuffer",{enumerable:false,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cZe(t,e,r){return !t.objectMode&&t.decodeStrings!==false&&typeof e=="string"&&(e=Ob.from(e,r)),e}Object.defineProperty(Ot.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function lZe(t,e,r,i,n,a){if(!r){var o=cZe(e,i,n);i!==o&&(r=true,n="buffer",i=o);}var s=e.objectMode?1:i.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=true),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1;}else oV(t,e,false,s,i,n,a);return c}function oV(t,e,r,i,n,a,o){e.writelen=i,e.writecb=o,e.writing=true,e.sync=true,e.destroyed?e.onwrite(new tZe("write")):r?t._writev(n,e.onwrite):t._write(n,a,e.onwrite),e.sync=false;}function uZe(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(og,t,e),t._writableState.errorEmitted=true,Vp(t,i)):(n(i),t._writableState.errorEmitted=true,Vp(t,i),og(t,e));}function dZe(t){t.writing=false,t.writecb=null,t.length-=t.writelen,t.writelen=0;}function pZe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Q8e;if(dZe(r),e)uZe(t,r,i,e,n);else {var a=Gfe(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Hfe(t,r),i?process.nextTick(Bfe,t,r,a,n):Bfe(t,r,a,n);}}function Bfe(t,e,r,i){r||fZe(t,e),e.pendingcb--,i(),og(t,e);}function fZe(t,e){e.length===0&&e.needDrain&&(e.needDrain=false,t.emit("drain"));}function Hfe(t,e){e.bufferProcessing=true;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),a=e.corkedRequestsFree;a.entry=r;for(var o=0,s=true;r;)n[o]=r,r.isBuf||(s=false),r=r.next,o+=1;n.allBuffers=s,oV(t,e,true,e.length,n,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new zfe(e),e.bufferedRequestCount=0;}else {for(;r;){var c=r.chunk,l=r.encoding,u=r.callback,d=e.objectMode?1:c.length;if(oV(t,e,false,d,c,l,u),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null);}e.bufferedRequest=r,e.bufferProcessing=false;}Ot.prototype._write=function(t,e,r){r(new J8e("_write()"));};Ot.prototype._writev=null;Ot.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||_Ze(this,i,r),this};Object.defineProperty(Ot.prototype,"writableLength",{enumerable:false,get:function(){return this._writableState.length}});function Gfe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function hZe(t,e){t._final(function(r){e.pendingcb--,r&&Vp(t,r),e.prefinished=true,t.emit("prefinish"),og(t,e);});}function mZe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=true,process.nextTick(hZe,t,e)):(e.prefinished=true,t.emit("prefinish")));}function og(t,e){var r=Gfe(e);if(r&&(mZe(t,e),e.pendingcb===0&&(e.finished=true,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy();}return r}function _Ze(t,e,r){e.ending=true,og(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=true,t.writable=false;}function gZe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next;}e.corkedRequestsFree.next=t;}Object.defineProperty(Ot.prototype,"destroyed",{enumerable:false,get:function(){return this._writableState===void 0?false:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e);}});Ot.prototype.destroy=sV.destroy;Ot.prototype._undestroy=sV.undestroy;Ot.prototype._destroy=function(t,e){e(t);};});var qfe=y(aV=>{aV.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};aV.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"};});var Yfe=y(cV=>{cV.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};cV.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"};});var Wfe=y(lV=>{lV.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};lV.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"};});var Kfe=y(Nb=>{Object.defineProperty(Nb,"cli",{value:qfe()});Object.defineProperty(Nb,"npm",{value:Yfe()});Object.defineProperty(Nb,"syslog",{value:Wfe()});});var uV=y(ag=>{Object.defineProperty(ag,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(ag,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(ag,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(ag,"configs",{value:Kfe()});});var dV=y((zFt,Jfe)=>{var EZe=U("util"),Zfe=iV(),{LEVEL:Xfe}=uV(),cg=Jfe.exports=function(e={}){Zfe.call(this,{objectMode:true,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r;}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close());});};EZe.inherits(cg,Zfe);cg.prototype._write=function(e,r,i){if(this.silent||e.exception===true&&!this.handleExceptions)return i(null);let n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[Xfe]]){if(e&&!this.format)return this.log(e,i);let a,o;try{o=this.format.transform(Object.assign({},e),this.format.options);}catch(s){a=s;}if(a||!o){if(i(),a)throw a;return}return this.log(o,i)}return this._writableState.sync=false,i(null)};cg.prototype._writev=function(e,r){if(this.logv){let i=e.filter(this._accept,this);return i.length?this.logv(i,r):r(null)}for(let i=0;i<e.length;i++){if(!this._accept(e[i]))continue;if(e[i].chunk&&!this.format){this.log(e[i].chunk,e[i].callback);continue}let n,a;try{a=this.format.transform(Object.assign({},e[i].chunk),this.format.options);}catch(o){n=o;}if(n||!a){if(e[i].callback(),n)throw r(null),n}else this.log(a,e[i].callback);}return r(null)};cg.prototype._accept=function(e){let r=e.chunk;if(this.silent)return  false;let i=this.level||this.parent&&this.parent.level;return !!((r.exception===true||!i||this.levels[i]>=this.levels[r[Xfe]])&&(this.handleExceptions||r.exception!==true))};cg.prototype._nop=function(){};});var the=y((FFt,ehe)=>{var SZe=U("util"),{LEVEL:pV}=uV(),Qfe=dV(),lg=ehe.exports=function(e={}){if(Qfe.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(i){this.emit("error",i,this.transport);}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError));};SZe.inherits(lg,Qfe);lg.prototype._write=function(e,r,i){if(this.silent||e.exception===true&&!this.handleExceptions)return i(null);(!this.level||this.levels[this.level]>=this.levels[e[pV]])&&this.transport.log(e[pV],e.message,e,this._nop),i(null);};lg.prototype._writev=function(e,r){for(let i=0;i<e.length;i++)this._accept(e[i])&&(this.transport.log(e[i].chunk[pV],e[i].chunk.message,e[i].chunk,this._nop),e[i].callback());return r(null)};lg.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`));};lg.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null);};});var rhe=y((HFt,fV)=>{fV.exports=dV();fV.exports.LegacyTransportStream=the();});var nhe=y(Bp=>{Object.defineProperty(Bp,"__esModule",{value:true});Bp.PACKAGE_NAME=Bp.PACKAGE_VERSION=void 0;Bp.PACKAGE_VERSION="0.15.0";Bp.PACKAGE_NAME="@opentelemetry/winston-transport";});var ihe=y(bb=>{Object.defineProperty(bb,"__esModule",{value:true});bb.emitLogRecord=void 0;var ct=(In(),$(bc)),TZe={error:ct.SeverityNumber.ERROR,warn:ct.SeverityNumber.WARN,info:ct.SeverityNumber.INFO,http:ct.SeverityNumber.DEBUG3,verbose:ct.SeverityNumber.DEBUG2,debug:ct.SeverityNumber.DEBUG,silly:ct.SeverityNumber.TRACE},yZe={emerg:ct.SeverityNumber.FATAL3,alert:ct.SeverityNumber.FATAL2,crit:ct.SeverityNumber.FATAL,error:ct.SeverityNumber.ERROR,warning:ct.SeverityNumber.WARN,notice:ct.SeverityNumber.INFO2,info:ct.SeverityNumber.INFO,debug:ct.SeverityNumber.DEBUG},vZe={error:ct.SeverityNumber.ERROR,warn:ct.SeverityNumber.WARN,help:ct.SeverityNumber.INFO3,data:ct.SeverityNumber.INFO2,info:ct.SeverityNumber.INFO,debug:ct.SeverityNumber.DEBUG,prompt:ct.SeverityNumber.TRACE4,verbose:ct.SeverityNumber.TRACE3,input:ct.SeverityNumber.TRACE2,silly:ct.SeverityNumber.TRACE};function AZe(t){return TZe[t]??yZe[t]??vZe[t]}function RZe(t,e){let{message:r,level:i,...n}=t,a={},o=t[Symbol.for("level")];for(let c in n)Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=n[c]);let s={severityNumber:AZe(o),severityText:o,body:r,attributes:a};e.emit(s);}bb.emitLogRecord=RZe;});var she=y(Pb=>{Object.defineProperty(Pb,"__esModule",{value:true});Pb.OpenTelemetryTransportV3=void 0;var OZe=(In(),$(bc)),NZe=rhe(),ohe=nhe(),bZe=ihe(),hV=class extends NZe{_logger;constructor(e){super(e),this._logger=OZe.logs.getLogger(ohe.PACKAGE_NAME,ohe.PACKAGE_VERSION);}log(e,r){try{(0,bZe.emitLogRecord)(e,this._logger);}catch(i){this.emit("warn",i);}this.emit("logged",e),r&&r();}};Pb.OpenTelemetryTransportV3=hV;});var ahe=y(Cb=>{Object.defineProperty(Cb,"__esModule",{value:true});Cb.OpenTelemetryTransportV3=void 0;var PZe=she();Object.defineProperty(Cb,"OpenTelemetryTransportV3",{enumerable:true,get:function(){return PZe.OpenTelemetryTransportV3}});});var dhe=y(xb=>{Object.defineProperty(xb,"__esModule",{value:true});xb.WinstonInstrumentation=void 0;var mV=(P(),$(Ve)),lt=(In(),$(bc)),ms=(Wr(),$(Yr)),che=Kpe(),lhe=[">=3 <4"],uhe=[">=1 <3"],_V=class extends ms.InstrumentationBase{constructor(e={}){super(che.PACKAGE_NAME,che.PACKAGE_VERSION,e);}init(){let e=new ms.InstrumentationNodeModuleDefinition("winston",lhe,i=>i,()=>{},[new ms.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",lhe,i=>((0, ms.isWrapped)(i.prototype.write)&&this._unwrap(i.prototype,"write"),this._wrap(i.prototype,"write",this._getPatchedWrite()),(0, ms.isWrapped)(i.prototype.configure)&&this._unwrap(i.prototype,"configure"),this._wrap(i.prototype,"configure",this._getPatchedConfigure()),i),i=>{i!==void 0&&(this._unwrap(i.prototype,"write"),this._unwrap(i.prototype,"configure"));})]),r=new ms.InstrumentationNodeModuleDefinition("winston",uhe,i=>i,()=>{},[new ms.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",uhe,i=>{let n=i.Logger.prototype;return (0, ms.isWrapped)(n.log)&&this._unwrap(n,"log"),this._wrap(n,"log",this._getPatchedLog()),i},i=>{i!==void 0&&this._unwrap(i.Logger.prototype,"log");})]);return [e,r]}_callHook(e,r){let{logHook:i}=this.getConfig();i&&(0, ms.safeExecuteInTheMiddle)(()=>i(e,r),n=>{n&&this._diag.error("error calling logHook",n);},true);}_getPatchedWrite(){return e=>{let r=this;return function(...n){let a=n[0];return r._handleLogCorrelation(a),e.apply(this,n)}}}_getPatchedLog(){return e=>{let r=this;return function(...n){let a={};r._handleLogCorrelation(a);let o=false;for(let s=n.length-1;s>=0;s--)if(typeof n[s]=="object"){n[s]=Object.assign(n[s],a),o=true;break}if(!o){let s=typeof n[n.length-1]=="function"?n.length-1:n.length;n.splice(s,0,a);}return e.apply(this,n)}}}_getPatchedConfigure(){return e=>{let r=this;return function(...n){let a=r.getConfig();if(!a.disableLogSending&&n&&n.length>0)try{let{OpenTelemetryTransportV3:o}=ahe(),s=n[0].transports,c=Array.isArray(s)?s:[],l={};a.logSeverity&&(l={level:r._winstonLevelFromSeverity(a.logSeverity,n[0].levels)});let u=new o(l);s&&!Array.isArray(s)&&(c=[s]),c.push(u),n[0].transports=c;}catch{r._diag.warn("@opentelemetry/winston-transport is not available, log records will not be automatically sent.");}return e.apply(this,n)}}}_handleLogCorrelation(e){if(!this.getConfig().disableLogCorrelation){let r=mV.trace.getSpan(mV.context.active());if(r){let i=r.spanContext();if((0, mV.isSpanContextValid)(i)){let n={trace_id:i.traceId,span_id:i.spanId,trace_flags:`0${i.traceFlags.toString(16)}`},a=Object.assign(e,n);return this._callHook(r,a),a}}}return e}_winstonLevelFromSeverity(e,r){if(r){if(n(r)){if(e>=lt.SeverityNumber.ERROR)return "error";if(e>=lt.SeverityNumber.WARN)return "warn";if(e>=lt.SeverityNumber.INFO)return "info";if(e>=lt.SeverityNumber.DEBUG3)return "http";if(e>=lt.SeverityNumber.DEBUG2)return "verbose";if(e>=lt.SeverityNumber.DEBUG)return "debug";if(e>=lt.SeverityNumber.TRACE)return "silly"}else if(i(r)){if(e>=lt.SeverityNumber.ERROR)return "error";if(e>=lt.SeverityNumber.WARN)return "warn";if(e>=lt.SeverityNumber.INFO3)return "help";if(e>=lt.SeverityNumber.INFO2)return "data";if(e>=lt.SeverityNumber.INFO)return "info";if(e>=lt.SeverityNumber.DEBUG)return "debug";if(e>=lt.SeverityNumber.TRACE4)return "prompt";if(e>=lt.SeverityNumber.TRACE3)return "verbose";if(e>=lt.SeverityNumber.TRACE2)return "input";if(e>=lt.SeverityNumber.TRACE)return "silly"}else if(a(r)){if(e>=lt.SeverityNumber.FATAL2)return "emerg";if(e>=lt.SeverityNumber.FATAL)return "alert";if(e>=lt.SeverityNumber.ERROR2)return "crit";if(e>=lt.SeverityNumber.ERROR)return "error";if(e>=lt.SeverityNumber.WARN)return "warning";if(e>=lt.SeverityNumber.INFO2)return "notice";if(e>=lt.SeverityNumber.INFO)return "info";if(e>=lt.SeverityNumber.TRACE)return "debug"}this._diag.warn("failed to configure severity with existing winston levels");}function i(o){return o&&o.error!==void 0&&o.warn&&o.help&&o.data&&o.info&&o.debug&&o.prompt&&o.verbose&&o.input&&o.silly}function n(o){return o&&o.error!==void 0&&o.warn&&o.info&&o.http&&o.verbose&&o.debug&&o.silly}function a(o){return o&&o.emerg!==void 0&&o.alert&&o.crit&&o.error&&o.warning&&o.notice&&o.info&&o.debug}}};xb.WinstonInstrumentation=_V;});var phe=y(Ib=>{Object.defineProperty(Ib,"__esModule",{value:true});Ib.WinstonInstrumentation=void 0;var CZe=dhe();Object.defineProperty(Ib,"WinstonInstrumentation",{enumerable:true,get:function(){return CZe.WinstonInstrumentation}});});var Rhe=y(zp=>{Object.defineProperty(zp,"__esModule",{value:true});zp.disableInstrumentations=zp.enableInstrumentations=void 0;function MZe(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}zp.enableInstrumentations=MZe;function wZe(t){t.forEach(e=>e.disable());}zp.disableInstrumentations=wZe;});P();In();var bhe=He(Hne(),1);$i();function Gne(t,...e){us__namespace.default.stderr.write(`${N8__namespace.default.format(t,...e)}${mp.EOL}`);}var jne=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Yne,ID=[],MD=[],lA=[];jne&&wD(jne);var Wne=Object.assign(t=>Kne(t),{enable:wD,enabled:LD,disable:XFe,log:Gne});function wD(t){Yne=t,ID=[],MD=[];let e=t.split(",").map(r=>r.trim());for(let r of e)r.startsWith("-")?MD.push(r.substring(1)):ID.push(r);for(let r of lA)r.enabled=LD(r.namespace);}function LD(t){if(t.endsWith("*"))return  true;for(let e of MD)if(qne(t,e))return  false;for(let e of ID)if(qne(t,e))return  true;return  false}function qne(t,e){if(e.indexOf("*")===-1)return t===e;let r=e;if(e.indexOf("**")!==-1){let p=[],f="";for(let g of e)g==="*"&&f==="*"||(f=g,p.push(g));r=p.join("");}let i=0,n=0,a=r.length,o=t.length,s=-1,c=-1;for(;i<o&&n<a;)if(r[n]==="*"){if(s=n,n++,n===a)return  true;for(;t[i]!==r[n];)if(i++,i===o)return  false;c=i,i++,n++;continue}else if(r[n]===t[i])n++,i++;else if(s>=0){if(n=s+1,i=c+1,i===o)return  false;for(;t[i]!==r[n];)if(i++,i===o)return  false;c=i,i++,n++;continue}else return  false;let l=i===t.length,u=n===r.length,d=n===r.length-1&&r[n]==="*";return l&&(u||d)}function XFe(){let t=Yne||"";return wD(""),t}function Kne(t){let e=Object.assign(r,{enabled:LD(t),destroy:JFe,log:Wne.log,namespace:t,extend:QFe});function r(...i){e.enabled&&(i.length>0&&(i[0]=`${t} ${i[0]}`),e.log(...i));}return lA.push(e),e}function JFe(){let t=lA.indexOf(this);return t>=0?(lA.splice(t,1),true):false}function QFe(t){let e=Kne(`${this.namespace}:${t}`);return e.log=this.log,e}var Fd=Wne;var DD=["verbose","info","warning","error"],Zne={verbose:400,info:300,warning:200,error:100};function Xne(t,e){e.log=(...r)=>{t.log(...r);};}function Jne(t){return DD.includes(t)}function uA(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,i,n=Fd(t.namespace);n.log=(...u)=>{Fd.log(...u);};function a(u){if(u&&!Jne(u))throw new Error(`Unknown log level '${u}'. Acceptable values: ${DD.join(",")}`);i=u;let d=[];for(let p of e)o(p)&&d.push(p.namespace);Fd.enable(d.join(","));}r&&(Jne(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${DD.join(", ")}.`));function o(u){return !!(i&&Zne[u.level]<=Zne[i])}function s(u,d){let p=Object.assign(u.extend(d),{level:d});if(Xne(u,p),o(p)){let f=Fd.disable();Fd.enable(f+","+p.namespace);}return e.add(p),p}function c(){return i}function l(u){let d=n.extend(u);return Xne(n,d),{error:s(d,"error"),warning:s(d,"warning"),info:s(d,"info"),verbose:s(d,"verbose")}}return {setLogLevel:a,getLogLevel:c,createClientLogger:l,logger:n}}var Qne=uA({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function Lm(t){return Qne.createClientLogger(t)}var UD=uA({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"}),eie=UD.logger;function Hd(t){UD.setLogLevel(t);}function nn(t){return UD.createClientLogger(t)}P();var tie=N8.promisify(es__default.default.stat),rie=N8.promisify(es__default.default.lstat),nie=N8.promisify(es__default.default.mkdir),kD=N8.promisify(es__default.default.access),dA=N8.promisify(es__default.default.appendFile),pA=N8.promisify(es__default.default.writeFile),$D=N8.promisify(es__default.default.readFile),VD=N8.promisify(es__default.default.readdir),BD=N8.promisify(es__default.default.unlink),zD=async t=>{try{if(!(await rie(t)).isDirectory())throw new Error("Path existed but was not a directory")}catch(e){if(e&&e.code==="ENOENT")try{await nie(t);}catch(r){if(r&&r.code!=="EEXIST")throw r}}};var FD=async t=>{let e=await tie(t);return e.isFile()?e.size:null};$i();P();function HD(t){if(t&&t.headers&&!Array.isArray(t.headers)){let e=t.headers;if(e["User-Agent"]&&e["User-Agent"].toString().indexOf("azsdk-js-monitor-opentelemetry-exporter")>-1||e["user-agent"]&&e["user-agent"].toString().indexOf("azsdk-js-monitor-opentelemetry-exporter")>-1)return  true}return  false}var tHe=()=>process.platform==="win32",rHe=()=>process.platform==="linux";var fA=()=>tHe()?"w":rHe()?"l":"u",nHe=()=>!!(process.env.WEBSITE_SITE_NAME&&!process.env.FUNCTIONS_WORKER_RUNTIME),iHe=()=>!!process.env.FUNCTIONS_WORKER_RUNTIME,oHe=()=>!!(process.env.AKS_ARM_NAMESPACE_ID||process.env.KUBERNETES_SERVICE_HOST),hA=()=>nHe()?"a":iHe()?"f":oHe()?"k":"u";function iie(){let t=new Map([["env",Is],["host",Ms],["os",ws],["process",wc],["serviceinstance",Lc]]);if(process.env.OTEL_NODE_RESOURCE_DETECTORS!=null){let e=process.env.OTEL_NODE_RESOURCE_DETECTORS?.split(",")??["env","host","os"];return e.includes("all")?[...t.values()]:e.includes("none")?[]:e.flatMap(r=>{let i=t.get(r);return i?[i]:(T.error(`Invalid resource detector "${r}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),[])})}else return [Is,Ms,ws]}var mA=class{_TAG="DiagFileConsoleLogger:";_cleanupTimeOut=1800*1e3;_fileCleanupTimer=null;_tempDir;_logFileName;_fileFullPath;_backUpNameFormat;_logToFile=false;_logToConsole=true;_maxHistory;_maxSizeBytes;_logDestination;constructor(){this._logDestination=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION,this._logDestination==="file+console"&&(this._logToFile=true),this._logDestination==="file"&&(this._logToFile=true,this._logToConsole=false),this._maxSizeBytes=5e4,this._maxHistory=1,this._logFileName="applicationinsights.log";let e=process.env.APPLICATIONINSIGHTS_LOGDIR;e?Tl__namespace.default.isAbsolute(e)?this._tempDir=e:this._tempDir=Tl__namespace.default.join(process.cwd(),e):this._tempDir=Tl__namespace.default.join(mp__namespace.default.tmpdir(),"appInsights-node"),this._fileFullPath=Tl__namespace.default.join(this._tempDir,this._logFileName),this._backUpNameFormat=`.${this._logFileName}`,this._logToFile&&(this._fileCleanupTimer||(this._fileCleanupTimer=setInterval(()=>{this._fileCleanupTask();},this._cleanupTimeOut),this._fileCleanupTimer.unref()));}error(e,...r){this._shouldFilterResourceAttributeWarning(e,r)||this.logMessage(e,r);}warn(e,...r){this._shouldFilterResourceAttributeWarning(e,r)||this.logMessage(e,r);}info(e,...r){this.logMessage(e,r);}debug(e,...r){this.logMessage(e,r);}verbose(e,...r){this.logMessage(e,r);}async logMessage(e,...r){try{let i=e?[e,...r]:r;this._logToFile&&await this._storeToDisk(i),this._logToConsole&&console.log(...i);}catch(i){console.log(this._TAG,`Failed to log to file: ${i&&i.message}`);}}_shouldFilterResourceAttributeWarning(e,r){let i=["accessing resource attributes before async attributes settled","resource attributes being accessed before async attributes finished","async attributes settled","resource attributes accessed before async detection completed","module @azure/core-tracing has been loaded before @azure/opentelemetry-instrumentation-azure-sdk"];if(typeof e=="string"&&i.some(n=>e.toLowerCase().includes(n)))return  true;if(r&&Array.isArray(r)){for(let n of r)if(typeof n=="string"&&i.some(a=>n.toLowerCase().includes(a)))return  true}if(typeof e=="string"){let n=e.split(" ");if(n.length>=3&&n[0].toLowerCase()==="accessing"&&n[1].toLowerCase()==="resource"&&n[2].toLowerCase()==="attributes")return  true}return  false}async _storeToDisk(e){let r=`${e}\r
`;try{await zD(this._tempDir);}catch(n){console.log(this._TAG,`Failed to create directory for log file: ${n&&n.message}`);return}try{await kD(this._fileFullPath,es__default.default.constants.F_OK);}catch{try{await dA(this._fileFullPath,r);}catch(a){console.log(this._TAG,`Failed to put log into file: ${a&&a.message}`);return}}let i=await FD(this._fileFullPath);i&&i>this._maxSizeBytes?await this._createBackupFile(r):await dA(this._fileFullPath,r);}async _createBackupFile(e){try{let r=await $D(this._fileFullPath),i=Tl__namespace.default.join(this._tempDir,`${new Date().getTime()}.${this._logFileName}`);await pA(i,r);}catch(r){console.log("Failed to generate backup log file",r);}finally{await pA(this._fileFullPath,e);}}async _fileCleanupTask(){try{let e=await VD(this._tempDir);e=e.filter(i=>Tl__namespace.default.basename(i).indexOf(this._backUpNameFormat)>-1),e.sort((i,n)=>{let a=new Date(parseInt(i.split(this._backUpNameFormat)[0])),o=new Date(parseInt(n.split(this._backUpNameFormat)[0]));return a<o?-1:1});let r=e.length;for(let i=0;i<r-this._maxHistory;i++){let n=Tl__namespace.default.join(this._tempDir,e[i]);await BD(n);}}catch(e){console.log(this._TAG,`Failed to cleanup log files: ${e&&e.message}`);}}};var Ee=class t{static instance;diagLevel;azureLogger;openTelemetryLogger;logToAzureLogger;logToOpenTelemetry;static getInstance(){return t.instance||(t.instance=new t),t.instance}constructor(){this.azureLogger=nn("@azure/monitor-opentelemetry"),this.openTelemetryLogger=T.createComponentLogger({namespace:"@azure/monitor-opentelemetry"}),this.logToOpenTelemetry=true,this.logToAzureLogger=false;let e=process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL||process.env.OTEL_LOG_LEVEL;switch(this.diagLevel=Se.WARN,e){case "ALL":this.diagLevel=Se.ALL;break;case "DEBUG":this.diagLevel=Se.DEBUG;break;case "ERROR":this.diagLevel=Se.ERROR;break;case "INFO":this.diagLevel=Se.INFO;break;case "NONE":this.diagLevel=Se.NONE;break;case "VERBOSE":this.diagLevel=Se.VERBOSE;break;case "WARN":this.diagLevel=Se.WARN;break}let r=new mA;switch(T.setLogger(r,{logLevel:this.diagLevel,suppressOverrideMessage:true}),process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL){case "VERBOSE":Hd("verbose");break;case "INFO":Hd("info");break;case "WARN":Hd("warning");break;case "ERROR":Hd("error");break;default:Hd(process.env.AZURE_LOG_LEVEL||"warning");break}eie.log=(...n)=>{r.logMessage(...n);};}error(e,...r){this.logToAzureLogger&&this.azureLogger.error(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.error(e,r);}warn(e,...r){this.logToAzureLogger&&this.azureLogger.warning(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.warn(e,r);}info(e,...r){this.logToAzureLogger&&this.azureLogger.info(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.info(e,r);}debug(e,...r){this.logToAzureLogger&&this.azureLogger.verbose(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.debug(e,r);}verbose(e,...r){this.logToAzureLogger&&this.azureLogger.verbose(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.verbose(e,r);}setLogToAzureLogger(e){this.logToAzureLogger=e;}setLogToOpenTelemetry(e){this.logToOpenTelemetry=e;}};var lHe="OTEL_TRACES_SAMPLER",uHe="OTEL_TRACES_SAMPLER_ARG",GD="microsoft.rate_limited",jD="microsoft.fixed_percentage",_A=class t{samplingRatio;tracesPerSecond;static instance;static getInstance(){return t.instance||(t.instance=new t),t.instance}constructor(){let e=process.env[lHe],r=process.env[uHe];if(e&&r)if(e===GD||e===jD){let i=Number(r);isNaN(i)||i<0?Ee.getInstance().warn("Invalid value for OTEL_TRACES_SAMPLER_ARG. It should be a non-negative number."):e===GD?this.tracesPerSecond=i:e===jD&&(this.samplingRatio=i);}else Ee.getInstance().warn(`Unsupported value for OTEL_TRACES_SAMPLER: ${e}. Supported values are: ${GD}, ${jD}.`);}};function oie(){try{return module$1.createRequire((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('post.js', document.baseURI).href)))("@azure/functions-core")}catch{return}}function sie(){return Tl.dirname(x6e.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('post.js', document.baseURI).href))))}var mHe="APPLICATIONINSIGHTS_CONFIGURATION_FILE",_He="APPLICATIONINSIGHTS_CONFIGURATION_CONTENT",EA=class t{samplingRatio;tracesPerSecond;azureMonitorExporterOptions;instrumentationOptions;enableLiveMetrics;enableStandardMetrics;enableTraceBasedSamplingForLogs;enablePerformanceCounters;browserSdkLoaderOptions;static _instance;_tempDir;static getInstance(){return t._instance||(t._instance=new t),t._instance}constructor(){let e="";this._tempDir="";let r=process.env[_He];if(r)e=r;else {let i="applicationinsights.json",n=Tl__namespace.default.join(sie(),"../../../");this._tempDir=Tl__namespace.default.join(n,i);let a=process.env[mHe];a&&(Tl__namespace.default.isAbsolute(a)?this._tempDir=a:this._tempDir=Tl__namespace.default.join(n,a));try{e=es__default.default.readFileSync(this._tempDir,"utf8");}catch(o){Ee.getInstance().info("Failed to read JSON config file: ",o);}}try{let i=JSON.parse(e);this.azureMonitorExporterOptions=i.azureMonitorExporterOptions,this.samplingRatio=i.samplingRatio,this.tracesPerSecond=i.tracesPerSecond,this.instrumentationOptions=i.instrumentationOptions,this.browserSdkLoaderOptions=i.browserSdkLoaderOptions,this.enableLiveMetrics=i.enableLiveMetrics,this.enableStandardMetrics=i.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=i.enableTraceBasedSamplingForLogs;}catch(i){Ee.getInstance().info("Missing or invalid JSON config file: ",i);}}};var aie="azure.app.service.stamp",yl="cloud.resource_id",SA="REGION_NAME",cie="WEBSITE_HOME_STAMPNAME",lie="WEBSITE_HOSTNAME",Dm="WEBSITE_INSTANCE_ID",uie="WEBSITE_OWNER_NAME",die="WEBSITE_RESOURCE_GROUP",Um="WEBSITE_SITE_NAME",pie="WEBSITE_SLOT_NAME",fie="WEBSITE_SKU",hie="FUNCTIONS_EXTENSION_VERSION",qD="WEBSITE_MEMORY_LIMIT_MB",mie="169.254.169.254",_ie="/metadata/instance/compute?api-version=2021-12-13&format=json",YD="azure.vm.scaleset.name",WD="azure.vm.sku";ht();function TA(t){let e=process.env[die],r=process.env[uie],i=r;if(r&&r.indexOf("+")!==-1&&(i=r.split("+")[0]),!(!i&&!r))return `/subscriptions/${i}/resourceGroups/${e}/providers/Microsoft.Web/sites/${t}`}function yA(){return !!(process.env[hie]||process.env[fie]==="FlexConsumption")}var gHe={[Ns]:SA,[rx]:pie,[nu]:lie,[ix]:Dm,[aie]:cie},KD=class{detect(){let e={},r=process.env[Um];if(r&&!yA()){e={...e,[iu]:r},e={...e,[Os]:Cc},e={...e,[bs]:ax};let i=TA(r);i&&(e={...e,[yl]:i});for(let[n,a]of Object.entries(gHe)){let o=process.env[a];o&&(e={...e,[n]:o});}}return {attributes:e}}},vA=new KD;ht();var EHe={[iu]:Um,[EE]:Dm,[SE]:qD},ZD=class{detect(){let e={},r=process.env[Um];if(r&&yA()){let i=process.env[Dm],n=process.env[qD];e={[Os]:Cc,[bs]:sx,[Ns]:process.env[SA],[nx]:process.pid},r&&(e={...e,[iu]:r}),i&&(e={...e,[EE]:i}),n&&(e={...e,[SE]:n});let a=TA(r);a&&(e={...e,[yl]:a});for(let[o,s]of Object.entries(EHe)){let c=process.env[s];c&&(e={...e,[o]:c});}}return {attributes:e}}},AA=new ZD;P();Rl();ht();var pU=class{detect(){let e=pe.with(fa(pe.active()),()=>this.getAzureVmMetadata()),r=[YD,WD,bs,Os,Ns,yl,nu,TE,yE,vE],i={};return r.forEach(n=>{i[n]=e.then(a=>a[n]);}),{attributes:i}}async getAzureVmMetadata(){try{let e={host:mie,path:_ie,method:"GET",timeout:5e3,headers:{Metadata:"True"}},r=await new Promise((n,a)=>{let o=setTimeout(()=>{s.destroy(),a(new Error("Azure metadata service request timed out."));},1e3),s=tp__namespace.request(e,c=>{clearTimeout(o);let{statusCode:l}=c;c.setEncoding("utf8");let u="";c.on("data",d=>u+=d),c.on("end",()=>{if(l&&l>=200&&l<300)try{n(JSON.parse(u));}catch(d){a(d);}else a(new Error("Failed to load page, status code: "+l));});});s.on("error",c=>{clearTimeout(o),a(c);}),s.end();});return {[YD]:r.vmScaleSetName,[WD]:r.sku,[bs]:ox,[Os]:Cc,[Ns]:r.location,[yl]:r.resourceId,[nu]:r.vmId,[TE]:r.name,[yE]:r.vmSize,[vE]:r.version}}catch(e){return T.debug("AzureVmResourceDetector: not running in an Azure VM:",e.message),{}}}},GA=new pU;var jA=class{samplingRatio;tracesPerSecond;azureMonitorExporterOptions;instrumentationOptions;enableLiveMetrics;enableStandardMetrics;enableTraceBasedSamplingForLogs;enablePerformanceCounters;metricExportIntervalMillis;_resource=Ic();set resource(e){this._resource=this._resource.merge(e);}get resource(){return this._resource}browserSdkLoaderOptions;constructor(e){this.azureMonitorExporterOptions={},this.samplingRatio=1,this.tracesPerSecond=void 0,this.enableLiveMetrics=true,this.enableStandardMetrics=true,this.enableTraceBasedSamplingForLogs=false,this.enablePerformanceCounters=true,this.metricExportIntervalMillis=this.calculateMetricExportInterval(),this.instrumentationOptions={http:{enabled:true},azureSdk:{enabled:true},mongoDb:{enabled:true},mySql:{enabled:true},postgreSql:{enabled:true},redis:{enabled:true},redis4:{enabled:true}},this._setDefaultResource(),this.browserSdkLoaderOptions={enabled:false,connectionString:""},e&&(this.azureMonitorExporterOptions=Object.assign(this.azureMonitorExporterOptions,e.azureMonitorExporterOptions),this.instrumentationOptions=Object.assign(this.instrumentationOptions,e.instrumentationOptions),this.resource=Object.assign(this.resource,e.resource),this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond,this.browserSdkLoaderOptions=Object.assign(this.browserSdkLoaderOptions,e.browserSdkLoaderOptions),this.enableLiveMetrics=e.enableLiveMetrics!==void 0?e.enableLiveMetrics:this.enableLiveMetrics,this.enableStandardMetrics=e.enableStandardMetrics!==void 0?e.enableStandardMetrics:this.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=e.enableTraceBasedSamplingForLogs!==void 0?e.enableTraceBasedSamplingForLogs:this.enableTraceBasedSamplingForLogs,this.enablePerformanceCounters=e.enablePerformanceCounters!==void 0?e.enablePerformanceCounters:this.enablePerformanceCounters),this._mergeJsonConfig(),this._mergeEnvConfig();}_mergeEnvConfig(){let e=_A.getInstance();this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond;}_mergeJsonConfig(){try{let e=EA.getInstance();this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond,this.browserSdkLoaderOptions=Object.assign(this.browserSdkLoaderOptions,e.browserSdkLoaderOptions),this.enableLiveMetrics=e.enableLiveMetrics!==void 0?e.enableLiveMetrics:this.enableLiveMetrics,this.enableStandardMetrics=e.enableStandardMetrics!==void 0?e.enableStandardMetrics:this.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=e.enableTraceBasedSamplingForLogs!==void 0?e.enableTraceBasedSamplingForLogs:this.enableTraceBasedSamplingForLogs,this.azureMonitorExporterOptions=Object.assign(this.azureMonitorExporterOptions,e.azureMonitorExporterOptions),this.instrumentationOptions=Object.assign(this.instrumentationOptions,e.instrumentationOptions);}catch(e){Ee.getInstance().error("Failed to load JSON config file values.",e);}}_setDefaultResource(){let e=ki(),i=hu({detectors:[Is]});e=e.merge(i);let n=hu({detectors:[vA,AA]});this._resource=e.merge(n),this._initializeVmResourceAsync();}_initializeVmResourceAsync(){let e=hu({detectors:[GA]});e.asyncAttributesPending?e.waitForAsyncAttributes?.().then(()=>{this._resource=this._resource.merge(e);}).catch(()=>{}):this._resource=this._resource.merge(e);}calculateMetricExportInterval(e){if(process.env.OTEL_METRIC_EXPORT_INTERVAL){let i=parseInt(process.env.OTEL_METRIC_EXPORT_INTERVAL.trim(),10);if(!isNaN(i)&&i>0)return i}return e?.collectionInterval?e.collectionInterval:6e4}};P();var woe="_MS.links",Loe="enqueuedTime",Doe="timeSinceEnqueued",ma="1.0.0-beta.35",lo;(function(t){t.InProc="InProc",t.QueueMessage="Queue Message",t.Sql="SQL",t.Http="Http",t.Grpc="GRPC",t.Wcf="WCF Service";})(lo||(lo={}));var _a="microsoft.sample_rate",Gm="_MS.baseType",qA="microsoft.custom_event.name",YA="microsoft.client.ip",fU="Microsoft.ApplicationInsights.Message",hU="Microsoft.ApplicationInsights.Exception",Uoe="Microsoft.ApplicationInsights.PageView",koe="Microsoft.ApplicationInsights.Availability",mU="Microsoft.ApplicationInsights.Event",WA="MessageData",KA="ExceptionData",_U="PageViewData",gU="AvailabilityData",ZA="EventData";function QHe(t){let i=5381;if(!t)return 0;let n=t;for(;n.length<8;)n=n+n;for(let a=0;a<n.length;a++)i=((i<<5)+i|0)+n.charCodeAt(a)|0;return i=i<=-2147483648?2147483647:Math.abs(i),i/2147483647*100}function $oe(t){if(t===0)return 0;let e=100/t;return 100/Math.ceil(e)}function EU(t,e,r,i){let n=t,a;if(n===100)a=true;else if(n===0)a=false;else {let o=se.getSpan(e),s=o?.spanContext();if(s&&se.isSpanContextValid(s)&&!s.isRemote){(s.traceFlags&Ce.SAMPLED)===Ce.SAMPLED?a=true:(s.traceFlags&Ce.NONE)===Ce.NONE&&(a=false);let c=Number(o.attributes?.[_a]);isNaN(c)||(n=Number(c));}}return n!==100&&(i=i||{},i[_a]=n),a===void 0?QHe(r)<n:a}Gi();var jm=class{nanoTimeSupplier;inverseAdaptationTimeNanos;targetSpansPerNanosecondLimit;state;roundToNearest;tracesPerSecond;constructor(e){if(this.tracesPerSecond=e,this.tracesPerSecond<0)throw new Error("Limit for sampled traces per second must be nonnegative");let r=.1;this.nanoTimeSupplier=()=>Number(process.hrtime.bigint()),this.inverseAdaptationTimeNanos=1e-9/r,this.targetSpansPerNanosecondLimit=1e-9*this.tracesPerSecond;let i=this.nanoTimeSupplier();this.state={effectiveWindowCount:0,effectiveWindowNanos:0,lastNanoTime:i},this.roundToNearest=true;}updateState(e,r){if(r<=e.lastNanoTime)return {effectiveWindowCount:e.effectiveWindowCount+1,effectiveWindowNanos:e.effectiveWindowNanos,lastNanoTime:e.lastNanoTime};let i=r-e.lastNanoTime,n=Math.exp(-i*this.inverseAdaptationTimeNanos),a=e.effectiveWindowCount*n+1,o=e.effectiveWindowNanos*n+i;return {effectiveWindowCount:a,effectiveWindowNanos:o,lastNanoTime:r}}getSampleRate(){let e=this.nanoTimeSupplier();this.state=this.updateState(this.state,e);let r=this.state.effectiveWindowNanos*this.targetSpansPerNanosecondLimit/this.state.effectiveWindowCount,i=100*Math.min(r,1);return this.roundToNearest&&(i=$oe(i)),i}shouldSample(e,r,i,n,a,o){let s=this.getSampleRate();return EU(s,e,r,a)?{decision:ar.RECORD_AND_SAMPLED,attributes:a}:{decision:ar.NOT_RECORD,attributes:a}}toString(){return `RateLimitedSampler{${this.tracesPerSecond}}`}};P();P();var JA;(function(t){t.V2="2020-09-15_Preview";})(JA||(JA={}));var eR="https://dc.services.visualstudio.com";JA.V2;var Voe="https://rt.services.visualstudio.com";var Boe="APPLICATIONINSIGHTS_CONNECTION_STRING";var zoe="APPLICATIONINSIGHTS_STATSBEAT_DISABLED",Foe="APPLICATION_INSIGHTS_NO_STATSBEAT",Hoe="APPLICATIONINSIGHTS_OPENTELEMETRY_RESOURCE_METRIC_DISABLED",Goe="OTEL_EXPORTER_OTLP_METRICS_ENDPOINT",joe="OTEL_METRICS_EXPORTER",qoe="AZURE_MONITOR_AUTO_ATTACH",Yoe="APPLICATIONINSIGHTS_METRICS_TO_LOGANALYTICS_ENABLED",QA;(function(t){t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.DNS_LOOKUP_TIMEOUT="EAI_AGAIN";})(QA||(QA={}));var SU="APPLICATION_INSIGHTS_SHIM_VERSION",TU="AZURE_MONITOR_PREFIX",yU="AZURE_MONITOR_DISTRO_VERSION",Woe="APPLICATIONINSIGHTS_SDKSTATS_ENABLED_PREVIEW",vU="APPLICATIONINSIGHTS_SDKSTATS_EXPORT_INTERVAL",ur;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec";})(ur||(ur={}));var qm;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME_STANDARD="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.PROCESS_TIME_NORMALIZED="\\Process(??APP_WIN32_PROC??)\\% Processor Time Normalized",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time",t.EXCEPTION_RATE="\\.NET CLR Exceptions(??APP_CLR_PROC??)\\# of Exceps Thrown / sec",t.IO_RATE="\\Process(??APP_WIN32_PROC??)\\IO Data Bytes/sec";})(qm||(qm={}));({[qm.PROCESSOR_TIME]:ur.PROCESSOR_TIME,[qm.REQUEST_RATE]:ur.REQUEST_RATE,[qm.REQUEST_DURATION]:ur.REQUEST_DURATION,[ur.COMMITTED_BYTES]:ur.COMMITTED_BYTES,[ur.REQUEST_FAILURE_RATE]:ur.REQUEST_FAILURE_RATE,[ur.DEPENDENCY_RATE]:ur.DEPENDENCY_RATE,[ur.DEPENDENCY_FAILURE_RATE]:ur.DEPENDENCY_FAILURE_RATE,[ur.DEPENDENCY_DURATION]:ur.DEPENDENCY_DURATION,[ur.EXCEPTION_RATE]:ur.EXCEPTION_RATE});var Ym=class t{static FIELDS_SEPARATOR=";";static FIELD_KEY_VALUE_SEPARATOR="=";static parse(e){if(!e)return {};let r=e.split(t.FIELDS_SEPARATOR),i=true,n=r.reduce((a,o)=>{let s=o.split(t.FIELD_KEY_VALUE_SEPARATOR);if(s.length===2){let c=s[0].toLowerCase(),l=s[1];return {...a,[c]:l}}return T.error("Connection string key-value pair is invalid: Entire connection string will be discarded"),i=false,a},{});if(i&&Object.keys(n).length>0){if(n.endpointsuffix){let a=n.location?`${n.location}.`:"";n.ingestionendpoint=n.ingestionendpoint||`https://${a}dc.${n.endpointsuffix}`,n.liveendpoint=n.liveendpoint||`https://${a}live.${n.endpointsuffix}`;}n.ingestionendpoint=n.ingestionendpoint?t.sanitizeUrl(n.ingestionendpoint):eR,n.liveendpoint=n.liveendpoint?t.sanitizeUrl(n.liveendpoint):Voe,n.authorization&&n.authorization.toLowerCase()!=="ikey"&&T.warn("Connection String contains an unsupported 'Authorization' value. Defaulting to 'Authorization=ikey'");}else T.error("An invalid connection string was passed in. There may be telemetry loss");return n}static sanitizeUrl(e){let r=e.trim();return r.indexOf("https://")<0&&(r=r.replace("http://","https://")),r[r.length-1]==="/"&&(r=r.slice(0,-1)),r}static validateInstrumentationKey(e){if(e.startsWith("InstrumentationKey=")){let n=e.indexOf("InstrumentationKey=")+19,a=e.indexOf(";",n);e=e.substring(n,a);}let r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$";return new RegExp(r).test(e)}};var vi=class{instrumentationKey="";endpointUrl="";trackStatsbeat=false;aadAudience;isStatsbeatExporter;options;constructor(e={},r){this.options=e,this.instrumentationKey="",this.endpointUrl=eR;let i=this.options.connectionString||process.env[Boe];if(this.isStatsbeatExporter=r||false,i){let n=Ym.parse(i);this.instrumentationKey=n.instrumentationkey||this.instrumentationKey,this.endpointUrl=n.ingestionendpoint?.trim()||this.endpointUrl,this.aadAudience=n.aadaudience;}if(!this.instrumentationKey){let n="No instrumentation key or connection string was provided to the Azure Monitor Exporter";throw T.error(n),new Error(n)}if(!Ym.validateInstrumentationKey(this.instrumentationKey)){let n="Invalid instrumentation key was provided to the Azure Monitor Exporter";throw T.error(n),new Error(n)}this.trackStatsbeat=!this.isStatsbeatExporter&&!process.env[Foe],T.debug("AzureMonitorExporter was successfully setup");}};P();Q();Q();P();var tGe="db.system";var rGe="db.name",nGe="db.statement",iGe="db.operation";var oGe="exception.type",sGe="exception.message",aGe="exception.stacktrace",cGe="exception.escaped";var lGe="net.transport",uGe="net.peer.ip",dGe="net.peer.port",pGe="net.peer.name",fGe="net.host.ip",hGe="net.host.port",mGe="net.host.name";var _Ge="peer.service",gGe="enduser.id";var EGe="http.method",SGe="http.url",TGe="http.target",yGe="http.host",vGe="http.scheme",AGe="http.status_code",RGe="http.flavor",OGe="http.user_agent";var NGe="http.route",bGe="http.client_ip";var PGe="rpc.system";var CGe="rpc.grpc.status_code";var ga=tGe;var Ea=rGe,Sa=nGe,Ta=iGe;var Yn=oGe,Wn=sGe,rs=aGe,AU=cGe;var Koe=lGe,ya=uGe,Wd=dGe,uo=pGe,Zoe=fGe,tR=hGe,Xoe=mGe;var va=_Ge,Joe=gGe;var Aa=EGe,Ra=SGe,Kd=TGe,Oa=yGe,Zd=vGe,Na=AGe,Qoe=RGe,Xd=OGe;var rR=NGe,nR=bGe;var ba=PGe;var po=CGe;var xGe="other_sql",IGe="mssql",MGe="mysql",wGe="oracle",LGe="db2",DGe="postgresql";var UGe="hsqldb";var kGe="derby";var $Ge="mariadb";var VGe="sqlite";var BGe="h2";var zGe="mongodb",FGe="redis";var iR=xGe,oR=IGe,sR=MGe,aR=wGe,cR=LGe,lR=DGe;var uR=UGe;var dR=kGe;var pR=$Ge;var fR=VGe;var hR=BGe;var mR=zGe,_R=FGe;var HGe="device.id";var GGe="device.model.name";var jGe="k8s.pod.name";var qGe="k8s.replicaset.name";var YGe="k8s.deployment.name";var WGe="k8s.statefulset.name";var KGe="k8s.daemonset.name";var ZGe="k8s.job.name";var XGe="k8s.cronjob.name";var JGe="service.name",QGe="service.namespace",e2e="service.instance.id",t2e="service.version";var r2e="telemetry.sdk.version";var RU=HGe;var OU=GGe;var gR=jGe;var ER=qGe;var SR=YGe;var TR=WGe;var yR=KGe;var vR=ZGe;var AR=XGe;var RR=JGe,OR=QGe,NR=e2e,NU=t2e;var ese=r2e;var ns="client.address",Pa="client.port";var bR="error.type";var PR="exception.message",CR="exception.stacktrace",xR="exception.type";var Ca="http.request.method";var xa="http.response.status_code",tse="http.route";var IR="network.local.address",MR="network.local.port",Ia="network.peer.address",wR="network.peer.port",LR="network.protocol.name",DR="network.protocol.version",UR="network.transport";var Ma="server.address",is="server.port";var rse="telemetry.sdk.language";var nse="telemetry.sdk.name",kR="telemetry.sdk.version";var wa="url.full",Ai="url.path",fo="url.query",La="url.scheme",Da="user_agent.original";var Ri;(function(t){t.PRIVATE_BYTES="Private_Bytes",t.AVAILABLE_BYTES="Available_Bytes",t.PROCESSOR_TIME="Processor_Time",t.PROCESS_TIME_STANDARD="Process_Time_Standard",t.REQUEST_RATE="Request_Rate",t.REQUEST_DURATION="Request_Execution_Time",t.PROCESS_TIME_NORMALIZED="Process_Time_Normalized",t.EXCEPTION_RATE="Exception_Rate";})(Ri||(Ri={}));var On;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME_STANDARD="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time",t.PROCESS_TIME_NORMALIZED="\\Process(??APP_WIN32_PROC??)\\% Processor Time Normalized",t.EXCEPTION_RATE="\\.NET CLR Exceptions(??APP_CLR_PROC??)\\# of Exceps Thrown / sec";})(On||(On={}));var dr;(function(t){t[t.NINE_BIT=512]="NINE_BIT",t[t.TEN_BIT=1024]="TEN_BIT",t[t.THIRTEEN_BIT=8192]="THIRTEEN_BIT",t[t.FIFTEEN_BIT=32768]="FIFTEEN_BIT";})(dr||(dr={}));var $R=[ya,uo,Zoe,va,Xd,Aa,Ra,Na,rR,Oa,ga,Sa,Ta,Ea,ba,po,Yn,Wn,rs,Zd,Kd,Qoe,Koe,Xoe,tR,Wd,nR,Joe,"http.status_text"],wr;(function(t){t.SYNTHETIC_TYPE="user_agent.synthetic.type",t.ATTR_ENDUSER_PSEUDO_ID="enduser.pseudo.id",t.ATTR_ENDUSER_ID="enduser.id";})(wr||(wr={}));var VR=[ns,Pa,Ma,is,wa,Ai,fo,La,bR,IR,MR,LR,Ia,wR,DR,UR,Da,Ca,xa,xR,PR,CR,wr.ATTR_ENDUSER_ID,wr.ATTR_ENDUSER_PSEUDO_ID,wr.SYNTHETIC_TYPE],ise=["_MS.ProcessedByMetricExtractors"];P();P();var Wm=class t{static ICACLS_PATH=`${us__namespace.default.env.SYSTEMDRIVE}/windows/system32/icacls.exe`;static POWERSHELL_PATH=`${us__namespace.default.env.SYSTEMDRIVE}/windows/system32/windowspowershell/v1.0/powershell.exe`;static ACLED_DIRECTORIES={};static ACL_IDENTITY=null;static OS_FILE_PROTECTION_CHECKED=false;static OS_PROVIDES_FILE_PROTECTION=false;static USE_ICACLS=mp.type()==="Windows_NT";static checkFileProtection(){if(!t.OS_PROVIDES_FILE_PROTECTION&&!t.OS_FILE_PROTECTION_CHECKED)if(t.OS_FILE_PROTECTION_CHECKED=true,t.USE_ICACLS){try{t.OS_PROVIDES_FILE_PROTECTION=es.existsSync(t.ICACLS_PATH);}catch{}t.OS_PROVIDES_FILE_PROTECTION||T.warn("Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.");}else t.OS_PROVIDES_FILE_PROTECTION=true;}static async applyACLRules(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){t.ACLED_DIRECTORIES[e]=false;try{let r=await this._getACLIdentity();await this._runICACLS(this._getACLArguments(e,r)),t.ACLED_DIRECTORIES[e]=!0;}catch(r){throw t.ACLED_DIRECTORIES[e]=false,r}}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}}static applyACLRulesSync(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){this._runICACLSSync(this._getACLArguments(e,this._getACLIdentitySync())),t.ACLED_DIRECTORIES[e]=true;return}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}}static _runICACLS(e){return new Promise((r,i)=>{let n=O8.spawn(t.ICACLS_PATH,e,{windowsHide:true});n.on("error",a=>i(a)),n.on("close",a=>{a===0?r():i(new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${a})`));});})}static _runICACLSSync(e){if(O8.spawnSync){let r=O8.spawnSync(t.ICACLS_PATH,e,{windowsHide:true});if(r.error)throw r.error;if(r.status!==0)throw new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${r.status})`)}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")}static _getACLIdentity(){return new Promise((e,r)=>{t.ACL_IDENTITY&&e(t.ACL_IDENTITY);let i=O8.spawn(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:true,stdio:["ignore","pipe","pipe"]}),n="";i.stdout.on("data",a=>n+=a),i.on("error",a=>r(a)),i.on("close",a=>{t.ACL_IDENTITY=n&&n.trim(),a===0?e(t.ACL_IDENTITY):r(new Error(`Getting ACL identity did not succeed (PS returned code ${a})`));});})}static _getACLIdentitySync(){if(t.ACL_IDENTITY)return t.ACL_IDENTITY;if(O8.spawnSync){let e=O8.spawnSync(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:true,stdio:["ignore","pipe","pipe"]});if(e.error)throw e.error;if(e.status!==0)throw new Error(`Getting ACL identity did not succeed (PS returned code ${e.status})`);return t.ACL_IDENTITY=e.stdout&&e.stdout.toString().trim(),t.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")}static _getACLArguments(e,r){return [e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",`${r}:(OI)(CI)F`,"/inheritance:r"]}};P();var ase=async t=>{let e=0;try{let r=await promises.readdir(t);for(let i of r){let n=await promises.stat(Tl.join(t,i));n.isFile()&&(e+=n.size);}return e}catch(r){return T.error(`Error getting directory size: ${r}`),0}},cse=async t=>{try{if(!(await promises.lstat(t)).isDirectory())throw new Error("Path existed but was not a directory")}catch(e){if(e&&e.code==="ENOENT")try{await promises.mkdir(t,{recursive:!0});}catch(r){if(r&&r.code!=="EEXIST")throw r}}};var zR=class{time;lastTime;endpoint;host;totalRequestCount;lastRequestCount;totalSuccessfulRequestCount;totalReadFailureCount;totalWriteFailureCount;totalFailedRequestCount;retryCount;exceptionCount;throttleCount;intervalRequestExecutionTime;lastIntervalRequestExecutionTime;averageRequestExecutionTime;constructor(e,r){this.endpoint=e,this.host=r,this.totalRequestCount=0,this.totalSuccessfulRequestCount=0,this.totalReadFailureCount=0,this.totalWriteFailureCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0,this.averageRequestExecutionTime=0;}},FR=class{totalItemSuccessCount;totalItemDropCount;totalItemRetryCount;constructor(){this.totalItemSuccessCount=new Map,this.totalItemDropCount=new Map,this.totalItemRetryCount=new Map;}};var Qd="node",lse="AZURE_MONITOR_AUTO_ATTACH",use=3,Ua={appsvc:"appsvc",aks:"aks",functions:"functions",vm:"vm",unknown:"unknown"},Km;(function(t){t.INTEGRATED_AUTO="IntegratedAuto",t.MANUAL="Manual";})(Km||(Km={}));var on;(function(t){t.SUCCESS_COUNT="Request_Success_Count",t.FAILURE_COUNT="Request_Failure_Count",t.RETRY_COUNT="Retry_Count",t.THROTTLE_COUNT="Throttle_Count",t.EXCEPTION_COUNT="Exception_Count",t.AVERAGE_DURATION="Request_Duration",t.READ_FAILURE_COUNT="Read_Failure_Count",t.WRITE_FAILURE_COUNT="Write_Failure_Count",t.ATTACH="Attach",t.FEATURE="Feature";})(on||(on={}));var Jd;(function(t){t.ITEM_SUCCESS_COUNT="preview.item.success.count",t.ITEM_DROP_COUNT="preview.item.dropped.count",t.ITEM_RETRY_COUNT="preview.item.retry.count";})(Jd||(Jd={}));var dse="http://169.254.169.254/metadata/instance/compute",pse="api-version=2017-12-01",fse="format=json",hse="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",mse="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",bU=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],Tt;(function(t){t.AVAILABILITY="AVAILABILITY",t.CUSTOM_EVENT="CUSTOM_EVENT",t.CUSTOM_METRIC="CUSTOM_METRIC",t.DEPENDENCY="DEPENDENCY",t.EXCEPTION="EXCEPTION",t.PAGE_VIEW="PAGE_VIEW",t.PERFORMANCE_COUNTER="PERFORMANCE_COUNTER",t.REQUEST="REQUEST",t.TRACE="TRACE",t.UNKNOWN="UNKNOWN";})(Tt||(Tt={}));var nr;(function(t){t.CLIENT_EXCEPTION="CLIENT_EXCEPTION",t.CLIENT_READONLY="CLIENT_READONLY",t.CLIENT_PERSISTENCE_CAPACITY="CLIENT_PERSISTENCE_CAPACITY",t.CLIENT_STORAGE_DISABLED="CLIENT_STORAGE_DISABLED",t.UNKNOWN="UNKNOWN";})(nr||(nr={}));var os;(function(t){t.CLIENT_EXCEPTION="CLIENT_EXCEPTION",t.CLIENT_TIMEOUT="CLIENT_TIMEOUT",t.UNKNOWN="UNKNOWN";})(os||(os={}));var Zm;(function(t){t[t.FEATURE=0]="FEATURE",t[t.INSTRUMENTATION=1]="INSTRUMENTATION";})(Zm||(Zm={}));var sn;(function(t){t.CLIENT_EXCEPTION="Client exception",t.NETWORK_EXCEPTION="Network exception",t.STORAGE_EXCEPTION="Storage exception",t.TIMEOUT_EXCEPTION="Timeout exception";})(sn||(sn={}));var Ol;(function(t){t.CLIENT_READONLY="Client readonly",t.CLIENT_PERSISTENCE_CAPACITY="Client persistence capacity",t.CLIENT_STORAGE_DISABLED="Client local storage disabled",t.UNKNOWN="Unknown reason";})(Ol||(Ol={}));var Xm;(function(t){t.CLIENT_TIMEOUT="Client timeout",t.UNKNOWN="Unknown reason";})(Xm||(Xm={}));function _se(t){return t===401||t===403||t===503}var GR=class t{_options;_customerSDKStatsMetrics;static TEMPDIR_PREFIX="ot-azure-exporter-";static FILENAME_SUFFIX=".ai.json";fileRetemptionPeriod=2880*60*1e3;cleanupTimeOut=3600*1e3;maxBytesOnDisk=5e7;_enabled;_tempDirectory="";_fileCleanupTimer=null;_instrumentationKey;constructor(e,r,i){if(this._options=r,this._customerSDKStatsMetrics=i,this._instrumentationKey=e,this._options?.disableOfflineStorage){this._enabled=false;return}this._enabled=true,Wm.checkFileProtection(),Wm.OS_PROVIDES_FILE_PROTECTION||(this._enabled=false,T.error("Sufficient file protection capabilities were not detected. Files will not be persisted")),this._instrumentationKey||(this._enabled=false,T.error("No instrumentation key was provided to FileSystemPersister. Files will not be persisted")),this._enabled&&(this._tempDirectory=Tl.join(this._options?.storageDirectory||mp.tmpdir(),"Microsoft","AzureMonitor",t.TEMPDIR_PREFIX+this._instrumentationKey),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(()=>{this._fileCleanupTask();},this.cleanupTimeOut),this._fileCleanupTimer.unref()));}push(e){return this._enabled?(T.debug("Pushing value to persistent storage",e.toString()),this._storeToDisk(JSON.stringify(e),e)):this._options?.disableOfflineStorage?new Promise(r=>{r(true);}):new Promise(r=>{r(false);})}async shift(){if(this._enabled){T.debug("Searching for filesystem persisted files");try{let e=await this._getFirstFileOnDisk();if(e)return JSON.parse(e.toString("utf8"))}catch(e){T.debug("Failed to read persisted file",e);}return null}return new Promise(e=>{e(null);})}async _getFirstFileOnDisk(){try{if((await promises.stat(this._tempDirectory)).isDirectory()){let i=(await promises.readdir(this._tempDirectory)).filter(n=>Tl.basename(n).includes(t.FILENAME_SUFFIX));if(i.length===0)return null;{let n=i[0],a=Tl.join(this._tempDirectory,n),o=await promises.readFile(a);return await promises.unlink(a),o}}return null}catch(e){if(e.code==="ENOENT")return null;throw e}}async _storeToDisk(e,r){try{await cse(this._tempDirectory);}catch(a){return a?.code==="EACCES"||a?.code==="EPERM"?(this._customerSDKStatsMetrics?.countDroppedItems(r,nr.CLIENT_READONLY),T.warn(`Permission denied while checking/creating directory: ${this._tempDirectory}`,a?.message)):T.warn("Error while checking/creating directory: ",a&&a.message),false}try{let a=await ase(this._tempDirectory);if(a>this.maxBytesOnDisk)return this._customerSDKStatsMetrics?.countDroppedItems(r,nr.CLIENT_PERSISTENCE_CAPACITY),T.warn(`Not saving data due to max size limit being met. Directory size in bytes is: ${a}`),!1}catch(a){return T.warn("Error while checking size of persistence directory: ",a&&a.message),false}let i=`${new Date().getTime()}${t.FILENAME_SUFFIX}`,n=Tl.join(this._tempDirectory,i);T.info(`saving data to disk at: ${n}`);try{await promises.writeFile(n,e,{mode:384});}catch(a){return this._customerSDKStatsMetrics?.countDroppedItems(r,nr.CLIENT_EXCEPTION,a?.message,sn.STORAGE_EXCEPTION),T.warn("Error writing file to persistent file storage",a),false}return  true}async _fileCleanupTask(){try{if((await promises.stat(this._tempDirectory)).isDirectory()){let i=(await promises.readdir(this._tempDirectory)).filter(n=>Tl.basename(n).includes(t.FILENAME_SUFFIX));return i.length===0?!1:(i.forEach(async n=>{let a=new Date(parseInt(n.split(t.FILENAME_SUFFIX)[0]));if(new Date(+new Date-this.fileRetemptionPeriod)>a){let s=Tl.join(this._tempDirectory,n);await promises.unlink(s);}}),!0)}return !1}catch(e){return T.info("Failed cleanup of persistent file storage expired files",e),false}}};P();Q();P();Wt();var ka=class extends Error{constructor(e){super(e),this.name="AbortError";}};function vse(t,...e){us__namespace.stderr.write(`${N8__namespace.default.format(t,...e)}${mp.EOL}`);}var Ase=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Rse,PU=[],CU=[],jR=[];Ase&&xU(Ase);var Ose=Object.assign(t=>Nse(t),{enable:xU,enabled:IU,disable:m2e,log:vse});function xU(t){Rse=t,PU=[],CU=[];let e=/\*/g,r=t.split(",").map(i=>i.trim().replace(e,".*?"));for(let i of r)i.startsWith("-")?CU.push(new RegExp(`^${i.substr(1)}$`)):PU.push(new RegExp(`^${i}$`));for(let i of jR)i.enabled=IU(i.namespace);}function IU(t){if(t.endsWith("*"))return  true;for(let e of CU)if(e.test(t))return  false;for(let e of PU)if(e.test(t))return  true;return  false}function m2e(){let t=Rse||"";return xU(""),t}function Nse(t){let e=Object.assign(r,{enabled:IU(t),destroy:_2e,log:Ose.log,namespace:t,extend:g2e});function r(...i){e.enabled&&(i.length>0&&(i[0]=`${t} ${i[0]}`),e.log(...i));}return jR.push(e),e}function _2e(){let t=jR.indexOf(this);return t>=0?(jR.splice(t,1),true):false}function g2e(t){let e=Nse(`${this.namespace}:${t}`);return e.log=this.log,e}var ep=Ose;var MU=["verbose","info","warning","error"],bse={verbose:400,info:300,warning:200,error:100};function Pse(t,e){e.log=(...r)=>{t.log(...r);};}function Cse(t){return MU.includes(t)}function E2e(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,i,n=ep(t.namespace);n.log=(...u)=>{ep.log(...u);};function a(u){if(u&&!Cse(u))throw new Error(`Unknown log level '${u}'. Acceptable values: ${MU.join(",")}`);i=u;let d=[];for(let p of e)o(p)&&d.push(p.namespace);ep.enable(d.join(","));}r&&(Cse(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${MU.join(", ")}.`));function o(u){return !!(i&&bse[u.level]<=bse[i])}function s(u,d){let p=Object.assign(u.extend(d),{level:d});if(Pse(u,p),o(p)){let f=ep.disable();ep.enable(f+","+p.namespace);}return e.add(p),p}function c(){return i}function l(u){let d=n.extend(u);return Pse(n,d),{error:s(d,"error"),warning:s(d,"warning"),info:s(d,"info"),verbose:s(d,"verbose")}}return {setLogLevel:a,getLogLevel:c,createClientLogger:l,logger:n}}var xse=E2e({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function Jm(t){return xse.createClientLogger(t)}function qR(t){return t.toLowerCase()}function*T2e(t){for(let e of t.values())yield [e.name,e.value];}var wU=class{constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r]);}set(e,r){this._headersMap.set(qR(e),{name:e,value:String(r).trim()});}get(e){var r;return (r=this._headersMap.get(qR(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(qR(e))}delete(e){this._headersMap.delete(qR(e));}toJSON(e={}){let r={};if(e.preserveCase)for(let i of this._headersMap.values())r[i.name]=i.value;else for(let[i,n]of this._headersMap)r[i]=n.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:true}))}[Symbol.iterator](){return T2e(this._headersMap)}};function ho(t){return new wU(t)}var LU,v2e=typeof((LU=globalThis?.crypto)===null||LU===void 0?void 0:LU.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):crypto$1.randomUUID;function Qm(){return v2e()}var DU=class{constructor(e){var r,i,n,a,o,s,c;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:ho(),this.method=(i=e.method)!==null&&i!==void 0?i:"GET",this.timeout=(n=e.timeout)!==null&&n!==void 0?n:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(a=e.disableKeepAlive)!==null&&a!==void 0?a:false,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(o=e.withCredentials)!==null&&o!==void 0?o:false,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||Qm(),this.allowInsecureConnection=(s=e.allowInsecureConnection)!==null&&s!==void 0?s:false,this.enableBrowserStreams=(c=e.enableBrowserStreams)!==null&&c!==void 0?c:false,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes;}};function YR(t){return new DU(t)}function e_(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}var Ise=N8.inspect.custom;var UU="REDACTED",R2e=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],O2e=["api-version"],ss=class{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=R2e.concat(e),r=O2e.concat(r),this.allowedHeaderNames=new Set(e.map(i=>i.toLowerCase())),this.allowedQueryParameters=new Set(r.map(i=>i.toLowerCase()));}sanitize(e){let r=new Set;return JSON.stringify(e,(i,n)=>{if(n instanceof Error)return Object.assign(Object.assign({},n),{name:n.name,message:n.message});if(i==="headers")return this.sanitizeHeaders(n);if(i==="url")return this.sanitizeUrl(n);if(i==="query")return this.sanitizeQuery(n);if(i==="body")return;if(i==="response")return;if(i==="operationSpec")return;if(Array.isArray(n)||e_(n)){if(r.has(n))return "[Circular]";r.add(n);}return n},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[i]of r.searchParams)this.allowedQueryParameters.has(i.toLowerCase())||r.searchParams.set(i,UU);return r.toString()}sanitizeHeaders(e){let r={};for(let i of Object.keys(e))this.allowedHeaderNames.has(i.toLowerCase())?r[i]=e[i]:r[i]=UU;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let i of Object.keys(e))this.allowedQueryParameters.has(i.toLowerCase())?r[i]=e[i]:r[i]=UU;return r}};var N2e=new ss,Lr=class t extends Error{constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:false}),Object.defineProperty(this,"response",{value:r.response,enumerable:false}),Object.defineProperty(this,Ise,{value:()=>`RestError: ${this.message} 
 ${N2e.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,enumerable:false}),Object.setPrototypeOf(this,t.prototype);}};Lr.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Lr.PARSE_ERROR="PARSE_ERROR";var mo=Jm("ts-http-runtime");var P2e={};function t_(t){return t&&typeof t.pipe=="function"}function Mse(t){return t.readable===false?Promise.resolve():new Promise(e=>{let r=()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r);};t.on("close",r),t.on("end",r),t.on("error",r);})}function wse(t){return t&&typeof t.byteLength=="number"}var WR=class extends stream.Transform{_transform(e,r,i){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),i();}catch(n){i(n);}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e;}},$U=class{constructor(){this.cachedHttpsAgents=new WeakMap;}async sendRequest(e){var r,i,n;let a=new AbortController,o;if(e.abortSignal){if(e.abortSignal.aborted)throw new ka("The operation was aborted. Request has already been canceled.");o=p=>{p.type==="abort"&&a.abort();},e.abortSignal.addEventListener("abort",o);}let s;e.timeout>0&&(s=setTimeout(()=>{let p=new ss;mo.info(`request to '${p.sanitizeUrl(e.url)}' timed out. canceling...`),a.abort();},e.timeout));let c=e.headers.get("Accept-Encoding"),l=c?.includes("gzip")||c?.includes("deflate"),u=typeof e.body=="function"?e.body():e.body;if(u&&!e.headers.has("Content-Length")){let p=M2e(u);p!==null&&e.headers.set("Content-Length",p);}let d;try{if(u&&e.onUploadProgress){let N=e.onUploadProgress,C=new WR(N);C.on("error",M=>{mo.error("Error in upload progress",M);}),t_(u)?u.pipe(C):C.end(u),u=C;}let p=await this.makeRequest(e,a,u);s!==void 0&&clearTimeout(s);let f=C2e(p),S={status:(r=p.statusCode)!==null&&r!==void 0?r:0,headers:f,request:e};if(e.method==="HEAD")return p.resume(),S;d=l?x2e(p,f):p;let v=e.onDownloadProgress;if(v){let N=new WR(v);N.on("error",C=>{mo.error("Error in download progress",C);}),d.pipe(N),d=N;}return !((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(Number.POSITIVE_INFINITY)||!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(S.status)?S.readableStreamBody=d:S.bodyAsText=await I2e(d),S}finally{if(e.abortSignal&&o){let p=Promise.resolve();t_(u)&&(p=Mse(u));let f=Promise.resolve();t_(d)&&(f=Mse(d)),Promise.all([p,f]).then(()=>{var g;o&&((g=e.abortSignal)===null||g===void 0||g.removeEventListener("abort",o));}).catch(g=>{mo.warning("Error when cleaning up abortListener on httpRequest",g);});}}}makeRequest(e,r,i){var n;let a=new URL(e.url),o=a.protocol!=="https:";if(o&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let s=(n=e.agent)!==null&&n!==void 0?n:this.getOrCreateAgent(e,o),c=Object.assign({agent:s,hostname:a.hostname,path:`${a.pathname}${a.search}`,port:a.port,method:e.method,headers:e.headers.toJSON({preserveCase:true})},e.requestOverrides);return new Promise((l,u)=>{let d=o?tp__namespace.request(c,l):rp__namespace.request(c,l);d.once("error",p=>{var f;u(new Lr(p.message,{code:(f=p.code)!==null&&f!==void 0?f:Lr.REQUEST_SEND_ERROR,request:e}));}),r.signal.addEventListener("abort",()=>{let p=new ka("The operation was aborted. Rejecting from abort signal callback while making request.");d.destroy(p),u(p);}),i&&t_(i)?i.pipe(d):i?typeof i=="string"||Buffer.isBuffer(i)?d.end(i):wse(i)?d.end(ArrayBuffer.isView(i)?Buffer.from(i.buffer):Buffer.from(i)):(mo.error("Unrecognized body type",i),u(new Lr("Unrecognized body type"))):d.end();})}getOrCreateAgent(e,r){var i;let n=e.disableKeepAlive;if(r)return n?tp__namespace.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new tp__namespace.Agent({keepAlive:true})),this.cachedHttpAgent);{if(n&&!e.tlsSettings)return rp__namespace.globalAgent;let a=(i=e.tlsSettings)!==null&&i!==void 0?i:P2e,o=this.cachedHttpsAgents.get(a);return o&&o.options.keepAlive===!n||(mo.info("No cached TLS Agent exist, creating a new Agent"),o=new rp__namespace.Agent(Object.assign({keepAlive:!n},a)),this.cachedHttpsAgents.set(a,o)),o}}};function C2e(t){let e=ho();for(let r of Object.keys(t.headers)){let i=t.headers[r];Array.isArray(i)?i.length>0&&e.set(r,i[0]):i&&e.set(r,i);}return e}function x2e(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let i=Po__namespace.createGunzip();return t.pipe(i),i}else if(r==="deflate"){let i=Po__namespace.createInflate();return t.pipe(i),i}return t}function I2e(t){return new Promise((e,r)=>{let i=[];t.on("data",n=>{Buffer.isBuffer(n)?i.push(n):i.push(Buffer.from(n));}),t.on("end",()=>{e(Buffer.concat(i).toString("utf8"));}),t.on("error",n=>{n&&n?.name==="AbortError"?r(n):r(new Lr(`Error reading response as text: ${n.message}`,{code:Lr.PARSE_ERROR}));});})}function M2e(t){return t?Buffer.isBuffer(t)?t.length:t_(t)?null:wse(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}function Lse(){return new $U}function ZR(){return Lse()}var VU="redirectPolicy";Jm("ts-http-runtime retryPolicy");var FU,HU,GU,jU;typeof self=="object"&&typeof self?.importScripts=="function"&&(((FU=self.constructor)===null||FU===void 0?void 0:FU.name)==="DedicatedWorkerGlobalScope"||((HU=self.constructor)===null||HU===void 0?void 0:HU.name)==="ServiceWorkerGlobalScope"||((GU=self.constructor)===null||GU===void 0?void 0:GU.name)==="SharedWorkerGlobalScope");typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";typeof Bun<"u"&&typeof Bun.version<"u";typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((jU=globalThis.process.versions)===null||jU===void 0)&&jU.node);He(WU(),1);He(KU(),1);new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");nn("core-rest-pipeline");var o_=VU;var sp=class extends Error{constructor(e){super(e),this.name="AbortError";}};He(Eae(),1);function QU(t){if(t instanceof AbortSignal)return {abortSignal:t};if(t.aborted)return {abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=true;function i(){r&&(t.removeEventListener("abort",n),r=false);}function n(){e.abort(t.reason),i();}return t.addEventListener("abort",n),{abortSignal:e.signal,cleanup:i}}function ek(){let t=ZR();return {async sendRequest(e){let{abortSignal:r,cleanup:i}=e.abortSignal?QU(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{i?.();}}}}function tk(t){return YR(t)}nn("core-rest-pipeline retryPolicy");P();var $a=class{resourceProvider=Ua.unknown;vmInfo={};os=mp__namespace.default.type();resourceIdentifier="";async getResourceProvider(){this.resourceProvider=Ua.unknown,process.env.AKS_ARM_NAMESPACE_ID?(this.resourceProvider=Ua.aks,this.resourceIdentifier=process.env.AKS_ARM_NAMESPACE_ID):process.env.WEBSITE_SITE_NAME&&!process.env.FUNCTIONS_WORKER_RUNTIME?(this.resourceProvider=Ua.appsvc,this.resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(this.resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(this.resourceProvider=Ua.functions,process.env.WEBSITE_HOSTNAME&&(this.resourceIdentifier=process.env.WEBSITE_HOSTNAME)):await this.getAzureComputeMetadata()?(this.resourceProvider=Ua.vm,this.resourceIdentifier=this.vmInfo.id+"/"+this.vmInfo.subscriptionId,this.vmInfo.osType&&(this.os=this.vmInfo.osType)):this.resourceProvider=Ua.unknown;}async getAzureComputeMetadata(){let e=ek(),i={url:`${dse}?${pse}&${fse}`,timeout:5e3,method:"GET",allowInsecureConnection:true},n=tk(i);return await e.sendRequest(n).then(a=>{if(a.status===200){this.vmInfo.isVM=true;let o="";return a.on("data",s=>{o+=s;}),a.on("end",()=>{try{let s=JSON.parse(o);this.vmInfo.id=s.vmId||"",this.vmInfo.subscriptionId=s.subscriptionId||"",this.vmInfo.osType=s.osType||"";}catch(s){T.debug("Failed to parse JSON: ",s);}}),true}else return  false}).catch(()=>false),false}getConnectionString(e){let r=e;for(let i=0;i<bU.length;i++)if(r.includes(bU[i]))return mse;return hse}};P();Q();Wt();var Tae=new Map([[Ri.PRIVATE_BYTES,On.PRIVATE_BYTES],[Ri.AVAILABLE_BYTES,On.AVAILABLE_BYTES],[Ri.PROCESSOR_TIME,On.PROCESSOR_TIME],[Ri.PROCESS_TIME_STANDARD,On.PROCESS_TIME_STANDARD],[Ri.PROCESS_TIME_NORMALIZED,On.PROCESS_TIME_NORMALIZED],[Ri.REQUEST_RATE,On.REQUEST_RATE],[Ri.REQUEST_DURATION,On.REQUEST_DURATION],[Ri.EXCEPTION_RATE,On.EXCEPTION_RATE]]);function oqe(t){let e={};if(t)for(let r of Object.keys(t))e[r]=t[r];return e}function iO(t,e,r){let i=[],n=new Date,a=e,o,s;return r?(s="Microsoft.ApplicationInsights.Statsbeat",o={...oO().tags}):(s="Microsoft.ApplicationInsights.Metric",o=Va(t.resource)),t.scopeMetrics.forEach(c=>{c.metrics.forEach(l=>{l.dataPoints.forEach(u=>{let d={metrics:[],version:2,properties:{}};if(d.properties=oqe(u.attributes),yae()&&rk()&&!sqe(u)&&process.env[Yoe]==="false"&&!r)return;yae()&&rk()&&!r?d.properties["_MS.SentToAMW"]="True":rk()&&!r&&(d.properties["_MS.SentToAMW"]="False");let p;Tae.has(l.descriptor.name)&&(p=Tae.get(l.descriptor.name));let f={name:p||l.descriptor.name,value:0,dataPointType:"Aggregation"};l.dataPointType===_t.SUM||l.dataPointType===_t.GAUGE?(f.value=u.value,f.count=1):(f.value=u.value.sum||0,f.count=u.value.count,f.max=u.value.max,f.min=u.value.min),d.metrics.push(f);let g={name:s,time:n,sampleRate:100,instrumentationKey:a,tags:o,version:1,data:{baseType:"MetricData",baseData:{...d}}};i.push(g);});});}),i}function rk(){return !!(process.env[qoe]==="true"&&process.env.AKS_ARM_NAMESPACE_ID)}function yae(){return !!(process.env[Goe]&&process.env[joe]?.includes("otlp"))}function sqe(t){return t.attributes?.["_MS.IsAutocollected"]==="True"}function ap(){return process.env[lse]==="true"?Km.INTEGRATED_AUTO:Km.MANUAL}var Ba=class extends vi{_isShutdown=false;_sender;constructor(e){super(e,true),this._sender=new go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,isStatsbeatSender:true});}filterZeroValueMetrics(e){return e.filter(r=>r.data?.baseType==="MetricData"&&r.data?.baseData?.metrics?r.data.baseData.metrics.some(n=>n.value!==0):true)}async export(e,r){if(this._isShutdown){setTimeout(()=>r({code:W.FAILED}),0);return}let i=iO(e,this.instrumentationKey,true),n=this.filterZeroValueMetrics(i);pe.with(Er(pe.active()),async()=>{r(await this._sender.exportEnvelopes(n));});}async shutdown(){return this._isShutdown=true,this._sender.shutdown()}async forceFlush(){return Promise.resolve()}};var sO=class t extends $a{static instance=null;disableNonEssentialStatsbeat=!!process.env[zoe];commonProperties;networkProperties;isInitialized=false;statsCollectionShortInterval=9e5;networkStatsbeatCollection=[];networkStatsbeatMeter;networkStatsbeatMeterProvider;networkAzureExporter;cikey;runtimeVersion;language;version;attach=ap();successCountGauge;failureCountGauge;retryCountGauge;throttleCountGauge;exceptionCountGauge;averageDurationGauge;readFailureGauge;writeFailureGauge;connectionString;endpointUrl;host;constructor(e){super(),this.connectionString=super.getConnectionString(e.endpointUrl);let r={connectionString:this.connectionString};this.networkAzureExporter=new Ba(r);let i={exporter:this.networkAzureExporter,exportIntervalMillis:e.networkCollectionInterval||this.statsCollectionShortInterval};this.networkStatsbeatMeterProvider=new vr({readers:[new Yt(i)]}),this.networkStatsbeatMeter=this.networkStatsbeatMeterProvider.getMeter("Azure Monitor Network Statsbeat"),this.endpointUrl=e.endpointUrl,this.runtimeVersion=process.version,this.language=Qd,this.version=ma,this.host=this.getShortHost(e.endpointUrl),this.cikey=e.instrumentationKey,this.successCountGauge=this.networkStatsbeatMeter.createObservableGauge(on.SUCCESS_COUNT),this.failureCountGauge=this.networkStatsbeatMeter.createObservableGauge(on.FAILURE_COUNT),this.retryCountGauge=this.networkStatsbeatMeter.createObservableGauge(on.RETRY_COUNT),this.throttleCountGauge=this.networkStatsbeatMeter.createObservableGauge(on.THROTTLE_COUNT),this.exceptionCountGauge=this.networkStatsbeatMeter.createObservableGauge(on.EXCEPTION_COUNT),this.averageDurationGauge=this.networkStatsbeatMeter.createObservableGauge(on.AVERAGE_DURATION),this.disableNonEssentialStatsbeat||(this.readFailureGauge=this.networkStatsbeatMeter.createObservableGauge(on.READ_FAILURE_COUNT),this.writeFailureGauge=this.networkStatsbeatMeter.createObservableGauge(on.WRITE_FAILURE_COUNT)),this.isInitialized=true,this.initialize(),this.commonProperties={os:this.os,rp:this.resourceProvider,cikey:this.cikey,runtimeVersion:this.runtimeVersion,language:this.language,version:this.version,attach:this.attach},this.networkProperties={endpoint:this.endpointUrl,host:this.host};}shutdown(){return this.networkStatsbeatMeterProvider.shutdown()}async initialize(){try{await super.getResourceProvider(),this.successCountGauge.addCallback(this.successCallback.bind(this)),this.networkStatsbeatMeter.addBatchObservableCallback(this.failureCallback.bind(this),[this.failureCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.retryCallback.bind(this),[this.retryCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.throttleCallback.bind(this),[this.throttleCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.exceptionCallback.bind(this),[this.exceptionCountGauge]),this.disableNonEssentialStatsbeat||(this.readFailureGauge?.addCallback(this.readFailureCallback.bind(this)),this.writeFailureGauge?.addCallback(this.writeFailureCallback.bind(this))),this.averageDurationGauge.addCallback(this.durationCallback.bind(this));}catch{T.debug("Call to get the resource provider failed.");}}successCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalSuccessfulRequestCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalSuccessfulRequestCount,i),r.totalSuccessfulRequestCount=0;}}failureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.totalFailedRequestCount.length;n++)r.totalFailedRequestCount[n].count>0&&(i.statusCode=r.totalFailedRequestCount[n].statusCode,e.observe(this.failureCountGauge,r.totalFailedRequestCount[n].count,{...i}),r.totalFailedRequestCount[n].count=0);}retryCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.retryCount.length;n++)r.retryCount[n].count>0&&(i.statusCode=r.retryCount[n].statusCode,e.observe(this.retryCountGauge,r.retryCount[n].count,{...i}),r.retryCount[n].count=0);}throttleCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.throttleCount.length;n++)r.throttleCount[n].count>0&&(i.statusCode=r.throttleCount[n].statusCode,e.observe(this.throttleCountGauge,r.throttleCount[n].count,{...i}),r.throttleCount[n].count=0);}exceptionCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,exceptionType:""};for(let n=0;n<r.exceptionCount.length;n++)r.exceptionCount[n].count>0&&(i.exceptionType=r.exceptionCount[n].exceptionType,e.observe(this.exceptionCountGauge,r.exceptionCount[n].count,{...i}),r.exceptionCount[n].count=0);}durationCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties};for(let n=0;n<this.networkStatsbeatCollection.length;n++){let a=this.networkStatsbeatCollection[n];a.time=Number(new Date);let o=a.totalRequestCount-a.lastRequestCount||0;o>0?a.averageRequestExecutionTime=(a.intervalRequestExecutionTime-a.lastIntervalRequestExecutionTime)/o||0:a.averageRequestExecutionTime=0,a.lastIntervalRequestExecutionTime=a.intervalRequestExecutionTime,a.lastRequestCount=a.totalRequestCount,a.lastTime=a.time;}r.averageRequestExecutionTime>0&&(e.observe(r.averageRequestExecutionTime,i),r.averageRequestExecutionTime=0);}readFailureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalReadFailureCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalReadFailureCount,i),r.totalReadFailureCount=0;}}writeFailureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalWriteFailureCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalWriteFailureCount,i),r.totalWriteFailureCount=0;}}countSuccess(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);r.totalRequestCount++,r.totalSuccessfulRequestCount++,r.intervalRequestExecutionTime+=e;}countFailure(e,r){if(!this.isInitialized)return;let i=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),n=i.totalFailedRequestCount.find(a=>r===a.statusCode);n?n.count++:i.totalFailedRequestCount.push({statusCode:r,count:1}),i.totalRequestCount++,i.intervalRequestExecutionTime+=e;}countRetry(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.retryCount.find(n=>e===n.statusCode);i?i.count++:r.retryCount.push({statusCode:e,count:1});}countThrottle(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.throttleCount.find(n=>e===n.statusCode);i?i.count++:r.throttleCount.push({statusCode:e,count:1});}countReadFailure(){if(!this.isInitialized||this.disableNonEssentialStatsbeat)return;let e=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);e.totalReadFailureCount++;}countWriteFailure(){if(!this.isInitialized||this.disableNonEssentialStatsbeat)return;let e=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);e.totalWriteFailureCount++;}countException(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.exceptionCount.find(n=>e.name===n.exceptionType);i?i.count++:r.exceptionCount.push({exceptionType:e.name,count:1});}getNetworkStatsbeatCounter(e,r){for(let n=0;n<this.networkStatsbeatCollection.length;n++)if(e===this.networkStatsbeatCollection[n].endpoint&&r===this.networkStatsbeatCollection[n].host)return this.networkStatsbeatCollection[n];let i=new zR(e,r);return this.networkStatsbeatCollection.push(i),i}getShortHost(e){let r=e;try{let n=new RegExp(/^https?:\/\/(?:www\.)?([^/.-]+)/).exec(e);n!==null&&n.length>1&&(r=n[1]),r=r.replace(".in.applicationinsights.azure.com","");}catch{T.debug("Failed to get the short host name.");}return r}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}};P();Q();Wt();var aO=class t extends $a{static instance=null;statsCollectionLongInterval=864e5;cikey;runtimeVersion;language;version;attach=ap();commonProperties;attachProperties;feature=0;instrumentation=0;longIntervalStatsbeatMeterProvider;longIntervalAzureExporter;longIntervalMetricReader;longIntervalStatsbeatMeter;connectionString;featureStatsbeatGauge;attachStatsbeatGauge;isInitialized=false;constructor(e){super(),this.connectionString=super.getConnectionString(e.endpointUrl);let r={connectionString:this.connectionString,disableOfflineStorage:e.disableOfflineStorage};this.setFeatures(),this.longIntervalAzureExporter=new Ba(r);let i={exporter:this.longIntervalAzureExporter,exportIntervalMillis:Number(process.env.LONG_INTERVAL_EXPORT_MILLIS)||this.statsCollectionLongInterval};this.longIntervalMetricReader=new Yt(i),this.longIntervalStatsbeatMeterProvider=new vr({readers:[this.longIntervalMetricReader]}),this.longIntervalStatsbeatMeter=this.longIntervalStatsbeatMeterProvider.getMeter("Azure Monitor Long Interval Statsbeat"),this.runtimeVersion=process.version,this.language=Qd,this.version=ma,this.cikey=e.instrumentationKey,this.featureStatsbeatGauge=this.longIntervalStatsbeatMeter.createObservableGauge(on.FEATURE),this.attachStatsbeatGauge=this.longIntervalStatsbeatMeter.createObservableGauge(on.ATTACH),this.isInitialized=true,this.initialize(),this.commonProperties={os:this.os,rp:this.resourceProvider,cikey:this.cikey,runtimeVersion:this.runtimeVersion,language:this.language,version:this.version,attach:this.attach},this.attachProperties={rpId:this.resourceIdentifier};}async initialize(){try{await this.getResourceProvider(),this.attachStatsbeatGauge.addCallback(this.attachCallback.bind(this)),this.longIntervalStatsbeatMeter.addBatchObservableCallback(this.getEnvironmentStatus.bind(this),[this.featureStatsbeatGauge]),setTimeout(async()=>{try{let e=await this.longIntervalMetricReader.collect();e?this.longIntervalAzureExporter.export(e.resourceMetrics,r=>{r.code!==W.SUCCESS&&T.debug(`LongIntervalStatsbeat: metrics export failed (error ${r.error})`);}):T.debug("LongIntervalStatsbeat: No metrics collected");}catch(e){T.debug(`LongIntervalStatsbeat: Error collecting metrics: ${e}`);}},15e3);}catch{T.debug("Call to get the resource provider failed.");}}getEnvironmentStatus(e){this.setFeatures();let r;this.instrumentation>0&&(r={...this.commonProperties,feature:this.instrumentation,type:Zm.INSTRUMENTATION},e.observe(this.featureStatsbeatGauge,1,{...r})),this.feature>0&&(r={...this.commonProperties,feature:this.feature,type:Zm.FEATURE},e.observe(this.featureStatsbeatGauge,1,{...r}));}setFeatures(){let e=process.env.AZURE_MONITOR_STATSBEAT_FEATURES;if(e)try{this.feature=JSON.parse(e).feature,this.instrumentation=JSON.parse(e).instrumentation;}catch(r){T.debug(`LongIntervalStatsbeat: Failed to parse features/instrumentations (error ${r})`);}}attachCallback(e){let r={...this.commonProperties,...this.attachProperties};e.observe(1,r);}shutdown(){return this.longIntervalStatsbeatMeterProvider.shutdown()}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}};function cO(t){return t===206||t===401||t===403||t===408||t===429||t===439||t===500||t===502||t===503||t===504}function nk(t){(isNaN(t)||t<0)&&(t=0);let e=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,n=Math.floor(t/(1e3*60*60*24));return e=e.indexOf(".")<2?"0"+e:e,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(n>0?n+".":"")+i+":"+r+":"+e}P();Wt();var lO=class t extends $a{static _instance;statsCollectionInterval=9e5;customerSDKStatsMeter;customerSDKStatsMeterProvider;customerSDKStatsExporter;customerSDKStatsCounter;customerSDKStatsMetricReader;isInitialized=false;language;version;attach=ap();itemSuccessCountGauge;itemDropCountGauge;itemRetryCountGauge;customerProperties;constructor(e){super();let r={connectionString:`InstrumentationKey=${e.instrumentationKey};IngestionEndpoint=${e.endpointUrl}`};this.customerSDKStatsExporter=new Ba(r);let i={exporter:this.customerSDKStatsExporter,exportIntervalMillis:e.networkCollectionInterval||this.statsCollectionInterval};this.customerSDKStatsMetricReader=new Yt(i),this.customerSDKStatsMeterProvider=new vr({readers:[this.customerSDKStatsMetricReader]}),this.customerSDKStatsMeter=this.customerSDKStatsMeterProvider.getMeter("Azure Monitor Customer SDK Stats"),this.language=Qd,this.version=ma,this.itemSuccessCountGauge=this.customerSDKStatsMeter.createObservableGauge(Jd.ITEM_SUCCESS_COUNT),this.itemDropCountGauge=this.customerSDKStatsMeter.createObservableGauge(Jd.ITEM_DROP_COUNT),this.itemRetryCountGauge=this.customerSDKStatsMeter.createObservableGauge(Jd.ITEM_RETRY_COUNT),this.isInitialized||this.initialize(),this.isInitialized=true,this.customerSDKStatsCounter=new FR,this.customerProperties={language:this.language,version:this.version,computeType:this.attach};}static getInstance(e){return t._instance||(t._instance=new t(e)),t._instance}static shutdown(){if(t._instance){let e=t._instance.shutdown();return t._instance=void 0,e}}shutdown(){return this.customerSDKStatsMeterProvider.shutdown()}async initialize(){try{await super.getResourceProvider(),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemSuccessCallback.bind(this),[this.itemSuccessCountGauge]),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemDropCallback.bind(this),[this.itemDropCountGauge]),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemRetryCallback.bind(this),[this.itemRetryCountGauge]);}catch{T.debug("Call to get the resource provider failed for customer SDK Stats metrics.");}}itemSuccessCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,telemetry_type:Tt.UNKNOWN};for(let[n,a]of r.totalItemSuccessCount.entries())a>0&&(i.telemetry_type=n,e.observe(this.itemSuccessCountGauge,a,{...i}),r.totalItemSuccessCount.set(n,0));}itemDropCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,"drop.code":nr.UNKNOWN,telemetry_type:Tt.UNKNOWN};for(let[n,a]of r.totalItemDropCount.entries())for(let[o,s]of a.entries())for(let[c,l]of s.entries())for(let[u,d]of l.entries()){let p={...i};p.telemetry_type=n,p["drop.code"]=o,c&&(p["drop.reason"]=c),(n===Tt.REQUEST||n===Tt.DEPENDENCY)&&u!==null&&(p.telemetry_success=u),d>0&&e.observe(this.itemDropCountGauge,d,{...p}),l.set(u,0);}}itemRetryCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,"retry.code":os.UNKNOWN,telemetry_type:Tt.UNKNOWN};for(let[n,a]of r.totalItemRetryCount.entries())for(let[o,s]of a.entries())for(let[c,l]of s.entries()){let u={...i};u.telemetry_type=n,u["retry.code"]=o,c&&(u["retry.reason"]=c),l>0&&e.observe(this.itemRetryCountGauge,l,{...u}),s.set(c,0);}}countSuccessfulItems(e){let r=this.customerSDKStatsCounter,i;for(let n of e){i=this.getTelemetryTypeFromEnvelope(n);let a=r.totalItemSuccessCount.get(i)||0;r.totalItemSuccessCount.set(i,a+1);}}countDroppedItems(e,r,i,n){let a=this.customerSDKStatsCounter,o;for(let s of e){o=this.getTelemetryTypeFromEnvelope(s);let c=a.totalItemDropCount.get(o);c||(c=new Map,a.totalItemDropCount.set(o,c));let l=c.get(r);l||(l=new Map,c.set(r,l));let u=this.getDropReason(r,i,n),d=l.get(u);d||(d=new Map,l.set(u,d));let p=this.getTelemetrySuccessFromEnvelope(s),f=(o===Tt.REQUEST||o===Tt.DEPENDENCY)&&p!==void 0?p:null,g=d.get(f)||0;d.set(f,g+1);}}getDropReason(e,r,i){if(e===nr.CLIENT_EXCEPTION)return i||(r?this.categorizeExceptionMessage(r):sn.CLIENT_EXCEPTION);if(typeof e=="number")return this.categorizeStatusCode(e);switch(e){case nr.CLIENT_READONLY:return Ol.CLIENT_READONLY;case nr.CLIENT_PERSISTENCE_CAPACITY:return Ol.CLIENT_PERSISTENCE_CAPACITY;case nr.CLIENT_STORAGE_DISABLED:return Ol.CLIENT_STORAGE_DISABLED;case nr.UNKNOWN:default:return Ol.UNKNOWN}}categorizeExceptionMessage(e){let r=e.toLowerCase();return r.includes("timeout")||r.includes("timed out")?sn.TIMEOUT_EXCEPTION:r.includes("network")||r.includes("connection")||r.includes("dns")||r.includes("socket")?sn.NETWORK_EXCEPTION:r.includes("disk")||r.includes("storage")||r.includes("file")||r.includes("persist")?sn.STORAGE_EXCEPTION:sn.CLIENT_EXCEPTION}categorizeStatusCode(e){if(e>=400&&e<500)switch(e){case 400:return "Bad request";case 401:return "Unauthorized";case 403:return "Forbidden";case 404:return "Not found";case 408:return "Request timeout";case 413:return "Payload too large";case 429:return "Too many requests";default:return "Client error 4xx"}if(e>=500&&e<600)switch(e){case 500:return "Internal server error";case 502:return "Bad gateway";case 503:return "Service unavailable";case 504:return "Gateway timeout";default:return "Server error 5xx"}return `status_${e}`}countRetryItems(e,r,i,n){let a=this.customerSDKStatsCounter,o;for(let s of e){o=this.getTelemetryTypeFromEnvelope(s);let c=a.totalItemRetryCount.get(o);c||(c=new Map,a.totalItemRetryCount.set(o,c));let l=c.get(r);l||(l=new Map,c.set(r,l));let u=this.getRetryReason(r,i,n),d=l.get(u)||0;l.set(u,d+1);}}getRetryReason(e,r,i){if(e===os.CLIENT_EXCEPTION)return i||(r?this.categorizeExceptionMessage(r):sn.CLIENT_EXCEPTION);if(typeof e=="number")return this.categorizeStatusCode(e);switch(e){case os.CLIENT_TIMEOUT:return Xm.CLIENT_TIMEOUT;case os.UNKNOWN:default:return Xm.UNKNOWN}}isPerformanceCounterMetric(e){return Object.values(On).includes(e)}getTelemetryTypeFromEnvelope(e){if(e.data&&e.data.baseType)switch(e.data.baseType){case "MessageData":return Tt.TRACE;case "AvailabilityData":return Tt.AVAILABILITY;case "TelemetryEventData":return Tt.CUSTOM_EVENT;case "TelemetryExceptionData":return Tt.EXCEPTION;case "PageViewData":return Tt.PAGE_VIEW;case "RemoteDependencyData":return Tt.DEPENDENCY;case "RequestData":return Tt.REQUEST;case "MetricData":{let r=e.data.baseData;return r&&r.metrics&&r.metrics.length>0?r.metrics.some(n=>this.isPerformanceCounterMetric(n.name))?Tt.PERFORMANCE_COUNTER:Tt.CUSTOM_METRIC:Tt.CUSTOM_METRIC}default:return Tt.UNKNOWN}return Tt.UNKNOWN}getTelemetrySuccessFromEnvelope(e){if(!e.data||!e.data.baseData)return;let r=e.data.baseType;if(r==="RequestData")return e.data.baseData.success;if(r==="RemoteDependencyData")return e.data.baseData.success}isTimeoutError(e){let r=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNRESET","ENOTFOUND"];if(e&&e.code&&r.includes(e.code))return  true;if(e&&e.message){let i=["timeout","timed out","connection reset"],n=e.message.toLowerCase();return i.some(a=>n.includes(a))}return  false}};var aqe=6e4,uO=class{persister;numConsecutiveRedirects;retryTimer;networkStatsbeatMetrics;customerSDKStatsMetrics;longIntervalStatsbeatMetrics;statsbeatFailureCount=0;batchSendRetryIntervalMs=aqe;isStatsbeatSender;disableOfflineStorage;constructor(e){if(this.numConsecutiveRedirects=0,this.disableOfflineStorage=e.exporterOptions.disableOfflineStorage||false,e.trackStatsbeat&&(this.networkStatsbeatMetrics=sO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage}),this.longIntervalStatsbeatMetrics=aO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage}),process.env[Woe])){let r;if(process.env[vU]){let i=process.env[vU],n=parseInt(i,10);!isNaN(n)&&n>0?r=n*1e3:T.warn(`Invalid value for APPLICATIONINSIGHTS_SDKSTATS_EXPORT_INTERVAL environment variable: '${i}'. Expected a positive number (seconds). Using default export interval.`);}this.customerSDKStatsMetrics=lO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage,networkCollectionInterval:r});}this.persister=new GR(e.instrumentationKey,e.exporterOptions,this.customerSDKStatsMetrics),this.retryTimer=null,this.isStatsbeatSender=e.isStatsbeatSender||false;}async exportEnvelopes(e){if(T.info(`Exporting ${e.length} envelope(s)`),e.length<1)return {code:W.SUCCESS};try{let r=new Date().getTime(),{result:i,statusCode:n}=await this.send(e),o=new Date().getTime()-r;if(this.numConsecutiveRedirects=0,n===200)return this.retryTimer||(this.retryTimer=setTimeout(()=>{this.retryTimer=null,this.sendFirstPersistedFile();},this.batchSendRetryIntervalMs),this.retryTimer.unref()),this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countSuccess(o),this.customerSDKStatsMetrics?.countSuccessfulItems(e)),{code:W.SUCCESS};if(n&&cO(n)){if(n===429||n===439)return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countThrottle(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),{code:W.SUCCESS};if(i){T.info(i);let s=JSON.parse(i),c=[],l=[...e];if(s.itemsAccepted>0&&n===206&&!this.isStatsbeatSender&&this.networkStatsbeatMetrics?.countSuccess(o),s.errors&&s.errors.forEach(u=>{l[u.index]=void 0,u.statusCode&&cO(u.statusCode)&&c.push(e[u.index]);}),s.itemsAccepted>0&&(this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countSuccess(o),this.customerSDKStatsMetrics?.countSuccessfulItems(e))),c.length>0)return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countRetry(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),await this.persist(c);if(!this.isStatsbeatSender){this.networkStatsbeatMetrics?.countFailure(o,n);let u=l.filter(Boolean);this.customerSDKStatsMetrics?.countDroppedItems(u,n);}return {code:W.FAILED}}else return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countRetry(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),await this.persist(e)}else return this.networkStatsbeatMetrics&&!this.isStatsbeatSender?n&&(this.networkStatsbeatMetrics.countFailure(o,n),this.customerSDKStatsMetrics?.countDroppedItems(e,n)):(this.incrementStatsbeatFailure(),this.customerSDKStatsMetrics?.countDroppedItems(e,nr.CLIENT_EXCEPTION)),{code:W.FAILED}}catch(r){let i=r;if(i.statusCode&&(i.statusCode===307||i.statusCode===308))if(this.numConsecutiveRedirects++,this.numConsecutiveRedirects<10){if(i.response&&i.response.headers){let n=i.response.headers.get("location");if(n)return this.handlePermanentRedirect(n),this.exportEnvelopes(e)}}else {let n=new Error("Circular redirect");return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countException(n),this.customerSDKStatsMetrics?.countDroppedItems(e,nr.CLIENT_EXCEPTION,n.message,sn.CLIENT_EXCEPTION)),{code:W.FAILED,error:n}}else {if(i.statusCode&&cO(i.statusCode)&&!this.isStatsbeatSender)return this.networkStatsbeatMetrics?.countRetry(i.statusCode),this.customerSDKStatsMetrics?.countRetryItems(e,i.statusCode),this.persist(e);if(i.statusCode===400&&i.message.includes("Invalid instrumentation key"))return this.shutdownStatsbeat(),{code:W.SUCCESS};if(i.statusCode&&this.isStatsbeatSender&&_se(i.statusCode))return this.incrementStatsbeatFailure(),{code:W.SUCCESS}}return this.isRetriableRestError(i)&&!this.isStatsbeatSender?(this.customerSDKStatsMetrics?.isTimeoutError(i)&&!this.isStatsbeatSender?(this.customerSDKStatsMetrics?.countRetryItems(e,os.CLIENT_TIMEOUT,"timeout_exception",sn.TIMEOUT_EXCEPTION),T.error("Request timed out. Error message:",i.message)):i.statusCode&&(this.networkStatsbeatMetrics?.countRetry(i.statusCode),this.customerSDKStatsMetrics?.countRetryItems(e,i.statusCode)),T.error("Retrying due to transient client side error. Error message:",i.message),this.persist(e)):(this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countException(i),this.customerSDKStatsMetrics?.countDroppedItems(e,nr.CLIENT_EXCEPTION,i.message),T.error("Envelopes could not be exported and are not retriable. Error message:",i.message)),{code:W.FAILED,error:i})}}async persist(e){try{return await this.persister.push(e)?{code:W.SUCCESS}:{code:W.FAILED,error:new Error("Failed to persist envelope in disk.")}}catch(r){return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countWriteFailure(),this.disableOfflineStorage&&e&&this.customerSDKStatsMetrics?.countDroppedItems(e,nr.CLIENT_STORAGE_DISABLED)),{code:W.FAILED,error:r}}}incrementStatsbeatFailure(){this.statsbeatFailureCount++,this.statsbeatFailureCount>use&&this.shutdownStatsbeat();}shutdownStatsbeat(){this.networkStatsbeatMetrics&&this.networkStatsbeatMetrics.shutdown(),this.longIntervalStatsbeatMetrics&&this.longIntervalStatsbeatMetrics?.shutdown(),this.customerSDKStatsMetrics&&this.customerSDKStatsMetrics.shutdown(),this.statsbeatFailureCount=0;}async sendFirstPersistedFile(){let e=await this.persister.shift();try{e&&await this.send(e);}catch(r){this.isStatsbeatSender||this.networkStatsbeatMetrics?.countReadFailure(),T.warn("Failed to fetch persisted file",r);}}isRetriableRestError(e){let r=Object.values(QA);return !!(e&&e.code&&r.includes(e.code))}};P();var vae;(function(t){t.Measurement="Measurement",t.Aggregation="Aggregation";})(vae||(vae={}));var za;(function(t){t.Verbose="Verbose",t.Information="Information",t.Warning="Warning",t.Error="Error",t.Critical="Critical";})(za||(za={}));var Re;(function(t){t.AiApplicationVer="ai.application.ver",t.AiDeviceId="ai.device.id",t.AiDeviceLocale="ai.device.locale",t.AiDeviceModel="ai.device.model",t.AiDeviceOemName="ai.device.oemName",t.AiDeviceOsVersion="ai.device.osVersion",t.AiDeviceType="ai.device.type",t.AiLocationIp="ai.location.ip",t.AiLocationCountry="ai.location.country",t.AiLocationProvince="ai.location.province",t.AiLocationCity="ai.location.city",t.AiOperationId="ai.operation.id",t.AiOperationName="ai.operation.name",t.AiOperationParentId="ai.operation.parentId",t.AiOperationSyntheticSource="ai.operation.syntheticSource",t.AiOperationCorrelationVector="ai.operation.correlationVector",t.AiSessionId="ai.session.id",t.AiSessionIsFirst="ai.session.isFirst",t.AiUserAccountId="ai.user.accountId",t.AiUserId="ai.user.id",t.AiUserAuthUserId="ai.user.authUserId",t.AiCloudRole="ai.cloud.role",t.AiCloudRoleVer="ai.cloud.roleVer",t.AiCloudRoleInstance="ai.cloud.roleInstance",t.AiCloudLocation="ai.cloud.location",t.AiInternalSdkVersion="ai.internal.sdkVersion",t.AiInternalAgentVersion="ai.internal.agentVersion",t.AiInternalNodeName="ai.internal.nodeName";})(Re||(Re={}));function ik(t){return (t instanceof Buffer?t:Buffer.from(t.buffer)).toString("base64")}function ok(t){return Buffer.from(t,"base64")}function lqe(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}var uqe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Aae(t){return uqe.test(t)}var dqe=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function Rae(t){return dqe.test(t)}function pqe(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}function sk(t,e){var r,i;let n=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},n),{body:t.parsedBody});let a=e&&e.bodyMapper,o=!!a?.nullable,s=a?.type.name;if(s==="Stream")return Object.assign(Object.assign({},n),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let c=s==="Composite"&&a.type.modelProperties||{},l=Object.keys(c).some(u=>c[u].serializedName==="");if(s==="Sequence"||l){let u=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let d of Object.keys(c))c[d].serializedName&&(u[d]=(i=t.parsedBody)===null||i===void 0?void 0:i[d]);if(n)for(let d of Object.keys(n))u[d]=n[d];return o&&!t.parsedBody&&!n&&Object.getOwnPropertyNames(c).length===0?null:u}return pqe({body:t.parsedBody,headers:n,hasNullableType:o,shouldWrapBody:lqe(t.parsedBody,s)})}var ak=class{constructor(e={},r=false){this.modelMappers=e,this.isXML=r;}validateConstraints(e,r,i){let n=(a,o)=>{throw new Error(`"${i}" with value "${r}" should satisfy the constraint "${a}": ${o}.`)};if(e.constraints&&r!==void 0&&r!==null){let{ExclusiveMaximum:a,ExclusiveMinimum:o,InclusiveMaximum:s,InclusiveMinimum:c,MaxItems:l,MaxLength:u,MinItems:d,MinLength:p,MultipleOf:f,Pattern:g,UniqueItems:S}=e.constraints;if(a!==void 0&&r>=a&&n("ExclusiveMaximum",a),o!==void 0&&r<=o&&n("ExclusiveMinimum",o),s!==void 0&&r>s&&n("InclusiveMaximum",s),c!==void 0&&r<c&&n("InclusiveMinimum",c),l!==void 0&&r.length>l&&n("MaxItems",l),u!==void 0&&r.length>u&&n("MaxLength",u),d!==void 0&&r.length<d&&n("MinItems",d),p!==void 0&&r.length<p&&n("MinLength",p),f!==void 0&&r%f!==0&&n("MultipleOf",f),g){let v=typeof g=="string"?new RegExp(g):g;(typeof r!="string"||r.match(v)===null)&&n("Pattern",g);}S&&r.some((v,N,C)=>C.indexOf(v)!==N)&&n("UniqueItems",S);}}serialize(e,r,i,n={xml:{}}){var a,o,s;let c={xml:{rootName:(a=n.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(o=n.xml.includeRoot)!==null&&o!==void 0?o:false,xmlCharKey:(s=n.xml.xmlCharKey)!==null&&s!==void 0?s:"_"}},l={},u=e.type.name;i||(i=e.serializedName),u.match(/^Sequence$/i)!==null&&(l=[]),e.isConstant&&(r=e.defaultValue);let{required:d,nullable:p}=e;if(d&&p&&r===void 0)throw new Error(`${i} cannot be undefined.`);if(d&&!p&&r==null)throw new Error(`${i} cannot be null or undefined.`);if(!d&&p===false&&r===null)throw new Error(`${i} cannot be null.`);return r==null||u.match(/^any$/i)!==null?l=r:u.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)!==null?l=Eqe(u,i,r):u.match(/^Enum$/i)!==null?l=Sqe(i,e.type.allowedValues,r):u.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)!==null?l=vqe(u,r,i):u.match(/^ByteArray$/i)!==null?l=Tqe(i,r):u.match(/^Base64Url$/i)!==null?l=yqe(i,r):u.match(/^Sequence$/i)!==null?l=Aqe(this,e,r,i,!!this.isXML,c):u.match(/^Dictionary$/i)!==null?l=Rqe(this,e,r,i,!!this.isXML,c):u.match(/^Composite$/i)!==null&&(l=Nqe(this,e,r,i,!!this.isXML,c)),l}deserialize(e,r,i,n={xml:{}}){var a,o,s,c;let l={xml:{rootName:(a=n.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(o=n.xml.includeRoot)!==null&&o!==void 0?o:false,xmlCharKey:(s=n.xml.xmlCharKey)!==null&&s!==void 0?s:"_"},ignoreUnknownProperties:(c=n.ignoreUnknownProperties)!==null&&c!==void 0?c:false};if(r==null)return this.isXML&&e.type.name==="Sequence"&&!e.xmlIsWrapped&&(r=[]),e.defaultValue!==void 0&&(r=e.defaultValue),r;let u,d=e.type.name;if(i||(i=e.serializedName),d.match(/^Composite$/i)!==null)u=Pqe(this,e,r,i,l);else {if(this.isXML){let p=l.xml.xmlCharKey;r["$"]!==void 0&&r[p]!==void 0&&(r=r[p]);}d.match(/^Number$/i)!==null?(u=parseFloat(r),isNaN(u)&&(u=r)):d.match(/^Boolean$/i)!==null?r==="true"?u=true:r==="false"?u=false:u=r:d.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)!==null?u=r:d.match(/^(Date|DateTime|DateTimeRfc1123)$/i)!==null?u=new Date(r):d.match(/^UnixTime$/i)!==null?u=gqe(r):d.match(/^ByteArray$/i)!==null?u=ok(r):d.match(/^Base64Url$/i)!==null?u=mqe(r):d.match(/^Sequence$/i)!==null?u=xqe(this,e,r,i,l):d.match(/^Dictionary$/i)!==null&&(u=Cqe(this,e,r,i,l));}return e.isConstant&&(u=e.defaultValue),u}};function s_(t={},e=false){return new ak(t,e)}function fqe(t,e){let r=t.length;for(;r-1>=0&&t[r-1]===e;)--r;return t.substr(0,r)}function hqe(t){if(!t)return;if(!(t instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");let e=ik(t);return fqe(e,"=").replace(/\+/g,"-").replace(/\//g,"_")}function mqe(t){if(t){if(t&&typeof t.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return t=t.replace(/-/g,"+").replace(/_/g,"/"),ok(t)}}function ck(t){let e=[],r="";if(t){let i=t.split(".");for(let n of i)n.charAt(n.length-1)==="\\"?r+=n.substr(0,n.length-1)+".":(r+=n,e.push(r),r="");}return e}function _qe(t){if(t)return typeof t.valueOf()=="string"&&(t=new Date(t)),Math.floor(t.getTime()/1e3)}function gqe(t){if(t)return new Date(t*1e3)}function Eqe(t,e,r){if(r!=null){if(t.match(/^Number$/i)!==null){if(typeof r!="number")throw new Error(`${e} with value ${r} must be of type number.`)}else if(t.match(/^String$/i)!==null){if(typeof r.valueOf()!="string")throw new Error(`${e} with value "${r}" must be of type string.`)}else if(t.match(/^Uuid$/i)!==null){if(!(typeof r.valueOf()=="string"&&Rae(r)))throw new Error(`${e} with value "${r}" must be of type string and a valid uuid.`)}else if(t.match(/^Boolean$/i)!==null){if(typeof r!="boolean")throw new Error(`${e} with value ${r} must be of type boolean.`)}else if(t.match(/^Stream$/i)!==null){let i=typeof r;if(i!=="string"&&typeof r.pipe!="function"&&typeof r.tee!="function"&&!(r instanceof ArrayBuffer)&&!ArrayBuffer.isView(r)&&!((typeof Blob=="function"||typeof Blob=="object")&&r instanceof Blob)&&i!=="function")throw new Error(`${e} must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.`)}}return r}function Sqe(t,e,r){if(!e)throw new Error(`Please provide a set of allowedValues to validate ${t} as an Enum Type.`);if(!e.some(n=>typeof n.valueOf()=="string"?n.toLowerCase()===r.toLowerCase():n===r))throw new Error(`${r} is not a valid value for ${t}. The valid values are: ${JSON.stringify(e)}.`);return r}function Tqe(t,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);e=ik(e);}return e}function yqe(t,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);e=hqe(e);}return e}function vqe(t,e,r){if(e!=null){if(t.match(/^Date$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString().substring(0,10):new Date(e).toISOString().substring(0,10);}else if(t.match(/^DateTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString():new Date(e).toISOString();}else if(t.match(/^DateTimeRfc1123$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123 format.`);e=e instanceof Date?e.toUTCString():new Date(e).toUTCString();}else if(t.match(/^UnixTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);e=_qe(e);}else if(t.match(/^TimeSpan$/i)!==null&&!Aae(e))throw new Error(`${r} must be a string in ISO 8601 format. Instead was "${e}".`)}return e}function Aqe(t,e,r,i,n,a){var o;if(!Array.isArray(r))throw new Error(`${i} must be of type Array.`);let s=e.type.element;if(!s||typeof s!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${i}.`);s.type.name==="Composite"&&s.type.className&&(s=(o=t.modelMappers[s.type.className])!==null&&o!==void 0?o:s);let c=[];for(let l=0;l<r.length;l++){let u=t.serialize(s,r[l],i,a);if(n&&s.xmlNamespace){let d=s.xmlNamespacePrefix?`xmlns:${s.xmlNamespacePrefix}`:"xmlns";s.type.name==="Composite"?(c[l]=Object.assign({},u),c[l]["$"]={[d]:s.xmlNamespace}):(c[l]={},c[l][a.xml.xmlCharKey]=u,c[l]["$"]={[d]:s.xmlNamespace});}else c[l]=u;}return c}function Rqe(t,e,r,i,n,a){if(typeof r!="object")throw new Error(`${i} must be of type object.`);let o=e.type.value;if(!o||typeof o!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${i}.`);let s={};for(let c of Object.keys(r)){let l=t.serialize(o,r[c],i,a);s[c]=Pae(o,l,n,a);}if(n&&e.xmlNamespace){let c=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns",l=s;return l["$"]={[c]:e.xmlNamespace},l}return s}function Oqe(t,e,r){let i=e.type.additionalProperties;if(!i&&e.type.className){let n=Nae(t,e,r);return n?.type.additionalProperties}return i}function Nae(t,e,r){let i=e.type.className;if(!i)throw new Error(`Class name for model "${r}" is not provided in the mapper "${JSON.stringify(e,void 0,2)}".`);return t.modelMappers[i]}function bae(t,e,r){let i=e.type.modelProperties;if(!i){let n=Nae(t,e,r);if(!n)throw new Error(`mapper() cannot be null or undefined for model "${e.type.className}".`);if(i=n?.type.modelProperties,!i)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(n)}" of type "${e.type.className}" for object "${r}".`)}return i}function Nqe(t,e,r,i,n,a){if(dO(t,e)&&(e=Cae(t,e,r,"clientName")),r!=null){let o={},s=bae(t,e,i);for(let l of Object.keys(s)){let u=s[l];if(u.readOnly)continue;let d,p=o;if(t.isXML)u.xmlIsWrapped?d=u.xmlName:d=u.xmlElementName||u.xmlName;else {let f=ck(u.serializedName);d=f.pop();for(let g of f){let S=p[g];S==null&&(r[l]!==void 0&&r[l]!==null||u.defaultValue!==void 0)&&(p[g]={}),p=p[g];}}if(p!=null){if(n&&e.xmlNamespace){let N=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns";p["$"]=Object.assign(Object.assign({},p["$"]),{[N]:e.xmlNamespace});}let f=u.serializedName!==""?i+"."+u.serializedName:i,g=r[l],S=dO(t,e);S&&S.clientName===l&&g==null&&(g=e.serializedName);let v=t.serialize(u,g,f,a);if(v!==void 0&&d!==void 0&&d!==null){let N=Pae(u,v,n,a);n&&u.xmlIsAttribute?(p["$"]=p["$"]||{},p["$"][d]=v):n&&u.xmlIsWrapped?p[d]={[u.xmlElementName]:N}:p[d]=N;}}}let c=Oqe(t,e,i);if(c){let l=Object.keys(s);for(let u in r)l.every(p=>p!==u)&&(o[u]=t.serialize(c,r[u],i+'["'+u+'"]',a));}return o}return r}function Pae(t,e,r,i){if(!r||!t.xmlNamespace)return e;let a={[t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns"]:t.xmlNamespace};if(["Composite"].includes(t.type.name)){if(e["$"])return e;{let s=Object.assign({},e);return s["$"]=a,s}}let o={};return o[i.xml.xmlCharKey]=e,o["$"]=a,o}function bqe(t,e){return ["$",e.xml.xmlCharKey].includes(t)}function Pqe(t,e,r,i,n){var a,o;let s=(a=n.xml.xmlCharKey)!==null&&a!==void 0?a:"_";dO(t,e)&&(e=Cae(t,e,r,"serializedName"));let c=bae(t,e,i),l={},u=[];for(let p of Object.keys(c)){let f=c[p],g=ck(c[p].serializedName);u.push(g[0]);let{serializedName:S,xmlName:v,xmlElementName:N}=f,C=i;S!==""&&S!==void 0&&(C=i+"."+S);let M=f.headerCollectionPrefix;if(M){let A={};for(let k of Object.keys(r))k.startsWith(M)&&(A[k.substring(M.length)]=t.deserialize(f.type.value,r[k],C,n)),u.push(k);l[p]=A;}else if(t.isXML)if(f.xmlIsAttribute&&r["$"])l[p]=t.deserialize(f,r["$"][v],C,n);else if(f.xmlIsMsText)r[s]!==void 0?l[p]=r[s]:typeof r=="string"&&(l[p]=r);else {let A=N||v||S;if(f.xmlIsWrapped){let k=r[v],j=(o=k?.[N])!==null&&o!==void 0?o:[];l[p]=t.deserialize(f,j,C,n),u.push(v);}else {let k=r[A];l[p]=t.deserialize(f,k,C,n),u.push(A);}}else {let A,k=r,j=0;for(let Z of g){if(!k)break;j++,k=k[Z];}k===null&&j<g.length&&(k=void 0),A=k;let G=e.type.polymorphicDiscriminator;G&&p===G.clientName&&A==null&&(A=e.serializedName);let te;if(Array.isArray(r[p])&&c[p].serializedName===""){A=r[p];let Z=t.deserialize(f,A,C,n);for(let[ie,b]of Object.entries(l))Object.prototype.hasOwnProperty.call(Z,ie)||(Z[ie]=b);l=Z;}else (A!==void 0||f.defaultValue!==void 0)&&(te=t.deserialize(f,A,C,n),l[p]=te);}}let d=e.type.additionalProperties;if(d){let p=f=>{for(let g in c)if(ck(c[g].serializedName)[0]===f)return  false;return  true};for(let f in r)p(f)&&(l[f]=t.deserialize(d,r[f],i+'["'+f+'"]',n));}else if(r&&!n.ignoreUnknownProperties)for(let p of Object.keys(r))l[p]===void 0&&!u.includes(p)&&!bqe(p,n)&&(l[p]=r[p]);return l}function Cqe(t,e,r,i,n){let a=e.type.value;if(!a||typeof a!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${i}`);if(r){let o={};for(let s of Object.keys(r))o[s]=t.deserialize(a,r[s],i,n);return o}return r}function xqe(t,e,r,i,n){var a;let o=e.type.element;if(!o||typeof o!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${i}`);if(r){Array.isArray(r)||(r=[r]),o.type.name==="Composite"&&o.type.className&&(o=(a=t.modelMappers[o.type.className])!==null&&a!==void 0?a:o);let s=[];for(let c=0;c<r.length;c++)s[c]=t.deserialize(o,r[c],`${i}[${c}]`,n);return s}return r}function Iqe(t,e,r){let i=[r];for(;i.length;){let n=i.shift(),a=e===n?e:n+"."+e;if(Object.prototype.hasOwnProperty.call(t,a))return t[a];for(let[o,s]of Object.entries(t))o.startsWith(n+".")&&s.type.uberParent===n&&s.type.className&&i.push(s.type.className);}}function Cae(t,e,r,i){var n;let a=dO(t,e);if(a){let o=a[i];if(o){i==="serializedName"&&(o=o.replace(/\\/gi,""));let s=r[o],c=(n=e.type.uberParent)!==null&&n!==void 0?n:e.type.className;if(typeof s=="string"&&c){let l=Iqe(t.modelMappers.discriminators,s,c);l&&(e=l);}}}return e}function dO(t,e){return e.type.polymorphicDiscriminator||Oae(t,e.type.uberParent)||Oae(t,e.type.className)}function Oae(t,e){return e&&t.modelMappers[e]&&t.modelMappers[e].type.polymorphicDiscriminator}var Eo={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};var So=class extends Error{constructor(e){super(e),this.name="AbortError";}};function pO(t){return t.toLowerCase()}function*Mqe(t){for(let e of t.values())yield [e.name,e.value];}var lk=class{_headersMap;constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r]);}set(e,r){this._headersMap.set(pO(e),{name:e,value:String(r).trim()});}get(e){return this._headersMap.get(pO(e))?.value}has(e){return this._headersMap.has(pO(e))}delete(e){this._headersMap.delete(pO(e));}toJSON(e={}){let r={};if(e.preserveCase)for(let i of this._headersMap.values())r[i.name]=i.value;else for(let[i,n]of this._headersMap)r[i]=n.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:true}))}[Symbol.iterator](){return Mqe(this._headersMap)}};function Xn(t){return new lk(t)}function cp(){return crypto.randomUUID()}var uk=class{url;method;headers;timeout;withCredentials;body;multipartBody;formData;streamResponseStatusCodes;enableBrowserStreams;proxySettings;disableKeepAlive;abortSignal;requestId;allowInsecureConnection;onUploadProgress;onDownloadProgress;requestOverrides;authSchemes;constructor(e){this.url=e.url,this.body=e.body,this.headers=e.headers??Xn(),this.method=e.method??"GET",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??false,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??false,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||cp(),this.allowInsecureConnection=e.allowInsecureConnection??false,this.enableBrowserStreams=e.enableBrowserStreams??false,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes;}};function fO(t){return new uk(t)}var xae=new Set(["Deserialize","Serialize","Retry","Sign"]),dk=class t{_policies=[];_orderedPolicies;constructor(e){this._policies=e?.slice(0)??[],this._orderedPolicies=void 0;}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!xae.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!xae.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0;}removePolicy(e){let r=[];return this._policies=this._policies.filter(i=>e.name&&i.policy.name===e.name||e.phase&&i.options.phase===e.phase?(r.push(i.policy),false):true),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((a,o)=>s=>o.sendRequest(s,a),a=>e.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function i(g){return {name:g,policies:new Set,hasRun:false,hasAfterPolicies:false}}let n=i("Serialize"),a=i("None"),o=i("Deserialize"),s=i("Retry"),c=i("Sign"),l=[n,a,o,s,c];function u(g){return g==="Retry"?s:g==="Serialize"?n:g==="Deserialize"?o:g==="Sign"?c:a}for(let g of this._policies){let S=g.policy,v=g.options,N=S.name;if(r.has(N))throw new Error("Duplicate policy names not allowed in pipeline");let C={policy:S,dependsOn:new Set,dependants:new Set};v.afterPhase&&(C.afterPhase=u(v.afterPhase),C.afterPhase.hasAfterPolicies=true),r.set(N,C),u(v.phase).policies.add(C);}for(let g of this._policies){let{policy:S,options:v}=g,N=S.name,C=r.get(N);if(!C)throw new Error(`Missing node for policy ${N}`);if(v.afterPolicies)for(let M of v.afterPolicies){let A=r.get(M);A&&(C.dependsOn.add(A),A.dependants.add(C));}if(v.beforePolicies)for(let M of v.beforePolicies){let A=r.get(M);A&&(A.dependsOn.add(C),C.dependants.add(A));}}function d(g){g.hasRun=true;for(let S of g.policies)if(!(S.afterPhase&&(!S.afterPhase.hasRun||S.afterPhase.policies.size))&&S.dependsOn.size===0){e.push(S.policy);for(let v of S.dependants)v.dependsOn.delete(S);r.delete(S.policy.name),g.policies.delete(S);}}function p(){for(let g of l){if(d(g),g.policies.size>0&&g!==a){a.hasRun||d(a);return}g.hasAfterPolicies&&d(a);}}let f=0;for(;r.size>0;){f++;let g=e.length;if(p(),e.length<=g&&f>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function hO(){return dk.create()}function lp(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}function Nl(t){if(lp(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return  false}var Iae=N8.inspect.custom;var pk="REDACTED",Lqe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Dqe=["api-version"],Oi=class{allowedHeaderNames;allowedQueryParameters;constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=Lqe.concat(e),r=Dqe.concat(r),this.allowedHeaderNames=new Set(e.map(i=>i.toLowerCase())),this.allowedQueryParameters=new Set(r.map(i=>i.toLowerCase()));}sanitize(e){let r=new Set;return JSON.stringify(e,(i,n)=>{if(n instanceof Error)return {...n,name:n.name,message:n.message};if(i==="headers")return this.sanitizeHeaders(n);if(i==="url")return this.sanitizeUrl(n);if(i==="query")return this.sanitizeQuery(n);if(i==="body")return;if(i==="response")return;if(i==="operationSpec")return;if(Array.isArray(n)||lp(n)){if(r.has(n))return "[Circular]";r.add(n);}return n},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[i]of r.searchParams)this.allowedQueryParameters.has(i.toLowerCase())||r.searchParams.set(i,pk);return r.toString()}sanitizeHeaders(e){let r={};for(let i of Object.keys(e))this.allowedHeaderNames.has(i.toLowerCase())?r[i]=e[i]:r[i]=pk;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let i of Object.keys(e))this.allowedQueryParameters.has(i.toLowerCase())?r[i]=e[i]:r[i]=pk;return r}};var Uqe=new Oi,Dr=class t extends Error{static REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";static PARSE_ERROR="PARSE_ERROR";code;statusCode;request;response;details;constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:false}),Object.defineProperty(this,"response",{value:r.response,enumerable:false});let i=this.request?.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,Iae,{value:()=>`RestError: ${this.message} 
 ${Uqe.sanitize({...this,request:{...this.request,agent:i},response:this.response})}`,enumerable:false}),Object.setPrototypeOf(this,t.prototype);}};function mO(t){return t instanceof Dr?true:Nl(t)&&t.name==="RestError"}function cn(t,e){return Buffer.from(t,e)}var Jn=Lm("ts-http-runtime");var $qe={};function a_(t){return t&&typeof t.pipe=="function"}function wae(t){return t.readable===false?Promise.resolve():new Promise(e=>{let r=()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r);};t.on("close",r),t.on("end",r),t.on("error",r);})}function Lae(t){return t&&typeof t.byteLength=="number"}var _O=class extends stream.Transform{loadedBytes=0;progressCallback;_transform(e,r,i){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),i();}catch(n){i(n);}}constructor(e){super(),this.progressCallback=e;}},mk=class{cachedHttpAgent;cachedHttpsAgents=new WeakMap;async sendRequest(e){let r=new AbortController,i;if(e.abortSignal){if(e.abortSignal.aborted)throw new So("The operation was aborted. Request has already been canceled.");i=l=>{l.type==="abort"&&r.abort();},e.abortSignal.addEventListener("abort",i);}let n;e.timeout>0&&(n=setTimeout(()=>{let l=new Oi;Jn.info(`request to '${l.sanitizeUrl(e.url)}' timed out. canceling...`),r.abort();},e.timeout));let a=e.headers.get("Accept-Encoding"),o=a?.includes("gzip")||a?.includes("deflate"),s=typeof e.body=="function"?e.body():e.body;if(s&&!e.headers.has("Content-Length")){let l=Fqe(s);l!==null&&e.headers.set("Content-Length",l);}let c;try{if(s&&e.onUploadProgress){let g=e.onUploadProgress,S=new _O(g);S.on("error",v=>{Jn.error("Error in upload progress",v);}),a_(s)?s.pipe(S):S.end(s),s=S;}let l=await this.makeRequest(e,r,s);n!==void 0&&clearTimeout(n);let u=Vqe(l),p={status:l.statusCode??0,headers:u,request:e};if(e.method==="HEAD")return l.resume(),p;c=o?Bqe(l,u):l;let f=e.onDownloadProgress;if(f){let g=new _O(f);g.on("error",S=>{Jn.error("Error in download progress",S);}),c.pipe(g),c=g;}return e.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY)||e.streamResponseStatusCodes?.has(p.status)?p.readableStreamBody=c:p.bodyAsText=await zqe(c),p}finally{if(e.abortSignal&&i){let l=Promise.resolve();a_(s)&&(l=wae(s));let u=Promise.resolve();a_(c)&&(u=wae(c)),Promise.all([l,u]).then(()=>{i&&e.abortSignal?.removeEventListener("abort",i);}).catch(d=>{Jn.warning("Error when cleaning up abortListener on httpRequest",d);});}}}makeRequest(e,r,i){let n=new URL(e.url),a=n.protocol!=="https:";if(a&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let s={agent:e.agent??this.getOrCreateAgent(e,a),hostname:n.hostname,path:`${n.pathname}${n.search}`,port:n.port,method:e.method,headers:e.headers.toJSON({preserveCase:true}),...e.requestOverrides};return new Promise((c,l)=>{let u=a?tp__namespace.default.request(s,c):rp__namespace.default.request(s,c);u.once("error",d=>{l(new Dr(d.message,{code:d.code??Dr.REQUEST_SEND_ERROR,request:e}));}),r.signal.addEventListener("abort",()=>{let d=new So("The operation was aborted. Rejecting from abort signal callback while making request.");u.destroy(d),l(d);}),i&&a_(i)?i.pipe(u):i?typeof i=="string"||Buffer.isBuffer(i)?u.end(i):Lae(i)?u.end(ArrayBuffer.isView(i)?Buffer.from(i.buffer):Buffer.from(i)):(Jn.error("Unrecognized body type",i),l(new Dr("Unrecognized body type"))):u.end();})}getOrCreateAgent(e,r){let i=e.disableKeepAlive;if(r)return i?tp__namespace.default.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new tp__namespace.default.Agent({keepAlive:true})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return rp__namespace.default.globalAgent;let n=e.tlsSettings??$qe,a=this.cachedHttpsAgents.get(n);return a&&a.options.keepAlive===!i||(Jn.info("No cached TLS Agent exist, creating a new Agent"),a=new rp__namespace.default.Agent({keepAlive:!i,...n}),this.cachedHttpsAgents.set(n,a)),a}}};function Vqe(t){let e=Xn();for(let r of Object.keys(t.headers)){let i=t.headers[r];Array.isArray(i)?i.length>0&&e.set(r,i[0]):i&&e.set(r,i);}return e}function Bqe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let i=Po__namespace.default.createGunzip();return t.pipe(i),i}else if(r==="deflate"){let i=Po__namespace.default.createInflate();return t.pipe(i),i}return t}function zqe(t){return new Promise((e,r)=>{let i=[];t.on("data",n=>{Buffer.isBuffer(n)?i.push(n):i.push(Buffer.from(n));}),t.on("end",()=>{e(Buffer.concat(i).toString("utf8"));}),t.on("error",n=>{n&&n?.name==="AbortError"?r(n):r(new Dr(`Error reading response as text: ${n.message}`,{code:Dr.PARSE_ERROR}));});})}function Fqe(t){return t?Buffer.isBuffer(t)?t.length:a_(t)?null:Lae(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}function Dae(){return new mk}function gO(){return Dae()}var _k="logPolicy";function EO(t={}){let e=t.logger??Jn.info,r=new Oi({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return {name:_k,async sendRequest(i,n){if(!e.enabled)return n(i);e(`Request: ${r.sanitize(i)}`);let a=await n(i);return e(`Response status code: ${a.status}`),e(`Headers: ${r.sanitize(a.headers)}`),a}}}var gk="redirectPolicy",Uae=["GET","HEAD"];function SO(t={}){let{maxRetries:e=20}=t;return {name:gk,async sendRequest(r,i){let n=await i(r);return kae(i,n,e)}}}async function kae(t,e,r,i=0){let{request:n,status:a,headers:o}=e,s=o.get("location");if(s&&(a===300||a===301&&Uae.includes(n.method)||a===302&&Uae.includes(n.method)||a===303&&n.method==="POST"||a===307)&&i<r){let c=new URL(s,n.url);n.url=c.toString(),a===303&&(n.method="GET",n.headers.delete("Content-Length"),delete n.body),n.headers.delete("Authorization");let l=await t(n);return kae(t,l,r,i+1)}return e}var Ek="decompressResponsePolicy";function TO(){return {name:Ek,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}function c_(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function yO(t,e){let r=e.retryDelayInMs*Math.pow(2,t),i=Math.min(e.maxRetryDelayInMs,r);return {retryAfterInMs:i/2+c_(0,i/2)}}var Hqe="The operation was aborted.";function Bae(t,e,r){return new Promise((i,n)=>{let a,o,s=()=>n(new So(r?.abortErrorMsg?r?.abortErrorMsg:Hqe)),c=()=>{r?.abortSignal&&o&&r.abortSignal.removeEventListener("abort",o);};if(o=()=>(a&&clearTimeout(a),c(),s()),r?.abortSignal&&r.abortSignal.aborted)return s();a=setTimeout(()=>{c(),i(e);},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",o);})}function zae(t,e){let r=t.headers.get(e);if(!r)return;let i=Number(r);if(!Number.isNaN(i))return i}var Sk="Retry-After",Gqe=["retry-after-ms","x-ms-retry-after-ms",Sk];function Fae(t){if(t&&[429,503].includes(t.status))try{for(let n of Gqe){let a=zae(t,n);if(a===0||a)return a*(n===Sk?1e3:1)}let e=t.headers.get(Sk);if(!e)return;let i=Date.parse(e)-Date.now();return Number.isFinite(i)?Math.max(0,i):void 0}catch{return}}function Hae(t){return Number.isFinite(Fae(t))}function Tk(){return {name:"throttlingRetryStrategy",retry({response:t}){let e=Fae(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:true}}}}var jqe=1e3,qqe=1e3*64;function vO(t={}){let e=t.retryDelayInMs??jqe,r=t.maxRetryDelayInMs??qqe;return {name:"exponentialRetryStrategy",retry({retryCount:i,response:n,responseError:a}){let o=Wqe(a),s=o&&t.ignoreSystemErrors,c=Yqe(n),l=c&&t.ignoreHttpStatusCodes;return n&&(Hae(n)||!c)||l||s?{skipStrategy:true}:a&&!o&&!c?{errorToThrow:a}:yO(i,{retryDelayInMs:e,maxRetryDelayInMs:r})}}}function Yqe(t){return !!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}function Wqe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":false}var Kqe=Lm("ts-http-runtime retryPolicy"),Zqe="retryPolicy";function Pl(t,e={maxRetries:3}){let r=e.logger||Kqe;return {name:Zqe,async sendRequest(i,n){let a,o,s=-1;e:for(;;){s+=1,a=void 0,o=void 0;try{r.info(`Retry ${s}: Attempting to send request`,i.requestId),a=await n(i),r.info(`Retry ${s}: Received a response from request`,i.requestId);}catch(c){if(r.error(`Retry ${s}: Received an error from request`,i.requestId),o=c,!c||o.name!=="RestError")throw c;a=o.response;}if(i.abortSignal?.aborted)throw r.error(`Retry ${s}: Request aborted.`),new So;if(s>=(e.maxRetries??3)){if(r.info(`Retry ${s}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),o)throw o;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${s}: Processing ${t.length} retry strategies.`);t:for(let c of t){let l=c.logger||r;l.info(`Retry ${s}: Processing retry strategy ${c.name}.`);let u=c.retry({retryCount:s,response:a,responseError:o});if(u.skipStrategy){l.info(`Retry ${s}: Skipped.`);continue t}let{errorToThrow:d,retryAfterInMs:p,redirectTo:f}=u;if(d)throw l.error(`Retry ${s}: Retry strategy ${c.name} throws error:`,d),d;if(p||p===0){l.info(`Retry ${s}: Retry strategy ${c.name} retries after ${p}`),await Bae(p,void 0,{abortSignal:i.abortSignal});continue e}if(f){l.info(`Retry ${s}: Retry strategy ${c.name} redirects to ${f}`),i.url=f;continue e}}if(o)throw r.info("None of the retry strategies could work with the received error. Throwing it."),o;if(a)return r.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var yk="defaultRetryPolicy";function AO(t={}){return {name:yk,sendRequest:Pl([Tk(),vO(t)],{maxRetries:t.maxRetries??3}).sendRequest}}typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";typeof Bun<"u"&&typeof Bun.version<"u";var Cl=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!globalThis.process.versions?.node;var vk="formDataPolicy";function Xqe(t){let e={};for(let[r,i]of t.entries())e[r]??=[],e[r].push(i);return e}function RO(){return {name:vk,async sendRequest(t,e){if(Cl&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=Xqe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=Jqe(t.formData):await Qqe(t.formData,t),t.formData=void 0;}return e(t)}}}function Jqe(t){let e=new URLSearchParams;for(let[r,i]of Object.entries(t))if(Array.isArray(i))for(let n of i)e.append(r,n.toString());else e.append(r,i.toString());return e.toString()}async function Qqe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let i=[];for(let[n,a]of Object.entries(t))for(let o of Array.isArray(a)?a:[a])if(typeof o=="string")i.push({headers:Xn({"Content-Disposition":`form-data; name="${n}"`}),body:cn(o,"utf-8")});else {if(o==null||typeof o!="object")throw new Error(`Unexpected value for key ${n}: ${o}. Value should be serialized to string first.`);{let s=o.name||"blob",c=Xn();c.set("Content-Disposition",`form-data; name="${n}"; filename="${s}"`),c.set("Content-Type",o.type||"application/octet-stream"),i.push({headers:c,body:o});}}e.multipartBody={parts:i};}var Jae=He(WU(),1),Qae=He(KU(),1);var e4e="HTTPS_PROXY",t4e="HTTP_PROXY",r4e="ALL_PROXY",n4e="NO_PROXY",Ak="proxyPolicy",Kae=[],ece=false,i4e=new Map;function OO(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}function o4e(){if(!process)return;let t=OO(e4e),e=OO(r4e),r=OO(t4e);return t||e||r}function s4e(t,e,r){if(e.length===0)return  false;let i=new URL(t).hostname;if(r?.has(i))return r.get(i);let n=false;for(let a of e)a[0]==="."?(i.endsWith(a)||i.length===a.length-1&&i===a.slice(1))&&(n=true):i===a&&(n=true);return r?.set(i,n),n}function a4e(){let t=OO(n4e);return ece=true,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}function c4e(){let t=o4e();return t?new URL(t):void 0}function Zae(t){let e;try{e=new URL(t.host);}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}function Xae(t,e,r){if(t.agent)return;let n=new URL(t.url).protocol!=="https:";t.tlsSettings&&Jn.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=t.headers.toJSON();n?(e.httpProxyAgent||(e.httpProxyAgent=new Qae.HttpProxyAgent(r,{headers:a})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new Jae.HttpsProxyAgent(r,{headers:a})),t.agent=e.httpsProxyAgent);}function NO(t,e){ece||Kae.push(...a4e());let r=t?Zae(t):c4e(),i={};return {name:Ak,async sendRequest(n,a){return !n.proxySettings&&r&&!s4e(n.url,Kae,i4e)?Xae(n,i,r):n.proxySettings&&Xae(n,i,Zae(n.proxySettings)),a(n)}}}var Rk="agentPolicy";function bO(t){return {name:Rk,sendRequest:async(e,r)=>(e.agent||(e.agent=t),r(e))}}var Ok="tlsPolicy";function PO(t){return {name:Ok,sendRequest:async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e))}}function CO(t){return typeof t.stream=="function"}async function*tce(){let t=this.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)return;yield r;}}finally{t.releaseLock();}}function l4e(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=tce.bind(t)),t.values||(t.values=tce.bind(t));}function rce(t){return t instanceof ReadableStream?(l4e(t),stream.Readable.fromWeb(t)):t}function u4e(t){return t instanceof Uint8Array?stream.Readable.from(Buffer.from(t)):CO(t)?rce(t.stream()):rce(t)}async function nce(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(u4e);return stream.Readable.from((async function*(){for(let r of e)for await(let i of r)yield i;})())}}function d4e(){return `----AzSDKFormBoundary${cp()}`}function p4e(t){let e="";for(let[r,i]of t)e+=`${r}: ${i}\r
`;return e}function f4e(t){return t instanceof Uint8Array?t.byteLength:CO(t)?t.size===-1?void 0:t.size:void 0}function h4e(t){let e=0;for(let r of t){let i=f4e(r);if(i===void 0)return;e+=i;}return e}async function m4e(t,e,r){let i=[cn(`--${r}`,"utf-8"),...e.flatMap(a=>[cn(`\r
`,"utf-8"),cn(p4e(a.headers),"utf-8"),cn(`\r
`,"utf-8"),a.body,cn(`\r
--${r}`,"utf-8")]),cn(`--\r
\r
`,"utf-8")],n=h4e(i);n&&t.headers.set("Content-Length",n),t.body=await nce(i);}var l_="multipartPolicy",_4e=70,g4e=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function E4e(t){if(t.length>_4e)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!g4e.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}function xO(){return {name:l_,async sendRequest(t,e){if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let r=t.multipartBody.boundary,i=t.headers.get("Content-Type")??"multipart/mixed",n=i.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!n)throw new Error(`Got multipart request body, but content-type header was not multipart: ${i}`);let[,a,o]=n;if(o&&r&&o!==r)throw new Error(`Multipart boundary was specified as ${o} in the header, but got ${r} in the request body`);return r??=o,r?E4e(r):r=d4e(),t.headers.set("Content-Type",`${a}; boundary=${r}`),await m4e(t,t.multipartBody.parts,r),t.multipartBody=void 0,e(t)}}}function Ck(){return hO()}var To=nn("core-rest-pipeline");function xk(t={}){return EO({logger:To.info,...t})}function Ik(t={}){return SO(t)}function ice(){return "User-Agent"}async function oce(t){if(us__namespace.default&&us__namespace.default.versions){let e=`${mp__namespace.default.type()} ${mp__namespace.default.release()}; ${mp__namespace.default.arch()}`,r=us__namespace.default.versions;r.bun?t.set("Bun",`${r.bun} (${e})`):r.deno?t.set("Deno",`${r.deno} (${e})`):r.node&&t.set("Node",`${r.node} (${e})`);}}var IO="1.22.2";function b4e(t){let e=[];for(let[r,i]of t){let n=i?`${r}/${i}`:r;e.push(n);}return e.join(" ")}function sce(){return ice()}async function MO(t){let e=new Map;e.set("core-rest-pipeline",IO),await oce(e);let r=b4e(e);return t?`${t} ${r}`:r}var ace=sce(),cce="userAgentPolicy";function Lk(t={}){let e=MO(t.userAgentPrefix);return {name:cce,async sendRequest(r,i){return r.headers.has(ace)||r.headers.set(ace,await e),i(r)}}}function Dk(t,e){let{cleanupBeforeAbort:r,abortSignal:i,abortErrorMsg:n}=e??{};return new Promise((a,o)=>{function s(){o(new sp(n??"The operation was aborted."));}function c(){i?.removeEventListener("abort",l);}function l(){r?.(),c(),s();}if(i?.aborted)return s();try{t(u=>{c(),a(u);},u=>{c(),o(u);});}catch(u){o(u);}i?.addEventListener("abort",l);})}var M4e="The delay was aborted.";function Uk(t,e){let r,{abortSignal:i,abortErrorMsg:n}={};return Dk(a=>{r=setTimeout(a,t);},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:i,abortErrorMsg:n??M4e})}function up(t){if(Nl(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t);}catch{e="[unable to stringify input]";}return `Unknown error ${e}`}}function lce(t){return Nl(t)}var wO=Cl;var uce=Symbol("rawContent");function kk(t){return typeof t[uce]=="function"}function dce(t){return kk(t)?t[uce]():t}var LO=l_;function $k(){let t=xO();return {name:LO,sendRequest:async(e,r)=>{if(e.multipartBody)for(let i of e.multipartBody.parts)kk(i.body)&&(i.body=dce(i.body));return t.sendRequest(e,r)}}}function Vk(){return TO()}function Bk(t={}){return AO(t)}function zk(){return RO()}function Fk(t,e){return NO(t)}var pce="setClientRequestIdPolicy";function Hk(t="x-ms-client-request-id"){return {name:pce,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}function Gk(t){return bO(t)}function jk(t){return PO(t)}var dp={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function fce(t={}){let e=new qk(t.parentContext);return t.span&&(e=e.setValue(dp.span,t.span)),t.namespace&&(e=e.setValue(dp.namespace,t.namespace)),e}var qk=class t{_contextMap;constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map;}setValue(e,r){let i=new t(this);return i._contextMap.set(e,r),i}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};var mce=He(hce(),1),UO=mce.state;function w4e(){return {end:()=>{},isRecording:()=>false,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function L4e(){return {createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:w4e(),tracingContext:fce({parentContext:e.tracingContext})}),withContext(t,e,...r){return e(...r)}}}function u_(){return UO.instrumenterImplementation||(UO.instrumenterImplementation=L4e()),UO.instrumenterImplementation}function Yk(t){let{namespace:e,packageName:r,packageVersion:i}=t;function n(l,u,d){let p=u_().startSpan(l,{...d,packageName:r,packageVersion:i,tracingContext:u?.tracingOptions?.tracingContext}),f=p.tracingContext,g=p.span;f.getValue(dp.namespace)||(f=f.setValue(dp.namespace,e)),g.setAttribute("az.namespace",f.getValue(dp.namespace));let S=Object.assign({},u,{tracingOptions:{...u?.tracingOptions,tracingContext:f}});return {span:g,updatedOptions:S}}async function a(l,u,d,p){let{span:f,updatedOptions:g}=n(l,u,p);try{let S=await o(g.tracingOptions.tracingContext,()=>Promise.resolve(d(g,f)));return f.setStatus({status:"success"}),S}catch(S){throw f.setStatus({status:"error",error:S}),S}finally{f.end();}}function o(l,u,...d){return u_().withContext(l,u,...d)}function s(l){return u_().parseTraceparentHeader(l)}function c(l){return u_().createRequestHeaders(l)}return {startSpan:n,withSpan:a,withContext:o,parseTraceparentHeader:s,createRequestHeaders:c}}var pp=Dr;function d_(t){return mO(t)}var _ce="tracingPolicy";function Wk(t={}){let e=MO(t.userAgentPrefix),r=new Oi({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),i=D4e();return {name:_ce,async sendRequest(n,a){if(!i)return a(n);let o=await e,s={"http.url":r.sanitizeUrl(n.url),"http.method":n.method,"http.user_agent":o,requestId:n.requestId};o&&(s["http.user_agent"]=o);let{span:c,tracingContext:l}=U4e(i,n,s)??{};if(!c||!l)return a(n);try{let u=await i.withContext(l,a,n);return $4e(c,u),u}catch(u){throw k4e(c,u),u}}}}function D4e(){try{return Yk({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:IO})}catch(t){To.warning(`Error when creating the TracingClient: ${up(t)}`);return}}function U4e(t,e,r){try{let{span:i,updatedOptions:n}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!i.isRecording()){i.end();return}let a=t.createRequestHeaders(n.tracingOptions.tracingContext);for(let[o,s]of Object.entries(a))e.headers.set(o,s);return {span:i,tracingContext:n.tracingOptions.tracingContext}}catch(i){To.warning(`Skipping creating a tracing span due to an error: ${up(i)}`);return}}function k4e(t,e){try{t.setStatus({status:"error",error:lce(e)?e:void 0}),d_(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end();}catch(r){To.warning(`Skipping tracing span processing due to an error: ${up(r)}`);}}function $4e(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end();}catch(r){To.warning(`Skipping tracing span processing due to an error: ${up(r)}`);}}function kO(t){if(t instanceof AbortSignal)return {abortSignal:t};if(t.aborted)return {abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=true;function i(){r&&(t.removeEventListener("abort",n),r=false);}function n(){e.abort(t.reason),i();}return t.addEventListener("abort",n),{abortSignal:e.signal,cleanup:i}}var V4e="wrapAbortSignalLikePolicy";function gce(){return {name:V4e,sendRequest:async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:i}=kO(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{i?.();}}}}function Kk(t){let e=Ck();return wO&&(t.agent&&e.addPolicy(Gk(t.agent)),t.tlsOptions&&e.addPolicy(jk(t.tlsOptions)),e.addPolicy(Fk(t.proxyOptions)),e.addPolicy(Vk())),e.addPolicy(gce()),e.addPolicy(zk(),{beforePolicies:[LO]}),e.addPolicy(Lk(t.userAgentOptions)),e.addPolicy(Hk(t.telemetryOptions?.clientRequestIdHeaderName)),e.addPolicy($k(),{afterPhase:"Deserialize"}),e.addPolicy(Bk(t.retryOptions),{phase:"Retry"}),e.addPolicy(Wk({...t.userAgentOptions,...t.loggingOptions}),{afterPhase:"Retry"}),wO&&e.addPolicy(Ik(t.redirectOptions),{afterPhase:"Retry"}),e.addPolicy(xk(t.loggingOptions),{afterPhase:"Sign"}),e}function Zk(){let t=gO();return {async sendRequest(e){let{abortSignal:r,cleanup:i}=e.abortSignal?kO(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{i?.();}}}}function Xk(t){return fO(t)}nn("core-rest-pipeline retryPolicy");var B4e={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function z4e(t,e,r){async function i(){if(Date.now()<r)try{return await t()}catch{return null}else {let a=await t();if(a===null)throw new Error("Failed to refresh access token.");return a}}let n=await i();for(;n===null;)await Uk(e),n=await i();return n}function Jk(t,e){let r=null,i=null,n,a={...B4e,...e},o={get isRefreshing(){return r!==null},get shouldRefresh(){return o.isRefreshing?false:i?.refreshAfterTimestamp&&i.refreshAfterTimestamp<Date.now()?true:(i?.expiresOnTimestamp??0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return i===null||i.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function s(c,l){return o.isRefreshing||(r=z4e(()=>t.getToken(c,l),a.retryIntervalInMs,i?.expiresOnTimestamp??Date.now()).then(d=>(r=null,i=d,n=l.tenantId,i)).catch(d=>{throw r=null,i=null,n=void 0,d})),r}return async(c,l)=>{let u=!!l.claims,d=n!==l.tenantId;return u&&(i=null),d||u||o.mustRefresh?s(c,l):(o.shouldRefresh&&s(c,l),i)}}var yce="bearerTokenAuthenticationPolicy";async function $O(t,e){try{return [await e(t),void 0]}catch(r){if(d_(r)&&r.response)return [r.response,r];throw r}}async function F4e(t){let{scopes:e,getAccessToken:r,request:i}=t,n={abortSignal:i.abortSignal,tracingOptions:i.tracingOptions,enableCae:true},a=await r(e,n);a&&t.request.headers.set("Authorization",`Bearer ${a.token}`);}function Ece(t){return t.status===401&&t.headers.has("WWW-Authenticate")}async function Sce(t,e){let{scopes:r}=t,i=await t.getAccessToken(r,{enableCae:true,claims:e});return i?(t.request.headers.set("Authorization",`${i.tokenType??"Bearer"} ${i.token}`),true):false}function Qk(t){let{credential:e,scopes:r,challengeCallbacks:i}=t,n=t.logger||To,a={authorizeRequest:i?.authorizeRequest?.bind(i)??F4e,authorizeRequestOnChallenge:i?.authorizeRequestOnChallenge?.bind(i)},o=e?Jk(e):()=>Promise.resolve(null);return {name:yce,async sendRequest(s,c){if(!s.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await a.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:s,getAccessToken:o,logger:n});let l,u,d;if([l,u]=await $O(s,c),Ece(l)){let p=Tce(l.headers.get("WWW-Authenticate"));if(p){let f;try{f=atob(p);}catch{return n.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${p}`),l}d=await Sce({scopes:Array.isArray(r)?r:[r],response:l,request:s,getAccessToken:o,logger:n},f),d&&([l,u]=await $O(s,c));}else if(a.authorizeRequestOnChallenge&&(d=await a.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:s,response:l,getAccessToken:o,logger:n}),d&&([l,u]=await $O(s,c)),Ece(l)&&(p=Tce(l.headers.get("WWW-Authenticate")),p))){let f;try{f=atob(p);}catch{return n.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${p}`),l}d=await Sce({scopes:Array.isArray(r)?r:[r],response:l,request:s,getAccessToken:o,logger:n},f),d&&([l,u]=await $O(s,c));}}if(u)throw u;return l}}}function H4e(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,i=[],n;for(;(n=e.exec(t))!==null;){let a=n[1],o=n[2],s={},c;for(;(c=r.exec(o))!==null;)s[c[1]]=c[2];i.push({scheme:a,params:s});}return i}function Tce(t){return t?H4e(t).find(r=>r.scheme==="Bearer"&&r.params.claims&&r.params.error==="insufficient_claims")?.params.claims:void 0}var Ace=He(vce(),1),e1=Ace.state;function Ha(t,e,r){let i=e.parameterPath,n=e.mapper,a;if(typeof i=="string"&&(i=[i]),Array.isArray(i)){if(i.length>0)if(n.isConstant)a=n.defaultValue;else {let o=Rce(t,i);!o.propertyFound&&r&&(o=Rce(r,i));let s=false;o.propertyFound||(s=n.required||i[0]==="options"&&i.length===2),a=s?n.defaultValue:o.propertyValue;}}else {n.required&&(a={});for(let o in i){let s=n.type.modelProperties[o],c=i[o],l=Ha(t,{parameterPath:c,mapper:s},r);l!==void 0&&(a||(a={}),a[o]=l);}}return a}function Rce(t,e){let r={propertyFound:false},i=0;for(;i<e.length;++i){let n=e[i];if(t&&n in t)t=t[n];else break}return i===e.length&&(r.propertyValue=t,r.propertyFound=true),r}var Oce=Symbol.for("@azure/core-client original request");function G4e(t){return Oce in t}function as(t){if(G4e(t))return as(t[Oce]);let e=e1.operationRequestMap.get(t);return e||(e={},e1.operationRequestMap.set(t,e)),e}var j4e=["application/json","text/json"],q4e=["application/xml","application/atom+xml"],Nce="deserializationPolicy";function t1(t={}){var e,r,i,n,a,o,s;let c=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:j4e,l=(n=(i=t.expectedContentTypes)===null||i===void 0?void 0:i.xml)!==null&&n!==void 0?n:q4e,u=t.parseXML,d=t.serializerOptions,p={xml:{rootName:(a=d?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(o=d?.xml.includeRoot)!==null&&o!==void 0?o:false,xmlCharKey:(s=d?.xml.xmlCharKey)!==null&&s!==void 0?s:"_"}};return {name:Nce,async sendRequest(f,g){let S=await g(f);return K4e(c,l,S,p,u)}}}function Y4e(t){let e,r=t.request,i=as(r),n=i?.operationSpec;return n&&(i?.operationResponseGetter?e=i?.operationResponseGetter(n,t):e=n.responses[t.status]),e}function W4e(t){let e=t.request,r=as(e),i=r?.shouldDeserialize,n;return i===void 0?n=true:typeof i=="boolean"?n=i:n=i(t),n}async function K4e(t,e,r,i,n){let a=await J4e(t,e,r,i,n);if(!W4e(a))return a;let o=as(a.request),s=o?.operationSpec;if(!s||!s.responses)return a;let c=Y4e(a),{error:l,shouldReturnResponse:u}=X4e(a,s,c,i);if(l)throw l;if(u)return a;if(c){if(c.bodyMapper){let d=a.parsedBody;s.isXML&&c.bodyMapper.type.name===Eo.Sequence&&(d=typeof d=="object"?d[c.bodyMapper.xmlElementName]:[]);try{a.parsedBody=s.serializer.deserialize(c.bodyMapper,d,"operationRes.parsedBody",i);}catch(p){throw new pp(`Error ${p} occurred in deserializing the responseBody - ${a.bodyAsText}`,{statusCode:a.status,request:a.request,response:a})}}else s.httpMethod==="HEAD"&&(a.parsedBody=r.status>=200&&r.status<300);c.headersMapper&&(a.parsedHeaders=s.serializer.deserialize(c.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:true}));}return a}function Z4e(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}function X4e(t,e,r,i){var n,a,o,s,c;let l=200<=t.status&&t.status<300;if(Z4e(e)?l:!!r)if(r){if(!r.isError)return {error:null,shouldReturnResponse:false}}else return {error:null,shouldReturnResponse:false};let d=r??e.responses.default,p=!((n=t.request.streamResponseStatusCodes)===null||n===void 0)&&n.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,f=new pp(p,{statusCode:t.status,request:t.request,response:t});if(!d&&!(!((o=(a=t.parsedBody)===null||a===void 0?void 0:a.error)===null||o===void 0)&&o.code&&(!((c=(s=t.parsedBody)===null||s===void 0?void 0:s.error)===null||c===void 0)&&c.message)))throw f;let g=d?.bodyMapper,S=d?.headersMapper;try{if(t.parsedBody){let v=t.parsedBody,N;if(g){let M=v;if(e.isXML&&g.type.name===Eo.Sequence){M=[];let A=g.xmlElementName;typeof v=="object"&&A&&(M=v[A]);}N=e.serializer.deserialize(g,M,"error.response.parsedBody",i);}let C=v.error||N||v;f.code=C.code,C.message&&(f.message=C.message),g&&(f.response.parsedBody=N);}t.headers&&S&&(f.response.parsedHeaders=e.serializer.deserialize(S,t.headers.toJSON(),"operationRes.parsedHeaders"));}catch(v){f.message=`Error "${v.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`;}return {error:f,shouldReturnResponse:false}}async function J4e(t,e,r,i,n){var a;if(!(!((a=r.request.streamResponseStatusCodes)===null||a===void 0)&&a.has(r.status))&&r.bodyAsText){let o=r.bodyAsText,s=r.headers.get("Content-Type")||"",c=s?s.split(";").map(l=>l.toLowerCase()):[];try{if(c.length===0||c.some(l=>t.indexOf(l)!==-1))return r.parsedBody=JSON.parse(o),r;if(c.some(l=>e.indexOf(l)!==-1)){if(!n)throw new Error("Parsing XML not supported.");let l=await n(o,i.xml);return r.parsedBody=l,r}}catch(l){let u=`Error "${l}" occurred while parsing the response body - ${r.bodyAsText}.`,d=l.code||pp.PARSE_ERROR;throw new pp(u,{code:d,statusCode:r.status,request:r.request,response:r})}}return r}function bce(t){let e=new Set;for(let r in t.responses){let i=t.responses[r];i.bodyMapper&&i.bodyMapper.type.name===Eo.Stream&&e.add(Number(r));}return e}function yo(t){let{parameterPath:e,mapper:r}=t,i;return typeof e=="string"?i=e:Array.isArray(e)?i=e.join("."):i=r.serializedName,i}var Pce="serializationPolicy";function r1(t={}){let e=t.stringifyXML;return {name:Pce,async sendRequest(r,i){let n=as(r),a=n?.operationSpec,o=n?.operationArguments;return a&&o&&(Q4e(r,o,a),e6e(r,o,a,e)),i(r)}}}function Q4e(t,e,r){var i,n;if(r.headerParameters)for(let o of r.headerParameters){let s=Ha(e,o);if(s!=null||o.mapper.required){s=r.serializer.serialize(o.mapper,s,yo(o));let c=o.mapper.headerCollectionPrefix;if(c)for(let l of Object.keys(s))t.headers.set(c+l,s[l]);else t.headers.set(o.mapper.serializedName||yo(o),s);}}let a=(n=(i=e.options)===null||i===void 0?void 0:i.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(a)for(let o of Object.keys(a))t.headers.set(o,a[o]);}function e6e(t,e,r,i=function(){throw new Error("XML serialization unsupported!")}){var n,a,o,s,c;let l=(n=e.options)===null||n===void 0?void 0:n.serializerOptions,u={xml:{rootName:(a=l?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(o=l?.xml.includeRoot)!==null&&o!==void 0?o:false,xmlCharKey:(s=l?.xml.xmlCharKey)!==null&&s!==void 0?s:"_"}},d=u.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=Ha(e,r.requestBody);let p=r.requestBody.mapper,{required:f,serializedName:g,xmlName:S,xmlElementName:v,xmlNamespace:N,xmlNamespacePrefix:C,nullable:M}=p,A=p.type.name;try{if(t.body!==void 0&&t.body!==null||M&&t.body===null||f){let k=yo(r.requestBody);t.body=r.serializer.serialize(p,t.body,k,u);let j=A===Eo.Stream;if(r.isXML){let G=C?`xmlns:${C}`:"xmlns",te=t6e(N,G,A,t.body,u);A===Eo.Sequence?t.body=i(r6e(te,v||S||g,G,N),{rootName:S||g,xmlCharKey:d}):j||(t.body=i(te,{rootName:S||g,xmlCharKey:d}));}else {if(A===Eo.String&&(!((c=r.contentType)===null||c===void 0)&&c.match("text/plain")||r.mediaType==="text"))return;j||(t.body=JSON.stringify(t.body));}}}catch(k){throw new Error(`Error "${k.message}" occurred in serializing the payload - ${JSON.stringify(g,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let p of r.formDataParameters){let f=Ha(e,p);if(f!=null){let g=p.mapper.serializedName||yo(p);t.formData[g]=r.serializer.serialize(p.mapper,f,yo(p),u);}}}}function t6e(t,e,r,i,n){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let a={};return a[n.xml.xmlCharKey]=i,a["$"]={[e]:t},a}return i}function r6e(t,e,r,i){if(Array.isArray(t)||(t=[t]),!r||!i)return {[e]:t};let n={[e]:t};return n["$"]={[r]:i},n}function n1(t={}){let e=Kk(t??{});return t.credentialOptions&&e.addPolicy(Qk({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(r1(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(t1(t.deserializationOptions),{phase:"Deserialize"}),e}var i1;function Cce(){return i1||(i1=Zk()),i1}var n6e={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function Ice(t,e,r,i){let n=i6e(e,r,i),a=false,o=xce(t,n);if(e.path){let l=xce(e.path,n);e.path==="/{nextLink}"&&l.startsWith("/")&&(l=l.substring(1)),o6e(l)?(o=l,a=true):o=s6e(o,l);}let{queryParams:s,sequenceParams:c}=a6e(e,r,i);return o=l6e(o,s,c,a),o}function xce(t,e){let r=t;for(let[i,n]of e)r=r.split(i).join(n);return r}function i6e(t,e,r){var i;let n=new Map;if(!((i=t.urlParameters)===null||i===void 0)&&i.length)for(let a of t.urlParameters){let o=Ha(e,a,r),s=yo(a);o=t.serializer.serialize(a.mapper,o,s),a.skipEncoding||(o=encodeURIComponent(o)),n.set(`{${a.mapper.serializedName||s}}`,o);}return n}function o6e(t){return t.includes("://")}function s6e(t,e){if(!e)return t;let r=new URL(t),i=r.pathname;i.endsWith("/")||(i=`${i}/`),e.startsWith("/")&&(e=e.substring(1));let n=e.indexOf("?");if(n!==-1){let a=e.substring(0,n),o=e.substring(n+1);i=i+a,o&&(r.search=r.search?`${r.search}&${o}`:o);}else i=i+e;return r.pathname=i,r.toString()}function a6e(t,e,r){var i;let n=new Map,a=new Set;if(!((i=t.queryParameters)===null||i===void 0)&&i.length)for(let o of t.queryParameters){o.mapper.type.name==="Sequence"&&o.mapper.serializedName&&a.add(o.mapper.serializedName);let s=Ha(e,o,r);if(s!=null||o.mapper.required){s=t.serializer.serialize(o.mapper,s,yo(o));let c=o.collectionFormat?n6e[o.collectionFormat]:"";if(Array.isArray(s)&&(s=s.map(l=>l??"")),o.collectionFormat==="Multi"&&s.length===0)continue;Array.isArray(s)&&(o.collectionFormat==="SSV"||o.collectionFormat==="TSV")&&(s=s.join(c)),o.skipEncoding||(Array.isArray(s)?s=s.map(l=>encodeURIComponent(l)):s=encodeURIComponent(s)),Array.isArray(s)&&(o.collectionFormat==="CSV"||o.collectionFormat==="Pipes")&&(s=s.join(c)),n.set(o.mapper.serializedName||yo(o),s);}}return {queryParams:n,sequenceParams:a}}function c6e(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let i of r){let[n,a]=i.split("=",2),o=e.get(n);o?Array.isArray(o)?o.push(a):e.set(n,[o,a]):e.set(n,a);}return e}function l6e(t,e,r,i=false){if(e.size===0)return t;let n=new URL(t),a=c6e(n.search);for(let[s,c]of e){let l=a.get(s);if(Array.isArray(l))if(Array.isArray(c)){l.push(...c);let u=new Set(l);a.set(s,Array.from(u));}else l.push(c);else l?(Array.isArray(c)?c.unshift(l):r.has(s)&&a.set(s,[l,c]),i||a.set(s,c)):a.set(s,c);}let o=[];for(let[s,c]of a)if(typeof c=="string")o.push(`${s}=${c}`);else if(Array.isArray(c))for(let l of c)o.push(`${s}=${l}`);else o.push(`${s}=${c}`);return n.search=o.length?`?${o.join("&")}`:"",n.toString()}var o1=nn("core-client");var xl=class{constructor(e={}){var r,i;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&o1.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||Cce(),this.pipeline=e.pipeline||u6e(e),!((i=e.additionalPolicies)===null||i===void 0)&&i.length)for(let{policy:n,position:a}of e.additionalPolicies){let o=a==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(n,{afterPhase:o});}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let i=r.baseUrl||this._endpoint;if(!i)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let n=Ice(i,r,e,this),a=Xk({url:n});a.method=r.httpMethod;let o=as(a);o.operationSpec=r,o.operationArguments=e;let s=r.contentType||this._requestContentType;s&&r.requestBody&&a.headers.set("Content-Type",s);let c=e.options;if(c){let l=c.requestOptions;l&&(l.timeout&&(a.timeout=l.timeout),l.onUploadProgress&&(a.onUploadProgress=l.onUploadProgress),l.onDownloadProgress&&(a.onDownloadProgress=l.onDownloadProgress),l.shouldDeserialize!==void 0&&(o.shouldDeserialize=l.shouldDeserialize),l.allowInsecureConnection&&(a.allowInsecureConnection=true)),c.abortSignal&&(a.abortSignal=c.abortSignal),c.tracingOptions&&(a.tracingOptions=c.tracingOptions);}this._allowInsecureConnection&&(a.allowInsecureConnection=true),a.streamResponseStatusCodes===void 0&&(a.streamResponseStatusCodes=bce(r));try{let l=await this.sendRequest(a),u=sk(l,r.responses[l.status]);return c?.onResponse&&c.onResponse(l,u),u}catch(l){if(typeof l=="object"&&l?.response){let u=l.response,d=sk(u,r.responses[l.statusCode]||r.responses.default);l.details=d,c?.onResponse&&c.onResponse(u,d,l);}throw l}}};function u6e(t){let e=d6e(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return n1(Object.assign(Object.assign({},t),{credentialOptions:r}))}function d6e(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return `${t.endpoint}/.default`;if(t.baseUri)return `${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}var wce={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Content-Type",type:{name:"String"}}},Lce={parameterPath:"body",mapper:{serializedName:"body",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryItem"}}}}},Dce={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Accept",type:{name:"String"}}},Uce={parameterPath:"host",mapper:{serializedName:"Host",required:true,type:{name:"String"}},skipEncoding:true};var s1={};Ne(s1,{AvailabilityData:()=>S6e,MessageData:()=>v6e,MetricDataPoint:()=>_6e,MetricsData:()=>A6e,MonitorBase:()=>h6e,MonitorDomain:()=>vo,PageViewData:()=>R6e,PageViewPerfData:()=>O6e,RemoteDependencyData:()=>N6e,RequestData:()=>b6e,StackFrame:()=>E6e,TelemetryErrorDetails:()=>m6e,TelemetryEventData:()=>T6e,TelemetryExceptionData:()=>y6e,TelemetryExceptionDetails:()=>g6e,TelemetryItem:()=>f6e,TrackResponse:()=>cs});var f6e={type:{name:"Composite",className:"TelemetryItem",modelProperties:{version:{defaultValue:1,serializedName:"ver",type:{name:"Number"}},name:{serializedName:"name",required:true,type:{name:"String"}},time:{serializedName:"time",required:true,type:{name:"DateTime"}},sampleRate:{defaultValue:100,serializedName:"sampleRate",type:{name:"Number"}},sequence:{constraints:{MaxLength:64},serializedName:"seq",type:{name:"String"}},instrumentationKey:{serializedName:"iKey",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},data:{serializedName:"data",type:{name:"Composite",className:"MonitorBase"}}}}},h6e={type:{name:"Composite",className:"MonitorBase",modelProperties:{baseType:{serializedName:"baseType",type:{name:"String"}},baseData:{serializedName:"baseData",type:{name:"Composite",className:"MonitorDomain"}}}}},vo={type:{name:"Composite",className:"MonitorDomain",additionalProperties:{type:{name:"Object"}},modelProperties:{version:{defaultValue:2,serializedName:"ver",required:true,type:{name:"Number"}}}}},cs={type:{name:"Composite",className:"TrackResponse",modelProperties:{itemsReceived:{serializedName:"itemsReceived",type:{name:"Number"}},itemsAccepted:{serializedName:"itemsAccepted",type:{name:"Number"}},errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryErrorDetails"}}}}}}},m6e={type:{name:"Composite",className:"TelemetryErrorDetails",modelProperties:{index:{serializedName:"index",type:{name:"Number"}},statusCode:{serializedName:"statusCode",type:{name:"Number"}},message:{serializedName:"message",type:{name:"String"}}}}},_6e={type:{name:"Composite",className:"MetricDataPoint",modelProperties:{namespace:{constraints:{MaxLength:256},serializedName:"ns",type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},dataPointType:{serializedName:"kind",type:{name:"String"}},value:{serializedName:"value",required:true,type:{name:"Number"}},count:{serializedName:"count",nullable:true,type:{name:"Number"}},min:{serializedName:"min",nullable:true,type:{name:"Number"}},max:{serializedName:"max",nullable:true,type:{name:"Number"}},stdDev:{serializedName:"stdDev",nullable:true,type:{name:"Number"}}}}},g6e={type:{name:"Composite",className:"TelemetryExceptionDetails",modelProperties:{id:{serializedName:"id",type:{name:"Number"}},outerId:{serializedName:"outerId",type:{name:"Number"}},typeName:{constraints:{MaxLength:1024},serializedName:"typeName",type:{name:"String"}},message:{constraints:{MaxLength:32768},serializedName:"message",required:true,type:{name:"String"}},hasFullStack:{defaultValue:true,serializedName:"hasFullStack",type:{name:"Boolean"}},stack:{constraints:{MaxLength:32768},serializedName:"stack",type:{name:"String"}},parsedStack:{serializedName:"parsedStack",type:{name:"Sequence",element:{type:{name:"Composite",className:"StackFrame"}}}}}}},E6e={type:{name:"Composite",className:"StackFrame",modelProperties:{level:{serializedName:"level",required:true,type:{name:"Number"}},method:{constraints:{MaxLength:1024},serializedName:"method",required:true,type:{name:"String"}},assembly:{constraints:{MaxLength:1024},serializedName:"assembly",type:{name:"String"}},fileName:{constraints:{MaxLength:1024},serializedName:"fileName",type:{name:"String"}},line:{serializedName:"line",type:{name:"Number"}}}}},S6e={type:{name:"Composite",className:"AvailabilityData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{serializedName:"success",required:true,type:{name:"Boolean"}},runLocation:{constraints:{MaxLength:1024},serializedName:"runLocation",type:{name:"String"}},message:{constraints:{MaxLength:8192},serializedName:"message",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},T6e={type:{name:"Composite",className:"TelemetryEventData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,name:{constraints:{MaxLength:512},serializedName:"name",required:true,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},y6e={type:{name:"Composite",className:"TelemetryExceptionData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,exceptions:{serializedName:"exceptions",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryExceptionDetails"}}}},severityLevel:{serializedName:"severityLevel",nullable:true,type:{name:"String"}},problemId:{constraints:{MaxLength:1024},serializedName:"problemId",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},v6e={type:{name:"Composite",className:"MessageData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,message:{constraints:{MaxLength:32768},serializedName:"message",required:true,type:{name:"String"}},severityLevel:{serializedName:"severityLevel",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},A6e={type:{name:"Composite",className:"MetricsData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,metrics:{serializedName:"metrics",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricDataPoint"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}}}}},R6e={type:{name:"Composite",className:"PageViewData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},duration:{serializedName:"duration",type:{name:"String"}},referredUri:{constraints:{MaxLength:2048},serializedName:"referredUri",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},O6e={type:{name:"Composite",className:"PageViewPerfData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},duration:{serializedName:"duration",type:{name:"String"}},perfTotal:{serializedName:"perfTotal",type:{name:"String"}},networkConnect:{serializedName:"networkConnect",type:{name:"String"}},sentRequest:{serializedName:"sentRequest",type:{name:"String"}},receivedResponse:{serializedName:"receivedResponse",type:{name:"String"}},domProcessing:{serializedName:"domProcessing",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},N6e={type:{name:"Composite",className:"RemoteDependencyData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},resultCode:{constraints:{MaxLength:1024},serializedName:"resultCode",type:{name:"String"}},data:{constraints:{MaxLength:8192},serializedName:"data",type:{name:"String"}},type:{constraints:{MaxLength:1024},serializedName:"type",type:{name:"String"}},target:{constraints:{MaxLength:1024},serializedName:"target",type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{defaultValue:true,serializedName:"success",type:{name:"Boolean"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},b6e={type:{name:"Composite",className:"RequestData",additionalProperties:{type:{name:"Object"}},modelProperties:{...vo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{defaultValue:true,serializedName:"success",required:true,type:{name:"Boolean"}},responseCode:{constraints:{MaxLength:1024},serializedName:"responseCode",required:true,type:{name:"String"}},source:{constraints:{MaxLength:1024},serializedName:"source",type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}};var p_=class extends xl{host;constructor(e){e||(e={});let r={requestContentType:"application/json; charset=utf-8"},i="azsdk-js-monitor-opentelemetry-exporter/1.0.0-beta.35",n=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,a={...r,...e,userAgentOptions:{userAgentPrefix:n},endpoint:e.endpoint??e.baseUri??"{Host}/v2.1"};super(a),this.host=e.host||"https://dc.services.visualstudio.com";}track(e,r){return this.sendOperationRequest({body:e,options:r},C6e)}},P6e=s_(s1,false),C6e={path:"/track",httpMethod:"POST",responses:{200:{bodyMapper:cs},206:{bodyMapper:cs},400:{bodyMapper:cs,isError:true},402:{bodyMapper:cs,isError:true},429:{bodyMapper:cs,isError:true},500:{bodyMapper:cs,isError:true},503:{bodyMapper:cs,isError:true}},requestBody:Lce,urlParameters:[Uce],headerParameters:[wce,Dce],mediaType:"json",serializer:P6e};var I6e="https://monitor.azure.com//.default",go=class extends uO{appInsightsClient;appInsightsClientOptions;constructor(e){super(e),this.appInsightsClientOptions={host:e.endpointUrl,...e.exporterOptions},this.appInsightsClientOptions.credential&&(e.aadAudience?this.appInsightsClientOptions.credentialScopes=[e.aadAudience]:this.appInsightsClientOptions.credentialScopes=[I6e]),this.appInsightsClient=new p_(this.appInsightsClientOptions),this.appInsightsClient.pipeline.removePolicy({name:o_});}async send(e){let r={},i;function n(a,o){i=a,r.onResponse&&r.onResponse(a,o);}return await this.appInsightsClient.track(e,{...r,onResponse:n}),{statusCode:i?.status,result:i?.bodyAsText??""}}async shutdown(){T.info("HttpSender shutting down");}handlePermanentRedirect(e){if(e){let r=new x6e__default.default.URL(e);r&&r.host&&(this.appInsightsClient.host="https://"+r.host);}}};Q();var a1=null,c1=class t{tags;static sdkVersion=null;static opentelemetryVersion=null;static nodeVersion="";constructor(){this.tags={},this._loadInternalContext();}_loadInternalContext(){let{node:e}=process.versions;[t.nodeVersion]=e.split("."),t.opentelemetryVersion=wn[kR],t.sdkVersion=ma;let r=process.env[TU]?process.env[TU]:"",i=this._getVersion(),n=`${r}node${t.nodeVersion}:otel${t.opentelemetryVersion}:${i}`;this.tags[Re.AiInternalSdkVersion]=n;}_getVersion(){return process.env[SU]?`sha${process.env[SU]}`:process.env[yU]?`dst${process.env[yU]}`:`ext${t.sdkVersion}`}};function oO(){return a1||(a1=new c1),a1}Q();function f_(t){return new Date(su(t)/1e6)}function Va(t){let r={...oO().tags};return t&&t.attributes&&(r[Re.AiCloudRole]=M6e(t),r[Re.AiCloudRoleInstance]=w6e(t),t.attributes[RU]&&(r[Re.AiDeviceId]=String(t.attributes[RU])),t.attributes[OU]&&(r[Re.AiDeviceModel]=String(t.attributes[OU])),t.attributes[NU]&&(r[Re.AiApplicationVer]=String(t.attributes[NU]))),r}function M6e(t){let e="",r=t.attributes[RR],i=t.attributes[OR];if(r)if(String(r).startsWith("unknown_service"))i?e=`${i}.${r}`:e=String(r);else return i?`${i}.${r}`:String(r);let n=t.attributes[SR];if(n)return String(n);let a=t.attributes[ER];if(a)return String(a);let o=t.attributes[TR];if(o)return String(o);let s=t.attributes[vR];if(s)return String(s);let c=t.attributes[AR];if(c)return String(c);let l=t.attributes[yR];return l?String(l):e}function w6e(t){let e=t.attributes[gR];if(e)return String(e);let r=t.attributes[NR];return r?String(r):mp__namespace.default&&mp__namespace.default.hostname()}function $ce(t){return t===cR||t===dR||t===pR||t===oR||t===aR||t===fR||t===iR||t===uR||t===hR}function l1(t){if(!t)return "";if(m_(t)){let r=h_(t);if(r)return String(r);{let i=zce(t),n=Fce(t);if(i&&n){let a=u1(t);if(a)return `${i}://${a}${n}`;{let o=Hce(t);if(o){let s=d1(t);if(s)return `${i}://${s}:${o}${n}`;{let c=HO(t);if(c)return `${i}://${c}:${o}${n}`}}}}}}return ""}function BO(t){if(!t)return "";let e=t[va],r=u1(t),i=h_(t),n=d1(t),a=HO(t);return e?String(e):r?String(r):i?String(i):n?String(n):a?String(a):""}function Vce(t,e){if(t&&t.attributes){let r=Va(t),i={};for(let n of Object.keys(t.attributes))n.startsWith("_MS.")||n===kR||n===rse||n===nse||(i[n]=t.attributes[n]);if(Object.keys(i).length>0)return {name:"Microsoft.ApplicationInsights.Metric",time:new Date,sampleRate:100,instrumentationKey:e,version:1,data:{baseType:"MetricData",baseData:{version:2,metrics:[{name:"_OTELRESOURCE_",value:1}],properties:i}},tags:r}}}function zO(t){if(typeof t=="object")if(t instanceof Error)try{return JSON.stringify(t,Object.getOwnPropertyNames(t))}catch{return String(t)}else {if(t instanceof Uint8Array)return String(t);try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function Bce(){return process.env[Hoe]?.toLowerCase()!=="true"}function FO(t){return !!t[wr.SYNTHETIC_TYPE]}P();Q();var fp="az.namespace",Gce="Microsoft.EventHub",jce="message_bus.destination";var L6e=t=>{let e=0,r=0,i=Ln(t.startTime);return t.links.forEach(({attributes:n})=>{let a=n?.[Loe];a&&(e+=1,r+=i-(parseFloat(a.toString())||0));}),Math.max(r/(e||1),0)},qce=(t,e)=>{let r=t.attributes[fp],i=(t.attributes[uo]||t.attributes["peer.address"]||"unknown").replace(/\/$/g,""),n=t.attributes[jce]||"unknown";switch(t.kind){case ge.CLIENT:e.type=r,e.target=`${i}/${n}`;break;case ge.PRODUCER:e.type=`Queue Message | ${r}`,e.target=`${i}/${n}`;break;case ge.CONSUMER:e.type=`Queue Message | ${r}`,e.source=`${i}/${n}`,e.measurements={...e.measurements,[Doe]:L6e(t)};break;}};function D6e(t){let e=Va(t.resource);e[Re.AiOperationId]=t.spanContext().traceId,t.parentSpanContext?.spanId&&(e[Re.AiOperationParentId]=t.parentSpanContext.spanId);let r=t.attributes[wr.ATTR_ENDUSER_ID];r&&(e[Re.AiUserAuthUserId]=String(r));let i=t.attributes[wr.ATTR_ENDUSER_PSEUDO_ID];i&&(e[Re.AiUserId]=String(i));let n=z6e(t.attributes);n&&(e["ai.user.userAgent"]=String(n)),FO(t.attributes)&&(e[Re.AiOperationSyntheticSource]="True");let a=t.attributes[YA];if(a&&(e[Re.AiLocationIp]=String(a)),t.kind===ge.SERVER){let o=m_(t.attributes);if(a||V6e(e,t.attributes),o){let s=t.attributes[tse],c=h_(t.attributes);if(e[Re.AiOperationName]=t.name,s)e[Re.AiOperationName]=`${o} ${s}`.substring(0,dr.TEN_BIT);else if(c)try{let l=new URL(String(c));e[Re.AiOperationName]=`${o} ${l.pathname}`.substring(0,dr.TEN_BIT);}catch{}}else e[Re.AiOperationName]=t.name;}else t.attributes[Re.AiOperationName]&&(e[Re.AiOperationName]=t.attributes[Re.AiOperationName]);return e}function Yce(t){let e={};if(t)for(let r of Object.keys(t))r.startsWith("_MS.")&&!ise.includes(r)||r.startsWith("microsoft.")||$R.includes(r)||VR.includes(r)||r===Re.AiOperationName||(e[r]=zO(t[r]));return e}function U6e(t){let e=Yce(t.attributes),r={},i=t.links.map(n=>({operation_Id:n.context.traceId,id:n.context.spanId}));return i.length>0&&(e[woe]=JSON.stringify(i)),[e,r]}function k6e(t){let e={name:t.name,id:`${t.spanContext().spanId}`,success:t.status?.code!==Qe.ERROR,resultCode:"0",type:"Dependency",duration:nk(Ln(t.duration)),version:2};t.kind===ge.PRODUCER&&(e.type=lo.QueueMessage),t.kind===ge.INTERNAL&&t.parentSpanContext&&(e.type=lo.InProc);let r=m_(t.attributes),i=t.attributes[ga],n=t.attributes[ba];if(r){let a=h_(t.attributes);if(a)try{let c=new URL(String(a));e.name=`${r} ${c.pathname}`;}catch{}e.type=lo.Http,e.data=l1(t.attributes);let o=p1(t.attributes);o&&(e.resultCode=String(o));let s=BO(t.attributes);if(s){try{let l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/).exec(s);if(l!==null){let u=l[1],d=l[3];(u==="https"&&d===":443"||u==="http"&&d===":80")&&(s=l[1]+l[2]+l[4]);}}catch{}e.target=`${s}`;}}else if(i){String(i)===sR?e.type="mysql":String(i)===lR?e.type="postgresql":String(i)===mR?e.type="mongodb":String(i)===_R?e.type="redis":$ce(String(i))?e.type="SQL":e.type=String(i);let a=t.attributes[Sa],o=t.attributes[Ta];a?e.data=String(a):o&&(e.data=String(o));let s=BO(t.attributes),c=t.attributes[Ea];s?e.target=c?`${s}|${c}`:`${s}`:e.target=c?`${c}`:`${i}`;}else if(n){n===lo.Wcf?e.type=lo.Wcf:e.type=lo.Grpc;let a=t.attributes[po];a&&(e.resultCode=String(a));let o=BO(t.attributes);o?e.target=`${o}`:n&&(e.target=String(n));}return e}function $6e(t){let e={id:`${t.spanContext().spanId}`,success:t.status.code!==Qe.UNSET?t.status.code===Qe.OK:(Number(p1(t.attributes))||0)<400,responseCode:"0",duration:nk(Ln(t.duration)),version:2,source:void 0},r=m_(t.attributes),i=t.attributes[po];if(r){e.url=l1(t.attributes);let n=p1(t.attributes);n&&(e.responseCode=String(n));}else i&&(e.responseCode=String(i));return e}function Wce(t,e){let r,i,n,a=f_(t.startTime),o=e,s=D6e(t),[c,l]=U6e(t);switch(t.kind){case ge.CLIENT:case ge.PRODUCER:case ge.INTERNAL:r="Microsoft.ApplicationInsights.RemoteDependency",i="RemoteDependencyData",n=k6e(t);break;case ge.SERVER:case ge.CONSUMER:r="Microsoft.ApplicationInsights.Request",i="RequestData",n=$6e(t),n.name=s[Re.AiOperationName];break;default:throw T.error(`Unsupported span kind ${t.kind}`),new Error(`Unsupported span kind ${t.kind}`)}let u=100;if(t.attributes[_a]&&(u=Number(t.attributes[_a])),t.attributes[fp]&&(t.kind===ge.INTERNAL&&(n.type=`${lo.InProc} | ${t.attributes[fp]}`),t.attributes[fp]===Gce&&qce(t,n)),n.id&&(n.id=n.id.substring(0,dr.NINE_BIT)),n.name&&(n.name=n.name.substring(0,dr.TEN_BIT)),n.resultCode&&(n.resultCode=String(n.resultCode).substring(0,dr.TEN_BIT)),n.data&&(n.data=String(n.data).substring(0,dr.THIRTEEN_BIT)),n.type&&(n.type=String(n.type).substring(0,dr.TEN_BIT)),n.target&&(n.target=String(n.target).substring(0,dr.TEN_BIT)),n.properties)for(let d of Object.keys(n.properties))n.properties[d]=n.properties[d].substring(0,dr.THIRTEEN_BIT);return {name:r,sampleRate:u,time:a,instrumentationKey:o,tags:s,version:1,data:{baseType:i,baseData:{...n,properties:c,measurements:l}}}}function Kce(t,e){let r=[];return t.events&&t.events.forEach(i=>{let n,a=f_(i.time),o="",s,c=Yce(i.attributes),l=Va(t.resource);l[Re.AiOperationId]=t.spanContext().traceId;let u=t.spanContext().spanId;if(u&&(l[Re.AiOperationParentId]=u),i.name==="exception"){o="Microsoft.ApplicationInsights.Exception",n="ExceptionData";let f="",g="Exception",S="",v=false;if(i.attributes){f=String(i.attributes[Yn]),S=String(i.attributes[rs]),S&&(v=true);let M=i.attributes[Wn];M&&(g=String(M));let A=i.attributes[AU];A!==void 0&&(c[AU]=String(A));}s={exceptions:[{typeName:f,message:g,stack:S,hasFullStack:v}],version:2,properties:c};}else o="Microsoft.ApplicationInsights.Message",n="MessageData",s={message:i.name,version:2,properties:c};let d=100;if(t.attributes[_a]&&(d=Number(t.attributes[_a])),s.message&&(s.message=String(s.message).substring(0,dr.FIFTEEN_BIT)),s.properties)for(let f of Object.keys(s.properties))s.properties[f]=s.properties[f].substring(0,dr.THIRTEEN_BIT);let p={name:o,time:a,instrumentationKey:e,version:1,sampleRate:d,data:{baseType:n,baseData:s},tags:l};r.push(p);}),r}function HO(t){if(t)return t[Ia]||t[ya]}function V6e(t,e){if(e){let r=B6e(e),i=HO(e);r?t[Re.AiLocationIp]=String(r):i&&(t[Re.AiLocationIp]=String(i));}}function B6e(t){if(t)return t[ns]||t[nR]}function z6e(t){if(t)return t[Da]||t[Xd]}function h_(t){if(t)return t[wa]||t[Ra]}function m_(t){if(t)return t[Ca]||t[Aa]}function p1(t){if(t)return t[xa]||t[Na]}function zce(t){if(t)return t[La]||t[Zd]}function Fce(t){if(t)return t[Ai]?t[Ai]:t[fo]?t[fo]:t[Kd]}function u1(t){if(t)return t[Ma]||t[Oa]}function d1(t){if(t)return t[ns]||t[uo]}function Hce(t){if(t)return t[Pa]||t[is]||t[Wd]}var __=class extends vi{isShutdown=false;sender;shouldCreateResourceMetric=Bce();constructor(e={}){super(e),this.sender=new go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),T.debug("AzureMonitorTraceExporter was successfully setup");}async export(e,r){if(this.isShutdown){T.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:W.FAILED}),0);return}if(T.info(`Exporting ${e.length} span(s). Converting to envelopes...`),e.length>0){let i=[],n=Vce(e[0].resource,this.instrumentationKey);n&&this.shouldCreateResourceMetric&&i.push(n),e.forEach(a=>{i.push(Wce(a,this.instrumentationKey));let o=Kce(a,this.instrumentationKey);o.length>0&&i.push(...o);}),r(await this.sender.exportEnvelopes(i));}r({code:W.SUCCESS});}async shutdown(){return this.isShutdown=true,T.info("AzureMonitorTraceExporter shutting down"),this.sender.shutdown()}};P();Wt();Q();var ls=class extends vi{_isShutdown=false;_sender;constructor(e={}){super(e),this._sender=new go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),T.debug("AzureMonitorMetricExporter was successfully setup");}async export(e,r){if(this._isShutdown){T.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:W.FAILED}),0);return}T.info(`Exporting ${e.scopeMetrics.length} metrics(s). Converting to envelopes...`);let i=iO(e,this.instrumentationKey);await pe.with(Er(pe.active()),async()=>{r(await this._sender.exportEnvelopes(i));});}async shutdown(){return this._isShutdown=true,T.info("AzureMonitorMetricExporter shutting down"),this._sender.shutdown()}selectAggregationTemporality(e){return e===le.UP_DOWN_COUNTER||e===le.OBSERVABLE_UP_DOWN_COUNTER?mt.CUMULATIVE:mt.DELTA}async forceFlush(){return Promise.resolve()}};P();Q();P();function Jce(t,e){let r=f_(t.hrTime),i=100,n=e,a=F6e(t),[o,s]=H6e(t),c,l,u,d=t.attributes[CR],p=t.attributes[xR],f=!!(p&&d)||false,g=!t.attributes[Gm]&&!t.attributes[qA]&&!p;if(f){let S=t.attributes[PR];c=hU,l=KA,u={exceptions:[{typeName:String(p),message:String(S),hasFullStack:!!d,stack:String(d)}],severityLevel:String(Zce(t.severityNumber)),version:2};}else if(t.attributes[qA])c=mU,l=ZA,u={name:String(t.attributes[qA]),version:2},s=Xce(t);else if(g)c=fU,l=WA,u={message:String(t.body),severityLevel:String(Zce(t.severityNumber)),version:2};else if(l=String(t.attributes[Gm]),c=G6e(t),u=j6e(t),s=Xce(t),!u)return;if(u.message&&(u.message=String(u.message).substring(0,dr.FIFTEEN_BIT)),o)for(let S of Object.keys(o))o[S]=String(o[S]).substring(0,dr.THIRTEEN_BIT);return {name:c,sampleRate:i,time:r,instrumentationKey:n,tags:a,version:1,data:{baseType:l,baseData:{...u,properties:o,measurements:s}}}}function F6e(t){let e=Va(t.resource);t.spanContext?.traceId&&(e[Re.AiOperationId]=t.spanContext.traceId),t.spanContext?.spanId&&(e[Re.AiOperationParentId]=t.spanContext.spanId),t.attributes[Re.AiOperationName]&&(e[Re.AiOperationName]=t.attributes[Re.AiOperationName]),FO(t.attributes)&&(e[Re.AiOperationSyntheticSource]="True");let r=t.attributes?.[YA];r&&(e[Re.AiLocationIp]=String(r));let i=t.attributes;if(i[wr.ATTR_ENDUSER_ID]){let n=String(i[wr.ATTR_ENDUSER_ID]);n&&n.length>0&&(e[Re.AiUserAuthUserId]=n);}if(i[wr.ATTR_ENDUSER_PSEUDO_ID]){let n=String(i[wr.ATTR_ENDUSER_PSEUDO_ID]);n&&n.length>0&&(e[Re.AiUserId]=n);}return e}function H6e(t){let e={},r={};if(t.attributes)for(let i of Object.keys(t.attributes))i.startsWith("_MS.")||i.startsWith("microsoft")||$R.includes(i)||VR.includes(i)||i===Re.AiOperationName||(r[i]=zO(t.attributes[i]));return [r,e]}function Zce(t){if(t){if(t>0&&t<9)return za.Verbose;if(t>=9&&t<13)return za.Information;if(t>=13&&t<17)return za.Warning;if(t>=17&&t<21)return za.Error;if(t>=21&&t<25)return za.Critical}}function G6e(t){let e="";switch(t.attributes[Gm]){case gU:e=koe;break;case KA:e=hU;break;case WA:e=fU;break;case _U:e=Uoe;break;case ZA:e=mU;break}return e}function Xce(t){let e={};return t.body?.measurements&&(e={...t.body.measurements}),e}function j6e(t){let e={version:2};if(t.body)try{switch(t.attributes[Gm]){case gU:e=t.body;break;case KA:e=t.body;break;case WA:e=t.body;break;case _U:e=t.body;break;case ZA:e=t.body;break}typeof e?.message=="object"&&(e.message=JSON.stringify(e.message));}catch{T.error("AzureMonitorLogExporter failed to parse Application Insights Telemetry");}return e}var g_=class extends vi{_isShutdown=false;_sender;constructor(e={}){super(e),this._sender=new go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),T.debug("AzureMonitorLogExporter was successfully setup");}async export(e,r){if(this._isShutdown){T.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:W.FAILED}),0);return}T.info(`Exporting ${e.length} logs(s). Converting to envelopes...`);let i=[];e.forEach(n=>{let a=Jce(n,this.instrumentationKey);a&&i.push(a);}),await pe.with(Er(pe.active()),async()=>{r(await this._sender.exportEnvelopes(i));});}async shutdown(){return this._isShutdown=true,T.info("AzureMonitorLogExporter shutting down"),this._sender.shutdown()}};Wt();Wt();P();P();var Qce="APPLICATION_INSIGHTS_NO_STANDARD_METRICS",Ni;(function(t){t.PRIVATE_BYTES="Private_Bytes",t.AVAILABLE_BYTES="Available_Bytes",t.PROCESSOR_TIME="Processor_Time",t.PROCESS_TIME_STANDARD="Process_Time_Standard",t.REQUEST_RATE="Request_Rate",t.REQUEST_DURATION="Request_Execution_Time",t.PROCESS_TIME_NORMALIZED="Process_Time_Normalized",t.EXCEPTION_RATE="Exception_Rate";})(Ni||(Ni={}));var ele={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel",metricId:"_MS.MetricId",IsAutocollected:"_MS.IsAutocollected"},Qn;(function(t){t.REQUEST_DURATION="requests/duration",t.DEPENDENCIES_DURATION="dependencies/duration",t.EXCEPTIONS_COUNT="exceptions/count",t.TRACES_COUNT="traces/count";})(Qn||(Qn={}));var Ga;(function(t){t.Request="Request",t.RemoteDependency="RemoteDependency",t.Exception="Exception",t.Event="Event",t.Trace="Trace",t.Unknown="Unknown";})(Ga||(Ga={}));var ja;(function(t){t.Unknown="Unknown",t.PerformanceCounterParsing="PerformanceCounterParsing",t.PerformanceCounterUnexpected="PerformanceCounterUnexpected",t.PerformanceCounterDuplicateIds="PerformanceCounterDuplicateIds",t.DocumentStreamDuplicateIds="DocumentStreamDuplicateIds",t.DocumentStreamFailureToCreate="DocumentStreamFailureToCreate",t.DocumentStreamFailureToCreateFilterUnexpected="DocumentStreamFailureToCreateFilterUnexpected",t.MetricDuplicateIds="MetricDuplicateIds",t.MetricTelemetryTypeUnsupported="MetricTelemetryTypeUnsupported",t.MetricFailureToCreate="MetricFailureToCreate",t.MetricFailureToCreateFilterUnexpected="MetricFailureToCreateFilterUnexpected",t.FilterFailureToCreateUnexpected="FilterFailureToCreateUnexpected",t.CollectionConfigurationFailureToCreateUnexpected="CollectionConfigurationFailureToCreateUnexpected";})(ja||(ja={}));var rt;(function(t){t.Equal="Equal",t.NotEqual="NotEqual",t.LessThan="LessThan",t.GreaterThan="GreaterThan",t.LessThanOrEqual="LessThanOrEqual",t.GreaterThanOrEqual="GreaterThanOrEqual",t.Contains="Contains",t.DoesNotContain="DoesNotContain";})(rt||(rt={}));var pr;(function(t){t.Avg="Avg",t.Sum="Sum",t.Min="Min",t.Max="Max";})(pr||(pr={}));var yt;(function(t){t.Request="Request",t.Dependency="Dependency",t.Exception="Exception",t.Event="Event",t.Metric="Metric",t.PerformanceCounter="PerformanceCounter",t.Trace="Trace";})(yt||(yt={}));var _1={};Ne(_1,{CollectionConfigurationError:()=>K6e,CollectionConfigurationInfo:()=>GO,DerivedMetricInfo:()=>Z6e,DocumentFilterConjunctionGroupInfo:()=>e3e,DocumentIngress:()=>ei,DocumentStreamInfo:()=>Q6e,Event:()=>tle,Exception:()=>rle,FilterConjunctionGroupInfo:()=>X6e,FilterInfo:()=>J6e,KeyValuePairString:()=>Y6e,MetricPoint:()=>q6e,MonitoringDataPoint:()=>f1,ProcessCpuData:()=>W6e,QuickpulseClientIsSubscribedHeaders:()=>h1,QuickpulseClientPublishHeaders:()=>m1,QuotaConfigurationInfo:()=>t3e,RemoteDependency:()=>nle,Request:()=>ile,ServiceError:()=>jO,Trace:()=>ole,discriminators:()=>r3e});var f1={type:{name:"Composite",className:"MonitoringDataPoint",modelProperties:{version:{serializedName:"Version",required:true,type:{name:"String"}},invariantVersion:{serializedName:"InvariantVersion",required:true,type:{name:"Number"}},instance:{serializedName:"Instance",required:true,type:{name:"String"}},roleName:{serializedName:"RoleName",required:true,type:{name:"String"}},machineName:{serializedName:"MachineName",required:true,type:{name:"String"}},streamId:{serializedName:"StreamId",required:true,type:{name:"String"}},timestamp:{serializedName:"Timestamp",type:{name:"DateTime"}},transmissionTime:{serializedName:"TransmissionTime",type:{name:"DateTime"}},isWebApp:{serializedName:"IsWebApp",required:true,type:{name:"Boolean"}},performanceCollectionSupported:{serializedName:"PerformanceCollectionSupported",required:true,type:{name:"Boolean"}},metrics:{serializedName:"Metrics",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricPoint"}}}},documents:{serializedName:"Documents",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentIngress"}}}},topCpuProcesses:{serializedName:"TopCpuProcesses",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProcessCpuData"}}}},collectionConfigurationErrors:{serializedName:"CollectionConfigurationErrors",type:{name:"Sequence",element:{type:{name:"Composite",className:"CollectionConfigurationError"}}}}}}},q6e={type:{name:"Composite",className:"MetricPoint",modelProperties:{name:{serializedName:"Name",required:true,type:{name:"String"}},value:{serializedName:"Value",required:true,type:{name:"Number"}},weight:{serializedName:"Weight",required:true,type:{name:"Number"}}}}},ei={type:{name:"Composite",className:"DocumentIngress",uberParent:"DocumentIngress",polymorphicDiscriminator:{serializedName:"DocumentType",clientName:"documentType"},modelProperties:{documentType:{serializedName:"DocumentType",required:true,type:{name:"String"}},documentStreamIds:{serializedName:"DocumentStreamIds",type:{name:"Sequence",element:{type:{name:"String"}}}},properties:{serializedName:"Properties",type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyValuePairString"}}}}}}},Y6e={type:{name:"Composite",className:"KeyValuePairString",modelProperties:{key:{serializedName:"key",required:true,type:{name:"String"}},value:{serializedName:"value",required:true,type:{name:"String"}}}}},W6e={type:{name:"Composite",className:"ProcessCpuData",modelProperties:{processName:{serializedName:"ProcessName",required:true,type:{name:"String"}},cpuPercentage:{serializedName:"CpuPercentage",required:true,type:{name:"Number"}}}}},K6e={type:{name:"Composite",className:"CollectionConfigurationError",modelProperties:{collectionConfigurationErrorType:{serializedName:"CollectionConfigurationErrorType",required:true,type:{name:"String"}},message:{serializedName:"Message",required:true,type:{name:"String"}},fullException:{serializedName:"FullException",required:true,type:{name:"String"}},data:{serializedName:"Data",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyValuePairString"}}}}}}},GO={type:{name:"Composite",className:"CollectionConfigurationInfo",modelProperties:{eTag:{serializedName:"ETag",required:true,type:{name:"String"}},metrics:{serializedName:"Metrics",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DerivedMetricInfo"}}}},documentStreams:{serializedName:"DocumentStreams",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentStreamInfo"}}}},quotaInfo:{serializedName:"QuotaInfo",type:{name:"Composite",className:"QuotaConfigurationInfo"}}}}},Z6e={type:{name:"Composite",className:"DerivedMetricInfo",modelProperties:{id:{serializedName:"Id",required:true,type:{name:"String"}},telemetryType:{serializedName:"TelemetryType",required:true,type:{name:"String"}},filterGroups:{serializedName:"FilterGroups",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterConjunctionGroupInfo"}}}},projection:{serializedName:"Projection",required:true,type:{name:"String"}},aggregation:{serializedName:"Aggregation",required:true,type:{name:"String"}},backEndAggregation:{serializedName:"BackEndAggregation",required:true,type:{name:"String"}}}}},X6e={type:{name:"Composite",className:"FilterConjunctionGroupInfo",modelProperties:{filters:{serializedName:"Filters",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterInfo"}}}}}}},J6e={type:{name:"Composite",className:"FilterInfo",modelProperties:{fieldName:{serializedName:"FieldName",required:true,type:{name:"String"}},predicate:{serializedName:"Predicate",required:true,type:{name:"String"}},comparand:{serializedName:"Comparand",required:true,type:{name:"String"}}}}},Q6e={type:{name:"Composite",className:"DocumentStreamInfo",modelProperties:{id:{serializedName:"Id",required:true,type:{name:"String"}},documentFilterGroups:{serializedName:"DocumentFilterGroups",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentFilterConjunctionGroupInfo"}}}}}}},e3e={type:{name:"Composite",className:"DocumentFilterConjunctionGroupInfo",modelProperties:{telemetryType:{serializedName:"TelemetryType",required:true,type:{name:"String"}},filters:{serializedName:"Filters",type:{name:"Composite",className:"FilterConjunctionGroupInfo"}}}}},t3e={type:{name:"Composite",className:"QuotaConfigurationInfo",modelProperties:{initialQuota:{serializedName:"InitialQuota",type:{name:"Number"}},maxQuota:{serializedName:"MaxQuota",required:true,type:{name:"Number"}},quotaAccrualRatePerSec:{serializedName:"QuotaAccrualRatePerSec",required:true,type:{name:"Number"}}}}},jO={type:{name:"Composite",className:"ServiceError",modelProperties:{requestId:{defaultValue:"00000000-0000-0000-0000-000000000000",serializedName:"RequestId",required:true,type:{name:"String"}},responseDateTime:{serializedName:"ResponseDateTime",required:true,type:{name:"String"}},code:{serializedName:"Code",required:true,type:{name:"String"}},message:{serializedName:"Message",required:true,type:{name:"String"}},exception:{serializedName:"Exception",required:true,type:{name:"String"}}}}},tle={serializedName:"Event",type:{name:"Composite",className:"Event",uberParent:"DocumentIngress",polymorphicDiscriminator:ei.type.polymorphicDiscriminator,modelProperties:{...ei.type.modelProperties,name:{constraints:{MaxLength:512},serializedName:"Name",type:{name:"String"}}}}},rle={serializedName:"Exception",type:{name:"Composite",className:"Exception",uberParent:"DocumentIngress",polymorphicDiscriminator:ei.type.polymorphicDiscriminator,modelProperties:{...ei.type.modelProperties,exceptionType:{constraints:{MaxLength:1024},serializedName:"ExceptionType",type:{name:"String"}},exceptionMessage:{constraints:{MaxLength:32768},serializedName:"ExceptionMessage",type:{name:"String"}}}}},nle={serializedName:"RemoteDependency",type:{name:"Composite",className:"RemoteDependency",uberParent:"DocumentIngress",polymorphicDiscriminator:ei.type.polymorphicDiscriminator,modelProperties:{...ei.type.modelProperties,name:{constraints:{MaxLength:1024},serializedName:"Name",type:{name:"String"}},commandName:{constraints:{MaxLength:2048},serializedName:"CommandName",type:{name:"String"}},resultCode:{constraints:{MaxLength:1024},serializedName:"ResultCode",type:{name:"String"}},duration:{serializedName:"Duration",type:{name:"String"}}}}},ile={serializedName:"Request",type:{name:"Composite",className:"Request",uberParent:"DocumentIngress",polymorphicDiscriminator:ei.type.polymorphicDiscriminator,modelProperties:{...ei.type.modelProperties,name:{constraints:{MaxLength:1024},serializedName:"Name",type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"Url",type:{name:"String"}},responseCode:{constraints:{MaxLength:1024},serializedName:"ResponseCode",type:{name:"String"}},duration:{serializedName:"Duration",type:{name:"String"}}}}},ole={serializedName:"Trace",type:{name:"Composite",className:"Trace",uberParent:"DocumentIngress",polymorphicDiscriminator:ei.type.polymorphicDiscriminator,modelProperties:{...ei.type.modelProperties,message:{constraints:{MaxLength:32768},serializedName:"Message",type:{name:"String"}}}}},h1={type:{name:"Composite",className:"QuickpulseClientIsSubscribedHeaders",modelProperties:{xMsQpsSubscribed:{serializedName:"x-ms-qps-subscribed",type:{name:"String"}},xMsQpsConfigurationEtag:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}},xMsQpsServicePollingIntervalHint:{serializedName:"x-ms-qps-service-polling-interval-hint",type:{name:"String"}},xMsQpsServiceEndpointRedirectV2:{serializedName:"x-ms-qps-service-endpoint-redirect-v2",type:{name:"String"}}}}},m1={type:{name:"Composite",className:"QuickpulseClientPublishHeaders",modelProperties:{xMsQpsSubscribed:{serializedName:"x-ms-qps-subscribed",type:{name:"String"}},xMsQpsConfigurationEtag:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}}}}},r3e={DocumentIngress:ei,"DocumentIngress.Event":tle,"DocumentIngress.Exception":rle,"DocumentIngress.RemoteDependency":nle,"DocumentIngress.Request":ile,"DocumentIngress.Trace":ole};var g1={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Content-Type",type:{name:"String"}}},sle={parameterPath:["options","monitoringDataPoint"],mapper:f1},E1={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Accept",type:{name:"String"}}},S1={parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:true,type:{name:"String"}}},T1={parameterPath:"apiVersion",mapper:{defaultValue:"2024-04-01-preview",isConstant:true,serializedName:"api-version",type:{name:"String"}}},y1={parameterPath:"ikey",mapper:{serializedName:"ikey",required:true,type:{name:"String"}}},v1={parameterPath:["options","transmissionTime"],mapper:{serializedName:"x-ms-qps-transmission-time",type:{name:"Number"}}},ale={parameterPath:["options","machineName"],mapper:{serializedName:"x-ms-qps-machine-name",type:{name:"String"}}},cle={parameterPath:["options","instanceName"],mapper:{serializedName:"x-ms-qps-instance-name",type:{name:"String"}}},lle={parameterPath:["options","streamId"],mapper:{serializedName:"x-ms-qps-stream-id",type:{name:"String"}}},ule={parameterPath:["options","roleName"],mapper:{serializedName:"x-ms-qps-role-name",type:{name:"String"}}},dle={parameterPath:["options","invariantVersion"],mapper:{serializedName:"x-ms-qps-invariant-version",type:{name:"String"}}},A1={parameterPath:["options","configurationEtag"],mapper:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}}},ple={parameterPath:["options","monitoringDataPoints"],mapper:{serializedName:"monitoringDataPoints",type:{name:"Sequence",element:{type:{name:"Composite",className:"MonitoringDataPoint"}}}}};var E_=class extends xl{apiVersion;constructor(e){e||(e={});let r={requestContentType:"application/json; charset=utf-8"},i="azsdk-js-monitor-opentelemetry/1.0.0-beta.0",n=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,a={...r,...e,userAgentOptions:{userAgentPrefix:n},endpoint:e.endpoint??e.baseUri??"{endpoint}"};super(a),this.apiVersion=e.apiVersion||"2024-04-01-preview",this.addCustomApiVersionPolicy(e.apiVersion);}addCustomApiVersionPolicy(e){if(!e)return;let r={name:"CustomApiVersionPolicy",async sendRequest(i,n){let a=i.url.split("?");if(a.length>1){let o=a[1].split("&").map(s=>s.indexOf("api-version")>-1?"api-version="+e:s);i.url=a[0]+"?"+o.join("&");}return n(i)}};this.pipeline.addPolicy(r);}isSubscribed(e,r,i){return this.sendOperationRequest({endpoint:e,ikey:r,options:i},i3e)}publish(e,r,i){return this.sendOperationRequest({endpoint:e,ikey:r,options:i},o3e)}},fle=s_(_1,false),i3e={path:"/QuickPulseService.svc/ping",httpMethod:"POST",responses:{200:{bodyMapper:GO,headersMapper:h1},default:{bodyMapper:jO}},requestBody:sle,queryParameters:[T1,y1],urlParameters:[S1],headerParameters:[g1,E1,v1,ale,cle,lle,ule,dle,A1],mediaType:"json",serializer:fle},o3e={path:"/QuickPulseService.svc/post",httpMethod:"POST",responses:{200:{bodyMapper:GO,headersMapper:m1},default:{bodyMapper:jO}},requestBody:ple,queryParameters:[T1,y1],urlParameters:[S1],headerParameters:[g1,E1,v1,A1],mediaType:"json",serializer:fle};P();Q();Wt();var hle=new Map([["diskRetry",1],["aadHandling",2],["browserSdkLoader",4],["distro",8],["liveMetrics",16],["shim",32],["customerSdkStats",64],["multiIkey",128],["rateLimitedSampler",256]]),qO="1.14.0",qa="AZURE_MONITOR_STATSBEAT_FEATURES",YO="AZURE_MONITOR_PREFIX",mle="AZURE_MONITOR_AUTO_ATTACH",R1="APPLICATION_INSIGHTS_SHIM_VERSION",S_;(function(t){t.INTEGRATED_AUTO="i",t.MANUAL="m";})(S_||(S_={}));var _le="https://js.monitor.azure.com/scripts/b/ai",gle="https://dc.services.visualstudio.com",y_="https://global.livediagnostics.monitor.azure.com",Ele="microsoft.sample_rate",Sle="APPLICATIONINSIGHTS_SDKSTATS_ENABLED_PREVIEW",T_;(function(t){t[t.NONE=0]="NONE",t[t.DISK_RETRY=1]="DISK_RETRY",t[t.AAD_HANDLING=2]="AAD_HANDLING",t[t.BROWSER_SDK_LOADER=4]="BROWSER_SDK_LOADER",t[t.DISTRO=8]="DISTRO",t[t.LIVE_METRICS=16]="LIVE_METRICS",t[t.SHIM=32]="SHIM",t[t.CUSTOMER_SDKSTATS=64]="CUSTOMER_SDKSTATS",t[t.MULTI_IKEY=128]="MULTI_IKEY";})(T_||(T_={}));var ee;(function(t){t[t.NONE=0]="NONE",t[t.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",t[t.MONGODB=2]="MONGODB",t[t.MYSQL=4]="MYSQL",t[t.REDIS=8]="REDIS",t[t.POSTGRES=16]="POSTGRES",t[t.BUNYAN=32]="BUNYAN",t[t.WINSTON=64]="WINSTON",t[t.CUCUMBER=256]="CUCUMBER",t[t.DATALOADER=512]="DATALOADER",t[t.FS=1024]="FS",t[t.LRU_MEMOIZER=2048]="LRU_MEMOIZER",t[t.MONGOOSE=4096]="MONGOOSE",t[t.RUNTIME_NODE=8192]="RUNTIME_NODE",t[t.SOCKET_IO=16384]="SOCKET_IO",t[t.TEDIOUS=32768]="TEDIOUS",t[t.UNDICI=65536]="UNDICI",t[t.CASSANDRA=131072]="CASSANDRA",t[t.CONNECT=262144]="CONNECT",t[t.DNS=524288]="DNS",t[t.EXPRESS=1048576]="EXPRESS",t[t.FASTIFY=2097152]="FASTIFY",t[t.GENERIC_POOL=4194304]="GENERIC_POOL",t[t.GRAPHQL=8388608]="GRAPHQL",t[t.HAPI=16777216]="HAPI",t[t.IOREDIS=33554432]="IOREDIS",t[t.KNEX=67108864]="KNEX",t[t.KOA=134217728]="KOA",t[t.MEMCACHED=268435456]="MEMCACHED",t[t.MYSQL2=536870912]="MYSQL2",t[t.NESTJS_CORE=1073741824]="NESTJS_CORE",t[t.NET=2147483648]="NET",t[t.PINO=4294967296]="PINO",t[t.RESTIFY=8589934592]="RESTIFY",t[t.ROUTER=17179869184]="ROUTER",t[t.AMQPLIB=34359738368]="AMQPLIB";})(ee||(ee={}));var Tle=new Map([["@opentelemetry/instrumentation-amqplib",ee.AMQPLIB],["@opentelemetry/instrumentation-cucumber",ee.CUCUMBER],["@opentelemetry/instrumentation-dataloader",ee.DATALOADER],["@opentelemetry/instrumentation-fs",ee.FS],["@opentelemetry/instrumentation-lru-memoizer",ee.LRU_MEMOIZER],["@opentelemetry/instrumentation-mongoose",ee.MONGOOSE],["@opentelemetry/instrumentation-runtime-node",ee.RUNTIME_NODE],["@opentelemetry/instrumentation-socket.io",ee.SOCKET_IO],["@opentelemetry/instrumentation-tedious",ee.TEDIOUS],["@opentelemetry/instrumentation-undici",ee.UNDICI],["@opentelemetry/instrumentation-cassandra-driver",ee.CASSANDRA],["@opentelemetry/instrumentation-connect",ee.CONNECT],["@opentelemetry/instrumentation-dns",ee.DNS],["@opentelemetry/instrumentation-express",ee.EXPRESS],["@opentelemetry/instrumentation-fastify",ee.FASTIFY],["@opentelemetry/instrumentation-generic-pool",ee.GENERIC_POOL],["@opentelemetry/instrumentation-graphql",ee.GRAPHQL],["@opentelemetry/instrumentation-hapi",ee.HAPI],["@opentelemetry/instrumentation-ioredis",ee.IOREDIS],["@opentelemetry/instrumentation-knex",ee.KNEX],["@opentelemetry/instrumentation-koa",ee.KOA],["@opentelemetry/instrumentation-memcached",ee.MEMCACHED],["@opentelemetry/instrumentation-mysql2",ee.MYSQL2],["@opentelemetry/instrumentation-nestjs-core",ee.NESTJS_CORE],["@opentelemetry/instrumentation-net",ee.NET],["@opentelemetry/instrumentation-pino",ee.PINO],["@opentelemetry/instrumentation-restify",ee.RESTIFY],["@opentelemetry/instrumentation-router",ee.ROUTER]]);var vt;(function(t){t.PHYSICAL_BYTES="azureMonitor.physicalBytes",t.PROCESSOR_TIME_NORMALIZED="azureMonitor.percentProcessorTimeNormalized",t.REQUEST_RATE="azureMonitor.requestsSec",t.REQUEST_FAILURE_RATE="azureMonitor.requestsFailedSec",t.REQUEST_DURATION="azureMonitor.requestDuration",t.DEPENDENCY_RATE="azureMonitor.dependencyCallsSec",t.DEPENDENCY_FAILURE_RATE="azureMonitor.dependencyCallsFailedSec",t.DEPENDENCY_DURATION="azureMonitor.dependencyCallDuration",t.EXCEPTION_RATE="azureMonitor.exceptionsSec";})(vt||(vt={}));var fr;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PHYSICAL_BYTES="\\Process\\Physical Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESSOR_TIME_NORMALIZED="\\% Process\\Processor Time Normalized",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec";})(fr||(fr={}));var ln;(function(t){t.InProc="InProc",t.QueueMessage="Queue Message",t.Sql="SQL",t.Http="Http",t.Grpc="GRPC",t.Wcf="WCF Service",t.mysql="mysql",t.postgresql="postgresql",t.mongodb="mongodb",t.redis="redis";})(ln||(ln={}));var bi;(function(t){t.Url="Url",t.Duration="Duration",t.ResponseCode="ResponseCode",t.Success="Success",t.Name="Name";})(bi||(bi={}));var un;(function(t){t.Target="Target",t.Duration="Duration",t.Success="Success",t.Name="Name",t.ResultCode="ResultCode",t.Type="Type",t.Data="Data";})(un||(un={}));var yle=[ya,uo,va,Aa,Ra,Na,rR,Oa,ga,Sa,Ta,Ea,ba,po,Yn,Wn,rs],vle=[ns,Pa,Ma,is,wa,Ai,fo,La,Ai,bR,IR,MR,LR,Ia,wR,DR,UR,Da,Ca,xa];function Rle(){let{nodeVersion:t}=process.versions,e=wn[ese],r=s3e();return `${process.env[YO]??""}node${t}:otel${e}:${r}`}function s3e(){return process.env[R1]?`sha${process.env[R1]}`:`dst${qO}`}function Ole(){if(!process.env[YO]){let t=process.env[mle]==="true"?S_.INTEGRATED_AUTO:S_.MANUAL;process.env[YO]=`${hA()}${fA()}${t}_`;}}function Nle(t,e,r,i,n){let a=[];return t.scopeMetrics.forEach(s=>{s.metrics.forEach(c=>{c.dataPoints.forEach(l=>{let u={weight:1,name:"",value:0};switch(c.descriptor.name){case vt.PHYSICAL_BYTES:u.name=fr.PHYSICAL_BYTES;break;case vt.DEPENDENCY_DURATION:u.name=fr.DEPENDENCY_DURATION;break;case vt.DEPENDENCY_FAILURE_RATE:u.name=fr.DEPENDENCY_FAILURE_RATE;break;case vt.DEPENDENCY_RATE:u.name=fr.DEPENDENCY_RATE;break;case vt.EXCEPTION_RATE:u.name=fr.EXCEPTION_RATE;break;case vt.PROCESSOR_TIME_NORMALIZED:u.name=fr.PROCESSOR_TIME_NORMALIZED;break;case vt.REQUEST_DURATION:u.name=fr.REQUEST_DURATION;break;case vt.REQUEST_FAILURE_RATE:u.name=fr.REQUEST_FAILURE_RATE;break;case vt.REQUEST_RATE:u.name=fr.REQUEST_RATE;break;default:u.name=c.descriptor.name;}if(c.dataPointType===_t.SUM||c.dataPointType===_t.GAUGE?u.value=l.value:u.value=l.value.sum||0,a.push(u),u.name===fr.PHYSICAL_BYTES||u.name===fr.PROCESSOR_TIME_NORMALIZED){let d={weight:1,name:u.name===fr.PHYSICAL_BYTES?fr.COMMITTED_BYTES:fr.PROCESSOR_TIME,value:l.value};a.push(d);}});});}),n.forEach((s,c)=>{let l={weight:1,name:c,value:s};a.push(l);}),[{...e,timestamp:new Date,metrics:a,documents:r,collectionConfigurationErrors:i}]}function Ale(t){return `PT${t/1e3}S`}function ble(t){return t.kind===ge.SERVER||t.kind===ge.CONSUMER?a3e(t):c3e(t)}function Ple(t,e){return {Message:t[Wn],StackTrace:t[rs],CustomDimensions:KO(e)}}function a3e(t){let e={Url:"",Duration:Ln(t.duration),ResponseCode:0,Success:false,Name:t.name||"",CustomDimensions:KO(t.attributes)},r=b1(t.attributes),i=t.attributes[po];if(r){if(e.Url=Ile(t.attributes),URL.canParse(e.Url)){let a=new URL(e.Url);e.Name=`${r} ${a.pathname}`;}else Ee.getInstance().info("Request data sent to live metrics has no valid URL field.");let n=A_(t.attributes);n&&(e.ResponseCode=Number(n));}else i&&(e.ResponseCode=Number(i));return e.Success=t.status.code!==Qe.ERROR&&e.ResponseCode<400,e}function c3e(t){let e={Target:"",Duration:Ln(t.duration),Success:t.status.code!==Qe.ERROR,Name:t.name,ResultCode:0,Type:"",Data:"",CustomDimensions:KO(t.attributes)};t.kind===ge.PRODUCER&&(e.Type=ln.QueueMessage),t.kind===ge.INTERNAL&&t.parentSpanContext?.spanId&&(e.Type=ln.InProc);let r=b1(t.attributes),i=t.attributes[ga],n=t.attributes[ba];if(r){let a=wle(t.attributes);if(a)if(URL.canParse(String(a))){let c=new URL(String(a));e.Name=`${r} ${c.pathname}`;}else Ee.getInstance().info("Dependency data sent to live metrics has no valid URL field.");e.Type=ln.Http,e.Data=Ile(t.attributes);let o=A_(t.attributes);o&&(e.ResultCode=Number(o));let s=v_(t.attributes);if(s){try{let l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/).exec(s);if(l!==null){let u=l[1],d=l[3];(u==="https"&&d===":443"||u==="http"&&d===":80")&&(s=l[1]+l[2]+l[4]);}}catch{}e.Target=`${s}`;}}else if(i){String(i)===sR?e.Type=ln.mysql:String(i)===lR?e.Type=ln.postgresql:String(i)===mR?e.Type=ln.mongodb:String(i)===_R?e.Type=ln.redis:Dle(String(i))?e.Type=ln.Sql:e.Type=String(i);let a=t.attributes[Sa],o=t.attributes[Ta];a?e.Data=String(a):o&&(e.Data=String(o));let s=v_(t.attributes),c=t.attributes[Ea];s?e.Target=c?`${s}|${c}`:`${s}`:e.Target=c?`${c}`:`${i}`;}else if(n){n===ln.Wcf?e.Type=ln.Wcf:e.Type=ln.Grpc;let a=t.attributes[po];a&&(e.ResultCode=Number(a));let o=v_(t.attributes);o?e.Target=`${o}`:n&&(e.Target=String(n));}return e}function WO(t){let e=KO(t.attributes);return JO(t)?{Message:String(t.attributes[Wn]),StackTrace:String(t.attributes[rs]),CustomDimensions:e}:{Message:String(t.body),CustomDimensions:e}}function N1(t,e){return Wa(t)&&e?{documentType:Ga.Exception,exceptionMessage:t.Message,exceptionType:e,properties:O1(t.CustomDimensions)}:{documentType:Ga.Trace,message:t.Message,properties:O1(t.CustomDimensions)}}function Ya(t){return t.Url!==void 0}function Il(t){return t.Target!==void 0}function Cle(t){return t.Message!==void 0&&t.StackTrace===void 0}function Wa(t){return t.StackTrace!==void 0}function xle(t){let e={documentType:Ga.Request};return Ya(t)?e={documentType:Ga.Request,name:t.Name,url:t.Url,responseCode:String(t.ResponseCode),duration:Ale(t.Duration)}:Il(t)&&(e={documentType:Ga.RemoteDependency,name:t.Name,commandName:t.Data,resultCode:String(t.ResultCode),duration:Ale(t.Duration)}),e.properties=O1(t.CustomDimensions),e}function KO(t){let e=new Map;if(t)for(let r of Object.keys(t))r.startsWith("_MS.")||yle.includes(r)||vle.includes(r)||e.set(r,String(t[r]));return e}function O1(t){let e=[];return t.forEach((r,i)=>{e.push({key:i,value:r});}),e}function Ile(t){if(!t)return "";if(b1(t)){let r=wle(t);if(r)return String(r);{let i=u3e(t),n=d3e(t);if(i&&n){let a=p3e(t);if(a)return `${i}://${a}${n}`;{let o=f3e(t);if(o){let s=P1(t);if(s)return `${i}://${s}:${o}${n}`;{let c=l3e(t);if(c)return `${i}://${c}:${o}${n}`}}}}}}return ""}function ZO(){return (Date.now()+621355968e5)*1e4}function XO(t){let e=t.split(":");if(e.length!==3)return NaN;let r=parseFloat(e[2]),i=parseFloat(e[1]),n=e[0].split(".");if(n.length!==2)return NaN;let a=parseFloat(n[1]),o=parseFloat(n[0]);return isNaN(o)||isNaN(a)||isNaN(i)||isNaN(r)?NaN:r*1e3+i*6e4+a*36e5+o*864e5}function l3e(t){if(t)return String(t[Ia]||t[ya])}function Mle(t){if(t)return String(t[Da]||t[Xd])}function wle(t){return t?String(t[wa]||t[Ra]||""):""}function b1(t){if(t)return String(t[Ca]||t[Aa])}function A_(t){if(t)return String(t[xa]||t[Na])}function u3e(t){if(t)return String(t[La]||t[Zd])}function d3e(t){return t?t[Ai]?String(t[Ai]):t[fo]?String(t[fo]):String(t[Kd]||""):""}function p3e(t){if(t)return String(t[Ma]||t[Oa])}function P1(t){return t?String(t[ns]||t[uo]||""):""}function Lle(t){return t?String(t[is]||t[tR]||""):""}function f3e(t){if(t)return String(t[Pa]||t[is]||t[Wd])}function Ule(t){let e=eN(t.resource);e.metricId=Qn.REQUEST_DURATION;let r=String(A_(t.attributes));return e.requestResultCode=r,e.requestSuccess=t.status.code!==Qe.ERROR&&(Number(r)||0)<400?"True":"False",tN(t)&&(e.operationSynthetic="True"),Vle(e)}function kle(t){let e=eN(t.resource);e.metricId=Qn.DEPENDENCIES_DURATION;let r=String(A_(t.attributes));return e.dependencyTarget=v_(t.attributes),e.dependencyResultCode=r,e.dependencyType="http",e.dependencySuccess=t.status.code!==Qe.ERROR?"True":"False",tN(t)&&(e.operationSynthetic="True"),Vle(e)}function x1(t){let e=eN(t);return e.metricId=Qn.EXCEPTIONS_COUNT,e}function I1(t){let e=eN(t);return e.metricId=Qn.TRACES_COUNT,e}function eN(t){let e={};return e.IsAutocollected="True",t&&(e.cloudRoleName=M1(t),e.cloudRoleInstance=w1(t)),e}function v_(t){if(!t)return "";let e=t[va],r=Lle(t),i=P1(t);return e?String(e):r&&i?`${i}:${r}`:i?String(i):""}function Dle(t){return t===cR||t===dR||t===pR||t===oR||t===aR||t===fR||t===iR||t===uR||t===hR}function JO(t){let e=t.attributes["_MS.baseType"];return e&&e==="ExceptionData"?true:!!(t.attributes[Wn]||t.attributes[Yn])}function $le(t){let e=t.attributes["_MS.baseType"];return e&&e==="MessageData"?true:!t.attributes[Wn]&&!t.attributes[Yn]}function tN(t){let e=String(Mle(t.attributes));return !!(e!==null&&e.includes("AlwaysOn"))}function Vle(t){let e={};for(let r in t)e[ele[r]]=t[r];return e}function Ble(){return us__namespace.default?.memoryUsage?us__namespace.default.memoryUsage.rss():(Ee.getInstance().debug("process.memoryUsage is not available"),0)}function zle(t,e){let r=mp__namespace.default.cpus().length,i=us__namespace.default.cpuUsage(e),n=us__namespace.default.hrtime.bigint()-t,a=(i.user+i.system)/1e3,o=n===BigInt(0)?1:Number(n)/1e6;return r=r===0?1:r,a/o/r*100}function M1(t){let e="",r=t.attributes[RR],i=t.attributes[OR];if(r)if(String(r).startsWith("unknown_service"))i?e=`${i}.${r}`:e=String(r);else return i?`${i}.${r}`:String(r);let n=t.attributes[SR];if(n)return String(n);let a=t.attributes[ER];if(a)return String(a);let o=t.attributes[TR];if(o)return String(o);let s=t.attributes[vR];if(s)return String(s);let c=t.attributes[AR];if(c)return String(c);let l=t.attributes[yR];return l?String(l):e}function w1(t){let e=t.attributes[gR];if(e)return String(e);let r=t.attributes[NR];return r?String(r):mp__namespace.default&&mp__namespace.default.hostname()}var rN=class{_config;_collectionInterval=6e4;_meterProvider;_azureExporter;_metricReader;_meter;_incomingRequestDurationHistogram;_outgoingRequestDurationHistogram;_exceptionsCounter;_tracesCounter;constructor(e,r){this._config=e,this._azureExporter=new ls(this._config.azureMonitorExporterOptions);let i={exporter:this._azureExporter,exportIntervalMillis:r?.collectionInterval||this._collectionInterval};this._metricReader=new Yt(i);let n={resource:this._config.resource,readers:[this._metricReader]};this._meterProvider=new vr(n),this._meter=this._meterProvider.getMeter("AzureMonitorStandardMetricsMeter"),this._incomingRequestDurationHistogram=this._meter.createHistogram(Qn.REQUEST_DURATION,{valueType:Me.DOUBLE}),this._outgoingRequestDurationHistogram=this._meter.createHistogram(Qn.DEPENDENCIES_DURATION,{valueType:Me.DOUBLE}),this._exceptionsCounter=this._meter.createCounter(Qn.EXCEPTIONS_COUNT,{valueType:Me.INT}),this._tracesCounter=this._meter.createCounter(Qn.TRACES_COUNT,{valueType:Me.INT});}shutdown(){this._meterProvider.shutdown();}async flush(){await this._meterProvider.forceFlush();}getMeterProvider(){return this._meterProvider}markSpanAsProcessed(e){e.kind===ge.CLIENT?e.setAttributes({"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"}):e.kind===ge.SERVER&&e.setAttributes({"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});}recordSpan(e){let r=e.duration[0];e.kind===ge.SERVER?this._incomingRequestDurationHistogram.record(r,Ule(e)):this._outgoingRequestDurationHistogram.record(r,kle(e)),e.events&&e.events.forEach(i=>{i.attributes=i.attributes||{},i.name==="exception"?(i.attributes["_MS.ProcessedByMetricExtractors"]="(Name:'Exceptions', Ver:'1.1')",this._exceptionsCounter.add(1,x1(e.resource))):(i.attributes["_MS.ProcessedByMetricExtractors"]="(Name:'Traces', Ver:'1.1')",this._tracesCounter.add(1,I1(e.resource)));});}recordLog(e){tN(e)&&e.setAttribute("operation/synthetic","True"),JO(e)?(e.setAttribute("_MS.ProcessedByMetricExtractors","(Name:'Exceptions', Ver:'1.1')"),this._exceptionsCounter.add(1,x1(e.resource))):$le(e)&&(e.setAttribute("_MS.ProcessedByMetricExtractors","(Name:'Traces', Ver:'1.1')"),this._tracesCounter.add(1,I1(e.resource)));}};Wt();P();Gi();P();Wt();Q();P();var m3e="https://monitor.azure.com//.default",hp=class{quickpulseClient;quickpulseClientOptions;instrumentationKey;endpointUrl;constructor(e){this.endpointUrl=e.endpointUrl,this.quickpulseClientOptions={endpoint:this.endpointUrl},this.instrumentationKey=e.instrumentationKey,e.credential&&(this.quickpulseClientOptions.credential=e.credential,e.credentialScopes?this.quickpulseClientOptions.credentialScopes=e.credentialScopes:this.quickpulseClientOptions.credentialScopes=[m3e]),this.quickpulseClient=new E_(this.quickpulseClientOptions),this.quickpulseClient.pipeline.removePolicy({name:o_});}async isSubscribed(e){try{return await this.quickpulseClient.isSubscribed(this.endpointUrl,this.instrumentationKey,e)}catch(r){let i=r;T.info("Failed to ping Quickpulse service",i.message);}}async publish(e){try{return await this.quickpulseClient.publish(this.endpointUrl,this.instrumentationKey,e)}catch(r){let i=r;T.warn("Failed to post Quickpulse service",i.message);}}handlePermanentRedirect(e){if(e){let r=new x6e__default.default.URL(e);r&&r.host&&(this.endpointUrl="https://"+r.host);}}};var nN=class{sender;postCallback;getDocumentsFn;baseMonitoringDataPoint;etag;getErrorsFn;getDerivedMetricValuesFn;constructor(e){this.sender=new hp({endpointUrl:e.endpointUrl,instrumentationKey:e.instrumentationKey,credential:e.credential,credentialScopes:e.credentialScopes}),this.postCallback=e.postCallback,this.getDocumentsFn=e.getDocumentsFn,this.baseMonitoringDataPoint=e.baseMonitoringDataPoint,this.getErrorsFn=e.getErrorsFn,this.etag="",this.getDerivedMetricValuesFn=e.getDerivedMetricValuesFn,T.debug("QuickpulseMetricExporter was successfully setup");}async export(e,r){T.info("Exporting Live metrics(s). Converting to envelopes...");let i={monitoringDataPoints:Nle(e,this.baseMonitoringDataPoint,this.getDocumentsFn(),this.getErrorsFn(),this.getDerivedMetricValuesFn()),transmissionTime:ZO(),configurationEtag:this.etag};await pe.with(Er(pe.active()),async()=>{try{this.postCallback(await this.sender.publish(i)),r({code:W.SUCCESS});}catch{this.postCallback(void 0),r({code:W.FAILED});}});}async shutdown(){return T.info("QuickpulseMetricExporter shutting down"),Promise.resolve()}selectAggregationTemporality(e){return e===le.UP_DOWN_COUNTER||e===le.OBSERVABLE_UP_DOWN_COUNTER?mt.CUMULATIVE:mt.DELTA}async forceFlush(){return Promise.resolve()}getSender(){return this.sender}setEtag(e){this.etag=e;}};P();var Ka=class t{static FIELDS_SEPARATOR=";";static FIELD_KEY_VALUE_SEPARATOR="=";static parse(e){if(!e)return {};let r=e.split(t.FIELDS_SEPARATOR),i=true,n=r.reduce((a,o)=>{let s=o.split(t.FIELD_KEY_VALUE_SEPARATOR);if(s.length===2){let c=s[0].toLowerCase(),l=s[1];return {...a,[c]:l}}return T.error("Connection string key-value pair is invalid: Entire connection string will be discarded"),i=false,a},{});if(i&&Object.keys(n).length>0){if(n.endpointsuffix){let a=n.location?`${n.location}.`:"";n.ingestionendpoint=n.ingestionendpoint||`https://${a}dc.${n.endpointsuffix}`,n.liveendpoint=n.liveendpoint||`https://${a}live.${n.endpointsuffix}`;}n.ingestionendpoint=n.ingestionendpoint?t.sanitizeUrl(n.ingestionendpoint):gle,n.liveendpoint=n.liveendpoint?t.sanitizeUrl(n.liveendpoint):y_,n.authorization&&n.authorization.toLowerCase()!=="ikey"&&T.warn("Connection String contains an unsupported 'Authorization' value. Defaulting to 'Authorization=ikey'.");}else T.error("An invalid connection string was passed in. There may be telemetry loss");return n}static sanitizeUrl(e){let r=e.trim();return r.indexOf("https://")<0&&(r=r.replace("http://","https://")),r[r.length-1]==="/"&&(r=r.slice(0,-1)),r}static validateInstrumentationKey(e){if(e.startsWith("InstrumentationKey=")){let n=e.indexOf("InstrumentationKey=")+19,a=e.indexOf(";",n);e=e.substring(n,a);}let r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$";return new RegExp(r).test(e)}};Q();var L1,D1=class{initializedByShim=false;currentStatsbeatInstrumentations={};currentStatsbeatFeatures={};constructor(){try{JSON.parse(process.env[qa]||"{}").feature&T_.SHIM&&(this.initializedByShim=!0);}catch(e){Ee.getInstance().error("Failed to parse statsbeat config environment variable.",e);}}setStatsbeatFeatures=(e,r)=>{let i;try{i=JSON.parse(process.env[qa]||"{}");}catch(c){Ee.getInstance().error("Failed to parse statsbeat config environment variable.",c);}this.currentStatsbeatInstrumentations={...this.currentStatsbeatInstrumentations,...e},this.currentStatsbeatFeatures={...this.currentStatsbeatFeatures,...r},e={...this.currentStatsbeatInstrumentations,amqplib:!!(i.instrumentation&ee.AMQPLIB),cucumber:!!(i.instrumentation&ee.CUCUMBER),dataloader:!!(i.instrumentation&ee.DATALOADER),fs:!!(i.instrumentation&ee.FS),lruMemoizer:!!(i.instrumentation&ee.LRU_MEMOIZER),mongoose:!!(i.instrumentation&ee.MONGOOSE),runtimeNode:!!(i.instrumentation&ee.RUNTIME_NODE),socketIo:!!(i.instrumentation&ee.SOCKET_IO),tedious:!!(i.instrumentation&ee.TEDIOUS),undici:!!(i.instrumentation&ee.UNDICI),cassandra:!!(i.instrumentation&ee.CASSANDRA),connect:!!(i.instrumentation&ee.CONNECT),dns:!!(i.instrumentation&ee.DNS),express:!!(i.instrumentation&ee.EXPRESS),fastify:!!(i.instrumentation&ee.FASTIFY),genericPool:!!(i.instrumentation&ee.GENERIC_POOL),graphql:!!(i.instrumentation&ee.GRAPHQL),hapi:!!(i.instrumentation&ee.HAPI),ioredis:!!(i.instrumentation&ee.IOREDIS),knex:!!(i.instrumentation&ee.KNEX),koa:!!(i.instrumentation&ee.KOA),memcached:!!(i.instrumentation&ee.MEMCACHED),mysql2:!!(i.instrumentation&ee.MYSQL2),nestjsCore:!!(i.instrumentation&ee.NESTJS_CORE),net:!!(i.instrumentation&ee.NET),pino:!!(i.instrumentation&ee.PINO),restify:!!(i.instrumentation&ee.RESTIFY),router:!!(i.instrumentation&ee.ROUTER)};let n=ee.NONE,a=Object.entries(e).map(c=>({option:c[0],value:c[1]}));for(let c=0;c<a.length;c++)a[c].value&&(n|=2**c);let o=T_.NONE;this.initializedByShim?this.currentStatsbeatFeatures.shim=true:this.currentStatsbeatFeatures.distro=true,r.liveMetrics&&(this.currentStatsbeatFeatures.liveMetrics=true);let s=Object.entries(this.currentStatsbeatFeatures).map(c=>({option:c[0],value:c[1]}));for(let c=0;c<s.length;c++)s[c].value&&(o|=hle.get(s[c].option));try{let c=Number(process.env[qa]);isNaN(c)||(o|=c),process.env[qa]=JSON.stringify({instrumentation:n,feature:o});}catch(c){Ee.getInstance().error("Failed call to JSON.stringify.",c);}}};function iN(){return L1||(L1=new D1),L1}var oN=class{renameExceptionFieldNamesForFiltering(e){e.filters.forEach(r=>{r.fieldName.startsWith("Exception.")&&(r.fieldName=r.fieldName.replace("Exception.",""));});}checkMetricFilters(e,r){if(e.filterGroups.length===0)return  true;let i=false;return e.filterGroups.forEach(n=>{i=i||this.checkFilterConjunctionGroup(n,r);}),i}checkFilterConjunctionGroup(e,r){for(let i of e.filters)if(!this.checkFilter(i,r))return  false;return  true}checkFilter(e,r){if(e.fieldName==="*")return this.checkAnyFieldFilter(e,r);if(e.fieldName.startsWith("CustomDimensions."))return this.checkCustomDimFilter(e,r);{let i;if(Ya(r))i=r[e.fieldName];else if(Il(r))i=r[e.fieldName];else if(Wa(r))i=r[e.fieldName];else if(Cle(r))i=r[e.fieldName];else return  false;if(e.fieldName===bi.Success.toString()){if(e.predicate===rt.Equal.toString())return i===(e.comparand.toLowerCase()==="true");if(e.predicate===rt.NotEqual.toString())return i!==(e.comparand.toLowerCase()==="true")}else if(e.fieldName===un.ResultCode.toString()||e.fieldName===bi.ResponseCode.toString()||e.fieldName===un.Duration.toString()){let n=e.fieldName===un.Duration.toString()?XO(e.comparand):parseFloat(e.comparand);switch(e.predicate){case rt.Equal.toString():return i===n;case rt.NotEqual.toString():return i!==n;case rt.GreaterThan.toString():return i>n;case rt.GreaterThanOrEqual.toString():return i>=n;case rt.LessThan.toString():return i<n;case rt.LessThanOrEqual.toString():return i<=n;default:return  false}}else return this.stringCompare(i,e.comparand,e.predicate)}return  false}checkAnyFieldFilter(e,r){let i=Object.keys(r);for(let n of i)if(n==="CustomDimensions"){for(let a of r.CustomDimensions.values())if(this.stringCompare(a,e.comparand,e.predicate))return  true}else {let a=String(r[n]);if(this.stringCompare(a,e.comparand,e.predicate))return  true}return  false}checkCustomDimFilter(e,r){let i=e.fieldName.replace("CustomDimensions.",""),n;if(r.CustomDimensions.has(i))n=r.CustomDimensions.get(i);else return  false;return this.stringCompare(n,e.comparand,e.predicate)}stringCompare(e,r,i){switch(i){case rt.Equal.toString():return e===r;case rt.NotEqual.toString():return e!==r;case rt.Contains.toString():{let n=e.toLowerCase(),a=r.toLowerCase();return n.includes(a)}case rt.DoesNotContain.toString():{let n=e.toLowerCase(),a=r.toLowerCase();return !n.includes(a)}default:return  false}}};var Pi=class extends Error{constructor(e){super(e),this.name="TelemetryTypeError";}},At=class extends Error{constructor(e){super(e),this.name="UnexpectedFilterCreateError";}},R_=class extends Error{constructor(e){super(e),this.name="DuplicateMetricIdError";}},Ao=class extends Error{constructor(e){super(e),this.name="MetricFailureToCreateError";}};var _3e=new Set([bi.Url,bi.Name,un.Target,un.Type,un.Data,"Message","Exception.Message","Exception.StackTrace"]),sN=class{validateTelemetryType(e){if(e===yt.PerformanceCounter.toString())throw new Pi("The telemetry type PerformanceCounter was specified, but this distro does not send performance counters to quickpulse.");if(e===yt.Event.toString())throw new Pi("The telemetry type Event was specified, but this telemetry type is not supported via OpenTelemetry.");if(e===yt.Metric.toString())throw new Pi("The telemetry type Metric was specified, but this distro does not send custom live metrics to quickpulse.");if(!(e in yt))throw new Pi(`'${e}' is not a valid telemetry type.`)}checkCustomMetricProjection(e){if(e.projection.startsWith("CustomMetrics."))throw new At("The Projection of a customMetric property is not supported via OpenTelemetry.")}validateMetricFilters(e){e.filterGroups.forEach(r=>{r.filters.forEach(i=>{this.validateFieldNames(i.fieldName,e.telemetryType),this.validatePredicateAndComparand(i);});});}validateDocumentFilters(e){e.filters.filters.forEach(i=>{this.validateFieldNames(i.fieldName,e.telemetryType),this.validatePredicateAndComparand(i);});}isCustomDimOrAnyField(e){return e.startsWith("CustomDimensions.")||e==="*"}validateFieldNames(e,r){if(e==="")throw new At("A filter must have a field name.");if(e.startsWith("CustomMetrics."))throw new At("Filtering of a customMetric property is not supported via OpenTelemetry.");switch(r){case yt.Request.toString():if(!this.isCustomDimOrAnyField(e)&&!(e in bi))throw new At(`'${e}' is not a valid field name for the telemetry type Request.`);break;case yt.Dependency.toString():if(!this.isCustomDimOrAnyField(e)&&!(e in un))throw new At(`'${e}' is not a valid field name for the telemetry type Dependency.`);break;case yt.Exception.toString():if(!this.isCustomDimOrAnyField(e)&&e!=="Exception.Message"&&e!=="Exception.StackTrace")throw new At(`'${e}' is not a valid field name for the telemetry type Exception.`);break;case yt.Trace.toString():if(!this.isCustomDimOrAnyField(e)&&e!=="Message")throw new At(`'${e}' is not a valid field name for the telemetry type Trace.`);break;default:throw new Pi(`'${r}' is not a supported telemetry type.`)}}validatePredicateAndComparand(e){if(e.predicate in rt){if(e.comparand==="")throw new At(`A filter must have a comparand. FilterName: '${e.fieldName}' Predicate: '${e.predicate}' Comparand: '${e.comparand}'`);if(e.fieldName==="*"&&!(e.predicate===rt.Contains.toString()||e.predicate===rt.DoesNotContain.toString()))throw new At(`The predicate '${e.predicate}' is not supported for the field name '*'`);if(e.fieldName===un.ResultCode.toString()||e.fieldName===bi.ResponseCode.toString()||e.fieldName===un.Duration.toString()){if(e.predicate===rt.Contains.toString()||e.predicate===rt.DoesNotContain.toString())throw new At(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'`);if(e.fieldName===un.Duration.toString()){if(isNaN(XO(e.comparand)))throw new At(`The comparand '${e.comparand}' can't be converted to a double (ms).`)}else if(isNaN(parseFloat(e.comparand)))throw new At(`The comparand '${e.comparand}' can't be converted to a double.`)}else if(_3e.has(e.fieldName)||e.fieldName.startsWith("CustomDimensions.")){if(e.predicate===rt.GreaterThan.toString()||e.predicate===rt.GreaterThanOrEqual.toString()||e.predicate===rt.LessThan.toString()||e.predicate===rt.LessThanOrEqual.toString())throw new At(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'. If this is a custom dimension, it would be treated as string.`)}else if(e.fieldName===bi.Success.toString()){if(e.predicate!==rt.Equal.toString()&&e.predicate!==rt.NotEqual.toString())throw new At(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'.`);if(e.comparand=e.comparand.toLowerCase(),e.comparand!=="true"&&e.comparand!=="false")throw new At(`The comparand '${e.comparand}' is not a valid boolean value for the fieldName Success.`)}}else throw new At(`'${e.predicate}' is not a valid predicate.`)}};var aN=class{validationTimeErrors=[];runTimeErrors=[];constructor(){this.validationTimeErrors=[],this.runTimeErrors=[];}addValidationError(e){this.validationTimeErrors.push(e);}addRunTimeError(e){this.runTimeErrors.push(e);}getErrors(){return this.validationTimeErrors.concat(this.runTimeErrors)}clearRunTimeErrors(){this.runTimeErrors=[];}clearValidationTimeErrors(){this.validationTimeErrors=[];}};var cN=class{projectionMap;avgMap;constructor(){this.projectionMap=new Map,this.avgMap=new Map;}initDerivedMetricProjection(e){e.aggregation===pr.Min.toString()?this.projectionMap.set(e.id,[Number.MAX_VALUE,pr.Min]):e.aggregation===pr.Max.toString()?this.projectionMap.set(e.id,[Number.MIN_VALUE,pr.Max]):e.aggregation===pr.Sum.toString()?this.projectionMap.set(e.id,[0,pr.Sum]):(this.projectionMap.set(e.id,[0,pr.Avg]),this.avgMap.set(e.id,[0,0]));}calculateProjection(e,r){let i;if(e.projection==="Count()")i=1;else if(e.projection==="Duration")if(Ya(r)||Il(r))i=r.Duration;else throw new Ao("The projection Duration is not supported for the telemetry type Exception or Trace.");else if(e.projection.startsWith("CustomDimensions.")){let a=e.projection.replace("CustomDimensions.",""),o;if(r.CustomDimensions.has(a)){let s=parseFloat(r.CustomDimensions.get(a));if(isNaN(s))throw new Ao(`Could not calculate the projection because the custom dimension value '${r.CustomDimensions.get(a)}' for the dimension '${a}' is not a valid number.`);o=s;}else throw new Ao(`Could not calculate the projection because the custom dimension '${a}' was not found in the telemetry data.`);i=o;}else throw new Ao(`The projection '${e.projection}' is not supported in this SDK.`);let n=this.calculateAggregation(e.aggregation,e.id,i);this.projectionMap.set(e.id,[n,e.aggregation]);}getMetricValues(){let e=new Map;for(let[r,i]of this.projectionMap.entries()){let n;i[1]===pr.Min.toString()?(n=i[0]===Number.MAX_VALUE?0:i[0],i[0]=Number.MAX_VALUE):i[1]===pr.Max.toString()?(n=i[0]===Number.MIN_VALUE?0:i[0],i[0]=Number.MIN_VALUE):(n=i[0],i[0]=0,i[1]===pr.Avg.toString()&&this.avgMap.set(r,[0,0])),e.set(r,n);}return e}clearProjectionMaps(){this.projectionMap.clear(),this.avgMap.clear();}calculateAggregation(e,r,i){let n=this.projectionMap.get(r)[0];switch(e){case pr.Sum.toString():return n+i;case pr.Min.toString():return Math.min(n,i);case pr.Max.toString():return Math.max(n,i);case pr.Avg.toString():{let[a,o]=this.avgMap.get(r);return this.avgMap.set(r,[a+i,o+1]),(a+i)/(o+1)}default:throw new Ao(`The aggregation '${e}' is not supported in this SDK.`)}}};var Fle=1e3,E3e=2e4,Hle=5e3,S3e=6e4,Gle=6e4,lN=class{config;meterProvider;metricReader;meter;requestDurationGauge;dependencyDurationGauge;requestRateGauge;requestFailedRateGauge;dependencyRateGauge;dependencyFailedRateGauge;processPhysicalBytesGauge;percentProcessorTimeNormalizedGauge;exceptionsRateGauge;documents=[];pingInterval;postInterval;quickpulseExporter;pingSender;isCollectingData;lastSuccessTime=Date.now();handle;baseMonitoringDataPoint;totalRequestCount=0;totalFailedRequestCount=0;totalDependencyCount=0;totalFailedDependencyCount=0;totalExceptionCount=0;requestDuration=0;dependencyDuration=0;lastRequestDuration={count:0,duration:0,time:0};lastRequestRate={count:0,time:0};lastFailedRequestRate={count:0,time:0};lastDependencyDuration={count:0,duration:0,time:0};lastDependencyRate={count:0,time:0};lastFailedDependencyRate={count:0,time:0};lastExceptionRate={count:0,time:0};lastCpuUsage;lastHrTime;statsbeatOptionsUpdated=false;etag="";errorTracker=new aN;seenMetricIds=new Set;validDerivedMetrics=new Map;derivedMetricProjection=new cN;validator=new sN;filter=new oN;validDocumentFilterConjuctionGroupInfos=new Map;constructor(e){this.config=e;let i=new Hi().generateTraceId(),n=mp__namespace.default.hostname(),a=w1(this.config.resource),o=M1(this.config.resource),s=Rle();this.baseMonitoringDataPoint={version:s,invariantVersion:5,instance:a,roleName:o,machineName:n,streamId:i,performanceCollectionSupported:true,isWebApp:!!process.env.WEBSITE_SITE_NAME};let c=Ka.parse(this.config.azureMonitorExporterOptions.connectionString||process.env.APPLICATIONINSIGHTS_CONNECTION_STRING);this.pingSender=new hp({endpointUrl:c.liveendpoint||y_,instrumentationKey:c.instrumentationkey||"",credential:this.config.azureMonitorExporterOptions.credential,credentialScopes:c.aadaudience||this.config.azureMonitorExporterOptions.credentialScopes});let l={endpointUrl:c.liveendpoint||y_,instrumentationKey:c.instrumentationkey||"",credential:this.config.azureMonitorExporterOptions.credential,credentialScopes:c.aadaudience||this.config.azureMonitorExporterOptions.credentialScopes,postCallback:this.quickPulseDone.bind(this),getDocumentsFn:this.getDocuments.bind(this),getErrorsFn:this.getErrors.bind(this),getDerivedMetricValuesFn:this.getDerivedMetricValues.bind(this),baseMonitoringDataPoint:this.baseMonitoringDataPoint};this.quickpulseExporter=new nN(l),this.isCollectingData=false,this.pingInterval=Hle,this.postInterval=Fle,this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref(),this.lastCpuUsage=process.cpuUsage(),this.lastHrTime=process.hrtime.bigint();}shutdown(){this.meterProvider?.shutdown();}async goQuickpulse(){if(!this.isCollectingData){try{let e={transmissionTime:ZO(),monitoringDataPoint:this.baseMonitoringDataPoint,configurationEtag:this.etag};await pe.with(Er(pe.active()),async()=>{let r=await this.pingSender.isSubscribed(e);this.quickPulseDone(r);});}catch{this.quickPulseDone(void 0);}this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref();}this.isCollectingData&&this.activateMetrics({collectionInterval:this.postInterval});}async quickPulseDone(e){if(!e)this.isCollectingData?Date.now()-this.lastSuccessTime>=E3e&&(this.postInterval=Gle,this.deactivateMetrics(),this.activateMetrics({collectionInterval:this.postInterval})):Date.now()-this.lastSuccessTime>=S3e&&(this.pingInterval=Gle);else {this.postInterval=Fle,this.lastSuccessTime=Date.now(),this.isCollectingData=!!(e.xMsQpsSubscribed&&e.xMsQpsSubscribed==="true"),e.xMsQpsConfigurationEtag&&this.etag!==e.xMsQpsConfigurationEtag&&this.updateConfiguration(e),!this.isCollectingData&&this.meterProvider&&(this.etag="",this.deactivateMetrics(),this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref());let r=e.xMsQpsServiceEndpointRedirectV2;r&&(this.pingSender.handlePermanentRedirect(r),this.quickpulseExporter.getSender().handlePermanentRedirect(r));let i=e.xMsQpsServicePollingIntervalHint;i?this.pingInterval=Number(i):this.pingInterval=Hle;}}activateMetrics(e){if(this.meterProvider)return;this.statsbeatOptionsUpdated||(iN().setStatsbeatFeatures({},{liveMetrics:true}),this.statsbeatOptionsUpdated=true),this.totalDependencyCount=0,this.totalExceptionCount=0,this.totalFailedDependencyCount=0,this.totalFailedRequestCount=0,this.totalRequestCount=0,this.requestDuration=0,this.dependencyDuration=0,this.lastRequestDuration={count:0,duration:0,time:0},this.lastRequestRate={count:0,time:0},this.lastFailedRequestRate={count:0,time:0},this.lastDependencyDuration={count:0,duration:0,time:0},this.lastDependencyRate={count:0,time:0},this.lastFailedDependencyRate={count:0,time:0},this.lastExceptionRate={count:0,time:0};let r={exporter:this.quickpulseExporter,exportIntervalMillis:e?.collectionInterval};this.metricReader=new Yt(r);let i={resource:this.config.resource,readers:[this.metricReader]};this.meterProvider=new vr(i),this.meter=this.meterProvider.getMeter("AzureMonitorLiveMetricsMeter"),this.requestDurationGauge=this.meter.createObservableGauge(vt.REQUEST_DURATION,{valueType:Me.DOUBLE}),this.requestRateGauge=this.meter.createObservableGauge(vt.REQUEST_RATE,{valueType:Me.DOUBLE}),this.requestFailedRateGauge=this.meter.createObservableGauge(vt.REQUEST_FAILURE_RATE,{valueType:Me.DOUBLE}),this.dependencyDurationGauge=this.meter.createObservableGauge(vt.DEPENDENCY_DURATION,{valueType:Me.DOUBLE}),this.dependencyRateGauge=this.meter.createObservableGauge(vt.DEPENDENCY_RATE,{valueType:Me.DOUBLE}),this.dependencyFailedRateGauge=this.meter.createObservableGauge(vt.DEPENDENCY_FAILURE_RATE,{valueType:Me.DOUBLE}),this.processPhysicalBytesGauge=this.meter.createObservableGauge(vt.PHYSICAL_BYTES,{valueType:Me.INT}),this.percentProcessorTimeNormalizedGauge=this.meter.createObservableGauge(vt.PROCESSOR_TIME_NORMALIZED,{valueType:Me.DOUBLE}),this.exceptionsRateGauge=this.meter.createObservableGauge(vt.EXCEPTION_RATE,{valueType:Me.DOUBLE}),this.requestDurationGauge.addCallback(this.getRequestDuration.bind(this)),this.requestRateGauge.addCallback(this.getRequestRate.bind(this)),this.requestFailedRateGauge.addCallback(this.getRequestFailedRate.bind(this)),this.dependencyDurationGauge.addCallback(this.getDependencyDuration.bind(this)),this.dependencyRateGauge.addCallback(this.getDependencyRate.bind(this)),this.dependencyFailedRateGauge.addCallback(this.getDependencyFailedRate.bind(this)),this.exceptionsRateGauge.addCallback(this.getExceptionRate.bind(this)),this.processPhysicalBytesGauge.addCallback(this.getPhysicalMemory.bind(this)),this.percentProcessorTimeNormalizedGauge.addCallback(this.getProcessorTimeNormalized.bind(this));}deactivateMetrics(){this.documents=[],this.validDocumentFilterConjuctionGroupInfos.clear(),this.errorTracker.clearRunTimeErrors(),this.errorTracker.clearValidationTimeErrors(),this.validDerivedMetrics.clear(),this.derivedMetricProjection.clearProjectionMaps(),this.seenMetricIds.clear(),this.meterProvider?.shutdown(),this.meterProvider=void 0;}async flush(){await this.meterProvider?.forceFlush();}getMeterProvider(){return this.meterProvider}getDocuments(){let e=this.documents;return this.documents=[],e}getErrors(){let e=this.errorTracker.getErrors();return this.errorTracker.clearRunTimeErrors(),e}getDerivedMetricValues(){return this.derivedMetricProjection.getMetricValues()}addDocument(e){e&&(this.documents.length>20&&this.documents.shift(),this.documents.push(e));}recordSpan(e){if(this.isCollectingData){let r=ble(e),i,n;Ya(r)?(i=this.validDocumentFilterConjuctionGroupInfos.get(yt.Request)||new Map,n=this.validDerivedMetrics.get(yt.Request)||[]):(i=this.validDocumentFilterConjuctionGroupInfos.get(yt.Dependency)||new Map,n=this.validDerivedMetrics.get(yt.Dependency)||[]),this.applyDocumentFilters(i,r),this.checkMetricFilterAndCreateProjection(n,r);let a=Ln(e.duration),o=e.status.code!==Qe.ERROR;e.kind===ge.SERVER||e.kind===ge.CONSUMER?(this.totalRequestCount++,this.requestDuration+=a,o||this.totalFailedRequestCount++):(this.totalDependencyCount++,this.dependencyDuration+=a,o||this.totalFailedDependencyCount++),e.events&&e.events.forEach(s=>{if(s.attributes=s.attributes||{},s.name==="exception"){let c=Ple(s.attributes,e.attributes);i=this.validDocumentFilterConjuctionGroupInfos.get(yt.Exception)||new Map,this.applyDocumentFilters(i,c,s.attributes[Yn]),n=this.validDerivedMetrics.get(yt.Exception)||[],this.checkMetricFilterAndCreateProjection(n,c),this.totalExceptionCount++;}});}}recordLog(e){if(this.isCollectingData){let r=WO(e),i,n;Wa(r)?(n=this.validDocumentFilterConjuctionGroupInfos.get(yt.Exception)||new Map,this.applyDocumentFilters(n,r,e.attributes[Yn]),i=this.validDerivedMetrics.get(yt.Exception)||[],this.totalExceptionCount++):(n=this.validDocumentFilterConjuctionGroupInfos.get(yt.Trace)||new Map,this.applyDocumentFilters(n,r),i=this.validDerivedMetrics.get(yt.Trace)||[]),this.checkMetricFilterAndCreateProjection(i,r);}}getRequestDuration(e){let r=+new Date,i=this.totalRequestCount-this.lastRequestDuration.count||0,n=this.requestDuration-this.lastRequestDuration.duration||0;if(r-this.lastRequestDuration.time>0){let o=n/i||0;e.observe(o);}this.lastRequestDuration={count:this.totalRequestCount,duration:this.requestDuration,time:r};}getRequestRate(e){let r=+new Date,i=this.totalRequestCount-this.lastRequestRate.count||0,n=r-this.lastRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastRequestRate={count:this.totalRequestCount,time:r};}getRequestFailedRate(e){let r=+new Date,i=this.totalFailedRequestCount-this.lastFailedRequestRate.count||0,n=r-this.lastFailedRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastFailedRequestRate={count:this.totalFailedRequestCount,time:r};}getDependencyDuration(e){let r=+new Date,i=this.totalDependencyCount-this.lastDependencyDuration.count||0,n=this.dependencyDuration-this.lastDependencyDuration.duration||0;if(r-this.lastDependencyDuration.time>0){let o=n/i||0;e.observe(o);}this.lastDependencyDuration={count:this.totalDependencyCount,duration:this.dependencyDuration,time:r};}getDependencyRate(e){let r=+new Date,i=this.totalDependencyCount-this.lastDependencyRate.count||0,n=r-this.lastDependencyRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastDependencyRate={count:this.totalDependencyCount,time:r};}getDependencyFailedRate(e){let r=+new Date,i=this.totalFailedDependencyCount-this.lastFailedDependencyRate.count||0,n=r-this.lastFailedDependencyRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastFailedDependencyRate={count:this.totalFailedDependencyCount,time:r};}getExceptionRate(e){let r=+new Date,i=this.totalExceptionCount-this.lastExceptionRate.count||0,n=r-this.lastExceptionRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastExceptionRate={count:this.totalExceptionCount,time:r};}getPhysicalMemory(e){let r=Ble();e.observe(r);}getProcessorTimeNormalized(e){if(process&&process.hrtime){let r=zle(this.lastHrTime,this.lastCpuUsage);e.observe(r),this.lastHrTime=process.hrtime.bigint(),this.lastCpuUsage=process.cpuUsage();}else Ee.getInstance().debug("Getting Normalized Processor Time Failed. No process available.");}updateConfiguration(e){this.etag=e.xMsQpsConfigurationEtag||"",this.quickpulseExporter.setEtag(this.etag),this.errorTracker.clearValidationTimeErrors(),this.validDocumentFilterConjuctionGroupInfos.clear(),this.validDerivedMetrics.clear(),this.derivedMetricProjection.clearProjectionMaps(),this.seenMetricIds.clear(),this.parseDocumentFilterConfiguration(e),this.parseMetricFilterConfiguration(e);}parseDocumentFilterConfiguration(e){!e?.documentStreams||typeof e.documentStreams.forEach!="function"||e.documentStreams.forEach(r=>{r.documentFilterGroups.forEach(i=>{try{this.validator.validateTelemetryType(i.telemetryType),this.validator.validateDocumentFilters(i),this.filter.renameExceptionFieldNamesForFiltering(i.filters),this.validDocumentFilterConjuctionGroupInfos.has(i.telemetryType)||this.validDocumentFilterConjuctionGroupInfos.set(i.telemetryType,new Map);let n=this.validDocumentFilterConjuctionGroupInfos.get(i.telemetryType);n?.has(r.id)?n.get(r.id)?.push(i.filters):n?.set(r.id,[i.filters]);}catch(n){let a={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};n instanceof Pi?a.collectionConfigurationErrorType="DocumentTelemetryTypeUnsupported":n instanceof At&&(a.collectionConfigurationErrorType=ja.DocumentStreamFailureToCreateFilterUnexpected),n instanceof Error&&(a.message=n.message,a.fullException=n.stack||"");let o=[];o.push({key:"DocumentStreamInfoId",value:r.id}),o.push({key:"ETag",value:this.etag}),a.data=o,this.errorTracker.addValidationError(a);}});});}applyDocumentFilters(e,r,i){let n=new Set;if(e.forEach((a,o)=>{a.forEach(s=>{this.filter.checkFilterConjunctionGroup(s,r)&&n.add(o);});}),n.size>0||e.size===0){let a;Ya(r)||Il(r)?a=xle(r):Wa(r)&&i?a=N1(r,i):a=N1(r),a.documentStreamIds=[...n],this.addDocument(a);}}parseMetricFilterConfiguration(e){!e?.documentStreams||typeof e.documentStreams.forEach!="function"||e.metrics.forEach(r=>{try{if(!this.seenMetricIds.has(r.id))this.seenMetricIds.add(r.id),this.validator.validateTelemetryType(r.telemetryType),this.validator.checkCustomMetricProjection(r),this.validator.validateMetricFilters(r),r.filterGroups.forEach(i=>{this.filter.renameExceptionFieldNamesForFiltering(i);}),this.validDerivedMetrics.has(r.telemetryType)?this.validDerivedMetrics.get(r.telemetryType)?.push(r):this.validDerivedMetrics.set(r.telemetryType,[r]);else throw new R_(`Duplicate Metric Id: ${r.id}`);this.derivedMetricProjection.initDerivedMetricProjection(r);}catch(i){let n={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};i instanceof Pi?n.collectionConfigurationErrorType=ja.MetricTelemetryTypeUnsupported:i instanceof At?n.collectionConfigurationErrorType=ja.MetricFailureToCreateFilterUnexpected:i instanceof R_&&(n.collectionConfigurationErrorType=ja.MetricDuplicateIds),i instanceof Error&&(n.message=i.message,n.fullException=i.stack||"");let a=[];a.push({key:"MetricId",value:r.id}),a.push({key:"ETag",value:this.etag}),n.data=a,this.errorTracker.addValidationError(n);}});}checkMetricFilterAndCreateProjection(e,r){e.forEach(i=>{if(this.filter.checkMetricFilters(i,r))try{this.derivedMetricProjection.calculateProjection(i,r);}catch(n){let a={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};if(n instanceof Ao){a.collectionConfigurationErrorType=ja.MetricFailureToCreate,n instanceof Error&&(a.message=n.message,a.fullException=n.stack||"");let o=[];o.push({key:"MetricId",value:i.id}),o.push({key:"ETag",value:this.etag}),a.data=o,this.errorTracker.addRunTimeError(a);}}});}};P();Wt();var uN=class{internalConfig;collectionInterval=6e4;meterProvider;azureExporter;meter;requestDurationHistogram;requestRateGauge;requestRateGaugeCallback;memoryPrivateBytesGauge;memoryPrivateBytesGaugeCallback;memoryAvailableBytesGauge;memoryAvailableBytesGaugeCallback;processorTimeGauge;processorTimeGaugeCallback;processTimeNormalizedGauge;processTimeNormalizedGaugeCallback;processTimeGauge;processTimeGaugeCallback;exceptionCountGauge;exceptionCountGaugeCallback;lastExceptionRate={count:0,time:0};totalCount=0;intervalExecutionTime=0;lastRequestRate;lastAppCpuUsage;lastHrtime;lastCpus;lastCpusProcess;totalExceptionCount=0;constructor(e,r){this.internalConfig=e,this.lastCpus=mp__namespace.default.cpus(),this.lastCpusProcess=mp__namespace.default.cpus(),this.lastAppCpuUsage=us__namespace.default.cpuUsage(),this.lastHrtime=us__namespace.default.hrtime(),this.lastRequestRate={count:this.totalCount,time:+new Date,executionInterval:this.intervalExecutionTime},this.azureExporter=new ls(this.internalConfig.azureMonitorExporterOptions);let i={exporter:this.azureExporter,exportIntervalMillis:r?.collectionInterval||this.collectionInterval},n={readers:[new Yt(i)],resource:this.internalConfig.resource};this.meterProvider=new vr(n),this.meter=this.meterProvider.getMeter("AzureMonitorPerformanceCountersMeter"),this.lastRequestRate={count:0,time:0,executionInterval:0},this.requestDurationHistogram=this.meter.createHistogram(Ni.REQUEST_DURATION,{valueType:Me.DOUBLE}),this.requestRateGauge=this.meter.createObservableGauge(Ni.REQUEST_RATE,{description:"Incoming Requests Average Execution Time",valueType:Me.DOUBLE}),this.memoryPrivateBytesGauge=this.meter.createObservableGauge(Ni.PRIVATE_BYTES,{description:"Amount of memory process has used in bytes",valueType:Me.INT}),this.memoryAvailableBytesGauge=this.meter.createObservableGauge(Ni.AVAILABLE_BYTES,{description:"Amount of available memory in bytes",valueType:Me.INT}),this.processorTimeGauge=this.meter.createObservableGauge(Ni.PROCESSOR_TIME,{description:"Processor time as a percentage",valueType:Me.DOUBLE}),this.processTimeGauge=this.meter.createObservableGauge(Ni.PROCESS_TIME_STANDARD,{description:"Process CPU usage as a percentage",valueType:Me.DOUBLE}),this.processTimeNormalizedGauge=this.meter.createObservableGauge(Ni.PROCESS_TIME_NORMALIZED,{description:"Process CPU usage normalized as a percentage",valueType:Me.DOUBLE}),this.exceptionCountGauge=this.meter.createObservableGauge(Ni.EXCEPTION_RATE,{description:"Exception Rate",valueType:Me.DOUBLE}),this.requestRateGaugeCallback=this.getRequestRate.bind(this),this.memoryPrivateBytesGaugeCallback=this.getPrivateMemory.bind(this),this.memoryAvailableBytesGaugeCallback=this.getAvailableMemory.bind(this),this.processorTimeGaugeCallback=this.getProcessorTime.bind(this),this.processTimeGaugeCallback=this.getProcessTime.bind(this),this.processTimeNormalizedGaugeCallback=this.getNormalizedProcessTime.bind(this),this.exceptionCountGaugeCallback=this.getExceptionRate.bind(this),this.memoryPrivateBytesGauge.addCallback(this.memoryPrivateBytesGaugeCallback),this.memoryAvailableBytesGauge.addCallback(this.memoryAvailableBytesGaugeCallback),this.processTimeGauge.addCallback(this.processTimeGaugeCallback),this.processTimeNormalizedGauge.addCallback(this.processTimeNormalizedGaugeCallback),this.processorTimeGauge.addCallback(this.processorTimeGaugeCallback),this.requestRateGauge.addCallback(this.requestRateGaugeCallback),this.exceptionCountGauge.addCallback(this.exceptionCountGaugeCallback);}async shutdown(){return this.meterProvider.shutdown()}async flush(){return this.meterProvider.forceFlush()}getMeterProvider(){return this.meterProvider}recordSpan(e){if(e.kind!==ge.SERVER)return;this.totalCount++;let r=e.duration[0];this.intervalExecutionTime+=r,this.requestDurationHistogram.record(r),e.events&&e.events.forEach(i=>{i.attributes=i.attributes||{},i.name==="exception"&&this.totalExceptionCount++;});}recordLog(e){let r=WO(e);Wa(r)&&this.totalExceptionCount++;}getRequestRate(e){let r=+new Date,i=this.totalCount-this.lastRequestRate.count||0,n=r-this.lastRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastRequestRate={count:this.totalCount,time:r,executionInterval:this.lastRequestRate.executionInterval};}getPrivateMemory(e){us__namespace.default?.memoryUsage?e.observe(us__namespace.default.memoryUsage().rss):Ee.getInstance().debug("Couldn't report Private Memory. Process is not defined.");}getAvailableMemory(e){e.observe(mp__namespace.default.freemem());}getTotalCombinedCpu(e,r){let i=0,n=0,a=0,o=0,s=0;for(let l=0;e&&l<e.length;l++){let u=e[l],d=r[l],p=u.times,f=d.times,g=p.user-f.user;g=g>0?g:0,i+=g;let S=p.sys-f.sys;S=S>0?S:0,n+=S;let v=p.nice-f.nice;v=v>0?v:0,a+=v;let N=p.idle-f.idle;N=N>0?N:0,o+=N;let C=p.irq-f.irq;C=C>0?C:0,s+=C;}return {combinedTotal:i+n+a+o+s,totalUser:i,totalIdle:o}}getProcessorTime(e){let r=mp__namespace.default.cpus();if(r&&r.length&&this.lastCpus&&r.length===this.lastCpus.length){let i=this.getTotalCombinedCpu(r,this.lastCpus),n=i.combinedTotal>0?(i.combinedTotal-i.totalIdle)/i.combinedTotal*100:0;e.observe(n);}this.lastCpus=r;}getNormalizedProcessTime(e){let r=mp__namespace.default.cpus();if(r&&r.length&&this.lastCpusProcess&&r.length===this.lastCpusProcess.length){let i,n=us__namespace.default.cpuUsage(),a=us__namespace.default.hrtime(),o=n.user-this.lastAppCpuUsage.user+(n.system-this.lastAppCpuUsage.system)||0;if(typeof this.lastHrtime<"u"&&this.lastHrtime.length===2){let l=(a[0]-this.lastHrtime[0])*1e6+(a[1]-this.lastHrtime[1])/1e3||0;i=100*o/(l*r.length);}this.lastAppCpuUsage=n,this.lastHrtime=a;let s=this.getTotalCombinedCpu(r,this.lastCpusProcess),c=0;i!==void 0?c=i:c=s.totalUser/s.combinedTotal*100,e.observe(c);}this.lastCpusProcess=r;}getProcessTime(e){if(us__namespace.default){let r=mp__namespace.default.cpus();if(r&&r.length&&this.lastCpusProcess&&r.length===this.lastCpusProcess.length){let i,n=us__namespace.default.cpuUsage(),a=us__namespace.default.hrtime(),o=n.user-this.lastAppCpuUsage.user+(n.system-this.lastAppCpuUsage.system)||0;if(typeof this.lastHrtime<"u"&&this.lastHrtime.length===2){let l=(a[0]-this.lastHrtime[0])*1e6+(a[1]-this.lastHrtime[1])/1e3||0;i=100*o/l;}this.lastAppCpuUsage=n,this.lastHrtime=a;let s=this.getTotalCombinedCpu(r,this.lastCpusProcess),c=0;i!==void 0?c=i:c=s.totalUser/s.combinedTotal*100,e.observe(c);}this.lastCpusProcess=r;}else Ee.getInstance().debug("Couldn't report process time. Process is not defined.");}getExceptionRate(e){let r=+new Date,i=this.totalExceptionCount-this.lastExceptionRate.count||0,n=r-this.lastExceptionRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastExceptionRate={count:this.totalExceptionCount,time:r};}};var O_=class{_azureExporter;_metricReader;_standardMetrics;_performanceCounters;_liveMetrics;_config;_views;constructor(e){this._config=e,this._views=[],e.instrumentationOptions.azureSdk?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-azure-sdk"}),e.instrumentationOptions.http?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-http"}),e.instrumentationOptions.mongoDb?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-mongodb"}),e.instrumentationOptions.mySql?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-mysql"}),e.instrumentationOptions.postgreSql?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-pg"}),e.instrumentationOptions.redis4?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-redis-4"}),e.instrumentationOptions.redis?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-redis"}),this._azureExporter=new ls(this._config.azureMonitorExporterOptions);let i={exporter:this._azureExporter,exportIntervalMillis:this._config.metricExportIntervalMillis||6e4};this._metricReader=new Yt(i),this._config.enableStandardMetrics&&!process.env[Qce]&&(this._standardMetrics=new rN(this._config)),this._config.enableLiveMetrics&&(this._liveMetrics=new lN(this._config)),this._config.enablePerformanceCounters&&(this._performanceCounters=new uN(this._config));}getMetricReader(){return this._metricReader}getViews(){return this._views}markSpanAsProcessed(e){this._standardMetrics?.markSpanAsProcessed(e);}recordSpan(e){this._standardMetrics?.recordSpan(e),this._liveMetrics?.recordSpan(e),this._performanceCounters?.recordSpan(e);}recordLog(e){this._standardMetrics?.recordLog(e),this._liveMetrics?.recordLog(e),this._performanceCounters?.recordLog(e);}async shutdown(){this._standardMetrics?.shutdown(),this._liveMetrics?.shutdown(),this._performanceCounters?.shutdown();}};var jle=nn("opentelemetry-instrumentation-azure-sdk");var N_=class{emit(e){}},qle=new N_;var U1=class{getLogger(e,r,i){return new N_}},dN=new U1;var pN=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):qle}};var b_=class{getLogger(e,r,i){var n;return (n=this.getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new pN(this,e,r,i)}getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:dN}setDelegate(e){this._delegate=e;}getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};var fN=typeof globalThis=="object"?globalThis:global;var P_=Symbol.for("io.opentelemetry.js.api.logs"),_p=fN;function Yle(t,e,r){return i=>i===t?e:r}var k1=1;var hN=class t{constructor(){this._proxyLoggerProvider=new b_;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return _p[P_]?this.getLoggerProvider():(_p[P_]=Yle(k1,e,dN),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=_p[P_])===null||e===void 0?void 0:e.call(_p,k1))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete _p[P_],this._proxyLoggerProvider=new b_;}};var Wle=hN.getInstance();P();var Qle=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,T3e=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,y3e={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function eue(t,e,r){if(!v3e(t))return T.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=N3e(t);if(!i)return  false;let n=[],a=tue(i,e,n,r);return a&&!r?.includePrerelease?R3e(i,n):a}function v3e(t){return typeof t=="string"&&Qle.test(t)}function tue(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if($1(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=Y3e(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!$1(t,a,r,i))return  false;return  true}return $1(t,e,r,i)}function $1(t,e,r,i){if(e=O3e(e,i),e.includes(" "))return tue(t,e,r,i);{let n=b3e(e);return r.push(n),A3e(t,n)}}function A3e(t,e){if(e.invalid)return  false;if(!e.version||B1(e.version))return  true;let r=Zle(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=Zle(i,n);}return y3e[e.op]?.includes(r)}function R3e(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function O3e(t,e){return t=t.trim(),t=j3e(t,e),t=G3e(t),t=q3e(t,e),t=t.trim(),t}function Ur(t){return !t||t.toLowerCase()==="x"||t==="*"}function N3e(t){let e=t.match(Qle);if(!e){T.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function b3e(t){if(!t)return {};let e=t.match(T3e);if(!e)return T.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function B1(t){return t==="*"||t==="x"||t==="X"}function Kle(t){let e=parseInt(t,10);return isNaN(e)?t:e}function P3e(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function C3e(t,e){if(B1(t)||B1(e))return 0;let[r,i]=P3e(Kle(t),Kle(e));return r>i?1:r<i?-1:0}function Zle(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=C3e(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}var rue="[a-zA-Z0-9-]",nue="0|[1-9]\\d*",x3e=`\\d*[a-zA-Z-]${rue}*`,I3e="((?:<|>)?=?)",Xle=`(?:${nue}|${x3e})`,M3e=`(?:-(${Xle}(?:\\.${Xle})*))`,Jle=`${rue}+`,w3e=`(?:\\+(${Jle}(?:\\.${Jle})*))`,V1=`${nue}|x|X|\\*`,C_=`[v=\\s]*(${V1})(?:\\.(${V1})(?:\\.(${V1})(?:${M3e})?${w3e}?)?)?`,L3e=`^${I3e}\\s*${C_}$`,D3e=new RegExp(L3e),U3e=`^\\s*(${C_})\\s+-\\s+(${C_})\\s*$`,k3e=new RegExp(U3e),$3e="(?:~>?)",V3e=`^${$3e}${C_}$`,B3e=new RegExp(V3e),z3e="(?:\\^)",F3e=`^${z3e}${C_}$`,H3e=new RegExp(F3e);function G3e(t){let e=B3e;return t.replace(e,(r,i,n,a,o)=>{let s;return Ur(i)?s="":Ur(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:Ur(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function j3e(t,e){let r=H3e,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let l;return Ur(a)?l="":Ur(o)?l=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Ur(s)?a==="0"?l=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?l=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?l=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:l=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:l=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,l})}function q3e(t,e){let r=D3e;return t.replace(r,(i,n,a,o,s,c)=>{let l=Ur(a),u=l||Ur(o),d=u||Ur(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",l?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(u&&(o=0),s=0,n===">"?(n=">=",u?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",u?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):u?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function Y3e(t,e){let r=k3e;return t.replace(r,(i,n,a,o,s,c,l,u,d,p,f,g)=>(Ur(a)?n="":Ur(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:Ur(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,Ur(d)?u="":Ur(p)?u=`<${+d+1}.0.0-0`:Ur(f)?u=`<${d}.${+p+1}.0-0`:g?u=`<=${d}.${p}.${f}-${g}`:e?.includePrerelease?u=`<${d}.${p}.${+f+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()))}var M_=He(F1());P();var Za=He(F1()),mN=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=T.createComponentLogger({namespace:e}),this._tracer=se.getTracer(e,r),this._meter=br.getMeter(e,r),this._logger=Wle.getLogger(e,r),this._updateMetricInstruments();}_wrap=Za.wrap;_unwrap=Za.unwrap;_massWrap=Za.massWrap;_massUnwrap=Za.massUnwrap;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};var cue=He(Fc());var _N=class{hooks=[];children=new Map},gN=class{_trie=new _N;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new _N,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};var Z3e=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),EN=class t{_moduleNameTrie=new gN;static _instance;constructor(){this._initialize();}_initialize(){new cue.Hook(null,{internals:true},(e,r,i)=>{let n=X3e(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return Z3e?new t:this._instance=this._instance??new t}};function X3e(t){return Tl__namespace.sep!=="/"?t.split(Tl__namespace.sep).join("/"):t}var pue=He(oT());P();var fue=He(Fc());function lue(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var Ml=class extends mN{_modules;_hooks=[];_requireInTheMiddleSingleton=EN.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(lue(e[r])&&this._unwrap(e,r),N8.types.isProxy(e)){let n=(0, M_.wrap)(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return (0, M_.wrap)(e,r,i)};_unwrap=(e,r)=>N8.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):(0, M_.unwrap)(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {T.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){T.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=U.resolve(r);U.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=es.readFileSync(Tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{T.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return due(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=Tl__namespace.normalize(i);return o.filter(l=>l.name===s).filter(l=>due(l.supportedVersions,a,e.includePrerelease)).reduce((l,u)=>(u.moduleExports=l,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:u.name,baseDir:n}),u.patch(l,e.moduleVersion)):l),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&Tl__namespace.isAbsolute(s)){let l=Tl__namespace.parse(s);s=l.name,c=l.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=Tl__namespace.isAbsolute(e.name)?new fue.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new pue.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};function due(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>eue(e,i,{includePrerelease:r}))}var w_=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};P();Rl();P();Rl();var SN=class{constructor(e){this._span=e;}setStatus(e){e.status==="error"&&Q3e(e.error)?e.error?(this._span.setStatus({code:Qe.ERROR,message:e.error.toString()}),this.recordException(e.error)):this._span.setStatus({code:Qe.ERROR}):e.status==="success"&&jle.verbose("Leaving span with status UNSET per OpenTelemetry spec.");}setAttribute(e,r){r!=null&&$m(r)&&this._span.setAttribute(e,r);}end(){this._span.end();}recordException(e){this._span.recordException(e);}isRecording(){return this._span.isRecording()}addEvent(e,r={}){this._span.addEvent(e,vl(r.attributes),r.startTime);}unwrap(){return this._span}};function Q3e(t){return t!==null&&typeof t=="object"&&"statusCode"in t?t.statusCode!==304:true}var hue="1.0.0-beta.9",G1=new Map;function j1(t){var e;G1.has(t)||eYe(t);let r=((e=G1.get(t))!==null&&e!==void 0?e:"").toLowerCase();return r!=="false"&&r!=="0"&&!!r}function eYe(t){var e;if(typeof process<"u"&&process.env){let r=(e=process.env[t])!==null&&e!==void 0?e:process.env[t.toLowerCase()];G1.set(t,r);}}P();Rl();function tYe(t){let e=(t||"internal").toUpperCase();return ge[e]}function rYe(t=[]){return t.reduce((e,r)=>{let i=se.getSpanContext(r.tracingContext);return i&&e.push({context:i,attributes:vl(r.attributes)}),e},[])}function mue(t){let{spanAttributes:e,spanLinks:r,spanKind:i}=t||{},n=vl(e),a=tYe(i),o=rYe(r);return {attributes:n,kind:a,links:o}}var _ue=new Yd,TN=class{startSpan(e,r){let i=r?.tracingContext||pe.active(),n;return j1("AZURE_TRACING_DISABLED")?n=se.wrapSpanContext(ys):(n=se.getTracer(r.packageName,r.packageVersion).startSpan(e,mue(r),i),j1("AZURE_HTTP_TRACING_CHILDREN_DISABLED")&&e.toUpperCase().startsWith("HTTP")&&(i=fa(i))),{span:new SN(n),tracingContext:se.setSpan(i,n)}}withContext(e,r,...i){return pe.with(e,r,void 0,...i)}parseTraceparentHeader(e){return _ue.extract(pe.active(),{traceparent:e},Xl)}createRequestHeaders(e){let r={};return _ue.inject(e||pe.active(),r,Jl),r}};var q1=class extends Ml{constructor(e={}){super("@azure/opentelemetry-instrumentation-azure-sdk",hue,Object.assign({},e));}init(){let e=new w_("@azure/core-tracing",["^1.0.0-preview.14","^1.0.0"],r=>(typeof r.useInstrumenter=="function"&&r.useInstrumenter(new TN),r));return e.includePrerelease=true,e}};function gue(t={}){return new q1(t)}Gi();var xpe=He(Bue(),1),Ipe=He(Yue(),1),Mpe=He(ede(),1),wpe=He(gde(),1),Lpe=He(xde(),1),Dpe=He(Cpe(),1);var ab=class{_metricHandler;constructor(e){this._metricHandler=e;}forceFlush(){return Promise.resolve()}onStart(e,r){this._metricHandler.markSpanAsProcessed(e);}onEnd(e){try{this._metricHandler.recordSpan(e);}catch(r){Ee.getInstance().warn("Error while recording span",r);}}shutdown(){return Promise.resolve()}};P();var cb=class{_functionsCoreModule;_preInvocationHook;constructor(){try{this._functionsCoreModule=oie(),this._functionsCoreModule?this._addPreInvocationHook():Ee.getInstance().debug("@azure/functions-core failed to load, not running in Azure Functions");}catch{Ee.getInstance().debug("@azure/functions-core failed to load, not running in Azure Functions");}}shutdown(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._functionsCoreModule=void 0;}_addPreInvocationHook(){this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",async e=>{let i=e.invocationContext.traceContext,n=null;try{i&&(n=qt.extract(pe.active(),{traceparent:i.traceparent||i.traceParent,tracestate:i.tracestate||i.traceState}));let a=n||pe.active();e.functionCallback=pe.bind(a,e.functionCallback);}catch(a){Ee.getInstance().error("Failed to propagate context in Azure Functions",a);}}));}};P();Gi();var lb=class{_sampleRate;_samplingRatio;constructor(e=1){this._samplingRatio=e,(this._samplingRatio>1||this._samplingRatio<0||!Number.isFinite(this._samplingRatio))&&T.warn("Invalid sampling rate, sampling rate must be a value in the range [0,1]."),this._sampleRate=Math.round(this._samplingRatio*100);}shouldSample(e,r,i,n,a,o){let s=false;return this._sampleRate===100?s=true:this._sampleRate===0?s=false:s=this._getSamplingHashCode(r)<this._sampleRate,a=a||{},this._sampleRate!==100&&(a[Ele]=this._sampleRate),s?{decision:ar.RECORD_AND_SAMPLED,attributes:a}:{decision:ar.RECORD,attributes:a}}toString(){return `ApplicationInsightsSampler{${this._samplingRatio}}`}_getSamplingHashCode(e){let n=5381;if(!e)return 0;for(;e.length<8;)e=e+e;for(let a=0;a<e.length;a++)n=((n<<5)+n|0)+e.charCodeAt(a)|0;return n=n<=-2147483648?2147483647:Math.abs(n),n/2147483647*100}};var ub=class{_batchSpanProcessor;_azureSpanProcessor;_azureExporter;_instrumentations;_config;_metricHandler;_azureFunctionsHook;_sampler;constructor(e,r){this._config=e,this._metricHandler=r,this._instrumentations=[],this._config.tracesPerSecond&&this._config.tracesPerSecond>=0?this._sampler=new jm(this._config.tracesPerSecond):this._sampler=new lb(this._config.samplingRatio),this._azureExporter=new __(this._config.azureMonitorExporterOptions);let i={maxExportBatchSize:512,scheduledDelayMillis:5e3,exportTimeoutMillis:3e4,maxQueueSize:2048};this._batchSpanProcessor=new Vs(this._azureExporter,i),this._azureSpanProcessor=new ab(this._metricHandler),this._azureFunctionsHook=new cb,this._initializeInstrumentations();}getSampler(){return this._sampler}getBatchSpanProcessor(){return this._batchSpanProcessor}getAzureMonitorSpanProcessor(){return this._azureSpanProcessor}getInstrumentations(){return this._instrumentations}async shutdown(){this._azureFunctionsHook.shutdown();}_initializeInstrumentations(){if(this._config.instrumentationOptions.http?.enabled){let e=this._config.instrumentationOptions.http,r=e.ignoreOutgoingRequestHook,i=n=>{let a=HD(n);return !a&&r?r(n):a};e.ignoreOutgoingRequestHook=i,this._instrumentations.push(new xpe.HttpInstrumentation(this._config.instrumentationOptions.http));}this._config.instrumentationOptions.azureSdk?.enabled&&this._instrumentations.push(gue(this._config.instrumentationOptions.azureSdk)),this._config.instrumentationOptions.mongoDb?.enabled&&this._instrumentations.push(new Ipe.MongoDBInstrumentation(this._config.instrumentationOptions.mongoDb)),this._config.instrumentationOptions.mySql?.enabled&&this._instrumentations.push(new Mpe.MySQLInstrumentation(this._config.instrumentationOptions.mySql)),this._config.instrumentationOptions.postgreSql?.enabled&&this._instrumentations.push(new wpe.PgInstrumentation(this._config.instrumentationOptions.postgreSql)),this._config.instrumentationOptions.redis?.enabled&&this._instrumentations.push(new Lpe.RedisInstrumentation(this._config.instrumentationOptions.redis)),this._config.instrumentationOptions.redis4?.enabled&&this._instrumentations.push(new Dpe.RedisInstrumentation(this._config.instrumentationOptions.redis4));}};var fhe=He(Wpe(),1),hhe=He(phe(),1);var Mb=class{_metricHandler;constructor(e){this._metricHandler=e;}onEmit(e){try{this._metricHandler.recordLog(e);}catch(r){Ee.getInstance().warn("Error while recording log",r);}}forceFlush(){return Promise.resolve()}shutdown(){return Promise.resolve()}};P();GE();var wb=class extends Ls{_options;constructor(e,r){super(e),this._options=r;}onEmit(e){this._options.enableTraceBasedSamplingForLogs&&e.spanContext&&e.spanContext.spanId&&e.spanContext.traceFlags!==Ce.SAMPLED||super.onEmit(e);}};In();function gV(t){let e=xn.UNSPECIFIED;switch(t){case "ALL":e=xn.UNSPECIFIED;break;case "DEBUG":e=xn.DEBUG;break;case "ERROR":e=xn.ERROR;break;case "INFO":e=xn.INFO;break;case "VERBOSE":e=xn.TRACE;break;case "WARN":e=xn.WARN;break}return e}var ug=class{_azureExporter;_azureLogRecordProcessor;_azureBatchLogRecordProcessor;_metricHandler;_config;_instrumentations;constructor(e,r){this._config=e,this._metricHandler=r,this._azureExporter=new g_(e.azureMonitorExporterOptions),this._azureBatchLogRecordProcessor=new wb(this._azureExporter,{enableTraceBasedSamplingForLogs:this._config.enableTraceBasedSamplingForLogs}),this._azureLogRecordProcessor=new Mb(this._metricHandler),this._instrumentations=[],this._initializeInstrumentations();}getAzureLogRecordProcessor(){return this._azureLogRecordProcessor}getBatchLogRecordProcessor(){return this._azureBatchLogRecordProcessor}getInstrumentations(){return this._instrumentations}_initializeInstrumentations(){let e=process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL;this._config.instrumentationOptions.bunyan?.enabled&&this._instrumentations.push(new fhe.BunyanInstrumentation({...this._config.instrumentationOptions.bunyan,logSeverity:e?gV(e):void 0})),this._config.instrumentationOptions.winston?.enabled&&this._instrumentations.push(new hhe.WinstonInstrumentation({...this._config.instrumentationOptions.winston,logSeverity:e?gV(e):void 0}));}};var mhe=`!(function (cfg){var k,x,D,E,L,C,b,U,O,A,e,t="track",n="TrackPage",i="TrackEvent",I=[t+"Event",t+"Exception",t+"PageView",t+"PageViewPerformance","addTelemetryInitializer",t+"Trace",t+"DependencyData",t+"Metric","start"+n,"stop"+n,"start"+i,"stop"+i,"setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"];function a(){cfg.onInit&&cfg.onInit(e)}k=window,x=document,D=k.location,E="script",L="ingestionendpoint",C="disableExceptionTracking",b="crossOrigin",U="POST",O=cfg.pn||"aiPolicy",t="appInsightsSDK",A=cfg.name||"appInsights",(cfg.name||k[t])&&(k[t]=A),e=k[A]||function(u){var n=u.url||cfg.src,s=!1,p=!1,l={initialize:!0,queue:[],sv:"10",config:u,version:2,extensions:void 0};function d(e){var t,n,i,a,r,o,c,s;!0!==cfg.dle&&(o=(t=function(){var e,t={},n=u.connectionString;if("string"==typeof n&&n)for(var i=n.split(";"),a=0;a<i.length;a++){var r=i[a].split("=");2===r.length&&(t[r[0].toLowerCase()]=r[1])}return t[L]||(e=(n=t.endpointsuffix)?t.location:null,t[L]="https://"+(e?e+".":"")+"dc."+(n||"services.visualstudio.com")),t}()).instrumentationkey||u.instrumentationKey||"",t=(t=(t=t[L])&&"/"===t.slice(-1)?t.slice(0,-1):t)?t+"/v2/track":u.endpointUrl,t=u.userOverrideEndpointUrl||t,(n=[]).push((i="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=e,c=t,(s=(r=f(o,"Exception")).data).baseType="ExceptionData",s.baseData.exceptions=[{typeName:"SDKLoadFailed",message:i.replace(/\\./g,"-"),hasFullStack:!1,stack:i+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(D&&D.pathname||"_unknown_")+"\\nEndpoint: "+c,parsedStack:[]}],r)),n.push((s=e,i=t,(c=(a=f(o,"Message")).data).baseType="MessageData",(r=c.baseData).message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+s+")").replace(/\\"/g,"")+'"',r.properties={endpoint:i},a)),e=n,o=t,JSON&&((c=k.fetch)&&!cfg.useXhr?c(o,{method:U,body:JSON.stringify(e),mode:"cors"}):XMLHttpRequest&&((s=new XMLHttpRequest).open(U,o),s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify(e)))))}function f(e,t){return e=e,t=t,i=l.sv,a=l.version,r=D,(o={})["ai.device."+"id"]="browser",o["ai.device.type"]="Browser",o["ai.operation.name"]=r&&r.pathname||"_unknown_",o["ai.internal.sdkVersion"]="javascript:snippet_"+(i||a),{time:(r=new Date).getUTCFullYear()+"-"+n(1+r.getUTCMonth())+"-"+n(r.getUTCDate())+"T"+n(r.getUTCHours())+":"+n(r.getUTCMinutes())+":"+n(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z",iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:o,data:{baseData:{ver:2}},ver:undefined,seq:"1",aiDataContract:undefined};function n(e){e=""+e;return 1===e.length?"0"+e:e}var i,a,r,o}var i,a,t,r,g=-1,h=0,m=["js.monitor.azure.com","js.cdn.applicationinsights.io","js.cdn.monitor.azure.com","js0.cdn.applicationinsights.io","js0.cdn.monitor.azure.com","js2.cdn.applicationinsights.io","js2.cdn.monitor.azure.com","az416426.vo.msecnd.net"],o=function(){return c(n,null)};function c(t,r){if((n=navigator)&&(~(n=(n.userAgent||"").toLowerCase()).indexOf("msie")||~n.indexOf("trident/"))&&~t.indexOf("ai.3")&&(t=t.replace(/(\\/)(ai\\.3\\.)([^\\d]*)$/,function(e,t,n){return t+"ai.2"+n})),!1!==cfg.cr)for(var e=0;e<m.length;e++)if(0<t.indexOf(m[e])){g=e;break}var n,o=function(e){var a;l.queue=[],p||(0<=g&&h+1<m.length?(a=(g+h+1)%m.length,i(t.replace(/^(.*\\/\\/)([\\w\\.]*)(\\/.*)$/,function(e,t,n,i){return t+m[a]+i})),h+=1):(s=p=!0,d(t)))},c=function(e,t){p||setTimeout(function(){t&&!l.core&&o()},500),s=!1},i=function(e){var n,i=x.createElement(E),e=(cfg.pl?cfg.ttp&&cfg.ttp.createScript?i.src=cfg.ttp.createScriptURL(e):i.src=(null==(n=window.trustedTypes)?void 0:n.createPolicy(O,{createScriptURL:function(e){try{var t=new URL(e);if(t.host&&"js.monitor.azure.com"===t.host)return e;a(e)}catch(n){a(e)}}})).createScriptURL(e):i.src=e,cfg.nt&&i.setAttribute("nonce",cfg.nt),r&&(i.integrity=r),i.setAttribute("data-ai-name",A),cfg[b]);function a(e){d("AI policy blocked URL: "+e)}return!e&&""!==e||"undefined"==i[b]||(i[b]=e),i.onload=c,i.onerror=o,i.onreadystatechange=function(e,t){"loaded"!==i.readyState&&"complete"!==i.readyState||c(0,t)},cfg.ld&&cfg.ld<0?x.getElementsByTagName("head")[0].appendChild(i):setTimeout(function(){x.getElementsByTagName(E)[0].parentNode.appendChild(i)},cfg.ld||0),i};i(t)}cfg.sri&&(i=n.match(/^((http[s]?:\\/\\/.*\\/)\\w+(\\.\\d+){1,5})\\.(([\\w]+\\.){0,2}js)$/))&&6===i.length?(T="".concat(i[1],".integrity.json"),a="@".concat(i[4]),S=window.fetch,t=function(e){if(!e.ext||!e.ext[a]||!e.ext[a].file)throw Error("Error Loading JSON response");var t=e.ext[a].integrity||null;c(n=i[2]+e.ext[a].file,t)},S&&!cfg.useXhr?S(T,{method:"GET",mode:"cors"}).then(function(e){return e.json()["catch"](function(){return{}})}).then(t)["catch"](o):XMLHttpRequest&&((r=new XMLHttpRequest).open("GET",T),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status)try{t(JSON.parse(r.responseText))}catch(e){o()}else o()},r.send())):n&&o();try{l.cookie=x.cookie}catch(w){}function e(e){for(;e.length;)!function(t){l[t]=function(){var e=arguments;s||l.queue.push(function(){l[t].apply(l,e)})}}(e.pop())}e(I);var v,y,S=!(l.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),T=(u.extensionConfig||{}).ApplicationInsightsAnalytics||{};return(S=!0!==u[C]&&!0!==T[C]||S)&&(e(["_"+(v="onerror")]),y=k[v],k[v]=function(e,t,n,i,a){var r=y&&y(e,t,n,i,a);return!0!==r&&l["_"+v]({message:e,url:t,lineNumber:n,columnNumber:i,error:a,evt:k.event}),r},u.autoExceptionInstrumented=!0),l}(cfg.cfg),(k[A]=e).queue&&0===e.queue.length?(e.queue.push(a),e.trackPageView({})):a();})({\r
    src: "https://js.monitor.azure.com/scripts/b/ai.3.gbl.min.js",\r
    // name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
    // ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
    // useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
    // dle: true, // Prevent the SDK from reporting load failure log\r
    crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
    // onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
    // sri: false, // Custom optional value to specify whether fetching the snippet from integrity file and do integrity check \r
    // pl: false, // Custom optional value to specify whether to enable the trusted type policy check on snippet\r
    // pn: "aiPolicy", // Custom optional value to specify the name of the trusted type policy that would be implemented on the snippet, default is "aiPolicy"\r
    // ttp: null, // Custom optional value to specify the trusted type policy that would be applied on the snippet src\r
    // nt: null, // Custom optional value to specify the nounce tag value that would be applied on the script when we drop it on the page\r
    cfg: { // Application Insights Configuration\r
            connectionString: "InstrumentationKey=INSTRUMENTATION_KEY"\r
    }\r
});
`;var _s;(function(t){t.GZIP="gzip",t.DEFLATE="deflate",t.BR="br";})(_s||(_s={}));var _he=()=>{let t=process.versions.node.split(".")[0];return parseInt(t)>=10};N8.promisify(Po__namespace.gzip);N8.promisify(Po__namespace.gunzip);N8.promisify(Po__namespace.deflate);N8.promisify(Po__namespace.inflate);var ghe=t=>_he()&&typeof t.brotliCompressSync=="function"?t.brotliCompressSync:null;var Ehe=t=>_he()&&typeof t.brotliDecompressSync=="function"?t.brotliDecompressSync:null,She=(t,e)=>{let r=e,i=false;return Buffer.isEncoding(r)&&(i=Buffer.from(t.toString(r),r).toJSON().data.toString()===t.toJSON().data.toString()),i};var xZe=t=>{let e=null;switch(t){case "gzip":e=_s.GZIP;break;case "br":e=_s.BR;break;case "deflate":e=_s.DEFLATE;break;}return e},dg=t=>{let e=[],r=t.getHeader("Content-Encoding");if(!r)return null;if(typeof r=="string"){let i=xZe(r);i&&e.push(i);}return e},The=(t,e,r)=>{if(t<0)return null;let i=null,n=e.substring(0,t),a=e.substring(t);return i=n+'<script type="text/javascript">'+r+"</script>"+a,i},yhe=t=>{let e=false,r=t.getHeader("Content-Type");return r&&(typeof r=="string"?e=r.indexOf("html")>=0:e=r.toString().indexOf("html")>=0),e};P();var Db=class t{static _instance;static _sdkLoader;static _aiUrl;_isIkeyValid=true;_isInitialized=false;_browserSdkLoaderIkey;constructor(e){t._instance&&T.warn("Browser SDK Loader should be configured from the applicationInsights object"),t._instance=this,t._aiUrl=_le;let r;e.browserSdkLoaderOptions?.connectionString&&(r=this._getBrowserSdkLoaderIkey(e?.browserSdkLoaderOptions?.connectionString)),this._browserSdkLoaderIkey=r||Ka.parse(e.azureMonitorExporterOptions.connectionString).instrumentationkey,this._isIkeyValid&&this._initialize();}isInitialized(){return this._isInitialized}static getInstance(){return t._instance}_getBrowserSdkLoaderIkey(e){let r=null;try{let n=Ka.parse(e).instrumentationkey||"";Ka.validateInstrumentationKey(n)?(this._isIkeyValid=!0,r=n):(this._isIkeyValid=!1,Ee.getInstance().info("Invalid browser SDK loader connection string, browser SDK loader is not enabled."));}catch(i){Ee.getInstance().info(`get browser SDK loader ikey error: ${i}`);}return r}_getBrowserSdkLoaderReplacedStr(){let e=fA(),r=hA(),i=`${this._browserSdkLoaderIkey}",\r
 disableIkeyDeprecationMessage: true,\r
 sdkExtension: "${r}${e}d_n_`;return mhe.replace("INSTRUMENTATION_KEY",i)}_initialize(){this._isInitialized=true,t._sdkLoader=this._getBrowserSdkLoaderReplacedStr();let e=tp__namespace.default.createServer,r=rp__namespace.default.createServer;tp__namespace.default.createServer=i=>{let n=i;return n&&(i=(a,o)=>{let s=o.write,c=a.method==="GET";o.write=function(d,p){try{if(c){let f=dg(o),g;if(typeof p=="string"&&(g=p),f==null)t._instance?.ValidateInjection(o,d)&&(arguments[0]=t._instance.InjectSdkLoader(o,d,void 0,g));else if(f.length){let S=f[0];arguments[0]=t._instance?.InjectSdkLoader(o,d,S);}}}catch(f){Ee.getInstance().warn(`Inject browser sdk loader error: ${f}`);}return s.apply(o,arguments)};let l=o.end;return o.end=function(d,p){if(c)try{if(c){let f=dg(o),g;if(typeof p=="string"&&(g=p),f==null)t._instance?.ValidateInjection(o,d)&&(arguments[0]=t._instance.InjectSdkLoader(o,d,void 0,g));else if(f.length){let S=f[0];arguments[0]=t._instance?.InjectSdkLoader(o,d,S);}}}catch(f){Ee.getInstance().warn(`Inject browser sdk loader error: ${f}`);}return l.apply(o,arguments)},n(a,o)}),e(i)},rp__namespace.default.createServer=function(i,n){let a=n;if(a)return n=function(o,s){let c=o.method==="GET",l=s.write,u=s.end;return s.write=function(p,f){try{if(c){let g=dg(s),S;if(typeof f=="string"&&(S=f),g==null)t._instance?.ValidateInjection(s,p)&&(arguments[0]=this.InjectSdkLoader(s,p,void 0,S));else if(g.length){let v=g[0];arguments[0]=t._instance?.InjectSdkLoader(s,p,v);}}}catch(g){Ee.getInstance().warn(`Inject SDK loader error: ${g}`);}return l.apply(s,arguments)},s.end=function(p,f){try{if(c){let g=dg(s),S;if(typeof f=="string"&&(S=f),g==null)t._instance?.ValidateInjection(s,p)&&(arguments[0]=t._instance.InjectSdkLoader(s,p,void 0,S));else if(g.length){let v=g[0];arguments[0]=t._instance?.InjectSdkLoader(s,p,v);}}}catch(g){Ee.getInstance().warn(`Inject SDK loader error: ${g}`);}return u.apply(s,arguments)},a(o,s)},r(i,n)};}ValidateInjection(e,r){try{if(!e||!r||e.statusCode!==200||!yhe(e))return !1;let n=r.slice().toString();if(n.indexOf("<head>")>=0&&n.indexOf("</head>")>=0&&n.indexOf(t._aiUrl)<0)return !0}catch(i){Ee.getInstance().info(`validate injections error: ${i}`);}return  false}InjectSdkLoader(e,r,i,n){try{if(!!i)e.removeHeader("Content-Length"),r=this._getInjectedCompressBuffer(e,r,i),e.setHeader("Content-Length",r.length);else {let o=r.toString(),s=o.indexOf("</head>");if(s<0)return r;let c=The(s,o,t._sdkLoader);if(typeof r=="string")e.removeHeader("Content-Length"),c&&(r=c),e.setHeader("Content-Length",Buffer.byteLength(r));else if(Buffer.isBuffer(r)){let l=n||"utf8";if(She(r,l)&&c){e.removeHeader("Content-Length");let d=Buffer.from(c).toString(l);r=Buffer.from(d,l),e.setHeader("Content-Length",r.length);}}}}catch(a){Ee.getInstance().warn(`Failed to inject browser sdk loader and change content-length headers. Exception:${a}`);}return r}_getInjectedCompressBuffer(e,r,i){try{switch(i){case _s.GZIP:{let n=Po__namespace.gunzipSync(r);if(this.ValidateInjection(e,n)){let a=this.InjectSdkLoader(e,n);r=Po__namespace.gzipSync(a);}break}case _s.DEFLATE:{let n=Po__namespace.inflateSync(r);if(this.ValidateInjection(e,n)){let a=this.InjectSdkLoader(e,n);r=Po__namespace.deflateSync(a);}break}case _s.BR:{let n=Ehe(Po__namespace),a=ghe(Po__namespace);if(n&&a){let o=n(r);if(this.ValidateInjection(e,o)){let s=this.InjectSdkLoader(e,o);r=a(s);}break}}}}catch(n){Ee.getInstance().info(`get browser SDK loader compress buffer error: ${n}`);}return r}dispose(){t._instance=null,this._isInitialized=false;}};function Ohe(){let t=JSON.stringify({instrumentation:0,feature:0});try{U.resolve("@opentelemetry/instrumentation");let e=Rhe(),r=e.enableInstrumentations;e.enableInstrumentations=function(i){try{let n=JSON.parse(process.env[qa]||t),a={};for(let o=0;o<i.length;o++)a={instrumentation:n.instrumentation|=Tle.get(i[o].instrumentationName)||0,feature:n.feature};process.env[qa]=JSON.stringify(a);}catch{Ee.getInstance().warn("Failed to parse the statsbeat environment variable");}return r.apply(this,arguments)};}catch{}}process.env.AZURE_MONITOR_DISTRO_VERSION=qO;var Nhe;function Phe(t){let e=new jA(t);Ohe();let r={azureSdk:e.instrumentationOptions?.azureSdk?.enabled,mongoDb:e.instrumentationOptions?.mongoDb?.enabled,mySql:e.instrumentationOptions?.mySql?.enabled,postgreSql:e.instrumentationOptions?.postgreSql?.enabled,redis:e.instrumentationOptions?.redis?.enabled,bunyan:e.instrumentationOptions?.bunyan?.enabled,winston:e.instrumentationOptions?.winston?.enabled},i={browserSdkLoader:e.browserSdkLoaderOptions.enabled,aadHandling:!!e.azureMonitorExporterOptions?.credential,diskRetry:!e.azureMonitorExporterOptions?.disableOfflineStorage,rateLimitedSampler:!!e.tracesPerSecond,customerSdkStats:process.env[Sle]==="True"};iN().setStatsbeatFeatures(r,i),e.browserSdkLoaderOptions.enabled&&(new Db(e)),br.disable(),se.disable(),Nc.disable();let n=new O_(e),a=new ub(e,n),o=new ug(e,n),s=a.getInstrumentations().concat(o.getInstrumentations()),c=iie(),l=t?.spanProcessors||[],u=t?.logRecordProcessors||[],p={autoDetectResources:true,metricReaders:[n.getMetricReader(),...t?.metricReaders||[]],views:n.getViews(),instrumentations:s,logRecordProcessors:[o.getAzureLogRecordProcessor(),...u,o.getBatchLogRecordProcessor()],resource:e.resource,sampler:a.getSampler(),spanProcessors:[a.getAzureMonitorSpanProcessor(),...l,a.getBatchSpanProcessor()],resourceDetectors:c};Nhe=new bhe.NodeSDK(p),Ole(),Nhe.start();}P();var pg=class{emit(e){}},Che=new pg;var EV=class{getLogger(e,r,i){return new pg}},Ub=new EV;var kb=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Che}};var fg=class{getLogger(e,r,i){var n;return (n=this._getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new kb(this,e,r,i)}_getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:Ub}_setDelegate(e){this._delegate=e;}_getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};var $b=typeof globalThis=="object"?globalThis:global;var hg=Symbol.for("io.opentelemetry.js.api.logs"),Fp=$b;function xhe(t,e,r){return i=>i===t?e:r}var SV=1;var Vb=class t{constructor(){this._proxyLoggerProvider=new fg;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return Fp[hg]?this.getLoggerProvider():(Fp[hg]=xhe(SV,e,Ub),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=Fp[hg])===null||e===void 0?void 0:e.call(Fp,SV))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete Fp[hg],this._proxyLoggerProvider=new fg;}};var TV=Vb.getInstance();$i();var Ie={};Ne(Ie,{$brand:()=>Bb,$input:()=>Bz,$output:()=>Vz,NEVER:()=>yV,TimePrecision:()=>Gz,ZodAny:()=>wH,ZodArray:()=>kH,ZodBase64:()=>fC,ZodBase64URL:()=>hC,ZodBigInt:()=>Sf,ZodBigIntFormat:()=>gC,ZodBoolean:()=>Ef,ZodCIDRv4:()=>dC,ZodCIDRv6:()=>pC,ZodCUID:()=>iC,ZodCUID2:()=>oC,ZodCatch:()=>oG,ZodCodec:()=>OC,ZodCustom:()=>qg,ZodCustomStringFormat:()=>_f,ZodDate:()=>zg,ZodDefault:()=>QH,ZodDiscriminatedUnion:()=>VH,ZodE164:()=>mC,ZodEmail:()=>tC,ZodEmoji:()=>rC,ZodEnum:()=>hf,ZodError:()=>cJe,ZodExactOptional:()=>ZH,ZodFile:()=>WH,ZodFirstPartyTypeKind:()=>gG,ZodFunction:()=>hG,ZodGUID:()=>Ug,ZodIPv4:()=>lC,ZodIPv6:()=>uC,ZodISODate:()=>KP,ZodISODateTime:()=>WP,ZodISODuration:()=>XP,ZodISOTime:()=>ZP,ZodIntersection:()=>BH,ZodIssueCode:()=>uJe,ZodJWT:()=>_C,ZodKSUID:()=>cC,ZodLazy:()=>dG,ZodLiteral:()=>YH,ZodMAC:()=>NH,ZodMap:()=>jH,ZodNaN:()=>aG,ZodNanoID:()=>nC,ZodNever:()=>DH,ZodNonOptional:()=>AC,ZodNull:()=>IH,ZodNullable:()=>JH,ZodNumber:()=>gf,ZodNumberFormat:()=>Yl,ZodObject:()=>Hg,ZodOptional:()=>vC,ZodPipe:()=>RC,ZodPrefault:()=>tG,ZodPromise:()=>fG,ZodReadonly:()=>cG,ZodRealError:()=>mn,ZodRecord:()=>jg,ZodSet:()=>qH,ZodString:()=>mf,ZodStringFormat:()=>Je,ZodSuccess:()=>iG,ZodSymbol:()=>CH,ZodTemplateLiteral:()=>uG,ZodTransform:()=>KH,ZodTuple:()=>FH,ZodType:()=>Ae,ZodULID:()=>sC,ZodURL:()=>Bg,ZodUUID:()=>Mo,ZodUndefined:()=>xH,ZodUnion:()=>Gg,ZodUnknown:()=>LH,ZodVoid:()=>UH,ZodXID:()=>aC,ZodXor:()=>$H,_ZodString:()=>eC,_default:()=>eG,_function:()=>lge,any:()=>z_e,array:()=>Fg,base64:()=>R_e,base64url:()=>O_e,bigint:()=>U_e,boolean:()=>PH,catch:()=>sG,check:()=>uge,cidrv4:()=>v_e,cidrv6:()=>A_e,clone:()=>zr,codec:()=>sge,coerce:()=>EG,config:()=>Nt,core:()=>Ss,cuid:()=>h_e,cuid2:()=>m_e,custom:()=>dge,date:()=>H_e,decode:()=>SH,decodeAsync:()=>yH,describe:()=>pge,discriminatedUnion:()=>K_e,e164:()=>N_e,email:()=>i_e,emoji:()=>p_e,encode:()=>EH,encodeAsync:()=>TH,endsWith:()=>nf,enum:()=>TC,exactOptional:()=>XH,file:()=>rge,flattenError:()=>Ag,float32:()=>M_e,float64:()=>w_e,formatError:()=>Rg,fromJSONSchema:()=>Sge,function:()=>lge,getErrorMap:()=>pJe,globalRegistry:()=>hr,gt:()=>xo,gte:()=>Fr,guid:()=>o_e,hash:()=>I_e,hex:()=>x_e,hostname:()=>C_e,httpUrl:()=>d_e,includes:()=>tf,instanceof:()=>hge,int:()=>QP,int32:()=>L_e,int64:()=>k_e,intersection:()=>zH,ipv4:()=>S_e,ipv6:()=>y_e,iso:()=>ff,json:()=>_ge,jwt:()=>b_e,keyof:()=>G_e,ksuid:()=>E_e,lazy:()=>pG,length:()=>jl,literal:()=>tge,locales:()=>Mg,looseObject:()=>Y_e,looseRecord:()=>X_e,lowercase:()=>Qp,lt:()=>Co,lte:()=>Cn,mac:()=>T_e,map:()=>J_e,maxLength:()=>Gl,maxSize:()=>hc,meta:()=>fge,mime:()=>of,minLength:()=>Es,minSize:()=>Io,multipleOf:()=>fc,nan:()=>oge,nanoid:()=>f_e,nativeEnum:()=>ege,negative:()=>$P,never:()=>EC,nonnegative:()=>BP,nonoptional:()=>nG,nonpositive:()=>VP,normalize:()=>sf,null:()=>MH,nullable:()=>$g,nullish:()=>nge,number:()=>bH,object:()=>j_e,optional:()=>kg,overwrite:()=>Mi,parse:()=>hH,parseAsync:()=>mH,partialRecord:()=>Z_e,pipe:()=>Vg,positive:()=>kP,prefault:()=>rG,preprocess:()=>gge,prettifyError:()=>wV,promise:()=>cge,property:()=>zP,readonly:()=>lG,record:()=>GH,refine:()=>mG,regex:()=>Jp,regexes:()=>si,registry:()=>_P,safeDecode:()=>AH,safeDecodeAsync:()=>OH,safeEncode:()=>vH,safeEncodeAsync:()=>RH,safeParse:()=>_H,safeParseAsync:()=>gH,set:()=>Q_e,setErrorMap:()=>dJe,size:()=>Hl,slugify:()=>uf,startsWith:()=>rf,strictObject:()=>q_e,string:()=>JP,stringFormat:()=>P_e,stringbool:()=>mge,success:()=>ige,superRefine:()=>_G,symbol:()=>V_e,templateLiteral:()=>age,toJSONSchema:()=>jP,toLowerCase:()=>cf,toUpperCase:()=>lf,transform:()=>yC,treeifyError:()=>MV,trim:()=>af,tuple:()=>HH,uint32:()=>D_e,uint64:()=>$_e,ulid:()=>__e,undefined:()=>B_e,union:()=>SC,unknown:()=>ql,uppercase:()=>ef,url:()=>u_e,util:()=>F,uuid:()=>s_e,uuidv4:()=>a_e,uuidv6:()=>c_e,uuidv7:()=>l_e,void:()=>F_e,xid:()=>g_e,xor:()=>W_e});var Ss={};Ne(Ss,{$ZodAny:()=>az,$ZodArray:()=>pz,$ZodAsyncError:()=>Ii,$ZodBase64:()=>XB,$ZodBase64URL:()=>JB,$ZodBigInt:()=>lP,$ZodBigIntFormat:()=>nz,$ZodBoolean:()=>Pg,$ZodCIDRv4:()=>WB,$ZodCIDRv6:()=>KB,$ZodCUID:()=>UB,$ZodCUID2:()=>kB,$ZodCatch:()=>xz,$ZodCheck:()=>nt,$ZodCheckBigIntFormat:()=>pB,$ZodCheckEndsWith:()=>RB,$ZodCheckGreaterThan:()=>rP,$ZodCheckIncludes:()=>vB,$ZodCheckLengthEquals:()=>EB,$ZodCheckLessThan:()=>tP,$ZodCheckLowerCase:()=>TB,$ZodCheckMaxLength:()=>_B,$ZodCheckMaxSize:()=>fB,$ZodCheckMimeType:()=>NB,$ZodCheckMinLength:()=>gB,$ZodCheckMinSize:()=>hB,$ZodCheckMultipleOf:()=>uB,$ZodCheckNumberFormat:()=>dB,$ZodCheckOverwrite:()=>bB,$ZodCheckProperty:()=>OB,$ZodCheckRegex:()=>SB,$ZodCheckSizeEquals:()=>mB,$ZodCheckStartsWith:()=>AB,$ZodCheckStringFormat:()=>Zp,$ZodCheckUpperCase:()=>yB,$ZodCodec:()=>xg,$ZodCustom:()=>$z,$ZodCustomStringFormat:()=>tz,$ZodDate:()=>dz,$ZodDefault:()=>Nz,$ZodDiscriminatedUnion:()=>mz,$ZodE164:()=>QB,$ZodEmail:()=>MB,$ZodEmoji:()=>LB,$ZodEncodeError:()=>cc,$ZodEnum:()=>Tz,$ZodError:()=>vg,$ZodExactOptional:()=>Rz,$ZodFile:()=>vz,$ZodFunction:()=>Dz,$ZodGUID:()=>xB,$ZodIPv4:()=>jB,$ZodIPv6:()=>qB,$ZodISODate:()=>FB,$ZodISODateTime:()=>zB,$ZodISODuration:()=>GB,$ZodISOTime:()=>HB,$ZodIntersection:()=>_z,$ZodJWT:()=>ez,$ZodKSUID:()=>BB,$ZodLazy:()=>kz,$ZodLiteral:()=>yz,$ZodMAC:()=>YB,$ZodMap:()=>Ez,$ZodNaN:()=>Iz,$ZodNanoID:()=>DB,$ZodNever:()=>lz,$ZodNonOptional:()=>Pz,$ZodNull:()=>sz,$ZodNullable:()=>Oz,$ZodNumber:()=>cP,$ZodNumberFormat:()=>rz,$ZodObject:()=>nme,$ZodObjectJIT:()=>fz,$ZodOptional:()=>dP,$ZodPipe:()=>Mz,$ZodPrefault:()=>bz,$ZodPromise:()=>Uz,$ZodReadonly:()=>wz,$ZodRealError:()=>hn,$ZodRecord:()=>gz,$ZodRegistry:()=>mP,$ZodSet:()=>Sz,$ZodString:()=>Fl,$ZodStringFormat:()=>Xe,$ZodSuccess:()=>Cz,$ZodSymbol:()=>iz,$ZodTemplateLiteral:()=>Lz,$ZodTransform:()=>Az,$ZodTuple:()=>uP,$ZodType:()=>_e,$ZodULID:()=>$B,$ZodURL:()=>wB,$ZodUUID:()=>IB,$ZodUndefined:()=>oz,$ZodUnion:()=>Cg,$ZodUnknown:()=>cz,$ZodVoid:()=>uz,$ZodXID:()=>VB,$ZodXor:()=>hz,$brand:()=>Bb,$constructor:()=>R,$input:()=>Bz,$output:()=>Vz,Doc:()=>bg,JSONSchema:()=>r_e,JSONSchemaGenerator:()=>qP,NEVER:()=>yV,TimePrecision:()=>Gz,_any:()=>dF,_array:()=>EF,_base64:()=>wP,_base64url:()=>LP,_bigint:()=>iF,_boolean:()=>rF,_catch:()=>eJe,_check:()=>t_e,_cidrv4:()=>IP,_cidrv6:()=>MP,_coercedBigint:()=>oF,_coercedBoolean:()=>nF,_coercedDate:()=>_F,_coercedNumber:()=>Zz,_coercedString:()=>Fz,_cuid:()=>RP,_cuid2:()=>OP,_custom:()=>TF,_date:()=>mF,_decode:()=>qb,_decodeAsync:()=>Wb,_default:()=>XXe,_discriminatedUnion:()=>VXe,_e164:()=>DP,_email:()=>gP,_emoji:()=>vP,_encode:()=>jb,_encodeAsync:()=>Yb,_endsWith:()=>nf,_enum:()=>jXe,_file:()=>SF,_float32:()=>Jz,_float64:()=>Qz,_gt:()=>xo,_gte:()=>Fr,_guid:()=>wg,_includes:()=>tf,_int:()=>Xz,_int32:()=>eF,_int64:()=>sF,_intersection:()=>BXe,_ipv4:()=>CP,_ipv6:()=>xP,_isoDate:()=>qz,_isoDateTime:()=>jz,_isoDuration:()=>Wz,_isoTime:()=>Yz,_jwt:()=>UP,_ksuid:()=>PP,_lazy:()=>iJe,_length:()=>jl,_literal:()=>YXe,_lowercase:()=>Qp,_lt:()=>Co,_lte:()=>Cn,_mac:()=>Hz,_map:()=>HXe,_max:()=>Cn,_maxLength:()=>Gl,_maxSize:()=>hc,_mime:()=>of,_min:()=>Fr,_minLength:()=>Es,_minSize:()=>Io,_multipleOf:()=>fc,_nan:()=>gF,_nanoid:()=>AP,_nativeEnum:()=>qXe,_negative:()=>$P,_never:()=>fF,_nonnegative:()=>BP,_nonoptional:()=>JXe,_nonpositive:()=>VP,_normalize:()=>sf,_null:()=>uF,_nullable:()=>ZXe,_number:()=>Kz,_optional:()=>KXe,_overwrite:()=>Mi,_parse:()=>qp,_parseAsync:()=>Yp,_pipe:()=>tJe,_positive:()=>kP,_promise:()=>oJe,_property:()=>zP,_readonly:()=>rJe,_record:()=>FXe,_refine:()=>yF,_regex:()=>Jp,_safeDecode:()=>Zb,_safeDecodeAsync:()=>Jb,_safeEncode:()=>Kb,_safeEncodeAsync:()=>Xb,_safeParse:()=>Wp,_safeParseAsync:()=>Kp,_set:()=>GXe,_size:()=>Hl,_slugify:()=>uf,_startsWith:()=>rf,_string:()=>zz,_stringFormat:()=>df,_stringbool:()=>OF,_success:()=>QXe,_superRefine:()=>vF,_symbol:()=>cF,_templateLiteral:()=>nJe,_toLowerCase:()=>cf,_toUpperCase:()=>lf,_transform:()=>WXe,_trim:()=>af,_tuple:()=>zXe,_uint32:()=>tF,_uint64:()=>aF,_ulid:()=>NP,_undefined:()=>lF,_union:()=>kXe,_unknown:()=>pF,_uppercase:()=>ef,_url:()=>Lg,_uuid:()=>EP,_uuidv4:()=>SP,_uuidv6:()=>TP,_uuidv7:()=>yP,_void:()=>hF,_xid:()=>bP,_xor:()=>$Xe,clone:()=>zr,config:()=>Nt,createStandardJSONSchemaMethod:()=>pf,createToJSONSchemaMethod:()=>NF,decode:()=>c5e,decodeAsync:()=>u5e,describe:()=>AF,encode:()=>a5e,encodeAsync:()=>l5e,extractDefs:()=>_c,finalize:()=>gc,flattenError:()=>Ag,formatError:()=>Rg,globalConfig:()=>mg,globalRegistry:()=>hr,initializeContext:()=>mc,isValidBase64:()=>ZB,isValidBase64URL:()=>Qhe,isValidJWT:()=>eme,locales:()=>Mg,meta:()=>RF,parse:()=>Hb,parseAsync:()=>Gb,prettifyError:()=>wV,process:()=>je,regexes:()=>si,registry:()=>_P,safeDecode:()=>p5e,safeDecodeAsync:()=>h5e,safeEncode:()=>d5e,safeEncodeAsync:()=>f5e,safeParse:()=>LV,safeParseAsync:()=>DV,toDotPath:()=>Dhe,toJSONSchema:()=>jP,treeifyError:()=>MV,util:()=>F,version:()=>PB});var yV=Object.freeze({status:"aborted"});function R(t,e,r){function i(s,c){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:false}),s._zod.traits.has(t))return;s._zod.traits.add(t),e(s,c);let l=o.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){let p=u[d];p in s||(s[p]=l[p].bind(s));}}let n=r?.Parent??Object;class a extends n{}Object.defineProperty(a,"name",{value:t});function o(s){var c;let l=r?.Parent?new a:this;i(l,s),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?true:s?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}var Bb=Symbol("zod_brand"),Ii=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.");}},cc=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError";}},mg={};function Nt(t){return t&&Object.assign(mg,t),mg}var F={};Ne(F,{BIGINT_FORMAT_RANGES:()=>IV,Class:()=>AV,NUMBER_FORMAT_RANGES:()=>xV,aborted:()=>pc,allowsEval:()=>NV,assert:()=>VZe,assertEqual:()=>DZe,assertIs:()=>kZe,assertNever:()=>$Ze,assertNotEqual:()=>UZe,assignProp:()=>uc,base64ToUint8Array:()=>Mhe,base64urlToUint8Array:()=>r5e,cached:()=>Gp,captureStackTrace:()=>Fb,cleanEnum:()=>t5e,cleanRegex:()=>Eg,clone:()=>zr,cloneDef:()=>zZe,createTransparentProxy:()=>YZe,defineLazy:()=>Pe,esc:()=>zb,escapeRegex:()=>oi,extend:()=>ZZe,finalizeIssue:()=>fn,floatSafeRemainder:()=>RV,getElementAtPath:()=>FZe,getEnumValues:()=>gg,getLengthableOrigin:()=>yg,getParsedType:()=>qZe,getSizableOrigin:()=>Tg,hexToUint8Array:()=>i5e,isObject:()=>Bl,isPlainObject:()=>dc,issue:()=>jp,joinValues:()=>x,jsonStringifyReplacer:()=>Hp,merge:()=>JZe,mergeDefs:()=>gs,normalizeParams:()=>H,nullish:()=>lc,numKeys:()=>jZe,objectClone:()=>BZe,omit:()=>KZe,optionalKeys:()=>CV,parsedType:()=>z,partial:()=>QZe,pick:()=>WZe,prefixIssues:()=>Pn,primitiveTypes:()=>PV,promiseAllObject:()=>HZe,propertyKeyTypes:()=>Sg,randomString:()=>GZe,required:()=>e5e,safeExtend:()=>XZe,shallowClone:()=>bV,slugify:()=>OV,stringifyPrimitive:()=>B,uint8ArrayToBase64:()=>whe,uint8ArrayToBase64url:()=>n5e,uint8ArrayToHex:()=>o5e,unwrapMessage:()=>_g});function DZe(t){return t}function UZe(t){return t}function kZe(t){}function $Ze(t){throw new Error("Unexpected value in exhaustive check")}function VZe(t){}function gg(t){let e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,n])=>e.indexOf(+i)===-1).map(([i,n])=>n)}function x(t,e="|"){return t.map(r=>B(r)).join(e)}function Hp(t,e){return typeof e=="bigint"?e.toString():e}function Gp(t){return {get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}}}}function lc(t){return t==null}function Eg(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function RV(t,e){let r=(t.toString().split(".")[1]||"").length,i=e.toString(),n=(i.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(i)){let c=i.match(/\d?e-(\d?)/);c?.[1]&&(n=Number.parseInt(c[1]));}let a=r>n?r:n,o=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return o%s/10**a}var Ihe=Symbol("evaluating");function Pe(t,e,r){let i;Object.defineProperty(t,e,{get(){if(i!==Ihe)return i===void 0&&(i=Ihe,i=r()),i},set(n){Object.defineProperty(t,e,{value:n});},configurable:true});}function BZe(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function uc(t,e,r){Object.defineProperty(t,e,{value:r,writable:true,enumerable:true,configurable:true});}function gs(...t){let e={};for(let r of t){let i=Object.getOwnPropertyDescriptors(r);Object.assign(e,i);}return Object.defineProperties({},e)}function zZe(t){return gs(t._zod.def)}function FZe(t,e){return e?e.reduce((r,i)=>r?.[i],t):t}function HZe(t){let e=Object.keys(t),r=e.map(i=>t[i]);return Promise.all(r).then(i=>{let n={};for(let a=0;a<e.length;a++)n[e[a]]=i[a];return n})}function GZe(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<t;i++)r+=e[Math.floor(Math.random()*e.length)];return r}function zb(t){return JSON.stringify(t)}function OV(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var Fb="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Bl(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var NV=Gp(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return  false;try{let t=Function;return new t(""),!0}catch{return  false}});function dc(t){if(Bl(t)===false)return  false;let e=t.constructor;if(e===void 0||typeof e!="function")return  true;let r=e.prototype;return !(Bl(r)===false||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===false)}function bV(t){return dc(t)?{...t}:Array.isArray(t)?[...t]:t}function jZe(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var qZe=t=>{let e=typeof t;switch(e){case "undefined":return "undefined";case "string":return "string";case "number":return Number.isNaN(t)?"nan":"number";case "boolean":return "boolean";case "function":return "function";case "bigint":return "bigint";case "symbol":return "symbol";case "object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Sg=new Set(["string","number","symbol"]),PV=new Set(["string","number","bigint","boolean","symbol","undefined"]);function oi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zr(t,e,r){let i=new t._zod.constr(e??t._zod.def);return (!e||r?.parent)&&(i._zod.parent=t),i}function H(t){let e=t;if(!e)return {};if(typeof e=="string")return {error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message;}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function YZe(t){let e;return new Proxy({},{get(r,i,n){return e??(e=t()),Reflect.get(e,i,n)},set(r,i,n,a){return e??(e=t()),Reflect.set(e,i,n,a)},has(r,i){return e??(e=t()),Reflect.has(e,i)},deleteProperty(r,i){return e??(e=t()),Reflect.deleteProperty(e,i)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,i){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(r,i,n){return e??(e=t()),Reflect.defineProperty(e,i,n)}})}function B(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function CV(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var xV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},IV={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function WZe(t,e){let r=t._zod.def,i=r.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let a=gs(t._zod.def,{get shape(){let o={};for(let s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(o[s]=r.shape[s]);}return uc(this,"shape",o),o},checks:[]});return zr(t,a)}function KZe(t,e){let r=t._zod.def,i=r.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let a=gs(t._zod.def,{get shape(){let o={...t._zod.def.shape};for(let s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete o[s];}return uc(this,"shape",o),o},checks:[]});return zr(t,a)}function ZZe(t,e){if(!dc(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0){let a=t._zod.def.shape;for(let o in e)if(Object.getOwnPropertyDescriptor(a,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let n=gs(t._zod.def,{get shape(){let a={...t._zod.def.shape,...e};return uc(this,"shape",a),a}});return zr(t,n)}function XZe(t,e){if(!dc(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r=gs(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e};return uc(this,"shape",i),i}});return zr(t,r)}function JZe(t,e){let r=gs(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e._zod.def.shape};return uc(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return zr(t,r)}function QZe(t,e,r){let n=e._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let o=gs(e._zod.def,{get shape(){let s=e._zod.def.shape,c={...s};if(r)for(let l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=t?new t({type:"optional",innerType:s[l]}):s[l]);}else for(let l in s)c[l]=t?new t({type:"optional",innerType:s[l]}):s[l];return uc(this,"shape",c),c},checks:[]});return zr(e,o)}function e5e(t,e,r){let i=gs(e._zod.def,{get shape(){let n=e._zod.def.shape,a={...n};if(r)for(let o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=new t({type:"nonoptional",innerType:n[o]}));}else for(let o in n)a[o]=new t({type:"nonoptional",innerType:n[o]});return uc(this,"shape",a),a}});return zr(e,i)}function pc(t,e=0){if(t.aborted===true)return  true;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==true)return  true;return  false}function Pn(t,e){return e.map(r=>{var i;return (i=r).path??(i.path=[]),r.path.unshift(t),r})}function _g(t){return typeof t=="string"?t:t?.message}function fn(t,e,r){let i={...t,path:t.path??[]};if(!t.message){let n=_g(t.inst?._zod.def?.error?.(t))??_g(e?.error?.(t))??_g(r.customError?.(t))??_g(r.localeError?.(t))??"Invalid input";i.message=n;}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function Tg(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function yg(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function z(t){let e=typeof t;switch(e){case "number":return Number.isNaN(t)?"nan":"number";case "object":{if(t===null)return "null";if(Array.isArray(t))return "array";let r=t;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return e}function jp(...t){let[e,r,i]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:i}:{...e}}function t5e(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function Mhe(t){let e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}function whe(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function r5e(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return Mhe(e+r)}function n5e(t){return whe(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i5e(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)r[i/2]=Number.parseInt(e.slice(i,i+2),16);return r}function o5e(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var AV=class{constructor(...e){}};var Lhe=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:false}),Object.defineProperty(t,"issues",{value:e,enumerable:false}),t.message=JSON.stringify(e,Hp,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:false});},vg=R("$ZodError",Lhe),hn=R("$ZodError",Lhe,{Parent:Error});function Ag(t,e=r=>r.message){let r={},i=[];for(let n of t.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):i.push(e(n));return {formErrors:i,fieldErrors:r}}function Rg(t,e=r=>r.message){let r={_errors:[]},i=n=>{for(let a of n.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(o=>i({issues:o}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)r._errors.push(e(a));else {let o=r,s=0;for(;s<a.path.length;){let c=a.path[s];s===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(a))):o[c]=o[c]||{_errors:[]},o=o[c],s++;}}};return i(t),r}function MV(t,e=r=>r.message){let r={errors:[]},i=(n,a=[])=>{var o,s;for(let c of n.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>i({issues:l},c.path));else if(c.code==="invalid_key")i({issues:c.issues},c.path);else if(c.code==="invalid_element")i({issues:c.issues},c.path);else {let l=[...a,...c.path];if(l.length===0){r.errors.push(e(c));continue}let u=r,d=0;for(;d<l.length;){let p=l[d],f=d===l.length-1;typeof p=="string"?(u.properties??(u.properties={}),(o=u.properties)[p]??(o[p]={errors:[]}),u=u.properties[p]):(u.items??(u.items=[]),(s=u.items)[p]??(s[p]={errors:[]}),u=u.items[p]),f&&u.errors.push(e(c)),d++;}}};return i(t),r}function Dhe(t){let e=[],r=t.map(i=>typeof i=="object"?i.key:i);for(let i of r)typeof i=="number"?e.push(`[${i}]`):typeof i=="symbol"?e.push(`[${JSON.stringify(String(i))}]`):/[^\w$]/.test(i)?e.push(`[${JSON.stringify(i)}]`):(e.length&&e.push("."),e.push(i));return e.join("")}function wV(t){let e=[],r=[...t.issues].sort((i,n)=>(i.path??[]).length-(n.path??[]).length);for(let i of r)e.push(`\u2716 ${i.message}`),i.path?.length&&e.push(`  \u2192 at ${Dhe(i.path)}`);return e.join(`
`)}var qp=t=>(e,r,i,n)=>{let a=i?Object.assign(i,{async:false}):{async:false},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new Ii;if(o.issues.length){let s=new(n?.Err??t)(o.issues.map(c=>fn(c,a,Nt())));throw Fb(s,n?.callee),s}return o.value},Hb=qp(hn),Yp=t=>async(e,r,i,n)=>{let a=i?Object.assign(i,{async:true}):{async:true},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new(n?.Err??t)(o.issues.map(c=>fn(c,a,Nt())));throw Fb(s,n?.callee),s}return o.value},Gb=Yp(hn),Wp=t=>(e,r,i)=>{let n=i?{...i,async:false}:{async:false},a=e._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new Ii;return a.issues.length?{success:false,error:new(t??vg)(a.issues.map(o=>fn(o,n,Nt())))}:{success:true,data:a.value}},LV=Wp(hn),Kp=t=>async(e,r,i)=>{let n=i?Object.assign(i,{async:true}):{async:true},a=e._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:false,error:new t(a.issues.map(o=>fn(o,n,Nt())))}:{success:true,data:a.value}},DV=Kp(hn),jb=t=>(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return qp(t)(e,r,n)},a5e=jb(hn),qb=t=>(e,r,i)=>qp(t)(e,r,i),c5e=qb(hn),Yb=t=>async(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Yp(t)(e,r,n)},l5e=Yb(hn),Wb=t=>async(e,r,i)=>Yp(t)(e,r,i),u5e=Wb(hn),Kb=t=>(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wp(t)(e,r,n)},d5e=Kb(hn),Zb=t=>(e,r,i)=>Wp(t)(e,r,i),p5e=Zb(hn),Xb=t=>async(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Kp(t)(e,r,n)},f5e=Xb(hn),Jb=t=>async(e,r,i)=>Kp(t)(e,r,i),h5e=Jb(hn);var si={};Ne(si,{base64:()=>XV,base64url:()=>Qb,bigint:()=>nB,boolean:()=>oB,browserEmail:()=>v5e,cidrv4:()=>KV,cidrv6:()=>ZV,cuid:()=>UV,cuid2:()=>kV,date:()=>QV,datetime:()=>tB,domain:()=>O5e,duration:()=>FV,e164:()=>JV,email:()=>GV,emoji:()=>jV,extendedDuration:()=>m5e,guid:()=>HV,hex:()=>N5e,hostname:()=>R5e,html5Email:()=>S5e,idnEmail:()=>y5e,integer:()=>iB,ipv4:()=>qV,ipv6:()=>YV,ksuid:()=>BV,lowercase:()=>cB,mac:()=>WV,md5_base64:()=>P5e,md5_base64url:()=>C5e,md5_hex:()=>b5e,nanoid:()=>zV,null:()=>sB,number:()=>eP,rfc5322Email:()=>T5e,sha1_base64:()=>I5e,sha1_base64url:()=>M5e,sha1_hex:()=>x5e,sha256_base64:()=>L5e,sha256_base64url:()=>D5e,sha256_hex:()=>w5e,sha384_base64:()=>k5e,sha384_base64url:()=>$5e,sha384_hex:()=>U5e,sha512_base64:()=>B5e,sha512_base64url:()=>z5e,sha512_hex:()=>V5e,string:()=>rB,time:()=>eB,ulid:()=>$V,undefined:()=>aB,unicodeEmail:()=>Uhe,uppercase:()=>lB,uuid:()=>zl,uuid4:()=>_5e,uuid6:()=>g5e,uuid7:()=>E5e,xid:()=>VV});var UV=/^[cC][^\s-]{8,}$/,kV=/^[0-9a-z]+$/,$V=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,VV=/^[0-9a-vA-V]{20}$/,BV=/^[A-Za-z0-9]{27}$/,zV=/^[a-zA-Z0-9_-]{21}$/,FV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,m5e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,HV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,zl=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,_5e=zl(4),g5e=zl(6),E5e=zl(7),GV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,S5e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,T5e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Uhe=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,y5e=Uhe,v5e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A5e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jV(){return new RegExp(A5e,"u")}var qV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,WV=t=>{let e=oi(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},KV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ZV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Qb=/^[A-Za-z0-9_-]*$/,R5e=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,O5e=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,JV=/^\+[1-9]\d{6,14}$/,khe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",QV=new RegExp(`^${khe}$`);function $he(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function eB(t){return new RegExp(`^${$he(t)}$`)}function tB(t){let e=$he({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${e}(?:${r.join("|")})`;return new RegExp(`^${khe}T(?:${i})$`)}var rB=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},nB=/^-?\d+n?$/,iB=/^-?\d+$/,eP=/^-?\d+(?:\.\d+)?$/,oB=/^(?:true|false)$/i,sB=/^null$/i;var aB=/^undefined$/i;var cB=/^[^A-Z]*$/,lB=/^[^a-z]*$/,N5e=/^[0-9a-fA-F]*$/;function Og(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function Ng(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var b5e=/^[0-9a-fA-F]{32}$/,P5e=Og(22,"=="),C5e=Ng(22),x5e=/^[0-9a-fA-F]{40}$/,I5e=Og(27,"="),M5e=Ng(27),w5e=/^[0-9a-fA-F]{64}$/,L5e=Og(43,"="),D5e=Ng(43),U5e=/^[0-9a-fA-F]{96}$/,k5e=Og(64,""),$5e=Ng(64),V5e=/^[0-9a-fA-F]{128}$/,B5e=Og(86,"=="),z5e=Ng(86);var nt=R("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[]);}),Bhe={number:"number",bigint:"bigint",object:"date"},tP=R("$ZodCheckLessThan",(t,e)=>{nt.init(t,e);let r=Bhe[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value);}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort});};}),rP=R("$ZodCheckGreaterThan",(t,e)=>{nt.init(t,e);let r=Bhe[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value);}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort});};}),uB=R("$ZodCheckMultipleOf",(t,e)=>{nt.init(t,e),t._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=e.value);}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):RV(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort});};}),dB=R("$ZodCheckNumberFormat",(t,e)=>{nt.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),i=r?"int":"number",[n,a]=xV[e.format];t._zod.onattach.push(o=>{let s=o._zod.bag;s.format=e.format,s.minimum=n,s.maximum=a,r&&(s.pattern=iB);}),t._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s)){o.issues.push({expected:i,format:e.format,code:"invalid_type",continue:false,input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:true,continue:!e.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:true,continue:!e.abort});return}}s<n&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:true,inst:t,continue:!e.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inclusive:true,inst:t,continue:!e.abort});};}),pB=R("$ZodCheckBigIntFormat",(t,e)=>{nt.init(t,e);let[r,i]=IV[e.format];t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,a.minimum=r,a.maximum=i;}),t._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:true,inst:t,continue:!e.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inclusive:true,inst:t,continue:!e.abort});};}),fB=R("$ZodCheckMaxSize",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum);}),t._zod.check=i=>{let n=i.value;n.size<=e.maximum||i.issues.push({origin:Tg(n),code:"too_big",maximum:e.maximum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),hB=R("$ZodCheckMinSize",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum);}),t._zod.check=i=>{let n=i.value;n.size>=e.minimum||i.issues.push({origin:Tg(n),code:"too_small",minimum:e.minimum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),mB=R("$ZodCheckSizeEquals",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size;}),t._zod.check=i=>{let n=i.value,a=n.size;if(a===e.size)return;let o=a>e.size;i.issues.push({origin:Tg(n),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:true,exact:true,input:i.value,inst:t,continue:!e.abort});};}),_B=R("$ZodCheckMaxLength",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum);}),t._zod.check=i=>{let n=i.value;if(n.length<=e.maximum)return;let o=yg(n);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),gB=R("$ZodCheckMinLength",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum);}),t._zod.check=i=>{let n=i.value;if(n.length>=e.minimum)return;let o=yg(n);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),EB=R("$ZodCheckLengthEquals",(t,e)=>{var r;nt.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !lc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length;}),t._zod.check=i=>{let n=i.value,a=n.length;if(a===e.length)return;let o=yg(n),s=a>e.length;i.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:true,exact:true,input:i.value,inst:t,continue:!e.abort});};}),Zp=R("$ZodCheckStringFormat",(t,e)=>{var r,i;nt.init(t,e),t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern));}),e.pattern?(r=t._zod).check??(r.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort});}):(i=t._zod).check??(i.check=()=>{});}),SB=R("$ZodCheckRegex",(t,e)=>{Zp.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort});};}),TB=R("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=cB),Zp.init(t,e);}),yB=R("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=lB),Zp.init(t,e);}),vB=R("$ZodCheckIncludes",(t,e)=>{nt.init(t,e);let r=oi(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=i,t._zod.onattach.push(n=>{let a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i);}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort});};}),AB=R("$ZodCheckStartsWith",(t,e)=>{nt.init(t,e);let r=new RegExp(`^${oi(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r);}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort});};}),RB=R("$ZodCheckEndsWith",(t,e)=>{nt.init(t,e);let r=new RegExp(`.*${oi(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r);}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort});};});function Vhe(t,e,r){t.issues.length&&e.issues.push(...Pn(r,t.issues));}var OB=R("$ZodCheckProperty",(t,e)=>{nt.init(t,e),t._zod.check=r=>{let i=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(n=>Vhe(n,r,e.property));Vhe(i,r,e.property);};}),NB=R("$ZodCheckMimeType",(t,e)=>{nt.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=e.mime;}),t._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:t,continue:!e.abort});};}),bB=R("$ZodCheckOverwrite",(t,e)=>{nt.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value);};});var bg=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e);}indented(e){this.indent+=1,e(this),this.indent-=1;}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let i=e.split(`
`).filter(o=>o),n=Math.min(...i.map(o=>o.length-o.trimStart().length)),a=i.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(let o of a)this.content.push(o);}compile(){let e=Function,r=this?.args,n=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...r,n.join(`
`))}};var PB={major:4,minor:3,patch:5};var _e=R("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=PB;let i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(let n of i)for(let a of n._zod.onattach)a(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse;});else {let n=(o,s,c)=>{let l=pc(o),u;for(let d of s){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(l)continue;let p=o.issues.length,f=d._zod.check(o);if(f instanceof Promise&&c?.async===false)throw new Ii;if(u||f instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await f,o.issues.length!==p&&(l||(l=pc(o,p)));});else {if(o.issues.length===p)continue;l||(l=pc(o,p));}}return u?u.then(()=>o):o},a=(o,s,c)=>{if(pc(o))return o.aborted=true,o;let l=n(s,i,c);if(l instanceof Promise){if(c.async===false)throw new Ii;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(o,s)=>{if(s.skipChecks)return t._zod.parse(o,s);if(s.direction==="backward"){let l=t._zod.parse({value:o.value,issues:[]},{...s,skipChecks:true});return l instanceof Promise?l.then(u=>a(u,o,s)):a(l,o,s)}let c=t._zod.parse(o,s);if(c instanceof Promise){if(s.async===false)throw new Ii;return c.then(l=>n(l,i,s))}return n(c,i,s)};}Pe(t,"~standard",()=>({validate:n=>{try{let a=LV(t,n);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return DV(t,n).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}));}),Fl=R("$ZodString",(t,e)=>{_e.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??rB(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value);}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r};}),Xe=R("$ZodStringFormat",(t,e)=>{Zp.init(t,e),Fl.init(t,e);}),xB=R("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=HV),Xe.init(t,e);}),IB=R("$ZodUUID",(t,e)=>{if(e.version){let i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=zl(i));}else e.pattern??(e.pattern=zl());Xe.init(t,e);}),MB=R("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=GV),Xe.init(t,e);}),wB=R("$ZodURL",(t,e)=>{Xe.init(t,e),t._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=n.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort});}};}),LB=R("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=jV()),Xe.init(t,e);}),DB=R("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=zV),Xe.init(t,e);}),UB=R("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=UV),Xe.init(t,e);}),kB=R("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=kV),Xe.init(t,e);}),$B=R("$ZodULID",(t,e)=>{e.pattern??(e.pattern=$V),Xe.init(t,e);}),VB=R("$ZodXID",(t,e)=>{e.pattern??(e.pattern=VV),Xe.init(t,e);}),BB=R("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=BV),Xe.init(t,e);}),zB=R("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=tB(e)),Xe.init(t,e);}),FB=R("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=QV),Xe.init(t,e);}),HB=R("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=eB(e)),Xe.init(t,e);}),GB=R("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=FV),Xe.init(t,e);}),jB=R("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=qV),Xe.init(t,e),t._zod.bag.format="ipv4";}),qB=R("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=YV),Xe.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`);}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort});}};}),YB=R("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=WV(e.delimiter)),Xe.init(t,e),t._zod.bag.format="mac";}),WB=R("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=KV),Xe.init(t,e);}),KB=R("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ZV),Xe.init(t,e),t._zod.check=r=>{let i=r.value.split("/");try{if(i.length!==2)throw new Error;let[n,a]=i;if(!a)throw new Error;let o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`);}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort});}};});function ZB(t){if(t==="")return  true;if(t.length%4!==0)return  false;try{return atob(t),!0}catch{return  false}}var XB=R("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=XV),Xe.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{ZB(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort});};});function Qhe(t){if(!Qb.test(t))return  false;let e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return ZB(r)}var JB=R("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Qb),Xe.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{Qhe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort});};}),QB=R("$ZodE164",(t,e)=>{e.pattern??(e.pattern=JV),Xe.init(t,e);});function eme(t,e=null){try{let r=t.split(".");if(r.length!==3)return !1;let[i]=r;if(!i)return !1;let n=JSON.parse(atob(i));return !("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return  false}}var ez=R("$ZodJWT",(t,e)=>{Xe.init(t,e),t._zod.check=r=>{eme(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort});};}),tz=R("$ZodCustomStringFormat",(t,e)=>{Xe.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort});};}),cP=R("$ZodNumber",(t,e)=>{_e.init(t,e),t._zod.pattern=t._zod.bag.pattern??eP,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=Number(r.value);}catch{}let n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...a?{received:a}:{}}),r};}),rz=R("$ZodNumberFormat",(t,e)=>{dB.init(t,e),cP.init(t,e);}),Pg=R("$ZodBoolean",(t,e)=>{_e.init(t,e),t._zod.pattern=oB,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=!!r.value;}catch{}let n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),r};}),lP=R("$ZodBigInt",(t,e)=>{_e.init(t,e),t._zod.pattern=nB,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=BigInt(r.value);}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r};}),nz=R("$ZodBigIntFormat",(t,e)=>{pB.init(t,e),lP.init(t,e);}),iz=R("$ZodSymbol",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:t}),r};}),oz=R("$ZodUndefined",(t,e)=>{_e.init(t,e),t._zod.pattern=aB,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:t}),r};}),sz=R("$ZodNull",(t,e)=>{_e.init(t,e),t._zod.pattern=sB,t._zod.values=new Set([null]),t._zod.parse=(r,i)=>{let n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:t}),r};}),az=R("$ZodAny",(t,e)=>{_e.init(t,e),t._zod.parse=r=>r;}),cz=R("$ZodUnknown",(t,e)=>{_e.init(t,e),t._zod.parse=r=>r;}),lz=R("$ZodNever",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r);}),uz=R("$ZodVoid",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"void",code:"invalid_type",input:n,inst:t}),r};}),dz=R("$ZodDate",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=new Date(r.value);}catch{}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:t}),r};});function Fhe(t,e,r){t.issues.length&&e.issues.push(...Pn(r,t.issues)),e.value[r]=t.value;}var pz=R("$ZodArray",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),r;r.value=Array(n.length);let a=[];for(let o=0;o<n.length;o++){let s=n[o],c=e.element._zod.run({value:s,issues:[]},i);c instanceof Promise?a.push(c.then(l=>Fhe(l,r,o))):Fhe(c,r,o);}return a.length?Promise.all(a).then(()=>r):r};});function aP(t,e,r,i,n){if(t.issues.length){if(n&&!(r in i))return;e.issues.push(...Pn(r,t.issues));}t.value===void 0?r in i&&(e.value[r]=void 0):e.value[r]=t.value;}function tme(t){let e=Object.keys(t.shape);for(let i of e)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);let r=CV(t.shape);return {...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function rme(t,e,r,i,n,a){let o=[],s=n.keySet,c=n.catchall._zod,l=c.def.type,u=c.optout==="optional";for(let d in e){if(s.has(d))continue;if(l==="never"){o.push(d);continue}let p=c.run({value:e[d],issues:[]},i);p instanceof Promise?t.push(p.then(f=>aP(f,r,d,e,u))):aP(p,r,d,e,u);}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:a}),t.length?Promise.all(t).then(()=>r):r}var nme=R("$ZodObject",(t,e)=>{if(_e.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let s=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...s};return Object.defineProperty(e,"shape",{value:c}),c}});}let i=Gp(()=>tme(e));Pe(t._zod,"propValues",()=>{let s=e.shape,c={};for(let l in s){let u=s[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(let d of u.values)c[l].add(d);}}return c});let n=Bl,a=e.catchall,o;t._zod.parse=(s,c)=>{o??(o=i.value);let l=s.value;if(!n(l))return s.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),s;s.value={};let u=[],d=o.shape;for(let p of o.keys){let f=d[p],g=f._zod.optout==="optional",S=f._zod.run({value:l[p],issues:[]},c);S instanceof Promise?u.push(S.then(v=>aP(v,s,p,l,g))):aP(S,s,p,l,g);}return a?rme(u,l,s,c,i.value,t):u.length?Promise.all(u).then(()=>s):s};}),fz=R("$ZodObjectJIT",(t,e)=>{nme.init(t,e);let r=t._zod.parse,i=Gp(()=>tme(e)),n=p=>{let f=new bg(["shape","payload","ctx"]),g=i.value,S=M=>{let A=zb(M);return `shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};f.write("const input = payload.value;");let v=Object.create(null),N=0;for(let M of g.keys)v[M]=`key_${N++}`;f.write("const newResult = {};");for(let M of g.keys){let A=v[M],k=zb(M),G=p[M]?._zod?.optout==="optional";f.write(`const ${A} = ${S(M)};`),G?f.write(`
        if (${A}.issues.length) {
          if (${k} in input) {
            payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${k}, ...iss.path] : [${k}]
            })));
          }
        }
        
        if (${A}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${A}.value;
        }
        
      `):f.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        if (${A}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${A}.value;
        }
        
      `);}f.write("payload.value = newResult;"),f.write("return payload;");let C=f.compile();return (M,A)=>C(p,M,A)},a,o=Bl,s=!mg.jitless,l=s&&NV.value,u=e.catchall,d;t._zod.parse=(p,f)=>{d??(d=i.value);let g=p.value;return o(g)?s&&l&&f?.async===false&&f.jitless!==true?(a||(a=n(e.shape)),p=a(p,f),u?rme([],g,p,f,d,t):p):r(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),p)};});function Hhe(t,e,r,i){for(let a of t)if(a.issues.length===0)return e.value=a.value,e;let n=t.filter(a=>!pc(a));return n.length===1?(e.value=n[0].value,n[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>fn(o,i,Nt())))}),e)}var Cg=R("$ZodUnion",(t,e)=>{_e.init(t,e),Pe(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Pe(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Pe(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),Pe(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){let n=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${n.map(a=>Eg(a.source)).join("|")})$`)}});let r=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(n,a)=>{if(r)return i(n,a);let o=false,s=[];for(let c of e.options){let l=c._zod.run({value:n.value,issues:[]},a);if(l instanceof Promise)s.push(l),o=true;else {if(l.issues.length===0)return l;s.push(l);}}return o?Promise.all(s).then(c=>Hhe(c,n,t,a)):Hhe(s,n,t,a)};});function Ghe(t,e,r,i){let n=t.filter(a=>a.issues.length===0);return n.length===1?(e.value=n[0].value,e):(n.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>fn(o,i,Nt())))}):e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:[],inclusive:false}),e)}var hz=R("$ZodXor",(t,e)=>{Cg.init(t,e),e.inclusive=false;let r=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(n,a)=>{if(r)return i(n,a);let o=false,s=[];for(let c of e.options){let l=c._zod.run({value:n.value,issues:[]},a);l instanceof Promise?(s.push(l),o=true):s.push(l);}return o?Promise.all(s).then(c=>Ghe(c,n,t,a)):Ghe(s,n,t,a)};}),mz=R("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=false,Cg.init(t,e);let r=t._zod.parse;Pe(t._zod,"propValues",()=>{let n={};for(let a of e.options){let o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let[s,c]of Object.entries(o)){n[s]||(n[s]=new Set);for(let l of c)n[s].add(l);}}return n});let i=Gp(()=>{let n=e.options,a=new Map;for(let o of n){let s=o._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let c of s){if(a.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);a.set(c,o);}}return a});t._zod.parse=(n,a)=>{let o=n.value;if(!Bl(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),n;let s=i.value.get(o?.[e.discriminator]);return s?s._zod.run(n,a):e.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),n)};}),_z=R("$ZodIntersection",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value,a=e.left._zod.run({value:n,issues:[]},i),o=e.right._zod.run({value:n,issues:[]},i);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([c,l])=>jhe(r,c,l)):jhe(r,a,o)};});function CB(t,e){if(t===e)return {valid:true,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return {valid:true,data:t};if(dc(t)&&dc(e)){let r=Object.keys(e),i=Object.keys(t).filter(a=>r.indexOf(a)!==-1),n={...t,...e};for(let a of i){let o=CB(t[a],e[a]);if(!o.valid)return {valid:false,mergeErrorPath:[a,...o.mergeErrorPath]};n[a]=o.data;}return {valid:true,data:n}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return {valid:false,mergeErrorPath:[]};let r=[];for(let i=0;i<t.length;i++){let n=t[i],a=e[i],o=CB(n,a);if(!o.valid)return {valid:false,mergeErrorPath:[i,...o.mergeErrorPath]};r.push(o.data);}return {valid:true,data:r}}return {valid:false,mergeErrorPath:[]}}function jhe(t,e,r){let i=new Map,n;for(let s of e.issues)if(s.code==="unrecognized_keys"){n??(n=s);for(let c of s.keys)i.has(c)||i.set(c,{}),i.get(c).l=true;}else t.issues.push(s);for(let s of r.issues)if(s.code==="unrecognized_keys")for(let c of s.keys)i.has(c)||i.set(c,{}),i.get(c).r=true;else t.issues.push(s);let a=[...i].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(a.length&&n&&t.issues.push({...n,keys:a}),pc(t))return t;let o=CB(e.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}var uP=R("$ZodTuple",(t,e)=>{_e.init(t,e);let r=e.items;t._zod.parse=(i,n)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let o=[],s=[...r].reverse().findIndex(u=>u._zod.optin!=="optional"),c=s===-1?0:r.length-s;if(!e.rest){let u=a.length>r.length,d=a.length<c-1;if(u||d)return i.issues.push({...u?{code:"too_big",maximum:r.length,inclusive:true}:{code:"too_small",minimum:r.length},input:a,inst:t,origin:"array"}),i}let l=-1;for(let u of r){if(l++,l>=a.length&&l>=c)continue;let d=u._zod.run({value:a[l],issues:[]},n);d instanceof Promise?o.push(d.then(p=>nP(p,i,l))):nP(d,i,l);}if(e.rest){let u=a.slice(r.length);for(let d of u){l++;let p=e.rest._zod.run({value:d,issues:[]},n);p instanceof Promise?o.push(p.then(f=>nP(f,i,l))):nP(p,i,l);}}return o.length?Promise.all(o).then(()=>i):i};});function nP(t,e,r){t.issues.length&&e.issues.push(...Pn(r,t.issues)),e.value[r]=t.value;}var gz=R("$ZodRecord",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!dc(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),r;let a=[],o=e.keyType._zod.values;if(o){r.value={};let s=new Set;for(let l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){s.add(typeof l=="number"?l.toString():l);let u=e.valueType._zod.run({value:n[l],issues:[]},i);u instanceof Promise?a.push(u.then(d=>{d.issues.length&&r.issues.push(...Pn(l,d.issues)),r.value[l]=d.value;})):(u.issues.length&&r.issues.push(...Pn(l,u.issues)),r.value[l]=u.value);}let c;for(let l in n)s.has(l)||(c=c??[],c.push(l));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:c});}else {r.value={};for(let s of Reflect.ownKeys(n)){if(s==="__proto__")continue;let c=e.keyType._zod.run({value:s,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof s=="string"&&eP.test(s)&&c.issues.length&&c.issues.some(d=>d.code==="invalid_type"&&d.expected==="number")){let d=e.keyType._zod.run({value:Number(s),issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d);}if(c.issues.length){e.mode==="loose"?r.value[s]=n[s]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>fn(d,i,Nt())),input:s,path:[s],inst:t});continue}let u=e.valueType._zod.run({value:n[s],issues:[]},i);u instanceof Promise?a.push(u.then(d=>{d.issues.length&&r.issues.push(...Pn(s,d.issues)),r.value[c.value]=d.value;})):(u.issues.length&&r.issues.push(...Pn(s,u.issues)),r.value[c.value]=u.value);}}return a.length?Promise.all(a).then(()=>r):r};}),Ez=R("$ZodMap",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:t}),r;let a=[];r.value=new Map;for(let[o,s]of n){let c=e.keyType._zod.run({value:o,issues:[]},i),l=e.valueType._zod.run({value:s,issues:[]},i);c instanceof Promise||l instanceof Promise?a.push(Promise.all([c,l]).then(([u,d])=>{qhe(u,d,r,o,n,t,i);})):qhe(c,l,r,o,n,t,i);}return a.length?Promise.all(a).then(()=>r):r};});function qhe(t,e,r,i,n,a,o){t.issues.length&&(Sg.has(typeof i)?r.issues.push(...Pn(i,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:t.issues.map(s=>fn(s,o,Nt()))})),e.issues.length&&(Sg.has(typeof i)?r.issues.push(...Pn(i,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:e.issues.map(s=>fn(s,o,Nt()))})),r.value.set(t.value,e.value);}var Sz=R("$ZodSet",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:t,expected:"set",code:"invalid_type"}),r;let a=[];r.value=new Set;for(let o of n){let s=e.valueType._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(c=>Yhe(c,r))):Yhe(s,r);}return a.length?Promise.all(a).then(()=>r):r};});function Yhe(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value);}var Tz=R("$ZodEnum",(t,e)=>{_e.init(t,e);let r=gg(e.entries),i=new Set(r);t._zod.values=i,t._zod.pattern=new RegExp(`^(${r.filter(n=>Sg.has(typeof n)).map(n=>typeof n=="string"?oi(n):n.toString()).join("|")})$`),t._zod.parse=(n,a)=>{let o=n.value;return i.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n};}),yz=R("$ZodLiteral",(t,e)=>{if(_e.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(i=>typeof i=="string"?oi(i):i?oi(i.toString()):String(i)).join("|")})$`),t._zod.parse=(i,n)=>{let a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:e.values,input:a,inst:t}),i};}),vz=R("$ZodFile",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return n instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:n,inst:t}),r};}),Az=R("$ZodTransform",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new cc(t.constructor.name);let n=e.transform(r.value,r);if(i.async)return (n instanceof Promise?n:Promise.resolve(n)).then(o=>(r.value=o,r));if(n instanceof Promise)throw new Ii;return r.value=n,r};});function Whe(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var dP=R("$ZodOptional",(t,e)=>{_e.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Pe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Pe(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Eg(r.source)})?$`):void 0}),t._zod.parse=(r,i)=>{if(e.innerType._zod.optin==="optional"){let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>Whe(a,r.value)):Whe(n,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,i)};}),Rz=R("$ZodExactOptional",(t,e)=>{dP.init(t,e),Pe(t._zod,"values",()=>e.innerType._zod.values),Pe(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,i)=>e.innerType._zod.run(r,i);}),Oz=R("$ZodNullable",(t,e)=>{_e.init(t,e),Pe(t._zod,"optin",()=>e.innerType._zod.optin),Pe(t._zod,"optout",()=>e.innerType._zod.optout),Pe(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Eg(r.source)}|null)$`):void 0}),Pe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,i)=>r.value===null?r:e.innerType._zod.run(r,i);}),Nz=R("$ZodDefault",(t,e)=>{_e.init(t,e),t._zod.optin="optional",Pe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);if(r.value===void 0)return r.value=e.defaultValue,r;let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>Khe(a,e)):Khe(n,e)};});function Khe(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var bz=R("$ZodPrefault",(t,e)=>{_e.init(t,e),t._zod.optin="optional",Pe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,i));}),Pz=R("$ZodNonOptional",(t,e)=>{_e.init(t,e),Pe(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>Zhe(a,t)):Zhe(n,t)};});function Zhe(t,e){return !t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var Cz=R("$ZodSuccess",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new cc("ZodSuccess");let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.issues.length===0,r)):(r.value=n.issues.length===0,r)};}),xz=R("$ZodCatch",(t,e)=>{_e.init(t,e),Pe(t._zod,"optin",()=>e.innerType._zod.optin),Pe(t._zod,"optout",()=>e.innerType._zod.optout),Pe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>fn(o,i,Nt()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=e.catchValue({...r,error:{issues:n.issues.map(a=>fn(a,i,Nt()))},input:r.value}),r.issues=[]),r)};}),Iz=R("$ZodNaN",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r);}),Mz=R("$ZodPipe",(t,e)=>{_e.init(t,e),Pe(t._zod,"values",()=>e.in._zod.values),Pe(t._zod,"optin",()=>e.in._zod.optin),Pe(t._zod,"optout",()=>e.out._zod.optout),Pe(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,i)=>{if(i.direction==="backward"){let a=e.out._zod.run(r,i);return a instanceof Promise?a.then(o=>iP(o,e.in,i)):iP(a,e.in,i)}let n=e.in._zod.run(r,i);return n instanceof Promise?n.then(a=>iP(a,e.out,i)):iP(n,e.out,i)};});function iP(t,e,r){return t.issues.length?(t.aborted=true,t):e._zod.run({value:t.value,issues:t.issues},r)}var xg=R("$ZodCodec",(t,e)=>{_e.init(t,e),Pe(t._zod,"values",()=>e.in._zod.values),Pe(t._zod,"optin",()=>e.in._zod.optin),Pe(t._zod,"optout",()=>e.out._zod.optout),Pe(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,i)=>{if((i.direction||"forward")==="forward"){let a=e.in._zod.run(r,i);return a instanceof Promise?a.then(o=>oP(o,e,i)):oP(a,e,i)}else {let a=e.out._zod.run(r,i);return a instanceof Promise?a.then(o=>oP(o,e,i)):oP(a,e,i)}};});function oP(t,e,r){if(t.issues.length)return t.aborted=true,t;if((r.direction||"forward")==="forward"){let n=e.transform(t.value,t);return n instanceof Promise?n.then(a=>sP(t,a,e.out,r)):sP(t,n,e.out,r)}else {let n=e.reverseTransform(t.value,t);return n instanceof Promise?n.then(a=>sP(t,a,e.in,r)):sP(t,n,e.in,r)}}function sP(t,e,r,i){return t.issues.length?(t.aborted=true,t):r._zod.run({value:e,issues:t.issues},i)}var wz=R("$ZodReadonly",(t,e)=>{_e.init(t,e),Pe(t._zod,"propValues",()=>e.innerType._zod.propValues),Pe(t._zod,"values",()=>e.innerType._zod.values),Pe(t._zod,"optin",()=>e.innerType?._zod?.optin),Pe(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(Xhe):Xhe(n)};});function Xhe(t){return t.value=Object.freeze(t.value),t}var Lz=R("$ZodTemplateLiteral",(t,e)=>{_e.init(t,e);let r=[];for(let i of e.parts)if(typeof i=="object"&&i!==null){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let n=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${i._zod.traits}`);let a=n.startsWith("^")?1:0,o=n.endsWith("$")?n.length-1:n.length;r.push(n.slice(a,o));}else if(i===null||PV.has(typeof i))r.push(oi(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(i,n)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:t,expected:"string",code:"invalid_type"}),i):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),i);}),Dz=R("$ZodFunction",(t,e)=>(_e.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...i){let n=t._def.input?Hb(t._def.input,i):i,a=Reflect.apply(r,this,n);return t._def.output?Hb(t._def.output,a):a}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...i){let n=t._def.input?await Gb(t._def.input,i):i,a=await Reflect.apply(r,this,n);return t._def.output?await Gb(t._def.output,a):a}},t._zod.parse=(r,i)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let i=t.constructor;return Array.isArray(r[0])?new i({type:"function",input:new uP({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new i({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let i=t.constructor;return new i({type:"function",input:t._def.input,output:r})},t)),Uz=R("$ZodPromise",(t,e)=>{_e.init(t,e),t._zod.parse=(r,i)=>Promise.resolve(r.value).then(n=>e.innerType._zod.run({value:n,issues:[]},i));}),kz=R("$ZodLazy",(t,e)=>{_e.init(t,e),Pe(t._zod,"innerType",()=>e.getter()),Pe(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Pe(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Pe(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Pe(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,i)=>t._zod.innerType._zod.run(r,i);}),$z=R("$ZodCustom",(t,e)=>{nt.init(t,e),_e.init(t,e),t._zod.parse=(r,i)=>r,t._zod.check=r=>{let i=r.value,n=e.fn(i);if(n instanceof Promise)return n.then(a=>Jhe(a,r,i,t));Jhe(n,r,i,t);};});function Jhe(t,e,r,i){if(!t){let n={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(n.params=i._zod.def.params),e.issues.push(jp(n));}}var Mg={};Ne(Mg,{ar:()=>ime,az:()=>ome,be:()=>ame,bg:()=>cme,ca:()=>lme,cs:()=>ume,da:()=>dme,de:()=>pme,en:()=>pP,eo:()=>fme,es:()=>hme,fa:()=>mme,fi:()=>_me,fr:()=>gme,frCA:()=>Eme,he:()=>Sme,hu:()=>Tme,hy:()=>vme,id:()=>Ame,is:()=>Rme,it:()=>Ome,ja:()=>Nme,ka:()=>bme,kh:()=>Pme,km:()=>fP,ko:()=>Cme,lt:()=>Ime,mk:()=>Mme,ms:()=>wme,nl:()=>Lme,no:()=>Dme,ota:()=>Ume,pl:()=>$me,ps:()=>kme,pt:()=>Vme,ru:()=>zme,sl:()=>Fme,sv:()=>Hme,ta:()=>Gme,th:()=>jme,tr:()=>qme,ua:()=>Yme,uk:()=>hP,ur:()=>Wme,uz:()=>Kme,vi:()=>Zme,yo:()=>Qme,zhCN:()=>Xme,zhTW:()=>Jme});var H5e=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(n){return t[n]??null}let r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${n.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${s}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${a}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${s}`}case "invalid_value":return n.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${B(n.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()} ${o.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${n.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${r[a.format]??n.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case "not_multiple_of":return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${n.divisor}`;case "unrecognized_keys":return `\u0645\u0639\u0631\u0641${n.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${n.keys.length>1?"\u0629":""}: ${x(n.keys,"\u060C ")}`;case "invalid_key":return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;case "invalid_union":return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case "invalid_element":return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;default:return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function ime(){return {localeError:H5e()}}var G5e=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${n.expected}, daxil olan ${s}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${a}, daxil olan ${s}`}case "invalid_value":return n.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${B(n.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()} ${o.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[a.format]??n.format}`}case "not_multiple_of":return `Yanl\u0131\u015F \u0259d\u0259d: ${n.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case "unrecognized_keys":return `Tan\u0131nmayan a\xE7ar${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case "invalid_union":return "Yanl\u0131\u015F d\u0259y\u0259r";case "invalid_element":return `${n.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return "Yanl\u0131\u015F d\u0259y\u0259r"}}};function ome(){return {localeError:G5e()}}function sme(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var j5e=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(n){return t[n]??null}let r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},i={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${n.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${s}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${a}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${B(n.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=sme(s,o.unit.one,o.unit.few,o.unit.many);return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.maximum.toString()} ${c}`}return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=sme(s,o.unit.one,o.unit.few,o.unit.many);return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.minimum.toString()} ${c}`}return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${n.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${x(n.keys,", ")}`;case "invalid_key":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case "invalid_union":return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case "invalid_element":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${n.origin}`;default:return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function ame(){return {localeError:j5e()}}var q5e=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${s}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${a}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${B(n.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${a}${n.minimum.toString()} ${o.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;if(a.format==="starts_with")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${a.prefix}"`;if(a.format==="ends_with")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${a.suffix}"`;if(a.format==="includes")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${a.includes}"`;if(a.format==="regex")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${a.pattern}`;let o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return a.format==="emoji"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="datetime"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="date"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),a.format==="time"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="duration"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${o} ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${n.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u043E\u0432\u0435":""}: ${x(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case "invalid_element":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${n.origin}`;default:return "\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function cme(){return {localeError:q5e()}}var Y5e=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(n){return t[n]??null}let r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${n.expected}, s'ha rebut ${s}`:`Tipus inv\xE0lid: s'esperava ${a}, s'ha rebut ${s}`}case "invalid_value":return n.values.length===1?`Valor inv\xE0lid: s'esperava ${B(n.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${x(n.values," o ")}`;case "too_big":{let a=n.inclusive?"com a m\xE0xim":"menys de",o=e(n.origin);return o?`Massa gran: s'esperava que ${n.origin??"el valor"} contingu\xE9s ${a} ${n.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"com a m\xEDnim":"m\xE9s de",o=e(n.origin);return o?`Massa petit: s'esperava que ${n.origin} contingu\xE9s ${a} ${n.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${r[a.format]??n.format}`}case "not_multiple_of":return `N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${n.divisor}`;case "unrecognized_keys":return `Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Clau inv\xE0lida a ${n.origin}`;case "invalid_union":return "Entrada inv\xE0lida";case "invalid_element":return `Element inv\xE0lid a ${n.origin}`;default:return "Entrada inv\xE0lida"}}};function lme(){return {localeError:Y5e()}}var W5e=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(n){return t[n]??null}let r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},i={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${n.expected}, obdr\u017Eeno ${s}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${a}, obdr\u017Eeno ${s}`}case "invalid_value":return n.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${B(n.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.maximum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.minimum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${r[a.format]??n.format}`}case "not_multiple_of":return `Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${n.divisor}`;case "unrecognized_keys":return `Nezn\xE1m\xE9 kl\xED\u010De: ${x(n.keys,", ")}`;case "invalid_key":return `Neplatn\xFD kl\xED\u010D v ${n.origin}`;case "invalid_union":return "Neplatn\xFD vstup";case "invalid_element":return `Neplatn\xE1 hodnota v ${n.origin}`;default:return "Neplatn\xFD vstup"}}};function ume(){return {localeError:W5e()}}var K5e=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(n){return t[n]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ugyldigt input: forventede instanceof ${n.expected}, fik ${s}`:`Ugyldigt input: forventede ${a}, fik ${s}`}case "invalid_value":return n.values.length===1?`Ugyldig v\xE6rdi: forventede ${B(n.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=i[n.origin]??n.origin;return o?`For stor: forventede ${s??"value"} ${o.verb} ${a} ${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor: forventede ${s??"value"} havde ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=i[n.origin]??n.origin;return o?`For lille: forventede ${s} ${o.verb} ${a} ${n.minimum.toString()} ${o.unit}`:`For lille: forventede ${s} havde ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${r[a.format]??n.format}`}case "not_multiple_of":return `Ugyldigt tal: skal v\xE6re deleligt med ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${x(n.keys,", ")}`;case "invalid_key":return `Ugyldig n\xF8gle i ${n.origin}`;case "invalid_union":return "Ugyldigt input: matcher ingen af de tilladte typer";case "invalid_element":return `Ugyldig v\xE6rdi i ${n.origin}`;default:return "Ugyldigt input"}}};function dme(){return {localeError:K5e()}}var Z5e=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(n){return t[n]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},i={nan:"NaN",number:"Zahl",array:"Array"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${n.expected}, erhalten ${s}`:`Ung\xFCltige Eingabe: erwartet ${a}, erhalten ${s}`}case "invalid_value":return n.values.length===1?`Ung\xFCltige Eingabe: erwartet ${B(n.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ist`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ist`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${r[a.format]??n.format}`}case "not_multiple_of":return `Ung\xFCltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case "unrecognized_keys":return `${n.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${x(n.keys,", ")}`;case "invalid_key":return `Ung\xFCltiger Schl\xFCssel in ${n.origin}`;case "invalid_union":return "Ung\xFCltige Eingabe";case "invalid_element":return `Ung\xFCltiger Wert in ${n.origin}`;default:return "Ung\xFCltige Eingabe"}}};function pme(){return {localeError:Z5e()}}var X5e=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return `Invalid input: expected ${a}, received ${s}`}case "invalid_value":return n.values.length===1?`Invalid input: expected ${B(n.values[0])}`:`Invalid option: expected one of ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Too big: expected ${n.origin??"value"} to have ${a}${n.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Too small: expected ${n.origin} to have ${a}${n.minimum.toString()} ${o.unit}`:`Too small: expected ${n.origin} to be ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Invalid string: must start with "${a.prefix}"`:a.format==="ends_with"?`Invalid string: must end with "${a.suffix}"`:a.format==="includes"?`Invalid string: must include "${a.includes}"`:a.format==="regex"?`Invalid string: must match pattern ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `Invalid number: must be a multiple of ${n.divisor}`;case "unrecognized_keys":return `Unrecognized key${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Invalid key in ${n.origin}`;case "invalid_union":return "Invalid input";case "invalid_element":return `Invalid value in ${n.origin}`;default:return "Invalid input"}}};function pP(){return {localeError:X5e()}}var J5e=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(n){return t[n]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},i={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${n.expected}, ricevi\u011Dis ${s}`:`Nevalida enigo: atendi\u011Dis ${a}, ricevi\u011Dis ${s}`}case "invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${B(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()} ${o.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${a}${n.minimum.toString()} ${o.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${a.prefix}"`:a.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${a.suffix}"`:a.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${a.includes}"`:a.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${a.pattern}`:`Nevalida ${r[a.format]??n.format}`}case "not_multiple_of":return `Nevalida nombro: devas esti oblo de ${n.divisor}`;case "unrecognized_keys":return `Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Nevalida \u015Dlosilo en ${n.origin}`;case "invalid_union":return "Nevalida enigo";case "invalid_element":return `Nevalida valoro en ${n.origin}`;default:return "Nevalida enigo"}}};function fme(){return {localeError:J5e()}}var Q5e=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(n){return t[n]??null}let r={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${n.expected}, recibido ${s}`:`Entrada inv\xE1lida: se esperaba ${a}, recibido ${s}`}case "invalid_value":return n.values.length===1?`Entrada inv\xE1lida: se esperaba ${B(n.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=i[n.origin]??n.origin;return o?`Demasiado grande: se esperaba que ${s??"valor"} tuviera ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${s??"valor"} fuera ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=i[n.origin]??n.origin;return o?`Demasiado peque\xF1o: se esperaba que ${s} tuviera ${a}${n.minimum.toString()} ${o.unit}`:`Demasiado peque\xF1o: se esperaba que ${s} fuera ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${r[a.format]??n.format}`}case "not_multiple_of":return `N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${n.divisor}`;case "unrecognized_keys":return `Llave${n.keys.length>1?"s":""} desconocida${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Llave inv\xE1lida en ${i[n.origin]??n.origin}`;case "invalid_union":return "Entrada inv\xE1lida";case "invalid_element":return `Valor inv\xE1lido en ${i[n.origin]??n.origin}`;default:return "Entrada inv\xE1lida"}}};function hme(){return {localeError:Q5e()}}var eXe=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(n){return t[n]??null}let r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},i={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${n.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${s} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${a} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${s} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case "invalid_value":return n.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${B(n.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${x(n.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0628\u0627\u0634\u062F`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0628\u0627\u0634\u062F`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[a.format]??n.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case "not_multiple_of":return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${n.divisor} \u0628\u0627\u0634\u062F`;case "unrecognized_keys":return `\u06A9\u0644\u06CC\u062F${n.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${x(n.keys,", ")}`;case "invalid_key":return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${n.origin}`;case "invalid_union":return "\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case "invalid_element":return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${n.origin}`;default:return "\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function mme(){return {localeError:eXe()}}var tXe=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(n){return t[n]??null}let r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Virheellinen tyyppi: odotettiin instanceof ${n.expected}, oli ${s}`:`Virheellinen tyyppi: odotettiin ${a}, oli ${s}`}case "invalid_value":return n.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${B(n.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Liian suuri: ${o.subject} t\xE4ytyy olla ${a}${n.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Liian pieni: ${o.subject} t\xE4ytyy olla ${a}${n.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${r[a.format]??n.format}`}case "not_multiple_of":return `Virheellinen luku: t\xE4ytyy olla luvun ${n.divisor} monikerta`;case "unrecognized_keys":return `${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${x(n.keys,", ")}`;case "invalid_key":return "Virheellinen avain tietueessa";case "invalid_union":return "Virheellinen unioni";case "invalid_element":return "Virheellinen arvo joukossa";default:return "Virheellinen sy\xF6te"}}};function _me(){return {localeError:tXe()}}var rXe=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},i={nan:"NaN",number:"nombre",array:"tableau"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entr\xE9e invalide : instanceof ${n.expected} attendu, ${s} re\xE7u`:`Entr\xE9e invalide : ${a} attendu, ${s} re\xE7u`}case "invalid_value":return n.values.length===1?`Entr\xE9e invalide : ${B(n.values[0])} attendu`:`Option invalide : une valeur parmi ${x(n.values,"|")} attendue`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Trop grand : ${n.origin??"valeur"} doit ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit \xEAtre ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Trop petit : ${n.origin} doit ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : ${n.origin} doit \xEAtre ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${r[a.format]??n.format} invalide`}case "not_multiple_of":return `Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case "unrecognized_keys":return `Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${x(n.keys,", ")}`;case "invalid_key":return `Cl\xE9 invalide dans ${n.origin}`;case "invalid_union":return "Entr\xE9e invalide";case "invalid_element":return `Valeur invalide dans ${n.origin}`;default:return "Entr\xE9e invalide"}}};function gme(){return {localeError:rXe()}}var nXe=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entr\xE9e invalide : attendu instanceof ${n.expected}, re\xE7u ${s}`:`Entr\xE9e invalide : attendu ${a}, re\xE7u ${s}`}case "invalid_value":return n.values.length===1?`Entr\xE9e invalide : attendu ${B(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"\u2264":"<",o=e(n.origin);return o?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${a}${n.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"\u2265":">",o=e(n.origin);return o?`Trop petit : attendu que ${n.origin} ait ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${n.origin} soit ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${r[a.format]??n.format} invalide`}case "not_multiple_of":return `Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case "unrecognized_keys":return `Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${x(n.keys,", ")}`;case "invalid_key":return `Cl\xE9 invalide dans ${n.origin}`;case "invalid_union":return "Entr\xE9e invalide";case "invalid_element":return `Valeur invalide dans ${n.origin}`;default:return "Entr\xE9e invalide"}}};function Eme(){return {localeError:nXe()}}var iXe=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=l=>l?t[l]:void 0,i=l=>{let u=r(l);return u?u.label:l??t.unknown.label},n=l=>`\u05D4${i(l)}`,a=l=>(r(l)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",o=l=>l?e[l]??null:null,s={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return l=>{switch(l.code){case "invalid_type":{let u=l.expected,d=c[u??""]??i(u),p=z(l.input),f=c[p]??t[p]?.label??p;return /^[A-Z]/.test(l.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${l.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`}case "invalid_value":{if(l.values.length===1)return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${B(l.values[0])}`;let u=l.values.map(f=>B(f));if(l.values.length===2)return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u[0]} \u05D0\u05D5 ${u[1]}`;let d=u[u.length-1];return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case "too_big":{let u=o(l.origin),d=n(l.origin??"value");if(l.origin==="string")return `${u?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(l.origin==="number"){let g=l.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${l.maximum}`;return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(l.origin==="array"||l.origin==="set"){let g=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",S=l.inclusive?`${l.maximum} ${u?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${l.maximum} ${u?.unit??""}`;return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${S}`.trim()}let p=l.inclusive?"<=":"<",f=a(l.origin??"value");return u?.unit?`${u.longLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()}`}case "too_small":{let u=o(l.origin),d=n(l.origin??"value");if(l.origin==="string")return `${u?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(l.origin==="number"){let g=l.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${l.minimum}`;return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(l.origin==="array"||l.origin==="set"){let g=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(l.minimum===1&&l.inclusive){let v=(l.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`}let S=l.inclusive?`${l.minimum} ${u?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${l.minimum} ${u?.unit??""}`;return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${S}`.trim()}let p=l.inclusive?">=":">",f=a(l.origin??"value");return u?.unit?`${u.shortLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()}`}case "invalid_format":{let u=l;if(u.format==="starts_with")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${u.prefix}"`;if(u.format==="ends_with")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${u.suffix}"`;if(u.format==="includes")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${u.includes}"`;if(u.format==="regex")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${u.pattern}`;let d=s[u.format],p=d?.label??u.format,g=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return `${p} \u05DC\u05D0 ${g}`}case "not_multiple_of":return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${l.divisor}`;case "unrecognized_keys":return `\u05DE\u05E4\u05EA\u05D7${l.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${l.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${x(l.keys,", ")}`;case "invalid_key":return "\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case "invalid_union":return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case "invalid_element":return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${n(l.origin??"array")}`;default:return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function Sme(){return {localeError:iXe()}}var oXe=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(n){return t[n]??null}let r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},i={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${n.expected}, a kapott \xE9rt\xE9k ${s}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${a}, a kapott \xE9rt\xE9k ${s}`}case "invalid_value":return n.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${B(n.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`T\xFAl nagy: ${n.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${n.maximum.toString()} ${o.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${n.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} m\xE9rete t\xFAl kicsi ${a}${n.minimum.toString()} ${o.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} t\xFAl kicsi ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[a.format]??n.format}`}case "not_multiple_of":return `\xC9rv\xE9nytelen sz\xE1m: ${n.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case "unrecognized_keys":return `Ismeretlen kulcs${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `\xC9rv\xE9nytelen kulcs ${n.origin}`;case "invalid_union":return "\xC9rv\xE9nytelen bemenet";case "invalid_element":return `\xC9rv\xE9nytelen \xE9rt\xE9k: ${n.origin}`;default:return "\xC9rv\xE9nytelen bemenet"}}};function Tme(){return {localeError:oXe()}}function yme(t,e,r){return Math.abs(t)===1?e:r}function Xp(t){if(!t)return "";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],r=t[t.length-1];return t+(e.includes(r)?"\u0576":"\u0568")}var sXe=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(n){return t[n]??null}let r={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},i={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${n.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${s}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${a}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${s}`}case "invalid_value":return n.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${B(n.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=yme(s,o.unit.one,o.unit.many);return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Xp(n.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${a}${n.maximum.toString()} ${c}`}return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Xp(n.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=yme(s,o.unit.one,o.unit.many);return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Xp(n.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${a}${n.minimum.toString()} ${c}`}return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Xp(n.origin)} \u056C\u056B\u0576\u056B ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${a.prefix}"-\u0578\u057E`:a.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${a.suffix}"-\u0578\u057E`:a.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${a.includes}"`:a.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${a.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${r[a.format]??n.format}`}case "not_multiple_of":return `\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${n.divisor}-\u056B`;case "unrecognized_keys":return `\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${n.keys.length>1?"\u0576\u0565\u0580":""}. ${x(n.keys,", ")}`;case "invalid_key":return `\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${Xp(n.origin)}-\u0578\u0582\u0574`;case "invalid_union":return "\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case "invalid_element":return `\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${Xp(n.origin)}-\u0578\u0582\u0574`;default:return "\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function vme(){return {localeError:sXe()}}var aXe=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(n){return t[n]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input tidak valid: diharapkan instanceof ${n.expected}, diterima ${s}`:`Input tidak valid: diharapkan ${a}, diterima ${s}`}case "invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${B(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: diharapkan ${n.origin} memiliki ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${r[a.format]??n.format} tidak valid`}case "not_multiple_of":return `Angka tidak valid: harus kelipatan dari ${n.divisor}`;case "unrecognized_keys":return `Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Kunci tidak valid di ${n.origin}`;case "invalid_union":return "Input tidak valid";case "invalid_element":return `Nilai tidak valid di ${n.origin}`;default:return "Input tidak valid"}}};function Ame(){return {localeError:aXe()}}var cXe=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(n){return t[n]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},i={nan:"NaN",number:"n\xFAmer",array:"fylki"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${s} \xFEar sem \xE1 a\xF0 vera instanceof ${n.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${s} \xFEar sem \xE1 a\xF0 vera ${a}`}case "invalid_value":return n.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${B(n.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} hafi ${a}${n.maximum.toString()} ${o.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} s\xE9 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} hafi ${a}${n.minimum.toString()} ${o.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} s\xE9 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${a.prefix}"`:a.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${a.suffix}"`:a.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${a.includes}"`:a.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${a.pattern}`:`Rangt ${r[a.format]??n.format}`}case "not_multiple_of":return `R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${n.divisor}`;case "unrecognized_keys":return `\xD3\xFEekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${x(n.keys,", ")}`;case "invalid_key":return `Rangur lykill \xED ${n.origin}`;case "invalid_union":return "Rangt gildi";case "invalid_element":return `Rangt gildi \xED ${n.origin}`;default:return "Rangt gildi"}}};function Rme(){return {localeError:cXe()}}var lXe=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(n){return t[n]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"numero",array:"vettore"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input non valido: atteso instanceof ${n.expected}, ricevuto ${s}`:`Input non valido: atteso ${a}, ricevuto ${s}`}case "invalid_value":return n.values.length===1?`Input non valido: atteso ${B(n.values[0])}`:`Opzione non valida: atteso uno tra ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Troppo grande: ${n.origin??"valore"} deve avere ${a}${n.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Troppo piccolo: ${n.origin} deve avere ${a}${n.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${n.origin} deve essere ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `Numero non valido: deve essere un multiplo di ${n.divisor}`;case "unrecognized_keys":return `Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${x(n.keys,", ")}`;case "invalid_key":return `Chiave non valida in ${n.origin}`;case "invalid_union":return "Input non valido";case "invalid_element":return `Valore non valido in ${n.origin}`;default:return "Input non valido"}}};function Ome(){return {localeError:lXe()}}var uXe=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(n){return t[n]??null}let r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},i={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${n.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${s}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${a}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${s}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case "invalid_value":return n.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${B(n.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${x(n.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case "too_big":{let a=n.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",o=e(n.origin);return o?`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${o.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case "too_small":{let a=n.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",o=e(n.origin);return o?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${o.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[a.format]??n.format}`}case "not_multiple_of":return `\u7121\u52B9\u306A\u6570\u5024: ${n.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case "unrecognized_keys":return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${n.keys.length>1?"\u7FA4":""}: ${x(n.keys,"\u3001")}`;case "invalid_key":return `${n.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case "invalid_union":return "\u7121\u52B9\u306A\u5165\u529B";case "invalid_element":return `${n.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return "\u7121\u52B9\u306A\u5165\u529B"}}};function Nme(){return {localeError:uXe()}}var dXe=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(n){return t[n]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},i={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${n.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${s}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${a}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${s}`}case "invalid_value":return n.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${B(n.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${x(n.values,"|")}-\u10D3\u10D0\u10DC`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} \u10D8\u10E7\u10DD\u10E1 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${a.prefix}"-\u10D8\u10D7`:a.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${a.suffix}"-\u10D8\u10D7`:a.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${a.includes}"-\u10E1`:a.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${a.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${n.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case "unrecognized_keys":return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${n.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${x(n.keys,", ")}`;case "invalid_key":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${n.origin}-\u10E8\u10D8`;case "invalid_union":return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case "invalid_element":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${n.origin}-\u10E8\u10D8`;default:return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function bme(){return {localeError:dXe()}}var pXe=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(n){return t[n]??null}let r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},i={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${n.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${s}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${a} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${s}`}case "invalid_value":return n.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${B(n.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()} ${o.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()} ${o.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${n.divisor}`;case "unrecognized_keys":return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${x(n.keys,", ")}`;case "invalid_key":return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;case "invalid_union":return "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case "invalid_element":return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;default:return "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function fP(){return {localeError:pXe()}}function Pme(){return fP()}var fXe=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${n.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${s}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${a}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${s}\uC785\uB2C8\uB2E4`}case "invalid_value":return n.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${B(n.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${x(n.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case "too_big":{let a=n.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",o=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),c=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()}${c} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()} ${a}${o}`}case "too_small":{let a=n.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",o=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),c=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()}${c} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()} ${a}${o}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[a.format]??n.format}`}case "not_multiple_of":return `\uC798\uBABB\uB41C \uC22B\uC790: ${n.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case "unrecognized_keys":return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${x(n.keys,", ")}`;case "invalid_key":return `\uC798\uBABB\uB41C \uD0A4: ${n.origin}`;case "invalid_union":return "\uC798\uBABB\uB41C \uC785\uB825";case "invalid_element":return `\uC798\uBABB\uB41C \uAC12: ${n.origin}`;default:return "\uC798\uBABB\uB41C \uC785\uB825"}}};function Cme(){return {localeError:fXe()}}var Ig=t=>t.charAt(0).toUpperCase()+t.slice(1);function xme(t){let e=Math.abs(t),r=e%10,i=e%100;return i>=11&&i<=19||r===0?"many":r===1?"one":"few"}var hXe=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(n,a,o,s){let c=t[n]??null;return c===null?c:{unit:c.unit[a],verb:c.verb[s][o?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},i={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Gautas tipas ${s}, o tik\u0117tasi - instanceof ${n.expected}`:`Gautas tipas ${s}, o tik\u0117tasi - ${a}`}case "invalid_value":return n.values.length===1?`Privalo b\u016Bti ${B(n.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${x(n.values,"|")} pasirinkim\u0173`;case "too_big":{let a=i[n.origin]??n.origin,o=e(n.origin,xme(Number(n.maximum)),n.inclusive??false,"smaller");if(o?.verb)return `${Ig(a??n.origin??"reik\u0161m\u0117")} ${o.verb} ${n.maximum.toString()} ${o.unit??"element\u0173"}`;let s=n.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return `${Ig(a??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.maximum.toString()} ${o?.unit}`}case "too_small":{let a=i[n.origin]??n.origin,o=e(n.origin,xme(Number(n.minimum)),n.inclusive??false,"bigger");if(o?.verb)return `${Ig(a??n.origin??"reik\u0161m\u0117")} ${o.verb} ${n.minimum.toString()} ${o.unit??"element\u0173"}`;let s=n.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return `${Ig(a??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.minimum.toString()} ${o?.unit}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${a.prefix}"`:a.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${a.suffix}"`:a.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${a.includes}"`:a.format==="regex"?`Eilut\u0117 privalo atitikti ${a.pattern}`:`Neteisingas ${r[a.format]??n.format}`}case "not_multiple_of":return `Skai\u010Dius privalo b\u016Bti ${n.divisor} kartotinis.`;case "unrecognized_keys":return `Neatpa\u017Eint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${x(n.keys,", ")}`;case "invalid_key":return "Rastas klaidingas raktas";case "invalid_union":return "Klaidinga \u012Fvestis";case "invalid_element":{let a=i[n.origin]??n.origin;return `${Ig(a??n.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return "Klaidinga \u012Fvestis"}}};function Ime(){return {localeError:hXe()}}var mXe=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(n){return t[n]??null}let r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},i={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${n.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${s}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${a}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`Invalid input: expected ${B(n.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.minimum.toString()} ${o.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${x(n.keys,", ")}`;case "invalid_key":return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${n.origin}`;case "invalid_union":return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case "invalid_element":return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${n.origin}`;default:return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function Mme(){return {localeError:mXe()}}var _Xe=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(n){return t[n]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"nombor"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input tidak sah: dijangka instanceof ${n.expected}, diterima ${s}`:`Input tidak sah: dijangka ${a}, diterima ${s}`}case "invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${B(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: dijangka ${n.origin??"nilai"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: dijangka ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${r[a.format]??n.format} tidak sah`}case "not_multiple_of":return `Nombor tidak sah: perlu gandaan ${n.divisor}`;case "unrecognized_keys":return `Kunci tidak dikenali: ${x(n.keys,", ")}`;case "invalid_key":return `Kunci tidak sah dalam ${n.origin}`;case "invalid_union":return "Input tidak sah";case "invalid_element":return `Nilai tidak sah dalam ${n.origin}`;default:return "Input tidak sah"}}};function wme(){return {localeError:_Xe()}}var gXe=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(n){return t[n]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},i={nan:"NaN",number:"getal"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ongeldige invoer: verwacht instanceof ${n.expected}, ontving ${s}`:`Ongeldige invoer: verwacht ${a}, ontving ${s}`}case "invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${B(n.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=n.origin==="date"?"laat":n.origin==="string"?"lang":"groot";return o?`Te ${s}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} ${o.unit??"elementen"} ${o.verb}`:`Te ${s}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} is`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=n.origin==="date"?"vroeg":n.origin==="string"?"kort":"klein";return o?`Te ${s}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} ${o.unit} ${o.verb}`:`Te ${s}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} is`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${r[a.format]??n.format}`}case "not_multiple_of":return `Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case "unrecognized_keys":return `Onbekende key${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Ongeldige key in ${n.origin}`;case "invalid_union":return "Ongeldige invoer";case "invalid_element":return `Ongeldige waarde in ${n.origin}`;default:return "Ongeldige invoer"}}};function Lme(){return {localeError:gXe()}}var EXe=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(n){return t[n]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"tall",array:"liste"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ugyldig input: forventet instanceof ${n.expected}, fikk ${s}`:`Ugyldig input: forventet ${a}, fikk ${s}`}case "invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${B(n.values[0])}`:`Ugyldig valg: forventet en av ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${r[a.format]??n.format}`}case "not_multiple_of":return `Ugyldig tall: m\xE5 v\xE6re et multiplum av ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${x(n.keys,", ")}`;case "invalid_key":return `Ugyldig n\xF8kkel i ${n.origin}`;case "invalid_union":return "Ugyldig input";case "invalid_element":return `Ugyldig verdi i ${n.origin}`;default:return "Ugyldig input"}}};function Dme(){return {localeError:EXe()}}var SXe=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},i={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`F\xE2sit giren: umulan instanceof ${n.expected}, al\u0131nan ${s}`:`F\xE2sit giren: umulan ${a}, al\u0131nan ${s}`}case "invalid_value":return n.values.length===1?`F\xE2sit giren: umulan ${B(n.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} ${o.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} olmal\u0131yd\u0131.`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} ${o.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} olmal\u0131yd\u0131.`}case "invalid_format":{let a=n;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[a.format]??n.format}`}case "not_multiple_of":return `F\xE2sit say\u0131: ${n.divisor} kat\u0131 olmal\u0131yd\u0131.`;case "unrecognized_keys":return `Tan\u0131nmayan anahtar ${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} i\xE7in tan\u0131nmayan anahtar var.`;case "invalid_union":return "Giren tan\u0131namad\u0131.";case "invalid_element":return `${n.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return "K\u0131ymet tan\u0131namad\u0131."}}};function Ume(){return {localeError:SXe()}}var TXe=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(n){return t[n]??null}let r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},i={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${n.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${s} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${a} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${s} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case "invalid_value":return n.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${B(n.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${x(n.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0648\u064A`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0648\u064A`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[a.format]??n.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case "not_multiple_of":return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${n.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case "unrecognized_keys":return `\u0646\u0627\u0633\u0645 ${n.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${x(n.keys,", ")}`;case "invalid_key":return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${n.origin} \u06A9\u06D0`;case "invalid_union":return "\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case "invalid_element":return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${n.origin} \u06A9\u06D0`;default:return "\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function kme(){return {localeError:TXe()}}var yXe=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(n){return t[n]??null}let r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},i={nan:"NaN",number:"liczba",array:"tablica"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${n.expected}, otrzymano ${s}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${a}, otrzymano ${s}`}case "invalid_value":return n.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${B(n.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.maximum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.minimum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[a.format]??n.format}`}case "not_multiple_of":return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${n.divisor}`;case "unrecognized_keys":return `Nierozpoznane klucze${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Nieprawid\u0142owy klucz w ${n.origin}`;case "invalid_union":return "Nieprawid\u0142owe dane wej\u015Bciowe";case "invalid_element":return `Nieprawid\u0142owa warto\u015B\u0107 w ${n.origin}`;default:return "Nieprawid\u0142owe dane wej\u015Bciowe"}}};function $me(){return {localeError:yXe()}}var vXe=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(n){return t[n]??null}let r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN",number:"n\xFAmero",null:"nulo"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Tipo inv\xE1lido: esperado instanceof ${n.expected}, recebido ${s}`:`Tipo inv\xE1lido: esperado ${a}, recebido ${s}`}case "invalid_value":return n.values.length===1?`Entrada inv\xE1lida: esperado ${B(n.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Muito pequeno: esperado que ${n.origin} tivesse ${a}${n.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${r[a.format]??n.format} inv\xE1lido`}case "not_multiple_of":return `N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${n.divisor}`;case "unrecognized_keys":return `Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case "invalid_key":return `Chave inv\xE1lida em ${n.origin}`;case "invalid_union":return "Entrada inv\xE1lida";case "invalid_element":return `Valor inv\xE1lido em ${n.origin}`;default:return "Campo inv\xE1lido"}}};function Vme(){return {localeError:vXe()}}function Bme(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var AXe=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${s}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${a}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${B(n.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=Bme(s,o.unit.one,o.unit.few,o.unit.many);return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.maximum.toString()} ${c}`}return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=Bme(s,o.unit.one,o.unit.few,o.unit.many);return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.minimum.toString()} ${c}`}return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${n.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0438":""}: ${x(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case "invalid_element":return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${n.origin}`;default:return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function zme(){return {localeError:AXe()}}var RXe=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(n){return t[n]??null}let r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},i={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${n.expected}, prejeto ${s}`:`Neveljaven vnos: pri\u010Dakovano ${a}, prejeto ${s}`}case "invalid_value":return n.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${B(n.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} imelo ${a}${n.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Premajhno: pri\u010Dakovano, da bo ${n.origin} imelo ${a}${n.minimum.toString()} ${o.unit}`:`Premajhno: pri\u010Dakovano, da bo ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${r[a.format]??n.format}`}case "not_multiple_of":return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${n.divisor}`;case "unrecognized_keys":return `Neprepoznan${n.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${x(n.keys,", ")}`;case "invalid_key":return `Neveljaven klju\u010D v ${n.origin}`;case "invalid_union":return "Neveljaven vnos";case "invalid_element":return `Neveljavna vrednost v ${n.origin}`;default:return "Neveljaven vnos"}}};function Fme(){return {localeError:RXe()}}var OXe=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(n){return t[n]??null}let r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},i={nan:"NaN",number:"antal",array:"lista"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${n.expected}, fick ${s}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${a}, fick ${s}`}case "invalid_value":return n.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${B(n.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`F\xF6r stor(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()} ${o.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()} ${o.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${r[a.format]??n.format}`}case "not_multiple_of":return `Ogiltigt tal: m\xE5ste vara en multipel av ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${x(n.keys,", ")}`;case "invalid_key":return `Ogiltig nyckel i ${n.origin??"v\xE4rdet"}`;case "invalid_union":return "Ogiltig input";case "invalid_element":return `Ogiltigt v\xE4rde i ${n.origin??"v\xE4rdet"}`;default:return "Ogiltig input"}}};function Hme(){return {localeError:OXe()}}var NXe=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(n){return t[n]??null}let r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${n.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${s}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${s}`}case "invalid_value":return n.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${B(n.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${x(n.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} ${o.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} ${o.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${n.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case "unrecognized_keys":return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${n.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case "invalid_union":return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case "invalid_element":return `${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function Gme(){return {localeError:NXe()}}var bXe=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(n){return t[n]??null}let r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},i={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${n.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${s}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${a} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${s}`}case "invalid_value":return n.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${B(n.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()} ${o.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()} ${o.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${n.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case "unrecognized_keys":return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${x(n.keys,", ")}`;case "invalid_key":return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;case "invalid_union":return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case "invalid_element":return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;default:return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function jme(){return {localeError:bXe()}}var PXe=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(n){return t[n]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${n.expected}, al\u0131nan ${s}`:`Ge\xE7ersiz de\u011Fer: beklenen ${a}, al\u0131nan ${s}`}case "invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${B(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${a}${n.maximum.toString()} ${o.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ge\xE7ersiz metin: "${a.prefix}" ile ba\u015Flamal\u0131`:a.format==="ends_with"?`Ge\xE7ersiz metin: "${a.suffix}" ile bitmeli`:a.format==="includes"?`Ge\xE7ersiz metin: "${a.includes}" i\xE7ermeli`:a.format==="regex"?`Ge\xE7ersiz metin: ${a.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[a.format]??n.format}`}case "not_multiple_of":return `Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case "unrecognized_keys":return `Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case "invalid_union":return "Ge\xE7ersiz de\u011Fer";case "invalid_element":return `${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return "Ge\xE7ersiz de\u011Fer"}}};function qme(){return {localeError:PXe()}}var CXe=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${n.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${s}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${a}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${B(n.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} \u0431\u0443\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0456":""}: ${x(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case "invalid_element":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${n.origin}`;default:return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function hP(){return {localeError:CXe()}}function Yme(){return hP()}var xXe=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(n){return t[n]??null}let r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},i={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${n.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${s} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${a} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${s} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case "invalid_value":return n.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${B(n.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${x(n.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${n.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u06D2 ${a}${n.minimum.toString()} ${o.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u0627 ${a}${n.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${n.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case "unrecognized_keys":return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${n.keys.length>1?"\u0632":""}: ${x(n.keys,"\u060C ")}`;case "invalid_key":return `${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case "invalid_union":return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case "invalid_element":return `${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function Wme(){return {localeError:xXe()}}var IXe=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(n){return t[n]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},i={nan:"NaN",number:"raqam",array:"massiv"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${n.expected}, qabul qilingan ${s}`:`Noto\u2018g\u2018ri kirish: kutilgan ${a}, qabul qilingan ${s}`}case "invalid_value":return n.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${B(n.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()} ${o.unit} ${o.verb}`:`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()} ${o.unit} ${o.verb}`:`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${a.prefix}" bilan boshlanishi kerak`:a.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${a.suffix}" bilan tugashi kerak`:a.format==="includes"?`Noto\u2018g\u2018ri satr: "${a.includes}" ni o\u2018z ichiga olishi kerak`:a.format==="regex"?`Noto\u2018g\u2018ri satr: ${a.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${r[a.format]??n.format}`}case "not_multiple_of":return `Noto\u2018g\u2018ri raqam: ${n.divisor} ning karralisi bo\u2018lishi kerak`;case "unrecognized_keys":return `Noma\u2019lum kalit${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} dagi kalit noto\u2018g\u2018ri`;case "invalid_union":return "Noto\u2018g\u2018ri kirish";case "invalid_element":return `${n.origin} da noto\u2018g\u2018ri qiymat`;default:return "Noto\u2018g\u2018ri kirish"}}};function Kme(){return {localeError:IXe()}}var MXe=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(n){return t[n]??null}let r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},i={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${n.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${s}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${a}, nh\u1EADn \u0111\u01B0\u1EE3c ${s}`}case "invalid_value":return n.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${B(n.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${r[a.format]??n.format} kh\xF4ng h\u1EE3p l\u1EC7`}case "not_multiple_of":return `S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${n.divisor}`;case "unrecognized_keys":return `Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${x(n.keys,", ")}`;case "invalid_key":return `Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;case "invalid_union":return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case "invalid_element":return `Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;default:return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function Zme(){return {localeError:MXe()}}var wXe=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(n){return t[n]??null}let r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},i={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${n.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${s}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${a}\uFF0C\u5B9E\u9645\u63A5\u6536 ${s}`}case "invalid_value":return n.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${B(n.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()} ${o.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${r[a.format]??n.format}`}case "not_multiple_of":return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${n.divisor} \u7684\u500D\u6570`;case "unrecognized_keys":return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${x(n.keys,", ")}`;case "invalid_key":return `${n.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case "invalid_union":return "\u65E0\u6548\u8F93\u5165";case "invalid_element":return `${n.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return "\u65E0\u6548\u8F93\u5165"}}};function Xme(){return {localeError:wXe()}}var LXe=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(n){return t[n]??null}let r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${n.expected}\uFF0C\u4F46\u6536\u5230 ${s}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${a}\uFF0C\u4F46\u6536\u5230 ${s}`}case "invalid_value":return n.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${B(n.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()} ${o.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()} ${o.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${n.divisor} \u7684\u500D\u6578`;case "unrecognized_keys":return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${n.keys.length>1?"\u5011":""}\uFF1A${x(n.keys,"\u3001")}`;case "invalid_key":return `${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case "invalid_union":return "\u7121\u6548\u7684\u8F38\u5165\u503C";case "invalid_element":return `${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return "\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function Jme(){return {localeError:LXe()}}var DXe=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(n){return t[n]??null}let r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},i={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=z(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${n.expected}, \xE0m\u1ECD\u0300 a r\xED ${s}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${a}, \xE0m\u1ECD\u0300 a r\xED ${s}`}case "invalid_value":return n.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${B(n.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${x(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin??"iye"} ${o.verb} ${a}${n.maximum} ${o.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${n.maximum}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin} ${o.verb} ${a}${n.minimum} ${o.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${n.minimum}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${a.prefix}"`:a.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${a.suffix}"`:a.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${a.includes}"`:a.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${a.pattern}`:`A\u1E63\xEC\u1E63e: ${r[a.format]??n.format}`}case "not_multiple_of":return `N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${n.divisor}`;case "unrecognized_keys":return `B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${x(n.keys,", ")}`;case "invalid_key":return `B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;case "invalid_union":return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case "invalid_element":return `Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;default:return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function Qme(){return {localeError:DXe()}}var e_e,Vz=Symbol("ZodOutput"),Bz=Symbol("ZodInput"),mP=class{constructor(){this._map=new WeakMap,this._idmap=new Map;}add(e,...r){let i=r[0];return this._map.set(e,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let i={...this.get(r)??{}};delete i.id;let n={...i,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function _P(){return new mP}(e_e=globalThis).__zod_globalRegistry??(e_e.__zod_globalRegistry=_P());var hr=globalThis.__zod_globalRegistry;function zz(t,e){return new t({type:"string",...H(e)})}function Fz(t,e){return new t({type:"string",coerce:true,...H(e)})}function gP(t,e){return new t({type:"string",format:"email",check:"string_format",abort:false,...H(e)})}function wg(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:false,...H(e)})}function EP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,...H(e)})}function SP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v4",...H(e)})}function TP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v6",...H(e)})}function yP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v7",...H(e)})}function Lg(t,e){return new t({type:"string",format:"url",check:"string_format",abort:false,...H(e)})}function vP(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:false,...H(e)})}function AP(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:false,...H(e)})}function RP(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:false,...H(e)})}function OP(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:false,...H(e)})}function NP(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:false,...H(e)})}function bP(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:false,...H(e)})}function PP(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:false,...H(e)})}function CP(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:false,...H(e)})}function xP(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:false,...H(e)})}function Hz(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:false,...H(e)})}function IP(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:false,...H(e)})}function MP(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:false,...H(e)})}function wP(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:false,...H(e)})}function LP(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:false,...H(e)})}function DP(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:false,...H(e)})}function UP(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:false,...H(e)})}var Gz={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function jz(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:false,local:false,precision:null,...H(e)})}function qz(t,e){return new t({type:"string",format:"date",check:"string_format",...H(e)})}function Yz(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...H(e)})}function Wz(t,e){return new t({type:"string",format:"duration",check:"string_format",...H(e)})}function Kz(t,e){return new t({type:"number",checks:[],...H(e)})}function Zz(t,e){return new t({type:"number",coerce:true,checks:[],...H(e)})}function Xz(t,e){return new t({type:"number",check:"number_format",abort:false,format:"safeint",...H(e)})}function Jz(t,e){return new t({type:"number",check:"number_format",abort:false,format:"float32",...H(e)})}function Qz(t,e){return new t({type:"number",check:"number_format",abort:false,format:"float64",...H(e)})}function eF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"int32",...H(e)})}function tF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"uint32",...H(e)})}function rF(t,e){return new t({type:"boolean",...H(e)})}function nF(t,e){return new t({type:"boolean",coerce:true,...H(e)})}function iF(t,e){return new t({type:"bigint",...H(e)})}function oF(t,e){return new t({type:"bigint",coerce:true,...H(e)})}function sF(t,e){return new t({type:"bigint",check:"bigint_format",abort:false,format:"int64",...H(e)})}function aF(t,e){return new t({type:"bigint",check:"bigint_format",abort:false,format:"uint64",...H(e)})}function cF(t,e){return new t({type:"symbol",...H(e)})}function lF(t,e){return new t({type:"undefined",...H(e)})}function uF(t,e){return new t({type:"null",...H(e)})}function dF(t){return new t({type:"any"})}function pF(t){return new t({type:"unknown"})}function fF(t,e){return new t({type:"never",...H(e)})}function hF(t,e){return new t({type:"void",...H(e)})}function mF(t,e){return new t({type:"date",...H(e)})}function _F(t,e){return new t({type:"date",coerce:true,...H(e)})}function gF(t,e){return new t({type:"nan",...H(e)})}function Co(t,e){return new tP({check:"less_than",...H(e),value:t,inclusive:false})}function Cn(t,e){return new tP({check:"less_than",...H(e),value:t,inclusive:true})}function xo(t,e){return new rP({check:"greater_than",...H(e),value:t,inclusive:false})}function Fr(t,e){return new rP({check:"greater_than",...H(e),value:t,inclusive:true})}function kP(t){return xo(0,t)}function $P(t){return Co(0,t)}function VP(t){return Cn(0,t)}function BP(t){return Fr(0,t)}function fc(t,e){return new uB({check:"multiple_of",...H(e),value:t})}function hc(t,e){return new fB({check:"max_size",...H(e),maximum:t})}function Io(t,e){return new hB({check:"min_size",...H(e),minimum:t})}function Hl(t,e){return new mB({check:"size_equals",...H(e),size:t})}function Gl(t,e){return new _B({check:"max_length",...H(e),maximum:t})}function Es(t,e){return new gB({check:"min_length",...H(e),minimum:t})}function jl(t,e){return new EB({check:"length_equals",...H(e),length:t})}function Jp(t,e){return new SB({check:"string_format",format:"regex",...H(e),pattern:t})}function Qp(t){return new TB({check:"string_format",format:"lowercase",...H(t)})}function ef(t){return new yB({check:"string_format",format:"uppercase",...H(t)})}function tf(t,e){return new vB({check:"string_format",format:"includes",...H(e),includes:t})}function rf(t,e){return new AB({check:"string_format",format:"starts_with",...H(e),prefix:t})}function nf(t,e){return new RB({check:"string_format",format:"ends_with",...H(e),suffix:t})}function zP(t,e,r){return new OB({check:"property",property:t,schema:e,...H(r)})}function of(t,e){return new NB({check:"mime_type",mime:t,...H(e)})}function Mi(t){return new bB({check:"overwrite",tx:t})}function sf(t){return Mi(e=>e.normalize(t))}function af(){return Mi(t=>t.trim())}function cf(){return Mi(t=>t.toLowerCase())}function lf(){return Mi(t=>t.toUpperCase())}function uf(){return Mi(t=>OV(t))}function EF(t,e,r){return new t({type:"array",element:e,...H(r)})}function kXe(t,e,r){return new t({type:"union",options:e,...H(r)})}function $Xe(t,e,r){return new t({type:"union",options:e,inclusive:false,...H(r)})}function VXe(t,e,r,i){return new t({type:"union",options:r,discriminator:e,...H(i)})}function BXe(t,e,r){return new t({type:"intersection",left:e,right:r})}function zXe(t,e,r,i){let n=r instanceof _e,a=n?i:r,o=n?r:null;return new t({type:"tuple",items:e,rest:o,...H(a)})}function FXe(t,e,r,i){return new t({type:"record",keyType:e,valueType:r,...H(i)})}function HXe(t,e,r,i){return new t({type:"map",keyType:e,valueType:r,...H(i)})}function GXe(t,e,r){return new t({type:"set",valueType:e,...H(r)})}function jXe(t,e,r){let i=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new t({type:"enum",entries:i,...H(r)})}function qXe(t,e,r){return new t({type:"enum",entries:e,...H(r)})}function YXe(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...H(r)})}function SF(t,e){return new t({type:"file",...H(e)})}function WXe(t,e){return new t({type:"transform",transform:e})}function KXe(t,e){return new t({type:"optional",innerType:e})}function ZXe(t,e){return new t({type:"nullable",innerType:e})}function XXe(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():bV(r)}})}function JXe(t,e,r){return new t({type:"nonoptional",innerType:e,...H(r)})}function QXe(t,e){return new t({type:"success",innerType:e})}function eJe(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function tJe(t,e,r){return new t({type:"pipe",in:e,out:r})}function rJe(t,e){return new t({type:"readonly",innerType:e})}function nJe(t,e,r){return new t({type:"template_literal",parts:e,...H(r)})}function iJe(t,e){return new t({type:"lazy",getter:e})}function oJe(t,e){return new t({type:"promise",innerType:e})}function TF(t,e,r){let i=H(r);return i.abort??(i.abort=true),new t({type:"custom",check:"custom",fn:e,...i})}function yF(t,e,r){return new t({type:"custom",check:"custom",fn:e,...H(r)})}function vF(t){let e=t_e(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(jp(i,r.value,e._zod.def));else {let n=i;n.fatal&&(n.continue=false),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),r.issues.push(jp(n));}},t(r.value,r)));return e}function t_e(t,e){let r=new nt({check:"custom",...H(e)});return r._zod.check=t,r}function AF(t){let e=new nt({check:"describe"});return e._zod.onattach=[r=>{let i=hr.get(r)??{};hr.add(r,{...i,description:t});}],e._zod.check=()=>{},e}function RF(t){let e=new nt({check:"meta"});return e._zod.onattach=[r=>{let i=hr.get(r)??{};hr.add(r,{...i,...t});}],e._zod.check=()=>{},e}function OF(t,e){let r=H(e),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(i=i.map(f=>typeof f=="string"?f.toLowerCase():f),n=n.map(f=>typeof f=="string"?f.toLowerCase():f));let a=new Set(i),o=new Set(n),s=t.Codec??xg,c=t.Boolean??Pg,l=t.String??Fl,u=new l({type:"string",error:r.error}),d=new c({type:"boolean",error:r.error}),p=new s({type:"pipe",in:u,out:d,transform:((f,g)=>{let S=f;return r.case!=="sensitive"&&(S=S.toLowerCase()),a.has(S)?true:o.has(S)?false:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:g.value,inst:p,continue:false}),{})}),reverseTransform:((f,g)=>f===true?i[0]||"true":n[0]||"false"),error:r.error});return p}function df(t,e,r,i={}){let n=H(i),a={...H(i),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:s=>r.test(s),...n};return r instanceof RegExp&&(a.pattern=r),new t(a)}function mc(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??hr,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function je(t,e,r={path:[],schemaPath:[]}){var i;let n=t._zod.def,a=e.seen.get(t);if(a)return a.count++,r.schemaPath.includes(t)&&(a.cycle=r.path),a.schema;let o={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,o);let s=t._zod.toJSONSchema?.();if(s)o.schema=s;else {let u={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,u);else {let p=o.schema,f=e.processors[n.type];if(!f)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);f(t,e,p,u);}let d=t._zod.parent;d&&(o.ref||(o.ref=d),je(d,e,u),e.seen.get(d).isParent=true);}let c=e.metadataRegistry.get(t);return c&&Object.assign(o.schema,c),e.io==="input"&&Hr(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((i=o.schema).default??(i.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function _c(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=new Map;for(let o of t.seen.entries()){let s=t.metadataRegistry.get(o[0])?.id;if(s){let c=i.get(s);if(c&&c!==o[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(s,o[0]);}}let n=o=>{let s=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(o[0])?.id,p=t.external.uri??(g=>g);if(d)return {ref:p(d)};let f=o[1].defId??o[1].schema.id??`schema${t.counter++}`;return o[1].defId=f,{defId:f,ref:`${p("__shared")}#/${s}/${f}`}}if(o[1]===r)return {ref:"#"};let l=`#/${s}/`,u=o[1].schema.id??`__schema${t.counter++}`;return {defId:u,ref:l+u}},a=o=>{if(o[1].schema.$ref)return;let s=o[1],{ref:c,defId:l}=n(o);s.def={...s.schema},l&&(s.defId=l);let u=s.schema;for(let d in u)delete u[d];u.$ref=c;};if(t.cycles==="throw")for(let o of t.seen.entries()){let s=o[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let o of t.seen.entries()){let s=o[1];if(e===o[0]){a(o);continue}if(t.external){let l=t.external.registry.get(o[0])?.id;if(e!==o[0]&&l){a(o);continue}}if(t.metadataRegistry.get(o[0])?.id){a(o);continue}if(s.cycle){a(o);continue}if(s.count>1&&t.reused==="ref"){a(o);continue}}}function gc(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=o=>{let s=t.seen.get(o);if(s.ref===null)return;let c=s.def??s.schema,l={...c},u=s.ref;if(s.ref=null,u){i(u);let p=t.seen.get(u),f=p.schema;if(f.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(f)):Object.assign(c,f),Object.assign(c,l),o._zod.parent===u)for(let S in c)S==="$ref"||S==="allOf"||S in l||delete c[S];if(f.$ref)for(let S in c)S==="$ref"||S==="allOf"||S in p.def&&JSON.stringify(c[S])===JSON.stringify(p.def[S])&&delete c[S];}let d=o._zod.parent;if(d&&d!==u){i(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f];}t.override({zodSchema:o,jsonSchema:c,path:s.path??[]});};for(let o of [...t.seen.entries()].reverse())i(o[0]);let n={};if(t.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");n.$id=t.external.uri(o);}Object.assign(n,r.def??r.schema);let a=t.external?.defs??{};for(let o of t.seen.entries()){let s=o[1];s.def&&s.defId&&(a[s.defId]=s.def);}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?n.$defs=a:n.definitions=a);try{let o=JSON.parse(JSON.stringify(n));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:pf(e,"input",t.processors),output:pf(e,"output",t.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function Hr(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return  false;r.seen.add(t);let i=t._zod.def;if(i.type==="transform")return  true;if(i.type==="array")return Hr(i.element,r);if(i.type==="set")return Hr(i.valueType,r);if(i.type==="lazy")return Hr(i.getter(),r);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Hr(i.innerType,r);if(i.type==="intersection")return Hr(i.left,r)||Hr(i.right,r);if(i.type==="record"||i.type==="map")return Hr(i.keyType,r)||Hr(i.valueType,r);if(i.type==="pipe")return Hr(i.in,r)||Hr(i.out,r);if(i.type==="object"){for(let n in i.shape)if(Hr(i.shape[n],r))return  true;return  false}if(i.type==="union"){for(let n of i.options)if(Hr(n,r))return  true;return  false}if(i.type==="tuple"){for(let n of i.items)if(Hr(n,r))return  true;return !!(i.rest&&Hr(i.rest,r))}return  false}var NF=(t,e={})=>r=>{let i=mc({...r,processors:e});return je(t,i),_c(i,t),gc(i,t)},pf=(t,e,r={})=>i=>{let{libraryOptions:n,target:a}=i??{},o=mc({...n??{},target:a,io:e,processors:r});return je(t,o),_c(o,t),gc(o,t)};var sJe={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},bF=(t,e,r,i)=>{let n=r;n.type="string";let{minimum:a,maximum:o,format:s,patterns:c,contentEncoding:l}=t._zod.bag;if(typeof a=="number"&&(n.minLength=a),typeof o=="number"&&(n.maxLength=o),s&&(n.format=sJe[s]??s,n.format===""&&delete n.format,s==="time"&&delete n.format),l&&(n.contentEncoding=l),c&&c.size>0){let u=[...c];u.length===1?n.pattern=u[0].source:u.length>1&&(n.allOf=[...u.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))]);}},PF=(t,e,r,i)=>{let n=r,{minimum:a,maximum:o,format:s,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=t._zod.bag;typeof s=="string"&&s.includes("int")?n.type="integer":n.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.minimum=u,n.exclusiveMinimum=true):n.exclusiveMinimum=u),typeof a=="number"&&(n.minimum=a,typeof u=="number"&&e.target!=="draft-04"&&(u>=a?delete n.minimum:delete n.exclusiveMinimum)),typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.maximum=l,n.exclusiveMaximum=true):n.exclusiveMaximum=l),typeof o=="number"&&(n.maximum=o,typeof l=="number"&&e.target!=="draft-04"&&(l<=o?delete n.maximum:delete n.exclusiveMaximum)),typeof c=="number"&&(n.multipleOf=c);},CF=(t,e,r,i)=>{r.type="boolean";},xF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},IF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},MF=(t,e,r,i)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=true,r.enum=[null]):r.type="null";},wF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},LF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},DF=(t,e,r,i)=>{r.not={};},UF=(t,e,r,i)=>{},kF=(t,e,r,i)=>{},$F=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},VF=(t,e,r,i)=>{let n=t._zod.def,a=gg(n.entries);a.every(o=>typeof o=="number")&&(r.type="number"),a.every(o=>typeof o=="string")&&(r.type="string"),r.enum=a;},BF=(t,e,r,i)=>{let n=t._zod.def,a=[];for(let o of n.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(o));}else a.push(o);if(a.length!==0)if(a.length===1){let o=a[0];r.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[o]:r.const=o;}else a.every(o=>typeof o=="number")&&(r.type="number"),a.every(o=>typeof o=="string")&&(r.type="string"),a.every(o=>typeof o=="boolean")&&(r.type="boolean"),a.every(o=>o===null)&&(r.type="null"),r.enum=a;},zF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},FF=(t,e,r,i)=>{let n=r,a=t._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=a.source;},HF=(t,e,r,i)=>{let n=r,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:s,mime:c}=t._zod.bag;o!==void 0&&(a.minLength=o),s!==void 0&&(a.maxLength=s),c?c.length===1?(a.contentMediaType=c[0],Object.assign(n,a)):(Object.assign(n,a),n.anyOf=c.map(l=>({contentMediaType:l}))):Object.assign(n,a);},GF=(t,e,r,i)=>{r.type="boolean";},jF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},qF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},YF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},WF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},KF=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},ZF=(t,e,r,i)=>{let n=r,a=t._zod.def,{minimum:o,maximum:s}=t._zod.bag;typeof o=="number"&&(n.minItems=o),typeof s=="number"&&(n.maxItems=s),n.type="array",n.items=je(a.element,e,{...i,path:[...i.path,"items"]});},XF=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="object",n.properties={};let o=a.shape;for(let l in o)n.properties[l]=je(o[l],e,{...i,path:[...i.path,"properties",l]});let s=new Set(Object.keys(o)),c=new Set([...s].filter(l=>{let u=a.shape[l]._zod;return e.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(n.required=Array.from(c)),a.catchall?._zod.def.type==="never"?n.additionalProperties=false:a.catchall?a.catchall&&(n.additionalProperties=je(a.catchall,e,{...i,path:[...i.path,"additionalProperties"]})):e.io==="output"&&(n.additionalProperties=false);},HP=(t,e,r,i)=>{let n=t._zod.def,a=n.inclusive===false,o=n.options.map((s,c)=>je(s,e,{...i,path:[...i.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=o:r.anyOf=o;},JF=(t,e,r,i)=>{let n=t._zod.def,a=je(n.left,e,{...i,path:[...i.path,"allOf",0]}),o=je(n.right,e,{...i,path:[...i.path,"allOf",1]}),s=l=>"allOf"in l&&Object.keys(l).length===1,c=[...s(a)?a.allOf:[a],...s(o)?o.allOf:[o]];r.allOf=c;},QF=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="array";let o=e.target==="draft-2020-12"?"prefixItems":"items",s=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=a.items.map((p,f)=>je(p,e,{...i,path:[...i.path,o,f]})),l=a.rest?je(a.rest,e,{...i,path:[...i.path,s,...e.target==="openapi-3.0"?[a.items.length]:[]]}):null;e.target==="draft-2020-12"?(n.prefixItems=c,l&&(n.items=l)):e.target==="openapi-3.0"?(n.items={anyOf:c},l&&n.items.anyOf.push(l),n.minItems=c.length,l||(n.maxItems=c.length)):(n.items=c,l&&(n.additionalItems=l));let{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(n.minItems=u),typeof d=="number"&&(n.maxItems=d);},eH=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="object";let o=a.keyType,c=o._zod.bag?.patterns;if(a.mode==="loose"&&c&&c.size>0){let u=je(a.valueType,e,{...i,path:[...i.path,"patternProperties","*"]});n.patternProperties={};for(let d of c)n.patternProperties[d.source]=u;}else (e.target==="draft-07"||e.target==="draft-2020-12")&&(n.propertyNames=je(a.keyType,e,{...i,path:[...i.path,"propertyNames"]})),n.additionalProperties=je(a.valueType,e,{...i,path:[...i.path,"additionalProperties"]});let l=o._zod.values;if(l){let u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(n.required=u);}},tH=(t,e,r,i)=>{let n=t._zod.def,a=je(n.innerType,e,i),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=n.innerType,r.nullable=true):r.anyOf=[a,{type:"null"}];},rH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},nH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,r.default=JSON.parse(JSON.stringify(n.defaultValue));},iH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(n.defaultValue)));},oH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;let o;try{o=n.catchValue(void 0);}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=o;},sH=(t,e,r,i)=>{let n=t._zod.def,a=e.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;je(a,e,i);let o=e.seen.get(t);o.ref=a;},aH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,r.readOnly=true;},cH=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},GP=(t,e,r,i)=>{let n=t._zod.def;je(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},lH=(t,e,r,i)=>{let n=t._zod.innerType;je(n,e,i);let a=e.seen.get(t);a.ref=n;},FP={string:bF,number:PF,boolean:CF,bigint:xF,symbol:IF,null:MF,undefined:wF,void:LF,never:DF,any:UF,unknown:kF,date:$F,enum:VF,literal:BF,nan:zF,template_literal:FF,file:HF,success:GF,custom:jF,function:qF,transform:YF,map:WF,set:KF,array:ZF,object:XF,union:HP,intersection:JF,tuple:QF,record:eH,nullable:tH,nonoptional:rH,default:nH,prefault:iH,catch:oH,pipe:sH,readonly:aH,promise:cH,optional:GP,lazy:lH};function jP(t,e){if("_idmap"in t){let i=t,n=mc({...e,processors:FP}),a={};for(let c of i._idmap.entries()){let[l,u]=c;je(u,n);}let o={},s={registry:i,uri:e?.uri,defs:a};n.external=s;for(let c of i._idmap.entries()){let[l,u]=c;_c(n,u),o[l]=gc(n,u);}if(Object.keys(a).length>0){let c=n.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[c]:a};}return {schemas:o}}let r=mc({...e,processors:FP});return je(t,r),_c(r,t),gc(r,t)}var qP=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e;}get seen(){return this.ctx.seen}constructor(e){let r=e?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=mc({processors:FP,target:r,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}});}process(e,r={path:[],schemaPath:[]}){return je(e,this.ctx,r)}emit(e,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),_c(this.ctx,e);let i=gc(this.ctx,e),{"~standard":n,...a}=i;return a}};var r_e={};var Dg={};Ne(Dg,{ZodAny:()=>wH,ZodArray:()=>kH,ZodBase64:()=>fC,ZodBase64URL:()=>hC,ZodBigInt:()=>Sf,ZodBigIntFormat:()=>gC,ZodBoolean:()=>Ef,ZodCIDRv4:()=>dC,ZodCIDRv6:()=>pC,ZodCUID:()=>iC,ZodCUID2:()=>oC,ZodCatch:()=>oG,ZodCodec:()=>OC,ZodCustom:()=>qg,ZodCustomStringFormat:()=>_f,ZodDate:()=>zg,ZodDefault:()=>QH,ZodDiscriminatedUnion:()=>VH,ZodE164:()=>mC,ZodEmail:()=>tC,ZodEmoji:()=>rC,ZodEnum:()=>hf,ZodExactOptional:()=>ZH,ZodFile:()=>WH,ZodFunction:()=>hG,ZodGUID:()=>Ug,ZodIPv4:()=>lC,ZodIPv6:()=>uC,ZodIntersection:()=>BH,ZodJWT:()=>_C,ZodKSUID:()=>cC,ZodLazy:()=>dG,ZodLiteral:()=>YH,ZodMAC:()=>NH,ZodMap:()=>jH,ZodNaN:()=>aG,ZodNanoID:()=>nC,ZodNever:()=>DH,ZodNonOptional:()=>AC,ZodNull:()=>IH,ZodNullable:()=>JH,ZodNumber:()=>gf,ZodNumberFormat:()=>Yl,ZodObject:()=>Hg,ZodOptional:()=>vC,ZodPipe:()=>RC,ZodPrefault:()=>tG,ZodPromise:()=>fG,ZodReadonly:()=>cG,ZodRecord:()=>jg,ZodSet:()=>qH,ZodString:()=>mf,ZodStringFormat:()=>Je,ZodSuccess:()=>iG,ZodSymbol:()=>CH,ZodTemplateLiteral:()=>uG,ZodTransform:()=>KH,ZodTuple:()=>FH,ZodType:()=>Ae,ZodULID:()=>sC,ZodURL:()=>Bg,ZodUUID:()=>Mo,ZodUndefined:()=>xH,ZodUnion:()=>Gg,ZodUnknown:()=>LH,ZodVoid:()=>UH,ZodXID:()=>aC,ZodXor:()=>$H,_ZodString:()=>eC,_default:()=>eG,_function:()=>lge,any:()=>z_e,array:()=>Fg,base64:()=>R_e,base64url:()=>O_e,bigint:()=>U_e,boolean:()=>PH,catch:()=>sG,check:()=>uge,cidrv4:()=>v_e,cidrv6:()=>A_e,codec:()=>sge,cuid:()=>h_e,cuid2:()=>m_e,custom:()=>dge,date:()=>H_e,describe:()=>pge,discriminatedUnion:()=>K_e,e164:()=>N_e,email:()=>i_e,emoji:()=>p_e,enum:()=>TC,exactOptional:()=>XH,file:()=>rge,float32:()=>M_e,float64:()=>w_e,function:()=>lge,guid:()=>o_e,hash:()=>I_e,hex:()=>x_e,hostname:()=>C_e,httpUrl:()=>d_e,instanceof:()=>hge,int:()=>QP,int32:()=>L_e,int64:()=>k_e,intersection:()=>zH,ipv4:()=>S_e,ipv6:()=>y_e,json:()=>_ge,jwt:()=>b_e,keyof:()=>G_e,ksuid:()=>E_e,lazy:()=>pG,literal:()=>tge,looseObject:()=>Y_e,looseRecord:()=>X_e,mac:()=>T_e,map:()=>J_e,meta:()=>fge,nan:()=>oge,nanoid:()=>f_e,nativeEnum:()=>ege,never:()=>EC,nonoptional:()=>nG,null:()=>MH,nullable:()=>$g,nullish:()=>nge,number:()=>bH,object:()=>j_e,optional:()=>kg,partialRecord:()=>Z_e,pipe:()=>Vg,prefault:()=>rG,preprocess:()=>gge,promise:()=>cge,readonly:()=>lG,record:()=>GH,refine:()=>mG,set:()=>Q_e,strictObject:()=>q_e,string:()=>JP,stringFormat:()=>P_e,stringbool:()=>mge,success:()=>ige,superRefine:()=>_G,symbol:()=>V_e,templateLiteral:()=>age,transform:()=>yC,tuple:()=>HH,uint32:()=>D_e,uint64:()=>$_e,ulid:()=>__e,undefined:()=>B_e,union:()=>SC,unknown:()=>ql,url:()=>u_e,uuid:()=>s_e,uuidv4:()=>a_e,uuidv6:()=>c_e,uuidv7:()=>l_e,void:()=>F_e,xid:()=>g_e,xor:()=>W_e});var YP={};Ne(YP,{endsWith:()=>nf,gt:()=>xo,gte:()=>Fr,includes:()=>tf,length:()=>jl,lowercase:()=>Qp,lt:()=>Co,lte:()=>Cn,maxLength:()=>Gl,maxSize:()=>hc,mime:()=>of,minLength:()=>Es,minSize:()=>Io,multipleOf:()=>fc,negative:()=>$P,nonnegative:()=>BP,nonpositive:()=>VP,normalize:()=>sf,overwrite:()=>Mi,positive:()=>kP,property:()=>zP,regex:()=>Jp,size:()=>Hl,slugify:()=>uf,startsWith:()=>rf,toLowerCase:()=>cf,toUpperCase:()=>lf,trim:()=>af,uppercase:()=>ef});var ff={};Ne(ff,{ZodISODate:()=>KP,ZodISODateTime:()=>WP,ZodISODuration:()=>XP,ZodISOTime:()=>ZP,date:()=>dH,datetime:()=>uH,duration:()=>fH,time:()=>pH});var WP=R("ZodISODateTime",(t,e)=>{zB.init(t,e),Je.init(t,e);});function uH(t){return jz(WP,t)}var KP=R("ZodISODate",(t,e)=>{FB.init(t,e),Je.init(t,e);});function dH(t){return qz(KP,t)}var ZP=R("ZodISOTime",(t,e)=>{HB.init(t,e),Je.init(t,e);});function pH(t){return Yz(ZP,t)}var XP=R("ZodISODuration",(t,e)=>{GB.init(t,e),Je.init(t,e);});function fH(t){return Wz(XP,t)}var n_e=(t,e)=>{vg.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Rg(t,r)},flatten:{value:r=>Ag(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Hp,2);}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Hp,2);}},isEmpty:{get(){return t.issues.length===0}}});},cJe=R("ZodError",n_e),mn=R("ZodError",n_e,{Parent:Error});var hH=qp(mn),mH=Yp(mn),_H=Wp(mn),gH=Kp(mn),EH=jb(mn),SH=qb(mn),TH=Yb(mn),yH=Wb(mn),vH=Kb(mn),AH=Zb(mn),RH=Xb(mn),OH=Jb(mn);var Ae=R("ZodType",(t,e)=>(_e.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:pf(t,"input"),output:pf(t,"output")}}),t.toJSONSchema=NF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(F.mergeDefs(e,{checks:[...e.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:true}),t.with=t.check,t.clone=(r,i)=>zr(t,r,i),t.brand=()=>t,t.register=((r,i)=>(r.add(t,i),t)),t.parse=(r,i)=>hH(t,r,i,{callee:t.parse}),t.safeParse=(r,i)=>_H(t,r,i),t.parseAsync=async(r,i)=>mH(t,r,i,{callee:t.parseAsync}),t.safeParseAsync=async(r,i)=>gH(t,r,i),t.spa=t.safeParseAsync,t.encode=(r,i)=>EH(t,r,i),t.decode=(r,i)=>SH(t,r,i),t.encodeAsync=async(r,i)=>TH(t,r,i),t.decodeAsync=async(r,i)=>yH(t,r,i),t.safeEncode=(r,i)=>vH(t,r,i),t.safeDecode=(r,i)=>AH(t,r,i),t.safeEncodeAsync=async(r,i)=>RH(t,r,i),t.safeDecodeAsync=async(r,i)=>OH(t,r,i),t.refine=(r,i)=>t.check(mG(r,i)),t.superRefine=r=>t.check(_G(r)),t.overwrite=r=>t.check(Mi(r)),t.optional=()=>kg(t),t.exactOptional=()=>XH(t),t.nullable=()=>$g(t),t.nullish=()=>kg($g(t)),t.nonoptional=r=>nG(t,r),t.array=()=>Fg(t),t.or=r=>SC([t,r]),t.and=r=>zH(t,r),t.transform=r=>Vg(t,yC(r)),t.default=r=>eG(t,r),t.prefault=r=>rG(t,r),t.catch=r=>sG(t,r),t.pipe=r=>Vg(t,r),t.readonly=()=>lG(t),t.describe=r=>{let i=t.clone();return hr.add(i,{description:r}),i},Object.defineProperty(t,"description",{get(){return hr.get(t)?.description},configurable:true}),t.meta=(...r)=>{if(r.length===0)return hr.get(t);let i=t.clone();return hr.add(i,r[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),eC=R("_ZodString",(t,e)=>{Fl.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(i,n,a)=>bF(t,i,n);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...i)=>t.check(Jp(...i)),t.includes=(...i)=>t.check(tf(...i)),t.startsWith=(...i)=>t.check(rf(...i)),t.endsWith=(...i)=>t.check(nf(...i)),t.min=(...i)=>t.check(Es(...i)),t.max=(...i)=>t.check(Gl(...i)),t.length=(...i)=>t.check(jl(...i)),t.nonempty=(...i)=>t.check(Es(1,...i)),t.lowercase=i=>t.check(Qp(i)),t.uppercase=i=>t.check(ef(i)),t.trim=()=>t.check(af()),t.normalize=(...i)=>t.check(sf(...i)),t.toLowerCase=()=>t.check(cf()),t.toUpperCase=()=>t.check(lf()),t.slugify=()=>t.check(uf());}),mf=R("ZodString",(t,e)=>{Fl.init(t,e),eC.init(t,e),t.email=r=>t.check(gP(tC,r)),t.url=r=>t.check(Lg(Bg,r)),t.jwt=r=>t.check(UP(_C,r)),t.emoji=r=>t.check(vP(rC,r)),t.guid=r=>t.check(wg(Ug,r)),t.uuid=r=>t.check(EP(Mo,r)),t.uuidv4=r=>t.check(SP(Mo,r)),t.uuidv6=r=>t.check(TP(Mo,r)),t.uuidv7=r=>t.check(yP(Mo,r)),t.nanoid=r=>t.check(AP(nC,r)),t.guid=r=>t.check(wg(Ug,r)),t.cuid=r=>t.check(RP(iC,r)),t.cuid2=r=>t.check(OP(oC,r)),t.ulid=r=>t.check(NP(sC,r)),t.base64=r=>t.check(wP(fC,r)),t.base64url=r=>t.check(LP(hC,r)),t.xid=r=>t.check(bP(aC,r)),t.ksuid=r=>t.check(PP(cC,r)),t.ipv4=r=>t.check(CP(lC,r)),t.ipv6=r=>t.check(xP(uC,r)),t.cidrv4=r=>t.check(IP(dC,r)),t.cidrv6=r=>t.check(MP(pC,r)),t.e164=r=>t.check(DP(mC,r)),t.datetime=r=>t.check(uH(r)),t.date=r=>t.check(dH(r)),t.time=r=>t.check(pH(r)),t.duration=r=>t.check(fH(r));});function JP(t){return zz(mf,t)}var Je=R("ZodStringFormat",(t,e)=>{Xe.init(t,e),eC.init(t,e);}),tC=R("ZodEmail",(t,e)=>{MB.init(t,e),Je.init(t,e);});function i_e(t){return gP(tC,t)}var Ug=R("ZodGUID",(t,e)=>{xB.init(t,e),Je.init(t,e);});function o_e(t){return wg(Ug,t)}var Mo=R("ZodUUID",(t,e)=>{IB.init(t,e),Je.init(t,e);});function s_e(t){return EP(Mo,t)}function a_e(t){return SP(Mo,t)}function c_e(t){return TP(Mo,t)}function l_e(t){return yP(Mo,t)}var Bg=R("ZodURL",(t,e)=>{wB.init(t,e),Je.init(t,e);});function u_e(t){return Lg(Bg,t)}function d_e(t){return Lg(Bg,{protocol:/^https?$/,hostname:si.domain,...F.normalizeParams(t)})}var rC=R("ZodEmoji",(t,e)=>{LB.init(t,e),Je.init(t,e);});function p_e(t){return vP(rC,t)}var nC=R("ZodNanoID",(t,e)=>{DB.init(t,e),Je.init(t,e);});function f_e(t){return AP(nC,t)}var iC=R("ZodCUID",(t,e)=>{UB.init(t,e),Je.init(t,e);});function h_e(t){return RP(iC,t)}var oC=R("ZodCUID2",(t,e)=>{kB.init(t,e),Je.init(t,e);});function m_e(t){return OP(oC,t)}var sC=R("ZodULID",(t,e)=>{$B.init(t,e),Je.init(t,e);});function __e(t){return NP(sC,t)}var aC=R("ZodXID",(t,e)=>{VB.init(t,e),Je.init(t,e);});function g_e(t){return bP(aC,t)}var cC=R("ZodKSUID",(t,e)=>{BB.init(t,e),Je.init(t,e);});function E_e(t){return PP(cC,t)}var lC=R("ZodIPv4",(t,e)=>{jB.init(t,e),Je.init(t,e);});function S_e(t){return CP(lC,t)}var NH=R("ZodMAC",(t,e)=>{YB.init(t,e),Je.init(t,e);});function T_e(t){return Hz(NH,t)}var uC=R("ZodIPv6",(t,e)=>{qB.init(t,e),Je.init(t,e);});function y_e(t){return xP(uC,t)}var dC=R("ZodCIDRv4",(t,e)=>{WB.init(t,e),Je.init(t,e);});function v_e(t){return IP(dC,t)}var pC=R("ZodCIDRv6",(t,e)=>{KB.init(t,e),Je.init(t,e);});function A_e(t){return MP(pC,t)}var fC=R("ZodBase64",(t,e)=>{XB.init(t,e),Je.init(t,e);});function R_e(t){return wP(fC,t)}var hC=R("ZodBase64URL",(t,e)=>{JB.init(t,e),Je.init(t,e);});function O_e(t){return LP(hC,t)}var mC=R("ZodE164",(t,e)=>{QB.init(t,e),Je.init(t,e);});function N_e(t){return DP(mC,t)}var _C=R("ZodJWT",(t,e)=>{ez.init(t,e),Je.init(t,e);});function b_e(t){return UP(_C,t)}var _f=R("ZodCustomStringFormat",(t,e)=>{tz.init(t,e),Je.init(t,e);});function P_e(t,e,r={}){return df(_f,t,e,r)}function C_e(t){return df(_f,"hostname",si.hostname,t)}function x_e(t){return df(_f,"hex",si.hex,t)}function I_e(t,e){let r=e?.enc??"hex",i=`${t}_${r}`,n=si[i];if(!n)throw new Error(`Unrecognized hash format: ${i}`);return df(_f,i,n,e)}var gf=R("ZodNumber",(t,e)=>{cP.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(i,n,a)=>PF(t,i,n),t.gt=(i,n)=>t.check(xo(i,n)),t.gte=(i,n)=>t.check(Fr(i,n)),t.min=(i,n)=>t.check(Fr(i,n)),t.lt=(i,n)=>t.check(Co(i,n)),t.lte=(i,n)=>t.check(Cn(i,n)),t.max=(i,n)=>t.check(Cn(i,n)),t.int=i=>t.check(QP(i)),t.safe=i=>t.check(QP(i)),t.positive=i=>t.check(xo(0,i)),t.nonnegative=i=>t.check(Fr(0,i)),t.negative=i=>t.check(Co(0,i)),t.nonpositive=i=>t.check(Cn(0,i)),t.multipleOf=(i,n)=>t.check(fc(i,n)),t.step=(i,n)=>t.check(fc(i,n)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=true,t.format=r.format??null;});function bH(t){return Kz(gf,t)}var Yl=R("ZodNumberFormat",(t,e)=>{rz.init(t,e),gf.init(t,e);});function QP(t){return Xz(Yl,t)}function M_e(t){return Jz(Yl,t)}function w_e(t){return Qz(Yl,t)}function L_e(t){return eF(Yl,t)}function D_e(t){return tF(Yl,t)}var Ef=R("ZodBoolean",(t,e)=>{Pg.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>CF(t,r,i);});function PH(t){return rF(Ef,t)}var Sf=R("ZodBigInt",(t,e)=>{lP.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(i,n,a)=>xF(t,i),t.gte=(i,n)=>t.check(Fr(i,n)),t.min=(i,n)=>t.check(Fr(i,n)),t.gt=(i,n)=>t.check(xo(i,n)),t.gte=(i,n)=>t.check(Fr(i,n)),t.min=(i,n)=>t.check(Fr(i,n)),t.lt=(i,n)=>t.check(Co(i,n)),t.lte=(i,n)=>t.check(Cn(i,n)),t.max=(i,n)=>t.check(Cn(i,n)),t.positive=i=>t.check(xo(BigInt(0),i)),t.negative=i=>t.check(Co(BigInt(0),i)),t.nonpositive=i=>t.check(Cn(BigInt(0),i)),t.nonnegative=i=>t.check(Fr(BigInt(0),i)),t.multipleOf=(i,n)=>t.check(fc(i,n));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null;});function U_e(t){return iF(Sf,t)}var gC=R("ZodBigIntFormat",(t,e)=>{nz.init(t,e),Sf.init(t,e);});function k_e(t){return sF(gC,t)}function $_e(t){return aF(gC,t)}var CH=R("ZodSymbol",(t,e)=>{iz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>IF(t,r);});function V_e(t){return cF(CH,t)}var xH=R("ZodUndefined",(t,e)=>{oz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>wF(t,r);});function B_e(t){return lF(xH,t)}var IH=R("ZodNull",(t,e)=>{sz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>MF(t,r,i);});function MH(t){return uF(IH,t)}var wH=R("ZodAny",(t,e)=>{az.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>UF();});function z_e(){return dF(wH)}var LH=R("ZodUnknown",(t,e)=>{cz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>kF();});function ql(){return pF(LH)}var DH=R("ZodNever",(t,e)=>{lz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>DF(t,r,i);});function EC(t){return fF(DH,t)}var UH=R("ZodVoid",(t,e)=>{uz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>LF(t,r);});function F_e(t){return hF(UH,t)}var zg=R("ZodDate",(t,e)=>{dz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(i,n,a)=>$F(t,i),t.min=(i,n)=>t.check(Fr(i,n)),t.max=(i,n)=>t.check(Cn(i,n));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null;});function H_e(t){return mF(zg,t)}var kH=R("ZodArray",(t,e)=>{pz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>ZF(t,r,i,n),t.element=e.element,t.min=(r,i)=>t.check(Es(r,i)),t.nonempty=r=>t.check(Es(1,r)),t.max=(r,i)=>t.check(Gl(r,i)),t.length=(r,i)=>t.check(jl(r,i)),t.unwrap=()=>t.element;});function Fg(t,e){return EF(kH,t,e)}function G_e(t){let e=t._zod.def.shape;return TC(Object.keys(e))}var Hg=R("ZodObject",(t,e)=>{fz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>XF(t,r,i,n),F.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>TC(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:ql()}),t.loose=()=>t.clone({...t._zod.def,catchall:ql()}),t.strict=()=>t.clone({...t._zod.def,catchall:EC()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>F.extend(t,r),t.safeExtend=r=>F.safeExtend(t,r),t.merge=r=>F.merge(t,r),t.pick=r=>F.pick(t,r),t.omit=r=>F.omit(t,r),t.partial=(...r)=>F.partial(vC,t,r[0]),t.required=(...r)=>F.required(AC,t,r[0]);});function j_e(t,e){let r={type:"object",shape:t??{},...F.normalizeParams(e)};return new Hg(r)}function q_e(t,e){return new Hg({type:"object",shape:t,catchall:EC(),...F.normalizeParams(e)})}function Y_e(t,e){return new Hg({type:"object",shape:t,catchall:ql(),...F.normalizeParams(e)})}var Gg=R("ZodUnion",(t,e)=>{Cg.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>HP(t,r,i,n),t.options=e.options;});function SC(t,e){return new Gg({type:"union",options:t,...F.normalizeParams(e)})}var $H=R("ZodXor",(t,e)=>{Gg.init(t,e),hz.init(t,e),t._zod.processJSONSchema=(r,i,n)=>HP(t,r,i,n),t.options=e.options;});function W_e(t,e){return new $H({type:"union",options:t,inclusive:false,...F.normalizeParams(e)})}var VH=R("ZodDiscriminatedUnion",(t,e)=>{Gg.init(t,e),mz.init(t,e);});function K_e(t,e,r){return new VH({type:"union",options:e,discriminator:t,...F.normalizeParams(r)})}var BH=R("ZodIntersection",(t,e)=>{_z.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>JF(t,r,i,n);});function zH(t,e){return new BH({type:"intersection",left:t,right:e})}var FH=R("ZodTuple",(t,e)=>{uP.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>QF(t,r,i,n),t.rest=r=>t.clone({...t._zod.def,rest:r});});function HH(t,e,r){let i=e instanceof _e,n=i?r:e,a=i?e:null;return new FH({type:"tuple",items:t,rest:a,...F.normalizeParams(n)})}var jg=R("ZodRecord",(t,e)=>{gz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>eH(t,r,i,n),t.keyType=e.keyType,t.valueType=e.valueType;});function GH(t,e,r){return new jg({type:"record",keyType:t,valueType:e,...F.normalizeParams(r)})}function Z_e(t,e,r){let i=zr(t);return i._zod.values=void 0,new jg({type:"record",keyType:i,valueType:e,...F.normalizeParams(r)})}function X_e(t,e,r){return new jg({type:"record",keyType:t,valueType:e,mode:"loose",...F.normalizeParams(r)})}var jH=R("ZodMap",(t,e)=>{Ez.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>WF(t,r),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...r)=>t.check(Io(...r)),t.nonempty=r=>t.check(Io(1,r)),t.max=(...r)=>t.check(hc(...r)),t.size=(...r)=>t.check(Hl(...r));});function J_e(t,e,r){return new jH({type:"map",keyType:t,valueType:e,...F.normalizeParams(r)})}var qH=R("ZodSet",(t,e)=>{Sz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>KF(t,r),t.min=(...r)=>t.check(Io(...r)),t.nonempty=r=>t.check(Io(1,r)),t.max=(...r)=>t.check(hc(...r)),t.size=(...r)=>t.check(Hl(...r));});function Q_e(t,e){return new qH({type:"set",valueType:t,...F.normalizeParams(e)})}var hf=R("ZodEnum",(t,e)=>{Tz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(i,n,a)=>VF(t,i,n),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(i,n)=>{let a={};for(let o of i)if(r.has(o))a[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new hf({...e,checks:[],...F.normalizeParams(n),entries:a})},t.exclude=(i,n)=>{let a={...e.entries};for(let o of i)if(r.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new hf({...e,checks:[],...F.normalizeParams(n),entries:a})};});function TC(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new hf({type:"enum",entries:r,...F.normalizeParams(e)})}function ege(t,e){return new hf({type:"enum",entries:t,...F.normalizeParams(e)})}var YH=R("ZodLiteral",(t,e)=>{yz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>BF(t,r,i),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}});});function tge(t,e){return new YH({type:"literal",values:Array.isArray(t)?t:[t],...F.normalizeParams(e)})}var WH=R("ZodFile",(t,e)=>{vz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>HF(t,r,i),t.min=(r,i)=>t.check(Io(r,i)),t.max=(r,i)=>t.check(hc(r,i)),t.mime=(r,i)=>t.check(of(Array.isArray(r)?r:[r],i));});function rge(t){return SF(WH,t)}var KH=R("ZodTransform",(t,e)=>{Az.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>YF(t,r),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new cc(t.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(F.issue(a,r.value,e));else {let o=a;o.fatal&&(o.continue=false),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),r.issues.push(F.issue(o));}};let n=e.transform(r.value,r);return n instanceof Promise?n.then(a=>(r.value=a,r)):(r.value=n,r)};});function yC(t){return new KH({type:"transform",transform:t})}var vC=R("ZodOptional",(t,e)=>{dP.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>GP(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function kg(t){return new vC({type:"optional",innerType:t})}var ZH=R("ZodExactOptional",(t,e)=>{Rz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>GP(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function XH(t){return new ZH({type:"optional",innerType:t})}var JH=R("ZodNullable",(t,e)=>{Oz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>tH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function $g(t){return new JH({type:"nullable",innerType:t})}function nge(t){return kg($g(t))}var QH=R("ZodDefault",(t,e)=>{Nz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>nH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap;});function eG(t,e){return new QH({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():F.shallowClone(e)}})}var tG=R("ZodPrefault",(t,e)=>{bz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>iH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function rG(t,e){return new tG({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():F.shallowClone(e)}})}var AC=R("ZodNonOptional",(t,e)=>{Pz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>rH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function nG(t,e){return new AC({type:"nonoptional",innerType:t,...F.normalizeParams(e)})}var iG=R("ZodSuccess",(t,e)=>{Cz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>GF(t,r,i),t.unwrap=()=>t._zod.def.innerType;});function ige(t){return new iG({type:"success",innerType:t})}var oG=R("ZodCatch",(t,e)=>{xz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>oH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap;});function sG(t,e){return new oG({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var aG=R("ZodNaN",(t,e)=>{Iz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>zF(t,r);});function oge(t){return gF(aG,t)}var RC=R("ZodPipe",(t,e)=>{Mz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>sH(t,r,i,n),t.in=e.in,t.out=e.out;});function Vg(t,e){return new RC({type:"pipe",in:t,out:e})}var OC=R("ZodCodec",(t,e)=>{RC.init(t,e),xg.init(t,e);});function sge(t,e,r){return new OC({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}var cG=R("ZodReadonly",(t,e)=>{wz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>aH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function lG(t){return new cG({type:"readonly",innerType:t})}var uG=R("ZodTemplateLiteral",(t,e)=>{Lz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>FF(t,r,i);});function age(t,e){return new uG({type:"template_literal",parts:t,...F.normalizeParams(e)})}var dG=R("ZodLazy",(t,e)=>{kz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>lH(t,r,i,n),t.unwrap=()=>t._zod.def.getter();});function pG(t){return new dG({type:"lazy",getter:t})}var fG=R("ZodPromise",(t,e)=>{Uz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>cH(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function cge(t){return new fG({type:"promise",innerType:t})}var hG=R("ZodFunction",(t,e)=>{Dz.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>qF(t,r);});function lge(t){return new hG({type:"function",input:Array.isArray(t?.input)?HH(t?.input):t?.input??Fg(ql()),output:t?.output??ql()})}var qg=R("ZodCustom",(t,e)=>{$z.init(t,e),Ae.init(t,e),t._zod.processJSONSchema=(r,i,n)=>jF(t,r);});function uge(t){let e=new nt({check:"custom"});return e._zod.check=t,e}function dge(t,e){return TF(qg,t??(()=>true),e)}function mG(t,e={}){return yF(qg,t,e)}function _G(t){return vF(t)}var pge=AF,fge=RF;function hge(t,e={}){let r=new qg({type:"custom",check:"custom",fn:i=>i instanceof t,abort:true,...F.normalizeParams(e)});return r._zod.bag.Class=t,r._zod.check=i=>{i.value instanceof t||i.issues.push({code:"invalid_type",expected:t.name,input:i.value,inst:r,path:[...r._zod.def.path??[]]});},r}var mge=(...t)=>OF({Codec:OC,Boolean:Ef,String:mf},...t);function _ge(t){let e=pG(()=>SC([JP(t),bH(),PH(),MH(),Fg(e),GH(JP(),e)]));return e}function gge(t,e){return Vg(yC(t),e)}var uJe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function dJe(t){Nt({customError:t});}function pJe(){return Nt().customError}var gG;gG||(gG={});var q={...Dg,...YP,iso:ff},fJe=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function hJe(t,e){let r=t.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function mJe(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let r=t.slice(1).split("/").filter(Boolean);if(r.length===0)return e.rootSchema;let i=e.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===i){let n=r[1];if(!n||!e.defs[n])throw new Error(`Reference not found: ${t}`);return e.defs[n]}throw new Error(`Reference not found: ${t}`)}function Ege(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return q.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let n=t.$ref;if(e.refs.has(n))return e.refs.get(n);if(e.processing.has(n))return q.lazy(()=>{if(!e.refs.has(n))throw new Error(`Circular reference not resolved: ${n}`);return e.refs.get(n)});e.processing.add(n);let a=mJe(n,e),o=Or(a,e);return e.refs.set(n,o),e.processing.delete(n),o}if(t.enum!==void 0){let n=t.enum;if(e.version==="openapi-3.0"&&t.nullable===true&&n.length===1&&n[0]===null)return q.null();if(n.length===0)return q.never();if(n.length===1)return q.literal(n[0]);if(n.every(o=>typeof o=="string"))return q.enum(n);let a=n.map(o=>q.literal(o));return a.length<2?a[0]:q.union([a[0],a[1],...a.slice(2)])}if(t.const!==void 0)return q.literal(t.const);let r=t.type;if(Array.isArray(r)){let n=r.map(a=>{let o={...t,type:a};return Ege(o,e)});return n.length===0?q.never():n.length===1?n[0]:q.union(n)}if(!r)return q.any();let i;switch(r){case "string":{let n=q.string();if(t.format){let a=t.format;a==="email"?n=n.check(q.email()):a==="uri"||a==="uri-reference"?n=n.check(q.url()):a==="uuid"||a==="guid"?n=n.check(q.uuid()):a==="date-time"?n=n.check(q.iso.datetime()):a==="date"?n=n.check(q.iso.date()):a==="time"?n=n.check(q.iso.time()):a==="duration"?n=n.check(q.iso.duration()):a==="ipv4"?n=n.check(q.ipv4()):a==="ipv6"?n=n.check(q.ipv6()):a==="mac"?n=n.check(q.mac()):a==="cidr"?n=n.check(q.cidrv4()):a==="cidr-v6"?n=n.check(q.cidrv6()):a==="base64"?n=n.check(q.base64()):a==="base64url"?n=n.check(q.base64url()):a==="e164"?n=n.check(q.e164()):a==="jwt"?n=n.check(q.jwt()):a==="emoji"?n=n.check(q.emoji()):a==="nanoid"?n=n.check(q.nanoid()):a==="cuid"?n=n.check(q.cuid()):a==="cuid2"?n=n.check(q.cuid2()):a==="ulid"?n=n.check(q.ulid()):a==="xid"?n=n.check(q.xid()):a==="ksuid"&&(n=n.check(q.ksuid()));}typeof t.minLength=="number"&&(n=n.min(t.minLength)),typeof t.maxLength=="number"&&(n=n.max(t.maxLength)),t.pattern&&(n=n.regex(new RegExp(t.pattern))),i=n;break}case "number":case "integer":{let n=r==="integer"?q.number().int():q.number();typeof t.minimum=="number"&&(n=n.min(t.minimum)),typeof t.maximum=="number"&&(n=n.max(t.maximum)),typeof t.exclusiveMinimum=="number"?n=n.gt(t.exclusiveMinimum):t.exclusiveMinimum===true&&typeof t.minimum=="number"&&(n=n.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?n=n.lt(t.exclusiveMaximum):t.exclusiveMaximum===true&&typeof t.maximum=="number"&&(n=n.lt(t.maximum)),typeof t.multipleOf=="number"&&(n=n.multipleOf(t.multipleOf)),i=n;break}case "boolean":{i=q.boolean();break}case "null":{i=q.null();break}case "object":{let n={},a=t.properties||{},o=new Set(t.required||[]);for(let[c,l]of Object.entries(a)){let u=Or(l,e);n[c]=o.has(c)?u:u.optional();}if(t.propertyNames){let c=Or(t.propertyNames,e),l=t.additionalProperties&&typeof t.additionalProperties=="object"?Or(t.additionalProperties,e):q.any();if(Object.keys(n).length===0){i=q.record(c,l);break}let u=q.object(n).passthrough(),d=q.looseRecord(c,l);i=q.intersection(u,d);break}if(t.patternProperties){let c=t.patternProperties,l=Object.keys(c),u=[];for(let p of l){let f=Or(c[p],e),g=q.string().regex(new RegExp(p));u.push(q.looseRecord(g,f));}let d=[];if(Object.keys(n).length>0&&d.push(q.object(n).passthrough()),d.push(...u),d.length===0)i=q.object({}).passthrough();else if(d.length===1)i=d[0];else {let p=q.intersection(d[0],d[1]);for(let f=2;f<d.length;f++)p=q.intersection(p,d[f]);i=p;}break}let s=q.object(n);t.additionalProperties===false?i=s.strict():typeof t.additionalProperties=="object"?i=s.catchall(Or(t.additionalProperties,e)):i=s.passthrough();break}case "array":{let n=t.prefixItems,a=t.items;if(n&&Array.isArray(n)){let o=n.map(c=>Or(c,e)),s=a&&typeof a=="object"&&!Array.isArray(a)?Or(a,e):void 0;s?i=q.tuple(o).rest(s):i=q.tuple(o),typeof t.minItems=="number"&&(i=i.check(q.minLength(t.minItems))),typeof t.maxItems=="number"&&(i=i.check(q.maxLength(t.maxItems)));}else if(Array.isArray(a)){let o=a.map(c=>Or(c,e)),s=t.additionalItems&&typeof t.additionalItems=="object"?Or(t.additionalItems,e):void 0;s?i=q.tuple(o).rest(s):i=q.tuple(o),typeof t.minItems=="number"&&(i=i.check(q.minLength(t.minItems))),typeof t.maxItems=="number"&&(i=i.check(q.maxLength(t.maxItems)));}else if(a!==void 0){let o=Or(a,e),s=q.array(o);typeof t.minItems=="number"&&(s=s.min(t.minItems)),typeof t.maxItems=="number"&&(s=s.max(t.maxItems)),i=s;}else i=q.array(q.any());break}default:throw new Error(`Unsupported type: ${r}`)}return t.description&&(i=i.describe(t.description)),t.default!==void 0&&(i=i.default(t.default)),i}function Or(t,e){if(typeof t=="boolean")return t?q.any():q.never();let r=Ege(t,e),i=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let s=t.anyOf.map(l=>Or(l,e)),c=q.union(s);r=i?q.intersection(r,c):c;}if(t.oneOf&&Array.isArray(t.oneOf)){let s=t.oneOf.map(l=>Or(l,e)),c=q.xor(s);r=i?q.intersection(r,c):c;}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)r=i?r:q.any();else {let s=i?r:Or(t.allOf[0],e),c=i?0:1;for(let l=c;l<t.allOf.length;l++)s=q.intersection(s,Or(t.allOf[l],e));r=s;}t.nullable===true&&e.version==="openapi-3.0"&&(r=q.nullable(r)),t.readOnly===true&&(r=q.readonly(r));let n={},a=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let s of a)s in t&&(n[s]=t[s]);let o=["contentEncoding","contentMediaType","contentSchema"];for(let s of o)s in t&&(n[s]=t[s]);for(let s of Object.keys(t))fJe.has(s)||(n[s]=t[s]);return Object.keys(n).length>0&&e.registry.add(r,n),r}function Sge(t,e){if(typeof t=="boolean")return t?q.any():q.never();let r=hJe(t,e?.defaultTarget),i=t.$defs||t.definitions||{},n={version:r,defs:i,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??hr};return Or(t,n)}var EG={};Ne(EG,{bigint:()=>SJe,boolean:()=>EJe,date:()=>TJe,number:()=>gJe,string:()=>_Je});function _Je(t){return Fz(mf,t)}function gJe(t){return Zz(gf,t)}function EJe(t){return nF(Ef,t)}function SJe(t){return oF(Sf,t)}function TJe(t){return _F(zg,t)}Nt(pP());var AJe=process.env.DEBUG==="true";function SG(...t){AJe&&console.debug(...t);}var RJe=Ie.object({APPLICATIONINSIGHTS_CONNECTION_STRING:Ie.string().min(1),CSP_LIST:Ie.string().default(""),GITHUB_ACTION_PATH:Ie.string().default(""),GITHUB_ACTOR:Ie.string().default(""),GITHUB_EVENT_NAME:Ie.string().default(""),GITHUB_REPOSITORY:Ie.string().default(""),GITHUB_RUN_ATTEMPT:Ie.string().default(""),GITHUB_RUN_ID:Ie.string().default(""),GITHUB_SERVER_URL:Ie.string().default(""),GITHUB_WORKFLOW:Ie.string().default("github-workflow"),GITHUB_WORKFLOW_REF:Ie.string().default(""),NODE_PACKAGE_MANAGER:Ie.string().default(""),OTEL_EVENT_FILE:Ie.string().optional(),OTEL_SESSION_START:Ie.string().default("0"),PIPELINE_RESULT:Ie.enum(["cancellation","error","failure","skip","success","timeout"]).default("success"),TERRAFORM_VERSION:Ie.string().default("")}),OJe=Ie.object({span:Ie.string(),startSpan:Ie.string(),type:Ie.literal("spanStart").optional().default("spanStart")}),NJe=Ie.object({endSpan:Ie.string(),span:Ie.string(),type:Ie.literal("spanEnd").optional().default("spanEnd")}),bJe=Ie.object({attributes:Ie.record(Ie.string(),Ie.string()).optional(),body:Ie.string().optional().default(""),exception:Ie.boolean().default(false),name:Ie.string(),type:Ie.literal("event").optional().default("event")}),PJe=Ie.discriminatedUnion("type",[OJe,NJe,bJe]);function CJe(t,e){let r=se.getTracer("workflow-tracer");for(let[i,n]of Object.entries(t))for(let a of n){if(!a.start||!a.end){SG(`Skipping incomplete span marker for "${i}"`);continue}if(a.end<a.start){console.warn(`Skipping span "${i}" due to end time (${a.end.toISOString()}) before start time (${a.start.toISOString()})`);continue}r.startSpan(i,{kind:ge.INTERNAL,startTime:a.start},se.setSpan(pe.active(),e)).end(a.end);}}function xJe(t){return t.type==="event"}function Tge(t){return t.type==="spanEnd"}function yge(t){return t.type==="spanStart"}function IJe(t){try{let e=JSON.parse(t);e.span&&e.startSpan?e.type="spanStart":e.span&&e.endSpan?e.type="spanEnd":e.type="event";let r=PJe.safeParse(e);return r.success?r.data:(console.warn("Invalid telemetry line format"),SG("Validation error:",Ie.prettifyError(r.error)),null)}catch{return console.warn("Skipping malformed JSON telemetry line"),null}}async function MJe(){let t=RJe.safeParse(process.env);if(!t.success)throw console.error("Missing or invalid environment variables:",Ie.prettifyError(t.error)),new Error("Environment validation failed");let e=t.data,r=parseInt(e.OTEL_SESSION_START,10),i=e.OTEL_EVENT_FILE;SG(`Post telemetry: file=${i}`);let n=`${e.GITHUB_SERVER_URL}/${e.GITHUB_REPOSITORY}/actions/runs/${e.GITHUB_RUN_ID}`,a=fu({"enduser.id":e.GITHUB_ACTOR,"service.instance.id":e.GITHUB_RUN_ID,"service.name":e.GITHUB_WORKFLOW_REF,"service.namespace":"dx"});Phe({azureMonitorExporterOptions:{connectionString:e.APPLICATIONINSIGHTS_CONNECTION_STRING},enableLiveMetrics:false,resource:a});let o=TV.getLoggerProvider().getLogger("workflow-logger","1.0.0"),c=se.getTracer("workflow-tracer").startSpan(e.GITHUB_WORKFLOW,{attributes:{"cicd.pipeline.action.name":e.GITHUB_WORKFLOW,"cicd.pipeline.attempt":e.GITHUB_RUN_ATTEMPT,"cicd.pipeline.author":e.GITHUB_ACTOR,"cicd.pipeline.path":e.GITHUB_ACTION_PATH,"cicd.pipeline.repository":e.GITHUB_REPOSITORY,"cicd.pipeline.result":e.PIPELINE_RESULT,"cicd.pipeline.run.id":e.GITHUB_RUN_ID,"cicd.pipeline.run.url.full":n,"cicd.pipeline.trigger":e.GITHUB_EVENT_NAME,...e.NODE_PACKAGE_MANAGER?{"node.package_manager":e.NODE_PACKAGE_MANAGER}:{},...e.TERRAFORM_VERSION?{"terraform.version":e.TERRAFORM_VERSION}:{},...e.CSP_LIST?{"cloud_provider.enabled":e.CSP_LIST}:{}},kind:ge.SERVER,startTime:new Date(r)});if(i&&es.existsSync(i)){let u=es.readFileSync(i,"utf-8").split(/\n/).filter(d=>d.trim().length);pe.with(se.setSpan(pe.active(),c),()=>{let d=LJe(u,c,o,e);CJe(d,c);});}else console.log("No events file found or empty");c.end();let l=1e4;try{let u=se.getTracerProvider(),d=TV.getLoggerProvider();await Promise.all([u.forceFlush?.({timeoutMillis:l}),d.forceFlush?.({timeoutMillis:l})]);}catch(u){console.warn("Telemetry flush error (some data may be lost):",u instanceof Error?u.message:String(u));}console.log("Telemetry flushed");}function wJe(t,e,r,i){let n={...t.attributes,"cicd.pipeline.repo":i.GITHUB_REPOSITORY,"cicd.pipeline.run.id":i.GITHUB_RUN_ID,"enduser.id":i.GITHUB_ACTOR};t.exception?(e.recordException({message:t.body||t.name,name:t.name||"Exception"}),e.setStatus({code:Qe.ERROR,message:t.body||t.name}),e.setAttribute("cicd.pipeline.result","error")):r.emit({attributes:{"microsoft.custom_event.name":t.name||"CustomEvent",...n},body:t.body||t.name});}function LJe(t,e,r,i){let n={};for(let a of t){let o=IJe(a);if(o){if(yge(o)||Tge(o)){let s=o.span,c=n[s]=n[s]||[],l=c[c.length-1];(!l||l.start&&l.end)&&(l={},c.push(l)),yge(o)?l.start=new Date(o.startSpan):Tge(o)&&(l.start?l.end=new Date(o.endSpan):(console.warn(`Orphaned endSpan for '${s}' at ${o.endSpan}: no matching startSpan.`),l={end:new Date(o.endSpan)},c.push(l)));continue}xJe(o)&&wJe(o,e,r,i);}}return n}MJe();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/