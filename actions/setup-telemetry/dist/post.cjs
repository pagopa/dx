'use strict';var jZ=require('util'),perf_hooks=require('perf_hooks'),GZ=require('child_process'),Zs=require('fs'),ra=require('process'),Qp=require('os'),crypto$1=require('crypto'),tl=require('path'),Qo=require('zlib'),stream=require('stream'),fU=require('http'),hU=require('https'),module$1=require('module'),XHe=require('url'),promises=require('fs/promises');var _documentCurrentScript=typeof document!=='undefined'?document.currentScript:null;function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var jZ__namespace=/*#__PURE__*/_interopNamespace(jZ);var GZ__namespace=/*#__PURE__*/_interopNamespace(GZ);var Zs__default=/*#__PURE__*/_interopDefault(Zs);var ra__namespace=/*#__PURE__*/_interopNamespace(ra);var Qp__namespace=/*#__PURE__*/_interopNamespace(Qp);var tl__namespace=/*#__PURE__*/_interopNamespace(tl);var Qo__namespace=/*#__PURE__*/_interopNamespace(Qo);var fU__namespace=/*#__PURE__*/_interopNamespace(fU);var hU__namespace=/*#__PURE__*/_interopNamespace(hU);var XHe__default=/*#__PURE__*/_interopDefault(XHe);var Qge=Object.create;var yy=Object.defineProperty;var e_e=Object.getOwnPropertyDescriptor;var t_e=Object.getOwnPropertyNames;var r_e=Object.getPrototypeOf,n_e=Object.prototype.hasOwnProperty;var L=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var g=(t,e)=>()=>(t&&(e=t(t=0)),e);var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pe=(t,e)=>{for(var r in e)yy(t,r,{get:e[r],enumerable:true});},HH=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of t_e(e))!n_e.call(t,n)&&n!==r&&yy(t,n,{get:()=>e[n],enumerable:!(i=e_e(e,n))||i.enumerable});return t};var Qe=(t,e,r)=>(r=t!=null?Qge(r_e(t)):{},HH(e||!t||!t.__esModule?yy(r,"default",{value:t,enumerable:true}):r,t)),U=t=>HH(yy({},"__esModule",{value:true}),t);var GH,jH=g(()=>{GH=typeof globalThis=="object"?globalThis:global;});var qH=g(()=>{jH();});var WH=g(()=>{qH();});var as,hP=g(()=>{as="1.9.0";});function i_e(t){var e=new Set([t]),r=new Set,i=t.match(KH);if(!i)return function(){return  false};var n={major:+i[1],minor:+i[2],patch:+i[3],prerelease:i[4]};if(n.prerelease!=null)return function(c){return c===t};function a(s){return r.add(s),false}function o(s){return e.add(s),true}return function(c){if(e.has(c))return  true;if(r.has(c))return  false;var u=c.match(KH);if(!u)return a(c);var l={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return l.prerelease!=null||n.major!==l.major?a(c):n.major===0?n.minor===l.minor&&n.patch<=l.patch?o(c):a(c):n.minor<=l.minor?o(c):a(c)}}var KH,YH,ZH=g(()=>{hP();KH=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;YH=i_e(as);});function no(t,e,r,i){var n;i===void 0&&(i=false);var a=_h[gh]=(n=_h[gh])!==null&&n!==void 0?n:{version:as};if(!i&&a[t]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(o.stack||o.message),false}if(a.version!==as){var o=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+as);return r.error(o.stack||o.message),false}return a[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+as+"."),true}function Nn(t){var e,r,i=(e=_h[gh])===null||e===void 0?void 0:e.version;if(!(!i||!YH(i)))return (r=_h[gh])===null||r===void 0?void 0:r[t]}function io(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+as+".");var r=_h[gh];r&&delete r[t];}var o_e,gh,_h,Yc=g(()=>{WH();hP();ZH();o_e=as.split(".")[0],gh=Symbol.for("opentelemetry.js.api."+o_e),_h=GH;});function Sh(t,e,r){var i=Nn("diag");if(i)return r.unshift(e),i[t].apply(i,a_e([],s_e(r),false))}var s_e,a_e,XH,JH=g(()=>{Yc();s_e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},a_e=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},XH=(function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger";}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sh("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sh("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sh("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sh("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sh("verbose",this._namespace,e)},t})();});var Ge,Ey=g(()=>{(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL";})(Ge||(Ge={}));});function QH(t,e){t<Ge.NONE?t=Ge.NONE:t>Ge.ALL&&(t=Ge.ALL),e=e||{};function r(i,n){var a=e[i];return typeof a=="function"&&t>=n?a.bind(e):function(){}}return {error:r("error",Ge.ERROR),warn:r("warn",Ge.WARN),info:r("info",Ge.INFO),debug:r("debug",Ge.DEBUG),verbose:r("verbose",Ge.VERBOSE)}}var eG=g(()=>{Ey();});var c_e,u_e,l_e,xr,Zc=g(()=>{JH();eG();Ey();Yc();c_e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},u_e=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},l_e="diag",xr=(function(){function t(){function e(n){return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=Nn("diag");if(s)return s[n].apply(s,u_e([],c_e(a),false))}}var r=this,i=function(n,a){var o,s,c;if(a===void 0&&(a={logLevel:Ge.INFO}),n===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=u.stack)!==null&&o!==void 0?o:u.message),false}typeof a=="number"&&(a={logLevel:a});var l=Nn("diag"),d=QH((s=a.logLevel)!==null&&s!==void 0?s:Ge.INFO,n);if(l&&!a.suppressOverrideMessage){var p=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p);}return no("diag",d,r,true)};r.setLogger=i,r.disable=function(){io(l_e,r);},r.createComponentLogger=function(n){return new XH(n)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error");}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t})();});var d_e,p_e,tG,rG=g(()=>{d_e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},p_e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return {next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tG=(function(){function t(e){this._entries=e?new Map(e):new Map;}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=d_e(e,2),i=r[0],n=r[1];return [i,n]})},t.prototype.setEntry=function(e,r){var i=new t(this._entries);return i._entries.set(e,r),i},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=new t(this._entries);try{for(var o=p_e(i),s=o.next();!s.done;s=o.next()){var c=s.value;a._entries.delete(c);}}catch(u){e={error:u};}finally{try{s&&!s.done&&(r=o.return)&&r.call(o);}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t})();});var nG,iG=g(()=>{nG=Symbol("BaggageEntryMetadata");});function oG(t){return t===void 0&&(t={}),new tG(new Map(Object.entries(t)))}function Ty(t){return typeof t!="string"&&(f_e.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:nG,toString:function(){return t}}}var f_e,mP=g(()=>{Zc();rG();iG();f_e=xr.instance();});function Kn(t){return Symbol.for(t)}var h_e,vy,yh=g(()=>{h_e=(function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(i){return r._currentContext.get(i)},r.setValue=function(i,n){var a=new t(r._currentContext);return a._currentContext.set(i,n),a},r.deleteValue=function(i){var n=new t(r._currentContext);return n._currentContext.delete(i),n};}return t})(),vy=new h_e;});var gP,sG,aG=g(()=>{gP=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],sG=(function(){function t(){function e(i){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(console){var o=console[i];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,n)}}}for(var r=0;r<gP.length;r++)this[gP[r].n]=e(gP[r].c);}return t})();});function Ry(){return SP}var Xc,m_e,by,g_e,__e,S_e,y_e,_P,E_e,T_e,v_e,SP,b_e,R_e,A_e,O_e,x_e,C_e,N_e,yP=g(()=>{Xc=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n;}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a]);},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function i(){this.constructor=e;}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i);}})(),m_e=(function(){function t(){}return t.prototype.createGauge=function(e,r){return R_e},t.prototype.createHistogram=function(e,r){return A_e},t.prototype.createCounter=function(e,r){return b_e},t.prototype.createUpDownCounter=function(e,r){return O_e},t.prototype.createObservableGauge=function(e,r){return C_e},t.prototype.createObservableCounter=function(e,r){return x_e},t.prototype.createObservableUpDownCounter=function(e,r){return N_e},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t})(),by=(function(){function t(){}return t})(),g_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,i){},e})(by),__e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,i){},e})(by),S_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,i){},e})(by),y_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,i){},e})(by),_P=(function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t})(),E_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(_P),T_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(_P),v_e=(function(t){Xc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(_P),SP=new m_e,b_e=new g_e,R_e=new S_e,A_e=new y_e,O_e=new __e,x_e=new E_e,C_e=new T_e,N_e=new v_e;});var $e,cG=g(()=>{(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE";})($e||($e={}));});var ql,Wl,EP=g(()=>{ql={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},Wl={set:function(t,e,r){t!=null&&(t[e]=r);}};});var P_e,I_e,uG,lG=g(()=>{yh();P_e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},I_e=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},uG=(function(){function t(){}return t.prototype.active=function(){return vy},t.prototype.with=function(e,r,i){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return r.call.apply(r,I_e([i],P_e(n),false))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t})();});var w_e,M_e,TP,L_e,_a,Eh=g(()=>{lG();Yc();Zc();w_e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value);}catch(s){o={error:s};}finally{try{n&&!n.done&&(r=i.return)&&r.call(i);}finally{if(o)throw o.error}}return a},M_e=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},TP="context",L_e=new uG,_a=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return no(TP,e,xr.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,i){for(var n,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];return (n=this._getContextManager()).with.apply(n,M_e([e,r,i],w_e(a),false))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return Nn(TP)||L_e},t.prototype.disable=function(){this._getContextManager().disable(),io(TP,xr.instance());},t})();});var Ve,vP=g(()=>{(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED";})(Ve||(Ve={}));});var Th,vh,Sa,Ay=g(()=>{vP();Th="0000000000000000",vh="00000000000000000000000000000000",Sa={traceId:vh,spanId:Th,traceFlags:Ve.NONE};});var ya,Oy=g(()=>{Ay();ya=(function(){function t(e){e===void 0&&(e=Sa),this._spanContext=e;}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return  false},t.prototype.recordException=function(e,r){},t})();});function xy(t){return t.getValue(bP)||void 0}function dG(){return xy(_a.getInstance().active())}function bh(t,e){return t.setValue(bP,e)}function pG(t){return t.deleteValue(bP)}function fG(t,e){return bh(t,new ya(e))}function Cy(t){var e;return (e=xy(t))===null||e===void 0?void 0:e.spanContext()}var bP,RP=g(()=>{yh();Oy();Eh();bP=Kn("OpenTelemetry Context Key SPAN");});function cs(t){return D_e.test(t)&&t!==vh}function Jc(t){return k_e.test(t)&&t!==Th}function Cr(t){return cs(t.traceId)&&Jc(t.spanId)}function hG(t){return new ya(t)}var D_e,k_e,Ny=g(()=>{Ay();Oy();D_e=/^([0-9a-f]{32})$/i,k_e=/^[0-9a-f]{16}$/i;});function U_e(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var AP,Py,OP=g(()=>{Eh();RP();Oy();Ny();AP=_a.getInstance(),Py=(function(){function t(){}return t.prototype.startSpan=function(e,r,i){i===void 0&&(i=AP.active());var n=!!r?.root;if(n)return new ya;var a=i&&Cy(i);return U_e(a)&&Cr(a)?new ya(a):new ya},t.prototype.startActiveSpan=function(e,r,i,n){var a,o,s;if(!(arguments.length<2)){arguments.length===2?s=r:arguments.length===3?(a=r,s=i):(a=r,o=i,s=n);var c=o??AP.active(),u=this.startSpan(e,a,c),l=bh(c,u);return AP.with(l,s,void 0,u)}},t})();});var $_e,Iy,xP=g(()=>{OP();$_e=new Py,Iy=(function(){function t(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}return t.prototype.startSpan=function(e,r,i){return this._getTracer().startSpan(e,r,i)},t.prototype.startActiveSpan=function(e,r,i,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):$_e},t})();});var mG,gG=g(()=>{OP();mG=(function(){function t(){}return t.prototype.getTracer=function(e,r,i){return new Py},t})();});var z_e,Rh,CP=g(()=>{xP();gG();z_e=new mG,Rh=(function(){function t(){}return t.prototype.getTracer=function(e,r,i){var n;return (n=this.getDelegateTracer(e,r,i))!==null&&n!==void 0?n:new Iy(this,e,r,i)},t.prototype.getDelegate=function(){var e;return (e=this._delegate)!==null&&e!==void 0?e:z_e},t.prototype.setDelegate=function(e){this._delegate=e;},t.prototype.getDelegateTracer=function(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,r,i)},t})();});var Qc,_G=g(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";})(Qc||(Qc={}));});var be,SG=g(()=>{(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER";})(be||(be={}));});var ut,yG=g(()=>{(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR";})(ut||(ut={}));});function EG(t){return F_e.test(t)}function TG(t){return H_e.test(t)&&!G_e.test(t)}var NP,V_e,B_e,F_e,H_e,G_e,vG=g(()=>{NP="[_0-9a-z-*/]",V_e="[a-z]"+NP+"{0,255}",B_e="[a-z0-9]"+NP+"{0,240}@[a-z]"+NP+"{0,13}",F_e=new RegExp("^(?:"+V_e+"|"+B_e+")$"),H_e=/^[ -~]{0,255}[!-~]$/,G_e=/,|=/;});var bG,j_e,RG,AG,OG,xG=g(()=>{vG();bG=32,j_e=512,RG=",",AG="=",OG=(function(){function t(e){this._internalState=new Map,e&&this._parse(e);}return t.prototype.set=function(e,r){var i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,r),i},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,i){return r.push(i+AG+e.get(i)),r},[]).join(RG)},t.prototype._parse=function(e){e.length>j_e||(this._internalState=e.split(RG).reverse().reduce(function(r,i){var n=i.trim(),a=n.indexOf(AG);if(a!==-1){var o=n.slice(0,a),s=n.slice(a+1,i.length);EG(o)&&TG(s)&&r.set(o,s);}return r},new Map),this._internalState.size>bG&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,bG))));},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t})();});function CG(t){return new OG(t)}var NG=g(()=>{xG();});var Te,PG=g(()=>{Eh();Te=_a.getInstance();});var E,IG=g(()=>{Zc();E=xr.instance();});var q_e,wG,MG=g(()=>{yP();q_e=(function(){function t(){}return t.prototype.getMeter=function(e,r,i){return SP},t})(),wG=new q_e;});var PP,LG,DG=g(()=>{MG();Yc();Zc();PP="metrics",LG=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return no(PP,e,xr.instance())},t.prototype.getMeterProvider=function(){return Nn(PP)||wG},t.prototype.getMeter=function(e,r,i){return this.getMeterProvider().getMeter(e,r,i)},t.prototype.disable=function(){io(PP,xr.instance());},t})();});var kt,kG=g(()=>{DG();kt=LG.getInstance();});var UG,$G=g(()=>{UG=(function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return []},t})();});function wP(t){return t.getValue(IP)||void 0}function zG(){return wP(_a.getInstance().active())}function VG(t,e){return t.setValue(IP,e)}function BG(t){return t.deleteValue(IP)}var IP,FG=g(()=>{Eh();yh();IP=Kn("OpenTelemetry Baggage Key");});var MP,W_e,HG,GG=g(()=>{Yc();$G();EP();FG();mP();Zc();MP="propagation",W_e=new UG,HG=(function(){function t(){this.createBaggage=oG,this.getBaggage=wP,this.getActiveBaggage=zG,this.setBaggage=VG,this.deleteBaggage=BG;}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return no(MP,e,xr.instance())},t.prototype.inject=function(e,r,i){return i===void 0&&(i=Wl),this._getGlobalPropagator().inject(e,r,i)},t.prototype.extract=function(e,r,i){return i===void 0&&(i=ql),this._getGlobalPropagator().extract(e,r,i)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){io(MP,xr.instance());},t.prototype._getGlobalPropagator=function(){return Nn(MP)||W_e},t})();});var rn,jG=g(()=>{GG();rn=HG.getInstance();});var LP,qG,WG=g(()=>{Yc();CP();Ny();RP();Zc();LP="trace",qG=(function(){function t(){this._proxyTracerProvider=new Rh,this.wrapSpanContext=hG,this.isSpanContextValid=Cr,this.deleteSpan=pG,this.getSpan=xy,this.getActiveSpan=dG,this.getSpanContext=Cy,this.setSpan=bh,this.setSpanContext=fG;}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=no(LP,this._proxyTracerProvider,xr.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return Nn(LP)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){io(LP,xr.instance()),this._proxyTracerProvider=new Rh;},t})();});var ce,KG=g(()=>{WG();ce=qG.getInstance();});var je={};Pe(je,{DiagConsoleLogger:()=>sG,DiagLogLevel:()=>Ge,INVALID_SPANID:()=>Th,INVALID_SPAN_CONTEXT:()=>Sa,INVALID_TRACEID:()=>vh,ProxyTracer:()=>Iy,ProxyTracerProvider:()=>Rh,ROOT_CONTEXT:()=>vy,SamplingDecision:()=>Qc,SpanKind:()=>be,SpanStatusCode:()=>ut,TraceFlags:()=>Ve,ValueType:()=>$e,baggageEntryMetadataFromString:()=>Ty,context:()=>Te,createContextKey:()=>Kn,createNoopMeter:()=>Ry,createTraceState:()=>CG,default:()=>K_e,defaultTextMapGetter:()=>ql,defaultTextMapSetter:()=>Wl,diag:()=>E,isSpanContextValid:()=>Cr,isValidSpanId:()=>Jc,isValidTraceId:()=>cs,metrics:()=>kt,propagation:()=>rn,trace:()=>ce});var K_e,P=g(()=>{mP();yh();aG();Ey();yP();cG();EP();xP();CP();_G();SG();yG();vP();NG();Ny();Ay();PG();IG();kG();jG();KG();K_e={context:Te,diag:E,metrics:kt,propagation:rn,trace:ce};});function qt(t){return t.setValue(UP,true)}function JG(t){return t.deleteValue(UP)}function Nr(t){return t.getValue(UP)===true}var UP,Ch=g(()=>{P();UP=Kn("OpenTelemetry SDK Context Key SUPPRESS_TRACING");});var ky,QG=g(()=>{ky="baggage";});function tj(t){return t.reduce((e,r)=>{let i=`${e}${e!==""?",":""}${r}`;return i.length>8192?e:i},"")}function rj(t){return t.getAllEntries().map(([e,r])=>{let i=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(i+=";"+r.metadata.toString()),i})}function $P(t){let e=t.split(";");if(e.length<=0)return;let r=e.shift();if(!r)return;let i=r.indexOf("=");if(i<=0)return;let n=decodeURIComponent(r.substring(0,i).trim()),a=decodeURIComponent(r.substring(i+1).trim()),o;return e.length>0&&(o=Ty(e.join(";"))),{key:n,value:a,metadata:o}}function eu(t){let e={};return typeof t=="string"&&t.length>0&&t.split(",").forEach(r=>{let i=$P(r);i!==void 0&&i.value.length>0&&(e[i.key]=i.value);}),e}var zP=g(()=>{P();});var $y,nj=g(()=>{P();Ch();QG();zP();$y=class{inject(e,r,i){let n=rn.getBaggage(e);if(!n||Nr(e))return;let a=rj(n).filter(s=>s.length<=4096).slice(0,180),o=tj(a);o.length>0&&i.set(r,ky,o);}extract(e,r,i){let n=i.get(r,ky),a=Array.isArray(n)?n.join(","):n;if(!a)return e;let o={};return a.length===0||(a.split(",").forEach(c=>{let u=$P(c);if(u){let l={value:u.value};u.metadata&&(l.metadata=u.metadata),o[u.key]=l;}}),Object.entries(o).length===0)?e:rn.setBaggage(e,rn.createBaggage(o))}fields(){return [ky]}};});var zy,ij=g(()=>{zy=class{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now();}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};});function Pn(t){let e={};if(typeof t!="object"||t==null)return e;for(let[r,i]of Object.entries(t)){if(!X_e(r)){E.warn(`Invalid attribute key: ${r}`);continue}if(!oo(i)){E.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(i)?e[r]=i.slice():e[r]=i;}return e}function X_e(t){return typeof t=="string"&&t.length>0}function oo(t){return t==null?true:Array.isArray(t)?J_e(t):oj(t)}function J_e(t){let e;for(let r of t)if(r!=null){if(!e){if(oj(r)){e=typeof r;continue}return  false}if(typeof r!==e)return  false}return  true}function oj(t){switch(typeof t){case "number":case "boolean":case "string":return  true}return  false}var sj=g(()=>{P();});function Vy(){return t=>{E.error(Q_e(t));}}function Q_e(t){return typeof t=="string"?t:JSON.stringify(eSe(t))}function eSe(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(i=>{if(e[i])return;let n=r[i];n&&(e[i]=String(n));}),r=Object.getPrototypeOf(r);return e}var VP=g(()=>{P();});function cj(t){aj=t;}function bt(t){try{aj(t);}catch{}}var aj,uj=g(()=>{VP();aj=Vy();});function He(t){let e=process.env[t];if(e==null||e.trim()==="")return;let r=Number(e);if(isNaN(r)){E.warn(`Unknown value ${jZ.inspect(e)} for ${t}, expected a number, using defaults`);return}return r}function Jt(t){let e=process.env[t];if(!(e==null||e.trim()===""))return e}function By(t){let e=process.env[t]?.trim().toLowerCase();return e==null||e===""?false:e==="true"?true:(e==="false"||E.warn(`Unknown value ${jZ.inspect(e)} for ${t}, expected 'true' or 'false', falling back to 'false' (default)`),false)}function Fy(t){return Jt(t)?.split(",").map(e=>e.trim()).filter(e=>e!=="")}var dj=g(()=>{P();});var Hy,pj=g(()=>{Hy=typeof globalThis=="object"?globalThis:global;});var Yn,fj=g(()=>{Yn=perf_hooks.performance;});var hj,mj=g(()=>{hj="2.1.0";});function Ut(t){let e={},r=t.length;for(let i=0;i<r;i++){let n=t[i];n&&(e[String(n).toUpperCase().replace(/[-.]/g,"_")]=n);}return e}var BP=g(()=>{});var gj,_j,Sj,yj,Ej,Tj,vj,bj,Rj,Aj,Oj,xj,Cj,Nj,Pj,Ij,wj,Mj,Lj,Dj,kj,Uj,$j,zj,Vj,Bj,Fj,Hj,Gj,jj,qj,Wj,Kj,Yj,Zj,Xj,Jj,Qj,eq,tq,rq,nq,iq,oq,sq,aq,cq,uq,lq,dq,pq,fq,hq,mq,gq,_q,Sq,yq,Eq,Tq,vq,bq,Rq,Aq,Oq,xq,Cq,Nq,Pq,Iq,wq,Mq,Lq,Dq,kq,Uq,$q,zq,Vq,Bq,Fq,Hq,Gq,jq,qq,Wq,Kq,Yq,Zq,Xq,Jq,Qq,e4,t4,r4,n4,i4,o4,s4,a4,c4,u4,l4,d4,p4,f4,h4,m4,g4,_4,S4,y4,E4,T4,v4,b4,R4,A4,O4,x4,C4,N4,P4,I4,w4,M4,L4,D4,rSe,us,nSe,iSe,oSe,ls,ds,ps,sSe,aSe,cSe,uSe,lSe,dSe,pSe,fSe,hSe,mSe,gSe,_Se,SSe,In,wn,so,Gy,ySe,ESe,TSe,vSe,bSe,RSe,ASe,OSe,xSe,CSe,NSe,PSe,FP,fs,tu,Ci,HP,Nh,GP,ISe,wSe,MSe,LSe,DSe,kSe,hs,jP,USe,$Se,zSe,VSe,BSe,FSe,HSe,GSe,ms,gs,ru,_s,nu,Ss,qP,iu,jSe,qSe,WSe,KSe,YSe,Ph,Ih,ZSe,XSe,JSe,QSe,eye,tye,rye,nye,iye,oye,sye,aye,cye,uye,lye,dye,pye,fye,hye,mye,gye,_ye,Sye,yye,Eye,Tye,vye,bye,Rye,Aye,Oye,xye,Cye,Nye,Pye,Iye,wye,Mye,Lye,Dye,kye,ys,Uye,$ye,Ni,zye,Vye,Bye,Fye,Hye,Gye,jye,qye,Wye,k4,U4,$4,z4,V4,B4,F4,H4,G4,j4,q4,W4,K4,Y4,Z4,X4,J4,Q4,e6,t6,r6,n6,i6,o6,s6,a6,c6,u6,l6,d6,p6,f6,h6,m6,g6,_6,S6,y6,E6,T6,v6,b6,R6,A6,O6,x6,C6,wh,Mh,Lh,Dh,kh,Uh,Kye,Yye,Zye,$h,Xye,Jye,Qye,eEe,tEe,rEe,nEe,iEe,oEe,zh,sEe,aEe,cEe,uEe,Vh,lEe,dEe,pEe,Bh,fEe,hEe,mEe,Fh,gEe,_Ee,SEe,Hh,Gh,yEe,EEe,TEe,vEe,bEe,REe,AEe,OEe,xEe,CEe,N6,P6,I6,w6,M6,L6,D6,k6,U6,$6,z6,NEe,PEe,IEe,wEe,MEe,LEe,DEe,kEe,UEe,$Ee,zEe,VEe,V6,B6,F6,H6,G6,BEe,FEe,HEe,GEe,jEe,qEe,j6,q6,W6,WEe,KEe,YEe,ZEe,K6,Y6,Z6,X6,XEe,JEe,QEe,eTe,tTe,J6,Q6,e3,t3,r3,n3,i3,rTe,nTe,iTe,oTe,sTe,aTe,cTe,uTe,o3,s3,a3,c3,u3,lTe,dTe,pTe,fTe,hTe,mTe,l3,d3,p3,f3,h3,m3,g3,_3,S3,y3,E3,T3,v3,b3,R3,A3,O3,x3,C3,N3,P3,gTe,_Te,STe,yTe,ETe,TTe,vTe,bTe,RTe,ATe,OTe,xTe,CTe,NTe,PTe,ITe,wTe,MTe,LTe,DTe,kTe,UTe,I3,w3,M3,L3,D3,$Te,zTe,VTe,BTe,FTe,HTe,k3,U3,GTe,jTe,qTe,$3,z3,WTe,KTe,YTe,V3,B3,F3,H3,G3,j3,q3,W3,K3,Y3,Z3,X3,J3,Q3,eW,tW,rW,ZTe,XTe,JTe,QTe,eve,tve,rve,nve,ive,ove,sve,ave,cve,uve,lve,dve,pve,fve,nW,iW,hve,mve,gve,oW=g(()=>{BP();gj="aws.lambda.invoked_arn",_j="db.system",Sj="db.connection_string",yj="db.user",Ej="db.jdbc.driver_classname",Tj="db.name",vj="db.statement",bj="db.operation",Rj="db.mssql.instance_name",Aj="db.cassandra.keyspace",Oj="db.cassandra.page_size",xj="db.cassandra.consistency_level",Cj="db.cassandra.table",Nj="db.cassandra.idempotence",Pj="db.cassandra.speculative_execution_count",Ij="db.cassandra.coordinator.id",wj="db.cassandra.coordinator.dc",Mj="db.hbase.namespace",Lj="db.redis.database_index",Dj="db.mongodb.collection",kj="db.sql.table",Uj="exception.type",$j="exception.message",zj="exception.stacktrace",Vj="exception.escaped",Bj="faas.trigger",Fj="faas.execution",Hj="faas.document.collection",Gj="faas.document.operation",jj="faas.document.time",qj="faas.document.name",Wj="faas.time",Kj="faas.cron",Yj="faas.coldstart",Zj="faas.invoked_name",Xj="faas.invoked_provider",Jj="faas.invoked_region",Qj="net.transport",eq="net.peer.ip",tq="net.peer.port",rq="net.peer.name",nq="net.host.ip",iq="net.host.port",oq="net.host.name",sq="net.host.connection.type",aq="net.host.connection.subtype",cq="net.host.carrier.name",uq="net.host.carrier.mcc",lq="net.host.carrier.mnc",dq="net.host.carrier.icc",pq="peer.service",fq="enduser.id",hq="enduser.role",mq="enduser.scope",gq="thread.id",_q="thread.name",Sq="code.function",yq="code.namespace",Eq="code.filepath",Tq="code.lineno",vq="http.method",bq="http.url",Rq="http.target",Aq="http.host",Oq="http.scheme",xq="http.status_code",Cq="http.flavor",Nq="http.user_agent",Pq="http.request_content_length",Iq="http.request_content_length_uncompressed",wq="http.response_content_length",Mq="http.response_content_length_uncompressed",Lq="http.server_name",Dq="http.route",kq="http.client_ip",Uq="aws.dynamodb.table_names",$q="aws.dynamodb.consumed_capacity",zq="aws.dynamodb.item_collection_metrics",Vq="aws.dynamodb.provisioned_read_capacity",Bq="aws.dynamodb.provisioned_write_capacity",Fq="aws.dynamodb.consistent_read",Hq="aws.dynamodb.projection",Gq="aws.dynamodb.limit",jq="aws.dynamodb.attributes_to_get",qq="aws.dynamodb.index_name",Wq="aws.dynamodb.select",Kq="aws.dynamodb.global_secondary_indexes",Yq="aws.dynamodb.local_secondary_indexes",Zq="aws.dynamodb.exclusive_start_table",Xq="aws.dynamodb.table_count",Jq="aws.dynamodb.scan_forward",Qq="aws.dynamodb.segment",e4="aws.dynamodb.total_segments",t4="aws.dynamodb.count",r4="aws.dynamodb.scanned_count",n4="aws.dynamodb.attribute_definitions",i4="aws.dynamodb.global_secondary_index_updates",o4="messaging.system",s4="messaging.destination",a4="messaging.destination_kind",c4="messaging.temp_destination",u4="messaging.protocol",l4="messaging.protocol_version",d4="messaging.url",p4="messaging.message_id",f4="messaging.conversation_id",h4="messaging.message_payload_size_bytes",m4="messaging.message_payload_compressed_size_bytes",g4="messaging.operation",_4="messaging.consumer_id",S4="messaging.rabbitmq.routing_key",y4="messaging.kafka.message_key",E4="messaging.kafka.consumer_group",T4="messaging.kafka.client_id",v4="messaging.kafka.partition",b4="messaging.kafka.tombstone",R4="rpc.system",A4="rpc.service",O4="rpc.method",x4="rpc.grpc.status_code",C4="rpc.jsonrpc.version",N4="rpc.jsonrpc.request_id",P4="rpc.jsonrpc.error_code",I4="rpc.jsonrpc.error_message",w4="message.type",M4="message.id",L4="message.compressed_size",D4="message.uncompressed_size",rSe=gj,us=_j,nSe=Sj,iSe=yj,oSe=Ej,ls=Tj,ds=vj,ps=bj,sSe=Rj,aSe=Aj,cSe=Oj,uSe=xj,lSe=Cj,dSe=Nj,pSe=Pj,fSe=Ij,hSe=wj,mSe=Mj,gSe=Lj,_Se=Dj,SSe=kj,In=Uj,wn=$j,so=zj,Gy=Vj,ySe=Bj,ESe=Fj,TSe=Hj,vSe=Gj,bSe=jj,RSe=qj,ASe=Wj,OSe=Kj,xSe=Yj,CSe=Zj,NSe=Xj,PSe=Jj,FP=Qj,fs=eq,tu=tq,Ci=rq,HP=nq,Nh=iq,GP=oq,ISe=sq,wSe=aq,MSe=cq,LSe=uq,DSe=lq,kSe=dq,hs=pq,jP=fq,USe=hq,$Se=mq,zSe=gq,VSe=_q,BSe=Sq,FSe=yq,HSe=Eq,GSe=Tq,ms=vq,gs=bq,ru=Rq,_s=Aq,nu=Oq,Ss=xq,qP=Cq,iu=Nq,jSe=Pq,qSe=Iq,WSe=wq,KSe=Mq,YSe=Lq,Ph=Dq,Ih=kq,ZSe=Uq,XSe=$q,JSe=zq,QSe=Vq,eye=Bq,tye=Fq,rye=Hq,nye=Gq,iye=jq,oye=qq,sye=Wq,aye=Kq,cye=Yq,uye=Zq,lye=Xq,dye=Jq,pye=Qq,fye=e4,hye=t4,mye=r4,gye=n4,_ye=i4,Sye=o4,yye=s4,Eye=a4,Tye=c4,vye=u4,bye=l4,Rye=d4,Aye=p4,Oye=f4,xye=h4,Cye=m4,Nye=g4,Pye=_4,Iye=S4,wye=y4,Mye=E4,Lye=T4,Dye=v4,kye=b4,ys=R4,Uye=A4,$ye=O4,Ni=x4,zye=C4,Vye=N4,Bye=P4,Fye=I4,Hye=w4,Gye=M4,jye=L4,qye=D4,Wye=Ut([gj,_j,Sj,yj,Ej,Tj,vj,bj,Rj,Aj,Oj,xj,Cj,Nj,Pj,Ij,wj,Mj,Lj,Dj,kj,Uj,$j,zj,Vj,Bj,Fj,Hj,Gj,jj,qj,Wj,Kj,Yj,Zj,Xj,Jj,Qj,eq,tq,rq,nq,iq,oq,sq,aq,cq,uq,lq,dq,pq,fq,hq,mq,gq,_q,Sq,yq,Eq,Tq,vq,bq,Rq,Aq,Oq,xq,Cq,Nq,Pq,Iq,wq,Mq,Lq,Dq,kq,Uq,$q,zq,Vq,Bq,Fq,Hq,Gq,jq,qq,Wq,Kq,Yq,Zq,Xq,Jq,Qq,e4,t4,r4,n4,i4,o4,s4,a4,c4,u4,l4,d4,p4,f4,h4,m4,g4,_4,S4,y4,E4,T4,v4,b4,R4,A4,O4,x4,C4,N4,P4,I4,w4,M4,L4,D4]),k4="other_sql",U4="mssql",$4="mysql",z4="oracle",V4="db2",B4="postgresql",F4="redshift",H4="hive",G4="cloudscape",j4="hsqldb",q4="progress",W4="maxdb",K4="hanadb",Y4="ingres",Z4="firstsql",X4="edb",J4="cache",Q4="adabas",e6="firebird",t6="derby",r6="filemaker",n6="informix",i6="instantdb",o6="interbase",s6="mariadb",a6="netezza",c6="pervasive",u6="pointbase",l6="sqlite",d6="sybase",p6="teradata",f6="vertica",h6="h2",m6="coldfusion",g6="cassandra",_6="hbase",S6="mongodb",y6="redis",E6="couchbase",T6="couchdb",v6="cosmosdb",b6="dynamodb",R6="neo4j",A6="geode",O6="elasticsearch",x6="memcached",C6="cockroachdb",wh=k4,Mh=U4,Lh=$4,Dh=z4,kh=V4,Uh=B4,Kye=F4,Yye=H4,Zye=G4,$h=j4,Xye=q4,Jye=W4,Qye=K4,eEe=Y4,tEe=Z4,rEe=X4,nEe=J4,iEe=Q4,oEe=e6,zh=t6,sEe=r6,aEe=n6,cEe=i6,uEe=o6,Vh=s6,lEe=a6,dEe=c6,pEe=u6,Bh=l6,fEe=d6,hEe=p6,mEe=f6,Fh=h6,gEe=m6,_Ee=g6,SEe=_6,Hh=S6,Gh=y6,yEe=E6,EEe=T6,TEe=v6,vEe=b6,bEe=R6,REe=A6,AEe=O6,OEe=x6,xEe=C6,CEe=Ut([k4,U4,$4,z4,V4,B4,F4,H4,G4,j4,q4,W4,K4,Y4,Z4,X4,J4,Q4,e6,t6,r6,n6,i6,o6,s6,a6,c6,u6,l6,d6,p6,f6,h6,m6,g6,_6,S6,y6,E6,T6,v6,b6,R6,A6,O6,x6,C6]),N6="all",P6="each_quorum",I6="quorum",w6="local_quorum",M6="one",L6="two",D6="three",k6="local_one",U6="any",$6="serial",z6="local_serial",NEe=N6,PEe=P6,IEe=I6,wEe=w6,MEe=M6,LEe=L6,DEe=D6,kEe=k6,UEe=U6,$Ee=$6,zEe=z6,VEe=Ut([N6,P6,I6,w6,M6,L6,D6,k6,U6,$6,z6]),V6="datasource",B6="http",F6="pubsub",H6="timer",G6="other",BEe=V6,FEe=B6,HEe=F6,GEe=H6,jEe=G6,qEe=Ut([V6,B6,F6,H6,G6]),j6="insert",q6="edit",W6="delete",WEe=j6,KEe=q6,YEe=W6,ZEe=Ut([j6,q6,W6]),K6="alibaba_cloud",Y6="aws",Z6="azure",X6="gcp",XEe=K6,JEe=Y6,QEe=Z6,eTe=X6,tTe=Ut([K6,Y6,Z6,X6]),J6="ip_tcp",Q6="ip_udp",e3="ip",t3="unix",r3="pipe",n3="inproc",i3="other",rTe=J6,nTe=Q6,iTe=e3,oTe=t3,sTe=r3,aTe=n3,cTe=i3,uTe=Ut([J6,Q6,e3,t3,r3,n3,i3]),o3="wifi",s3="wired",a3="cell",c3="unavailable",u3="unknown",lTe=o3,dTe=s3,pTe=a3,fTe=c3,hTe=u3,mTe=Ut([o3,s3,a3,c3,u3]),l3="gprs",d3="edge",p3="umts",f3="cdma",h3="evdo_0",m3="evdo_a",g3="cdma2000_1xrtt",_3="hsdpa",S3="hsupa",y3="hspa",E3="iden",T3="evdo_b",v3="lte",b3="ehrpd",R3="hspap",A3="gsm",O3="td_scdma",x3="iwlan",C3="nr",N3="nrnsa",P3="lte_ca",gTe=l3,_Te=d3,STe=p3,yTe=f3,ETe=h3,TTe=m3,vTe=g3,bTe=_3,RTe=S3,ATe=y3,OTe=E3,xTe=T3,CTe=v3,NTe=b3,PTe=R3,ITe=A3,wTe=O3,MTe=x3,LTe=C3,DTe=N3,kTe=P3,UTe=Ut([l3,d3,p3,f3,h3,m3,g3,_3,S3,y3,E3,T3,v3,b3,R3,A3,O3,x3,C3,N3,P3]),I3="1.0",w3="1.1",M3="2.0",L3="SPDY",D3="QUIC",$Te=I3,zTe=w3,VTe=M3,BTe=L3,FTe=D3,HTe={HTTP_1_0:I3,HTTP_1_1:w3,HTTP_2_0:M3,SPDY:L3,QUIC:D3},k3="queue",U3="topic",GTe=k3,jTe=U3,qTe=Ut([k3,U3]),$3="receive",z3="process",WTe=$3,KTe=z3,YTe=Ut([$3,z3]),V3=0,B3=1,F3=2,H3=3,G3=4,j3=5,q3=6,W3=7,K3=8,Y3=9,Z3=10,X3=11,J3=12,Q3=13,eW=14,tW=15,rW=16,ZTe=V3,XTe=B3,JTe=F3,QTe=H3,eve=G3,tve=j3,rve=q3,nve=W3,ive=K3,ove=Y3,sve=Z3,ave=X3,cve=J3,uve=Q3,lve=eW,dve=tW,pve=rW,fve={OK:V3,CANCELLED:B3,UNKNOWN:F3,INVALID_ARGUMENT:H3,DEADLINE_EXCEEDED:G3,NOT_FOUND:j3,ALREADY_EXISTS:q3,PERMISSION_DENIED:W3,RESOURCE_EXHAUSTED:K3,FAILED_PRECONDITION:Y3,ABORTED:Z3,OUT_OF_RANGE:X3,UNIMPLEMENTED:J3,INTERNAL:Q3,UNAVAILABLE:eW,DATA_LOSS:tW,UNAUTHENTICATED:rW},nW="SENT",iW="RECEIVED",hve=nW,mve=iW,gve=Ut([nW,iW]);});var sW=g(()=>{oW();});var aW,cW,uW,lW,dW,pW,fW,hW,mW,gW,_W,SW,yW,EW,TW,vW,bW,RW,AW,OW,xW,CW,NW,PW,IW,wW,MW,LW,DW,kW,UW,$W,zW,VW,BW,FW,HW,GW,jW,qW,WW,KW,YW,ZW,XW,JW,QW,eK,tK,rK,nK,iK,oK,sK,aK,cK,uK,lK,dK,pK,fK,hK,mK,gK,_K,SK,yK,EK,TK,vK,bK,RK,AK,OK,xK,CK,NK,PK,IK,wK,MK,Ea,_ve,Ta,Sve,va,yve,Eve,Tve,vve,bve,Rve,Ave,Ove,xve,Cve,Nve,Pve,Ive,wve,Mve,Lve,WP,jy,Dve,qy,kve,Uve,$ve,Wy,Ky,Yl,Yy,Zy,zve,Vve,Bve,Fve,Hve,Gve,jve,qve,Wve,jh,Kve,Yve,qh,Zve,Wh,Xve,Kh,Jve,Yh,Qve,Zh,ebe,Xh,tbe,rbe,nbe,Xy,KP,ibe,obe,sbe,abe,cbe,ube,lbe,dbe,pbe,ao,Jh,ou,Jy,fbe,hbe,YP,mbe,gbe,_be,Sbe,ybe,LK,DK,kK,UK,Ebe,Tbe,su,vbe,bbe,$K,zK,VK,BK,FK,HK,GK,jK,qK,WK,KK,YK,ZK,XK,JK,QK,eY,Rbe,Abe,Obe,xbe,Cbe,Nbe,Pbe,ZP,Ibe,wbe,XP,JP,Mbe,Lbe,Dbe,kbe,Ube,$be,tY,rY,zbe,Vbe,Bbe,nY,iY,oY,sY,aY,cY,uY,Fbe,Hbe,Gbe,jbe,qbe,Wbe,Kbe,Ybe,lY,dY,pY,fY,hY,mY,gY,_Y,SY,yY,EY,Zbe,Xbe,Jbe,Qbe,eRe,tRe,rRe,nRe,iRe,oRe,sRe,aRe,TY,vY,bY,RY,AY,OY,xY,CY,NY,PY,cRe,uRe,lRe,dRe,pRe,fRe,hRe,mRe,gRe,_Re,SRe,IY=g(()=>{BP();aW="cloud.provider",cW="cloud.account.id",uW="cloud.region",lW="cloud.availability_zone",dW="cloud.platform",pW="aws.ecs.container.arn",fW="aws.ecs.cluster.arn",hW="aws.ecs.launchtype",mW="aws.ecs.task.arn",gW="aws.ecs.task.family",_W="aws.ecs.task.revision",SW="aws.eks.cluster.arn",yW="aws.log.group.names",EW="aws.log.group.arns",TW="aws.log.stream.names",vW="aws.log.stream.arns",bW="container.name",RW="container.id",AW="container.runtime",OW="container.image.name",xW="container.image.tag",CW="deployment.environment",NW="device.id",PW="device.model.identifier",IW="device.model.name",wW="faas.name",MW="faas.id",LW="faas.version",DW="faas.instance",kW="faas.max_memory",UW="host.id",$W="host.name",zW="host.type",VW="host.arch",BW="host.image.name",FW="host.image.id",HW="host.image.version",GW="k8s.cluster.name",jW="k8s.node.name",qW="k8s.node.uid",WW="k8s.namespace.name",KW="k8s.pod.uid",YW="k8s.pod.name",ZW="k8s.container.name",XW="k8s.replicaset.uid",JW="k8s.replicaset.name",QW="k8s.deployment.uid",eK="k8s.deployment.name",tK="k8s.statefulset.uid",rK="k8s.statefulset.name",nK="k8s.daemonset.uid",iK="k8s.daemonset.name",oK="k8s.job.uid",sK="k8s.job.name",aK="k8s.cronjob.uid",cK="k8s.cronjob.name",uK="os.type",lK="os.description",dK="os.name",pK="os.version",fK="process.pid",hK="process.executable.name",mK="process.executable.path",gK="process.command",_K="process.command_line",SK="process.command_args",yK="process.owner",EK="process.runtime.name",TK="process.runtime.version",vK="process.runtime.description",bK="service.name",RK="service.namespace",AK="service.instance.id",OK="service.version",xK="telemetry.sdk.name",CK="telemetry.sdk.language",NK="telemetry.sdk.version",PK="telemetry.auto.version",IK="webengine.name",wK="webengine.version",MK="webengine.description",Ea=aW,_ve=cW,Ta=uW,Sve=lW,va=dW,yve=pW,Eve=fW,Tve=hW,vve=mW,bve=gW,Rve=_W,Ave=SW,Ove=yW,xve=EW,Cve=TW,Nve=vW,Pve=bW,Ive=RW,wve=AW,Mve=OW,Lve=xW,WP=CW,jy=NW,Dve=PW,qy=IW,kve=wW,Uve=MW,$ve=LW,Wy=DW,Ky=kW,Yl=UW,Yy=$W,Zy=zW,zve=VW,Vve=BW,Bve=FW,Fve=HW,Hve=GW,Gve=jW,jve=qW,qve=WW,Wve=KW,jh=YW,Kve=ZW,Yve=XW,qh=JW,Zve=QW,Wh=eK,Xve=tK,Kh=rK,Jve=nK,Yh=iK,Qve=oK,Zh=sK,ebe=aK,Xh=cK,tbe=uK,rbe=lK,nbe=dK,Xy=pK,KP=fK,ibe=hK,obe=mK,sbe=gK,abe=_K,cbe=SK,ube=yK,lbe=EK,dbe=TK,pbe=vK,ao=bK,Jh=RK,ou=AK,Jy=OK,fbe=xK,hbe=CK,YP=NK,mbe=PK,gbe=IK,_be=wK,Sbe=MK,ybe=Ut([aW,cW,uW,lW,dW,pW,fW,hW,mW,gW,_W,SW,yW,EW,TW,vW,bW,RW,AW,OW,xW,CW,NW,PW,IW,wW,MW,LW,DW,kW,UW,$W,zW,VW,BW,FW,HW,GW,jW,qW,WW,KW,YW,ZW,XW,JW,QW,eK,tK,rK,nK,iK,oK,sK,aK,cK,uK,lK,dK,pK,fK,hK,mK,gK,_K,SK,yK,EK,TK,vK,bK,RK,AK,OK,xK,CK,NK,PK,IK,wK,MK]),LK="alibaba_cloud",DK="aws",kK="azure",UK="gcp",Ebe=LK,Tbe=DK,su=kK,vbe=UK,bbe=Ut([LK,DK,kK,UK]),$K="alibaba_cloud_ecs",zK="alibaba_cloud_fc",VK="aws_ec2",BK="aws_ecs",FK="aws_eks",HK="aws_lambda",GK="aws_elastic_beanstalk",jK="azure_vm",qK="azure_container_instances",WK="azure_aks",KK="azure_functions",YK="azure_app_service",ZK="gcp_compute_engine",XK="gcp_cloud_run",JK="gcp_kubernetes_engine",QK="gcp_cloud_functions",eY="gcp_app_engine",Rbe=$K,Abe=zK,Obe=VK,xbe=BK,Cbe=FK,Nbe=HK,Pbe=GK,ZP=jK,Ibe=qK,wbe=WK,XP=KK,JP=YK,Mbe=ZK,Lbe=XK,Dbe=JK,kbe=QK,Ube=eY,$be=Ut([$K,zK,VK,BK,FK,HK,GK,jK,qK,WK,KK,YK,ZK,XK,JK,QK,eY]),tY="ec2",rY="fargate",zbe=tY,Vbe=rY,Bbe=Ut([tY,rY]),nY="amd64",iY="arm32",oY="arm64",sY="ia64",aY="ppc32",cY="ppc64",uY="x86",Fbe=nY,Hbe=iY,Gbe=oY,jbe=sY,qbe=aY,Wbe=cY,Kbe=uY,Ybe=Ut([nY,iY,oY,sY,aY,cY,uY]),lY="windows",dY="linux",pY="darwin",fY="freebsd",hY="netbsd",mY="openbsd",gY="dragonflybsd",_Y="hpux",SY="aix",yY="solaris",EY="z_os",Zbe=lY,Xbe=dY,Jbe=pY,Qbe=fY,eRe=hY,tRe=mY,rRe=gY,nRe=_Y,iRe=SY,oRe=yY,sRe=EY,aRe=Ut([lY,dY,pY,fY,hY,mY,gY,_Y,SY,yY,EY]),TY="cpp",vY="dotnet",bY="erlang",RY="go",AY="java",OY="nodejs",xY="php",CY="python",NY="ruby",PY="webjs",cRe=TY,uRe=vY,lRe=bY,dRe=RY,pRe=AY,fRe=OY,hRe=xY,mRe=CY,gRe=NY,_Re=PY,SRe=Ut([TY,vY,bY,RY,AY,OY,xY,CY,NY,PY]);});var wY=g(()=>{IY();});var yRe,ERe,TRe,vRe,bRe,RRe,ARe,ORe,xRe,CRe,NRe,PRe,IRe,wRe,MRe,LRe,DRe,kRe,co,Es,URe,$Re,zRe,VRe,BRe,FRe,HRe,GRe,jRe,qRe,WRe,KRe,YRe,ZRe,XRe,JRe,QRe,eAe,tAe,rAe,nAe,iAe,gJe,_Je,Qh,oAe,sAe,Ts,au,vs,aAe,bs,cAe,uAe,lAe,SJe,dAe,pAe,fAe,hAe,yJe,mAe,gAe,_Ae,SAe,Rs,QP,yAe,EAe,TAe,vAe,bAe,RAe,AAe,OAe,xAe,EJe,CAe,NAe,PAe,IAe,em,tm,As,rm,nm,im,om,wAe,MAe,TJe,vJe,LAe,DAe,kAe,UAe,$Ae,zAe,VAe,BAe,bJe,FAe,Os,uo,xs,HAe,GAe,jAe,qAe,WAe,KAe,YAe,ZAe,XAe,ba,RJe,JAe,QAe,AJe,eOe,eI,OJe,tOe,rOe,nOe,iOe,oOe,Ra,lo,sOe,Cs,Zn,Pi,Ns,Ps,MY=g(()=>{yRe="aspnetcore.diagnostics.exception.result",ERe="aborted",TRe="handled",vRe="skipped",bRe="unhandled",RRe="aspnetcore.diagnostics.handler.type",ARe="aspnetcore.rate_limiting.policy",ORe="aspnetcore.rate_limiting.result",xRe="acquired",CRe="endpoint_limiter",NRe="global_limiter",PRe="request_canceled",IRe="aspnetcore.request.is_unhandled",wRe="aspnetcore.routing.is_fallback",MRe="aspnetcore.routing.match_status",LRe="failure",DRe="success",kRe="aspnetcore.user.is_authenticated",co="client.address",Es="client.port",URe="code.column.number",$Re="code.file.path",zRe="code.function.name",VRe="code.line.number",BRe="code.stacktrace",FRe="db.collection.name",HRe="db.namespace",GRe="db.operation.batch.size",jRe="db.operation.name",qRe="db.query.summary",WRe="db.query.text",KRe="db.response.status_code",YRe="db.stored_procedure.name",ZRe="db.system.name",XRe="mariadb",JRe="microsoft.sql_server",QRe="mysql",eAe="postgresql",tAe="dotnet.gc.heap.generation",rAe="gen0",nAe="gen1",iAe="gen2",gJe="loh",_Je="poh",Qh="error.type",oAe="_OTHER",sAe="exception.escaped",Ts="exception.message",au="exception.stacktrace",vs="exception.type",aAe=t=>`http.request.header.${t}`,bs="http.request.method",cAe="_OTHER",uAe="CONNECT",lAe="DELETE",SJe="GET",dAe="HEAD",pAe="OPTIONS",fAe="PATCH",hAe="POST",yJe="PUT",mAe="TRACE",gAe="http.request.method_original",_Ae="http.request.resend_count",SAe=t=>`http.response.header.${t}`,Rs="http.response.status_code",QP="http.route",yAe="jvm.gc.action",EAe="jvm.gc.name",TAe="jvm.memory.pool.name",vAe="jvm.memory.type",bAe="heap",RAe="non_heap",AAe="jvm.thread.daemon",OAe="jvm.thread.state",xAe="blocked",EJe="new",CAe="runnable",NAe="terminated",PAe="timed_waiting",IAe="waiting",em="network.local.address",tm="network.local.port",As="network.peer.address",rm="network.peer.port",nm="network.protocol.name",im="network.protocol.version",om="network.transport",wAe="pipe",MAe="quic",TJe="tcp",vJe="udp",LAe="unix",DAe="network.type",kAe="ipv4",UAe="ipv6",$Ae="otel.scope.name",zAe="otel.scope.version",VAe="otel.status_code",BAe="ERROR",bJe="OK",FAe="otel.status_description",Os="server.address",uo="server.port",xs="service.name",HAe="service.version",GAe="signalr.connection.status",jAe="app_shutdown",qAe="normal_closure",WAe="timeout",KAe="signalr.transport",YAe="long_polling",ZAe="server_sent_events",XAe="web_sockets",ba="telemetry.sdk.language",RJe="cpp",JAe="dotnet",QAe="erlang",AJe="go",eOe="java",eI="nodejs",OJe="php",tOe="python",rOe="ruby",nOe="rust",iOe="swift",oOe="webjs",Ra="telemetry.sdk.name",lo="telemetry.sdk.version",sOe="url.fragment",Cs="url.full",Zn="url.path",Pi="url.query",Ns="url.scheme",Ps="user_agent.original";});var aOe,cOe,uOe,lOe,dOe,pOe,fOe,hOe,mOe,gOe,_Oe,SOe,yOe,EOe,TOe,vOe,bOe,ROe,AOe,OOe,xOe,COe,NOe,POe,IOe,wOe,MOe,LOe,DOe,kOe,UOe,$Oe,zOe,VOe,BOe,FOe,HOe,GOe,jOe,qOe,WOe,KOe,YOe,ZOe,XOe,JOe,QOe,exe,txe,rxe,nxe,LY=g(()=>{aOe="aspnetcore.diagnostics.exceptions",cOe="aspnetcore.rate_limiting.active_request_leases",uOe="aspnetcore.rate_limiting.queued_requests",lOe="aspnetcore.rate_limiting.request.time_in_queue",dOe="aspnetcore.rate_limiting.request_lease.duration",pOe="aspnetcore.rate_limiting.requests",fOe="aspnetcore.routing.match_attempts",hOe="db.client.operation.duration",mOe="dotnet.assembly.count",gOe="dotnet.exceptions",_Oe="dotnet.gc.collections",SOe="dotnet.gc.heap.total_allocated",yOe="dotnet.gc.last_collection.heap.fragmentation.size",EOe="dotnet.gc.last_collection.heap.size",TOe="dotnet.gc.last_collection.memory.committed_size",vOe="dotnet.gc.pause.time",bOe="dotnet.jit.compilation.time",ROe="dotnet.jit.compiled_il.size",AOe="dotnet.jit.compiled_methods",OOe="dotnet.monitor.lock_contentions",xOe="dotnet.process.cpu.count",COe="dotnet.process.cpu.time",NOe="dotnet.process.memory.working_set",POe="dotnet.thread_pool.queue.length",IOe="dotnet.thread_pool.thread.count",wOe="dotnet.thread_pool.work_item.count",MOe="dotnet.timer.count",LOe="http.client.request.duration",DOe="http.server.request.duration",kOe="jvm.class.count",UOe="jvm.class.loaded",$Oe="jvm.class.unloaded",zOe="jvm.cpu.count",VOe="jvm.cpu.recent_utilization",BOe="jvm.cpu.time",FOe="jvm.gc.duration",HOe="jvm.memory.committed",GOe="jvm.memory.limit",jOe="jvm.memory.used",qOe="jvm.memory.used_after_last_gc",WOe="jvm.thread.count",KOe="kestrel.active_connections",YOe="kestrel.active_tls_handshakes",ZOe="kestrel.connection.duration",XOe="kestrel.queued_connections",JOe="kestrel.queued_requests",QOe="kestrel.rejected_connections",exe="kestrel.tls_handshake.duration",txe="kestrel.upgraded_connections",rxe="signalr.server.active_connections",nxe="signalr.server.connection.duration";});var ixe,DY=g(()=>{ixe="exception";});var $r={};Pe($r,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>ERe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>TRe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>vRe,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>bRe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>xRe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>CRe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>NRe,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>PRe,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>LRe,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>DRe,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>yRe,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>RRe,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>ARe,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>ORe,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>IRe,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>wRe,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>MRe,ATTR_ASPNETCORE_USER_IS_AUTHENTICATED:()=>kRe,ATTR_CLIENT_ADDRESS:()=>co,ATTR_CLIENT_PORT:()=>Es,ATTR_CODE_COLUMN_NUMBER:()=>URe,ATTR_CODE_FILE_PATH:()=>$Re,ATTR_CODE_FUNCTION_NAME:()=>zRe,ATTR_CODE_LINE_NUMBER:()=>VRe,ATTR_CODE_STACKTRACE:()=>BRe,ATTR_DB_COLLECTION_NAME:()=>FRe,ATTR_DB_NAMESPACE:()=>HRe,ATTR_DB_OPERATION_BATCH_SIZE:()=>GRe,ATTR_DB_OPERATION_NAME:()=>jRe,ATTR_DB_QUERY_SUMMARY:()=>qRe,ATTR_DB_QUERY_TEXT:()=>WRe,ATTR_DB_RESPONSE_STATUS_CODE:()=>KRe,ATTR_DB_STORED_PROCEDURE_NAME:()=>YRe,ATTR_DB_SYSTEM_NAME:()=>ZRe,ATTR_DOTNET_GC_HEAP_GENERATION:()=>tAe,ATTR_ERROR_TYPE:()=>Qh,ATTR_EXCEPTION_ESCAPED:()=>sAe,ATTR_EXCEPTION_MESSAGE:()=>Ts,ATTR_EXCEPTION_STACKTRACE:()=>au,ATTR_EXCEPTION_TYPE:()=>vs,ATTR_HTTP_REQUEST_HEADER:()=>aAe,ATTR_HTTP_REQUEST_METHOD:()=>bs,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>gAe,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>_Ae,ATTR_HTTP_RESPONSE_HEADER:()=>SAe,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>Rs,ATTR_HTTP_ROUTE:()=>QP,ATTR_JVM_GC_ACTION:()=>yAe,ATTR_JVM_GC_NAME:()=>EAe,ATTR_JVM_MEMORY_POOL_NAME:()=>TAe,ATTR_JVM_MEMORY_TYPE:()=>vAe,ATTR_JVM_THREAD_DAEMON:()=>AAe,ATTR_JVM_THREAD_STATE:()=>OAe,ATTR_NETWORK_LOCAL_ADDRESS:()=>em,ATTR_NETWORK_LOCAL_PORT:()=>tm,ATTR_NETWORK_PEER_ADDRESS:()=>As,ATTR_NETWORK_PEER_PORT:()=>rm,ATTR_NETWORK_PROTOCOL_NAME:()=>nm,ATTR_NETWORK_PROTOCOL_VERSION:()=>im,ATTR_NETWORK_TRANSPORT:()=>om,ATTR_NETWORK_TYPE:()=>DAe,ATTR_OTEL_SCOPE_NAME:()=>$Ae,ATTR_OTEL_SCOPE_VERSION:()=>zAe,ATTR_OTEL_STATUS_CODE:()=>VAe,ATTR_OTEL_STATUS_DESCRIPTION:()=>FAe,ATTR_SERVER_ADDRESS:()=>Os,ATTR_SERVER_PORT:()=>uo,ATTR_SERVICE_NAME:()=>xs,ATTR_SERVICE_VERSION:()=>HAe,ATTR_SIGNALR_CONNECTION_STATUS:()=>GAe,ATTR_SIGNALR_TRANSPORT:()=>KAe,ATTR_TELEMETRY_SDK_LANGUAGE:()=>ba,ATTR_TELEMETRY_SDK_NAME:()=>Ra,ATTR_TELEMETRY_SDK_VERSION:()=>lo,ATTR_URL_FRAGMENT:()=>sOe,ATTR_URL_FULL:()=>Cs,ATTR_URL_PATH:()=>Zn,ATTR_URL_QUERY:()=>Pi,ATTR_URL_SCHEME:()=>Ns,ATTR_USER_AGENT_ORIGINAL:()=>Ps,AWSECSLAUNCHTYPEVALUES_EC2:()=>zbe,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>Vbe,AwsEcsLaunchtypeValues:()=>Bbe,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>Rbe,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>Abe,CLOUDPLATFORMVALUES_AWS_EC2:()=>Obe,CLOUDPLATFORMVALUES_AWS_ECS:()=>xbe,CLOUDPLATFORMVALUES_AWS_EKS:()=>Cbe,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>Pbe,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>Nbe,CLOUDPLATFORMVALUES_AZURE_AKS:()=>wbe,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>JP,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>Ibe,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>XP,CLOUDPLATFORMVALUES_AZURE_VM:()=>ZP,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>Ube,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>kbe,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>Lbe,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>Mbe,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>Dbe,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>Ebe,CLOUDPROVIDERVALUES_AWS:()=>Tbe,CLOUDPROVIDERVALUES_AZURE:()=>su,CLOUDPROVIDERVALUES_GCP:()=>vbe,CloudPlatformValues:()=>$be,CloudProviderValues:()=>bbe,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>NEe,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>UEe,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>PEe,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>kEe,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>wEe,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>zEe,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>MEe,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>IEe,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>$Ee,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>DEe,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>LEe,DBSYSTEMVALUES_ADABAS:()=>iEe,DBSYSTEMVALUES_CACHE:()=>nEe,DBSYSTEMVALUES_CASSANDRA:()=>_Ee,DBSYSTEMVALUES_CLOUDSCAPE:()=>Zye,DBSYSTEMVALUES_COCKROACHDB:()=>xEe,DBSYSTEMVALUES_COLDFUSION:()=>gEe,DBSYSTEMVALUES_COSMOSDB:()=>TEe,DBSYSTEMVALUES_COUCHBASE:()=>yEe,DBSYSTEMVALUES_COUCHDB:()=>EEe,DBSYSTEMVALUES_DB2:()=>kh,DBSYSTEMVALUES_DERBY:()=>zh,DBSYSTEMVALUES_DYNAMODB:()=>vEe,DBSYSTEMVALUES_EDB:()=>rEe,DBSYSTEMVALUES_ELASTICSEARCH:()=>AEe,DBSYSTEMVALUES_FILEMAKER:()=>sEe,DBSYSTEMVALUES_FIREBIRD:()=>oEe,DBSYSTEMVALUES_FIRSTSQL:()=>tEe,DBSYSTEMVALUES_GEODE:()=>REe,DBSYSTEMVALUES_H2:()=>Fh,DBSYSTEMVALUES_HANADB:()=>Qye,DBSYSTEMVALUES_HBASE:()=>SEe,DBSYSTEMVALUES_HIVE:()=>Yye,DBSYSTEMVALUES_HSQLDB:()=>$h,DBSYSTEMVALUES_INFORMIX:()=>aEe,DBSYSTEMVALUES_INGRES:()=>eEe,DBSYSTEMVALUES_INSTANTDB:()=>cEe,DBSYSTEMVALUES_INTERBASE:()=>uEe,DBSYSTEMVALUES_MARIADB:()=>Vh,DBSYSTEMVALUES_MAXDB:()=>Jye,DBSYSTEMVALUES_MEMCACHED:()=>OEe,DBSYSTEMVALUES_MONGODB:()=>Hh,DBSYSTEMVALUES_MSSQL:()=>Mh,DBSYSTEMVALUES_MYSQL:()=>Lh,DBSYSTEMVALUES_NEO4J:()=>bEe,DBSYSTEMVALUES_NETEZZA:()=>lEe,DBSYSTEMVALUES_ORACLE:()=>Dh,DBSYSTEMVALUES_OTHER_SQL:()=>wh,DBSYSTEMVALUES_PERVASIVE:()=>dEe,DBSYSTEMVALUES_POINTBASE:()=>pEe,DBSYSTEMVALUES_POSTGRESQL:()=>Uh,DBSYSTEMVALUES_PROGRESS:()=>Xye,DBSYSTEMVALUES_REDIS:()=>Gh,DBSYSTEMVALUES_REDSHIFT:()=>Kye,DBSYSTEMVALUES_SQLITE:()=>Bh,DBSYSTEMVALUES_SYBASE:()=>fEe,DBSYSTEMVALUES_TERADATA:()=>hEe,DBSYSTEMVALUES_VERTICA:()=>mEe,DB_SYSTEM_NAME_VALUE_MARIADB:()=>XRe,DB_SYSTEM_NAME_VALUE_MICROSOFT_SQL_SERVER:()=>JRe,DB_SYSTEM_NAME_VALUE_MYSQL:()=>QRe,DB_SYSTEM_NAME_VALUE_POSTGRESQL:()=>eAe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN0:()=>rAe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN1:()=>nAe,DOTNET_GC_HEAP_GENERATION_VALUE_GEN2:()=>iAe,DOTNET_GC_HEAP_GENERATION_VALUE_LOH:()=>gJe,DOTNET_GC_HEAP_GENERATION_VALUE_POH:()=>_Je,DbCassandraConsistencyLevelValues:()=>VEe,DbSystemValues:()=>CEe,ERROR_TYPE_VALUE_OTHER:()=>oAe,EVENT_EXCEPTION:()=>ixe,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>YEe,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>KEe,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>WEe,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>XEe,FAASINVOKEDPROVIDERVALUES_AWS:()=>JEe,FAASINVOKEDPROVIDERVALUES_AZURE:()=>QEe,FAASINVOKEDPROVIDERVALUES_GCP:()=>eTe,FAASTRIGGERVALUES_DATASOURCE:()=>BEe,FAASTRIGGERVALUES_HTTP:()=>FEe,FAASTRIGGERVALUES_OTHER:()=>jEe,FAASTRIGGERVALUES_PUBSUB:()=>HEe,FAASTRIGGERVALUES_TIMER:()=>GEe,FaasDocumentOperationValues:()=>ZEe,FaasInvokedProviderValues:()=>tTe,FaasTriggerValues:()=>qEe,HOSTARCHVALUES_AMD64:()=>Fbe,HOSTARCHVALUES_ARM32:()=>Hbe,HOSTARCHVALUES_ARM64:()=>Gbe,HOSTARCHVALUES_IA64:()=>jbe,HOSTARCHVALUES_PPC32:()=>qbe,HOSTARCHVALUES_PPC64:()=>Wbe,HOSTARCHVALUES_X86:()=>Kbe,HTTPFLAVORVALUES_HTTP_1_0:()=>$Te,HTTPFLAVORVALUES_HTTP_1_1:()=>zTe,HTTPFLAVORVALUES_HTTP_2_0:()=>VTe,HTTPFLAVORVALUES_QUIC:()=>FTe,HTTPFLAVORVALUES_SPDY:()=>BTe,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>uAe,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>lAe,HTTP_REQUEST_METHOD_VALUE_GET:()=>SJe,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>dAe,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>pAe,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>cAe,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>fAe,HTTP_REQUEST_METHOD_VALUE_POST:()=>hAe,HTTP_REQUEST_METHOD_VALUE_PUT:()=>yJe,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>mAe,HostArchValues:()=>Ybe,HttpFlavorValues:()=>HTe,JVM_MEMORY_TYPE_VALUE_HEAP:()=>bAe,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>RAe,JVM_THREAD_STATE_VALUE_BLOCKED:()=>xAe,JVM_THREAD_STATE_VALUE_NEW:()=>EJe,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>CAe,JVM_THREAD_STATE_VALUE_TERMINATED:()=>NAe,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>PAe,JVM_THREAD_STATE_VALUE_WAITING:()=>IAe,MESSAGETYPEVALUES_RECEIVED:()=>mve,MESSAGETYPEVALUES_SENT:()=>hve,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>GTe,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>jTe,MESSAGINGOPERATIONVALUES_PROCESS:()=>KTe,MESSAGINGOPERATIONVALUES_RECEIVE:()=>WTe,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>aOe,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>cOe,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>uOe,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>pOe,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>dOe,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>lOe,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>fOe,METRIC_DB_CLIENT_OPERATION_DURATION:()=>hOe,METRIC_DOTNET_ASSEMBLY_COUNT:()=>mOe,METRIC_DOTNET_EXCEPTIONS:()=>gOe,METRIC_DOTNET_GC_COLLECTIONS:()=>_Oe,METRIC_DOTNET_GC_HEAP_TOTAL_ALLOCATED:()=>SOe,METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_FRAGMENTATION_SIZE:()=>yOe,METRIC_DOTNET_GC_LAST_COLLECTION_HEAP_SIZE:()=>EOe,METRIC_DOTNET_GC_LAST_COLLECTION_MEMORY_COMMITTED_SIZE:()=>TOe,METRIC_DOTNET_GC_PAUSE_TIME:()=>vOe,METRIC_DOTNET_JIT_COMPILATION_TIME:()=>bOe,METRIC_DOTNET_JIT_COMPILED_IL_SIZE:()=>ROe,METRIC_DOTNET_JIT_COMPILED_METHODS:()=>AOe,METRIC_DOTNET_MONITOR_LOCK_CONTENTIONS:()=>OOe,METRIC_DOTNET_PROCESS_CPU_COUNT:()=>xOe,METRIC_DOTNET_PROCESS_CPU_TIME:()=>COe,METRIC_DOTNET_PROCESS_MEMORY_WORKING_SET:()=>NOe,METRIC_DOTNET_THREAD_POOL_QUEUE_LENGTH:()=>POe,METRIC_DOTNET_THREAD_POOL_THREAD_COUNT:()=>IOe,METRIC_DOTNET_THREAD_POOL_WORK_ITEM_COUNT:()=>wOe,METRIC_DOTNET_TIMER_COUNT:()=>MOe,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>LOe,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>DOe,METRIC_JVM_CLASS_COUNT:()=>kOe,METRIC_JVM_CLASS_LOADED:()=>UOe,METRIC_JVM_CLASS_UNLOADED:()=>$Oe,METRIC_JVM_CPU_COUNT:()=>zOe,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>VOe,METRIC_JVM_CPU_TIME:()=>BOe,METRIC_JVM_GC_DURATION:()=>FOe,METRIC_JVM_MEMORY_COMMITTED:()=>HOe,METRIC_JVM_MEMORY_LIMIT:()=>GOe,METRIC_JVM_MEMORY_USED:()=>jOe,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>qOe,METRIC_JVM_THREAD_COUNT:()=>WOe,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>KOe,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>YOe,METRIC_KESTREL_CONNECTION_DURATION:()=>ZOe,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>XOe,METRIC_KESTREL_QUEUED_REQUESTS:()=>JOe,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>QOe,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>exe,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>txe,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>rxe,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>nxe,MessageTypeValues:()=>gve,MessagingDestinationKindValues:()=>qTe,MessagingOperationValues:()=>YTe,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>yTe,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>vTe,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>_Te,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>NTe,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>ETe,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>TTe,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>xTe,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>gTe,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>ITe,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>bTe,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>ATe,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>PTe,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>RTe,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>OTe,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>MTe,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>CTe,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>kTe,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>LTe,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>DTe,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>wTe,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>STe,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>pTe,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>fTe,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>hTe,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>lTe,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>dTe,NETTRANSPORTVALUES_INPROC:()=>aTe,NETTRANSPORTVALUES_IP:()=>iTe,NETTRANSPORTVALUES_IP_TCP:()=>rTe,NETTRANSPORTVALUES_IP_UDP:()=>nTe,NETTRANSPORTVALUES_OTHER:()=>cTe,NETTRANSPORTVALUES_PIPE:()=>sTe,NETTRANSPORTVALUES_UNIX:()=>oTe,NETWORK_TRANSPORT_VALUE_PIPE:()=>wAe,NETWORK_TRANSPORT_VALUE_QUIC:()=>MAe,NETWORK_TRANSPORT_VALUE_TCP:()=>TJe,NETWORK_TRANSPORT_VALUE_UDP:()=>vJe,NETWORK_TRANSPORT_VALUE_UNIX:()=>LAe,NETWORK_TYPE_VALUE_IPV4:()=>kAe,NETWORK_TYPE_VALUE_IPV6:()=>UAe,NetHostConnectionSubtypeValues:()=>UTe,NetHostConnectionTypeValues:()=>mTe,NetTransportValues:()=>uTe,OSTYPEVALUES_AIX:()=>iRe,OSTYPEVALUES_DARWIN:()=>Jbe,OSTYPEVALUES_DRAGONFLYBSD:()=>rRe,OSTYPEVALUES_FREEBSD:()=>Qbe,OSTYPEVALUES_HPUX:()=>nRe,OSTYPEVALUES_LINUX:()=>Xbe,OSTYPEVALUES_NETBSD:()=>eRe,OSTYPEVALUES_OPENBSD:()=>tRe,OSTYPEVALUES_SOLARIS:()=>oRe,OSTYPEVALUES_WINDOWS:()=>Zbe,OSTYPEVALUES_Z_OS:()=>sRe,OTEL_STATUS_CODE_VALUE_ERROR:()=>BAe,OTEL_STATUS_CODE_VALUE_OK:()=>bJe,OsTypeValues:()=>aRe,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>sve,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>rve,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>XTe,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>dve,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>eve,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>ove,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>uve,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>QTe,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>tve,RPCGRPCSTATUSCODEVALUES_OK:()=>ZTe,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>ave,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>nve,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>ive,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>pve,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>lve,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>cve,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>JTe,RpcGrpcStatusCodeValues:()=>fve,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>iye,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>gye,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>tye,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>XSe,SEMATTRS_AWS_DYNAMODB_COUNT:()=>hye,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>uye,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>aye,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>_ye,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>oye,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>JSe,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>nye,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>cye,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>rye,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>QSe,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>eye,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>mye,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>dye,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>pye,SEMATTRS_AWS_DYNAMODB_SELECT:()=>sye,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>lye,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>ZSe,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>fye,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>rSe,SEMATTRS_CODE_FILEPATH:()=>HSe,SEMATTRS_CODE_FUNCTION:()=>BSe,SEMATTRS_CODE_LINENO:()=>GSe,SEMATTRS_CODE_NAMESPACE:()=>FSe,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>uSe,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>hSe,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>fSe,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>dSe,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>aSe,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>cSe,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>pSe,SEMATTRS_DB_CASSANDRA_TABLE:()=>lSe,SEMATTRS_DB_CONNECTION_STRING:()=>nSe,SEMATTRS_DB_HBASE_NAMESPACE:()=>mSe,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>oSe,SEMATTRS_DB_MONGODB_COLLECTION:()=>_Se,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>sSe,SEMATTRS_DB_NAME:()=>ls,SEMATTRS_DB_OPERATION:()=>ps,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>gSe,SEMATTRS_DB_SQL_TABLE:()=>SSe,SEMATTRS_DB_STATEMENT:()=>ds,SEMATTRS_DB_SYSTEM:()=>us,SEMATTRS_DB_USER:()=>iSe,SEMATTRS_ENDUSER_ID:()=>jP,SEMATTRS_ENDUSER_ROLE:()=>USe,SEMATTRS_ENDUSER_SCOPE:()=>$Se,SEMATTRS_EXCEPTION_ESCAPED:()=>Gy,SEMATTRS_EXCEPTION_MESSAGE:()=>wn,SEMATTRS_EXCEPTION_STACKTRACE:()=>so,SEMATTRS_EXCEPTION_TYPE:()=>In,SEMATTRS_FAAS_COLDSTART:()=>xSe,SEMATTRS_FAAS_CRON:()=>OSe,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>TSe,SEMATTRS_FAAS_DOCUMENT_NAME:()=>RSe,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>vSe,SEMATTRS_FAAS_DOCUMENT_TIME:()=>bSe,SEMATTRS_FAAS_EXECUTION:()=>ESe,SEMATTRS_FAAS_INVOKED_NAME:()=>CSe,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>NSe,SEMATTRS_FAAS_INVOKED_REGION:()=>PSe,SEMATTRS_FAAS_TIME:()=>ASe,SEMATTRS_FAAS_TRIGGER:()=>ySe,SEMATTRS_HTTP_CLIENT_IP:()=>Ih,SEMATTRS_HTTP_FLAVOR:()=>qP,SEMATTRS_HTTP_HOST:()=>_s,SEMATTRS_HTTP_METHOD:()=>ms,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>jSe,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>qSe,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>WSe,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>KSe,SEMATTRS_HTTP_ROUTE:()=>Ph,SEMATTRS_HTTP_SCHEME:()=>nu,SEMATTRS_HTTP_SERVER_NAME:()=>YSe,SEMATTRS_HTTP_STATUS_CODE:()=>Ss,SEMATTRS_HTTP_TARGET:()=>ru,SEMATTRS_HTTP_URL:()=>gs,SEMATTRS_HTTP_USER_AGENT:()=>iu,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>jye,SEMATTRS_MESSAGE_ID:()=>Gye,SEMATTRS_MESSAGE_TYPE:()=>Hye,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>qye,SEMATTRS_MESSAGING_CONSUMER_ID:()=>Pye,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>Oye,SEMATTRS_MESSAGING_DESTINATION:()=>yye,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>Eye,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>Lye,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>Mye,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>wye,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>Dye,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>kye,SEMATTRS_MESSAGING_MESSAGE_ID:()=>Aye,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>Cye,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>xye,SEMATTRS_MESSAGING_OPERATION:()=>Nye,SEMATTRS_MESSAGING_PROTOCOL:()=>vye,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>bye,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>Iye,SEMATTRS_MESSAGING_SYSTEM:()=>Sye,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>Tye,SEMATTRS_MESSAGING_URL:()=>Rye,SEMATTRS_NET_HOST_CARRIER_ICC:()=>kSe,SEMATTRS_NET_HOST_CARRIER_MCC:()=>LSe,SEMATTRS_NET_HOST_CARRIER_MNC:()=>DSe,SEMATTRS_NET_HOST_CARRIER_NAME:()=>MSe,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>wSe,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>ISe,SEMATTRS_NET_HOST_IP:()=>HP,SEMATTRS_NET_HOST_NAME:()=>GP,SEMATTRS_NET_HOST_PORT:()=>Nh,SEMATTRS_NET_PEER_IP:()=>fs,SEMATTRS_NET_PEER_NAME:()=>Ci,SEMATTRS_NET_PEER_PORT:()=>tu,SEMATTRS_NET_TRANSPORT:()=>FP,SEMATTRS_PEER_SERVICE:()=>hs,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>Ni,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>Bye,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>Fye,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>Vye,SEMATTRS_RPC_JSONRPC_VERSION:()=>zye,SEMATTRS_RPC_METHOD:()=>$ye,SEMATTRS_RPC_SERVICE:()=>Uye,SEMATTRS_RPC_SYSTEM:()=>ys,SEMATTRS_THREAD_ID:()=>zSe,SEMATTRS_THREAD_NAME:()=>VSe,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>Eve,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>yve,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>Tve,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>vve,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>bve,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>Rve,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>Ave,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>xve,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>Ove,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>Nve,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>Cve,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>_ve,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>Sve,SEMRESATTRS_CLOUD_PLATFORM:()=>va,SEMRESATTRS_CLOUD_PROVIDER:()=>Ea,SEMRESATTRS_CLOUD_REGION:()=>Ta,SEMRESATTRS_CONTAINER_ID:()=>Ive,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>Mve,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>Lve,SEMRESATTRS_CONTAINER_NAME:()=>Pve,SEMRESATTRS_CONTAINER_RUNTIME:()=>wve,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>WP,SEMRESATTRS_DEVICE_ID:()=>jy,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>Dve,SEMRESATTRS_DEVICE_MODEL_NAME:()=>qy,SEMRESATTRS_FAAS_ID:()=>Uve,SEMRESATTRS_FAAS_INSTANCE:()=>Wy,SEMRESATTRS_FAAS_MAX_MEMORY:()=>Ky,SEMRESATTRS_FAAS_NAME:()=>kve,SEMRESATTRS_FAAS_VERSION:()=>$ve,SEMRESATTRS_HOST_ARCH:()=>zve,SEMRESATTRS_HOST_ID:()=>Yl,SEMRESATTRS_HOST_IMAGE_ID:()=>Bve,SEMRESATTRS_HOST_IMAGE_NAME:()=>Vve,SEMRESATTRS_HOST_IMAGE_VERSION:()=>Fve,SEMRESATTRS_HOST_NAME:()=>Yy,SEMRESATTRS_HOST_TYPE:()=>Zy,SEMRESATTRS_K8S_CLUSTER_NAME:()=>Hve,SEMRESATTRS_K8S_CONTAINER_NAME:()=>Kve,SEMRESATTRS_K8S_CRONJOB_NAME:()=>Xh,SEMRESATTRS_K8S_CRONJOB_UID:()=>ebe,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>Yh,SEMRESATTRS_K8S_DAEMONSET_UID:()=>Jve,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>Wh,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>Zve,SEMRESATTRS_K8S_JOB_NAME:()=>Zh,SEMRESATTRS_K8S_JOB_UID:()=>Qve,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>qve,SEMRESATTRS_K8S_NODE_NAME:()=>Gve,SEMRESATTRS_K8S_NODE_UID:()=>jve,SEMRESATTRS_K8S_POD_NAME:()=>jh,SEMRESATTRS_K8S_POD_UID:()=>Wve,SEMRESATTRS_K8S_REPLICASET_NAME:()=>qh,SEMRESATTRS_K8S_REPLICASET_UID:()=>Yve,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>Kh,SEMRESATTRS_K8S_STATEFULSET_UID:()=>Xve,SEMRESATTRS_OS_DESCRIPTION:()=>rbe,SEMRESATTRS_OS_NAME:()=>nbe,SEMRESATTRS_OS_TYPE:()=>tbe,SEMRESATTRS_OS_VERSION:()=>Xy,SEMRESATTRS_PROCESS_COMMAND:()=>sbe,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>cbe,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>abe,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>ibe,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>obe,SEMRESATTRS_PROCESS_OWNER:()=>ube,SEMRESATTRS_PROCESS_PID:()=>KP,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>pbe,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>lbe,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>dbe,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>ou,SEMRESATTRS_SERVICE_NAME:()=>ao,SEMRESATTRS_SERVICE_NAMESPACE:()=>Jh,SEMRESATTRS_SERVICE_VERSION:()=>Jy,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>mbe,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>hbe,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>fbe,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>YP,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>Sbe,SEMRESATTRS_WEBENGINE_NAME:()=>gbe,SEMRESATTRS_WEBENGINE_VERSION:()=>_be,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>jAe,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>qAe,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>WAe,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>YAe,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>ZAe,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>XAe,SemanticAttributes:()=>Wye,SemanticResourceAttributes:()=>ybe,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>cRe,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>uRe,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>lRe,TELEMETRYSDKLANGUAGEVALUES_GO:()=>dRe,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>pRe,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>fRe,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>hRe,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>mRe,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>gRe,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>_Re,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>RJe,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>JAe,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>QAe,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>AJe,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>eOe,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>eI,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>OJe,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>tOe,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>rOe,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>nOe,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>iOe,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>oOe,TelemetrySdkLanguageValues:()=>SRe});var Ye=g(()=>{sW();wY();MY();LY();DY();});var kY,UY=g(()=>{kY="process.runtime.name";});var Xn,$Y=g(()=>{mj();Ye();UY();Xn={[Ra]:"opentelemetry",[kY]:"node",[ba]:eI,[lo]:hj};});function po(t){t.unref();}var zY=g(()=>{});var VY=g(()=>{dj();pj();fj();$Y();zY();});var tI=g(()=>{VY();});function gr(t){let e=t/1e3,r=Math.trunc(e),i=Math.round(t%1e3*sxe);return [r,i]}function Zl(){let t=Yn.timeOrigin;if(typeof t!="number"){let e=Yn;t=e.timing&&e.timing.fetchStart;}return t}function sm(t){let e=gr(Zl()),r=gr(typeof t=="number"?t:Yn.now());return um(e,r)}function am(t){if(Jl(t))return t;if(typeof t=="number")return t<Zl()?sm(t):gr(t);if(t instanceof Date)return gr(t.getTime());throw TypeError("Invalid input type")}function eE(t,e){let r=e[0]-t[0],i=e[1]-t[1];return i<0&&(r-=1,i+=Qy),[r,i]}function FY(t){let e=BY,r=`${"0".repeat(e)}${t[1]}Z`,i=r.substring(r.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",i)}function Xl(t){return t[0]*Qy+t[1]}function Jn(t){return t[0]*1e3+t[1]/1e6}function Pr(t){return t[0]*1e6+t[1]/1e3}function Jl(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function cm(t){return Jl(t)||typeof t=="number"||t instanceof Date}function um(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=Qy&&(r[1]-=Qy,r[0]+=1),r}var BY,oxe,sxe,Qy,HY=g(()=>{tI();BY=9,oxe=6,sxe=Math.pow(10,oxe),Qy=Math.pow(10,BY);});var Z,GY=g(()=>{(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED";})(Z||(Z={}));});var tE,jY=g(()=>{P();tE=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(r=>typeof r.fields=="function"?r.fields():[]).reduce((r,i)=>r.concat(i),[])));}inject(e,r,i){for(let n of this._propagators)try{n.inject(e,r,i);}catch(a){E.warn(`Failed to inject with ${n.constructor.name}. Err: ${a.message}`);}}extract(e,r,i){return this._propagators.reduce((n,a)=>{try{return a.extract(n,r,i)}catch(o){E.warn(`Failed to extract with ${a.constructor.name}. Err: ${o.message}`);}return n},e)}fields(){return this._fields.slice()}};});function qY(t){return uxe.test(t)}function WY(t){return lxe.test(t)&&!dxe.test(t)}var rI,axe,cxe,uxe,lxe,dxe,KY=g(()=>{rI="[_0-9a-z-*/]",axe=`[a-z]${rI}{0,255}`,cxe=`[a-z0-9]${rI}{0,240}@[a-z]${rI}{0,13}`,uxe=new RegExp(`^(?:${axe}|${cxe})$`),lxe=/^[ -~]{0,255}[!-~]$/,dxe=/,|=/;});var YY,pxe,ZY,XY,Ql,nI=g(()=>{KY();YY=32,pxe=512,ZY=",",XY="=",Ql=class t{_internalState=new Map;constructor(e){e&&this._parse(e);}set(e,r){let i=this._clone();return i._internalState.has(e)&&i._internalState.delete(e),i._internalState.set(e,r),i}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+XY+this.get(r)),e),[]).join(ZY)}_parse(e){e.length>pxe||(this._internalState=e.split(ZY).reverse().reduce((r,i)=>{let n=i.trim(),a=n.indexOf(XY);if(a!==-1){let o=n.slice(0,a),s=n.slice(a+1,i.length);qY(o)&&WY(s)&&r.set(o,s);}return r},new Map),this._internalState.size>YY&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,YY))));}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};});function iI(t){let e=Sxe.exec(t);return !e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var lm,dm,fxe,hxe,mxe,gxe,_xe,Sxe,ed,JY=g(()=>{P();Ch();nI();lm="traceparent",dm="tracestate",fxe="00",hxe="(?!ff)[\\da-f]{2}",mxe="(?![0]{32})[\\da-f]{32}",gxe="(?![0]{16})[\\da-f]{16}",_xe="[\\da-f]{2}",Sxe=new RegExp(`^\\s?(${hxe})-(${mxe})-(${gxe})-(${_xe})(-.*)?\\s?$`);ed=class{inject(e,r,i){let n=ce.getSpanContext(e);if(!n||Nr(e)||!Cr(n))return;let a=`${fxe}-${n.traceId}-${n.spanId}-0${Number(n.traceFlags||Ve.NONE).toString(16)}`;i.set(r,lm,a),n.traceState&&i.set(r,dm,n.traceState.serialize());}extract(e,r,i){let n=i.get(r,lm);if(!n)return e;let a=Array.isArray(n)?n[0]:n;if(typeof a!="string")return e;let o=iI(a);if(!o)return e;o.isRemote=true;let s=i.get(r,dm);if(s){let c=Array.isArray(s)?s.join(","):s;o.traceState=new Ql(typeof c=="string"?c:void 0);}return ce.setSpanContext(e,o)}fields(){return [lm,dm]}};});function QY(t,e){return t.setValue(oI,e)}function eZ(t){return t.deleteValue(oI)}function tZ(t){return t.getValue(oI)}var oI,rE,rZ=g(()=>{P();oI=Kn("OpenTelemetry SDK Context Key RPC_METADATA");(function(t){t.HTTP="http";})(rE||(rE={}));});function sI(t){if(!Axe(t)||Oxe(t)!==yxe)return  false;let e=Rxe(t);if(e===null)return  true;let r=oZ.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&nZ.call(r)===bxe}function Axe(t){return t!=null&&typeof t=="object"}function Oxe(t){return t==null?t===void 0?Txe:Exe:cu&&cu in Object(t)?xxe(t):Cxe(t)}function xxe(t){let e=oZ.call(t,cu),r=t[cu],i=false;try{t[cu]=void 0,i=!0;}catch{}let n=sZ.call(t);return i&&(e?t[cu]=r:delete t[cu]),n}function Cxe(t){return sZ.call(t)}var yxe,Exe,Txe,vxe,nZ,bxe,Rxe,iZ,oZ,cu,sZ,aZ=g(()=>{yxe="[object Object]",Exe="[object Null]",Txe="[object Undefined]",vxe=Function.prototype,nZ=vxe.toString,bxe=nZ.call(Object),Rxe=Object.getPrototypeOf,iZ=Object.prototype,oZ=iZ.hasOwnProperty,cu=Symbol?Symbol.toStringTag:void 0,sZ=iZ.toString;});function td(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=uZ(e,t.shift(),0,r);return e}function aI(t){return iE(t)?t.slice():t}function uZ(t,e,r=0,i){let n;if(!(r>Nxe)){if(r++,nE(t)||nE(e)||lZ(e))n=aI(e);else if(iE(t)){if(n=t.slice(),iE(e))for(let a=0,o=e.length;a<o;a++)n.push(aI(e[a]));else if(pm(e)){let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o];n[c]=aI(e[c]);}}}else if(pm(t))if(pm(e)){if(!Pxe(t,e))return e;n=Object.assign({},t);let a=Object.keys(e);for(let o=0,s=a.length;o<s;o++){let c=a[o],u=e[c];if(nE(u))typeof u>"u"?delete n[c]:n[c]=u;else {let l=n[c],d=u;if(cZ(t,c,i)||cZ(e,c,i))delete n[c];else {if(pm(l)&&pm(d)){let p=i.get(l)||[],f=i.get(d)||[];p.push({obj:t,key:c}),f.push({obj:e,key:c}),i.set(l,p),i.set(d,f);}n[c]=uZ(n[c],u,r,i);}}}}else n=e;return n}}function cZ(t,e,r){let i=r.get(t[e])||[];for(let n=0,a=i.length;n<a;n++){let o=i[n];if(o.key===e&&o.obj===t)return  true}return  false}function iE(t){return Array.isArray(t)}function lZ(t){return typeof t=="function"}function pm(t){return !nE(t)&&!iE(t)&&!lZ(t)&&typeof t=="object"}function nE(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function Pxe(t,e){return !(!sI(t)||!sI(e))}var Nxe,dZ=g(()=>{aZ();Nxe=20;});function rd(t,e){let r,i=new Promise(function(a,o){r=setTimeout(function(){o(new fm("Operation timed out."));},e);});return Promise.race([t,i]).then(n=>(clearTimeout(r),n),n=>{throw clearTimeout(r),n})}var fm,pZ=g(()=>{fm=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype);}};});function cI(t,e){return typeof e=="string"?t===e:!!t.match(e)}function fZ(t,e){if(!e)return  false;for(let r of e)if(cI(t,r))return  true;return  false}var hZ=g(()=>{});var oE,mZ=g(()=>{oE=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;});}get promise(){return this._promise}resolve(e){this._resolve(e);}reject(e){this._reject(e);}};});var nn,gZ=g(()=>{mZ();nn=class{_callback;_that;_isCalled=false;_deferred=new oE;constructor(e,r){this._callback=e,this._that=r;}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=true;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r));}catch(r){this._deferred.reject(r);}}return this._deferred.promise}};});function SZ(t){if(t==null)return;let e=_Z[t.toUpperCase()];return e??(E.warn(`Unknown log level "${t}", expected one of ${Object.keys(_Z)}, using default`),Ge.INFO)}var _Z,yZ=g(()=>{P();_Z={ALL:Ge.ALL,VERBOSE:Ge.VERBOSE,DEBUG:Ge.DEBUG,INFO:Ge.INFO,WARN:Ge.WARN,ERROR:Ge.ERROR,NONE:Ge.NONE};});function EZ(t,e){return new Promise(r=>{Te.with(qt(Te.active()),()=>{t.export(e,i=>{r(i);});});})}var TZ=g(()=>{P();Ch();});var Mn={};Pe(Mn,{AnchoredClock:()=>zy,BindOnceFuture:()=>nn,CompositePropagator:()=>tE,ExportResultCode:()=>Z,RPCType:()=>rE,SDK_INFO:()=>Xn,TRACE_PARENT_HEADER:()=>lm,TRACE_STATE_HEADER:()=>dm,TimeoutError:()=>fm,TraceState:()=>Ql,W3CBaggagePropagator:()=>$y,W3CTraceContextPropagator:()=>ed,_globalThis:()=>Hy,addHrTimes:()=>um,callWithTimeout:()=>rd,deleteRPCMetadata:()=>eZ,diagLogLevelFromString:()=>SZ,getBooleanFromEnv:()=>By,getNumberFromEnv:()=>He,getRPCMetadata:()=>tZ,getStringFromEnv:()=>Jt,getStringListFromEnv:()=>Fy,getTimeOrigin:()=>Zl,globalErrorHandler:()=>bt,hrTime:()=>sm,hrTimeDuration:()=>eE,hrTimeToMicroseconds:()=>Pr,hrTimeToMilliseconds:()=>Jn,hrTimeToNanoseconds:()=>Xl,hrTimeToTimeStamp:()=>FY,internal:()=>Is,isAttributeValue:()=>oo,isTimeInput:()=>cm,isTimeInputHrTime:()=>Jl,isTracingSuppressed:()=>Nr,isUrlIgnored:()=>fZ,loggingErrorHandler:()=>Vy,merge:()=>td,millisToHrTime:()=>gr,otperformance:()=>Yn,parseKeyPairsIntoRecord:()=>eu,parseTraceParent:()=>iI,sanitizeAttributes:()=>Pn,setGlobalErrorHandler:()=>cj,setRPCMetadata:()=>QY,suppressTracing:()=>qt,timeInputToHrTime:()=>am,unrefTimer:()=>po,unsuppressTracing:()=>JG,urlMatches:()=>cI});var Is,Q=g(()=>{nj();ij();sj();uj();VP();HY();GY();zP();tI();jY();JY();rZ();Ch();nI();dZ();pZ();hZ();gZ();yZ();TZ();Is={_export:EZ};});function nd(){return `unknown_service:${process.argv0}`}var vZ=g(()=>{});var bZ=g(()=>{vZ();});var uI=g(()=>{bZ();});var id,RZ=g(()=>{id=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";});function od(t,e){return sE.FromAttributeList(Object.entries(t),e)}function OZ(t,e){return new sE(t,e)}function uu(){return od({})}function fo(){return od({[xs]:nd(),[ba]:Xn[ba],[Ra]:Xn[Ra],[lo]:Xn[lo]})}function AZ(t){return t.map(([e,r])=>id(r)?[e,r.catch(i=>{E.debug("promise rejection for resource attribute: %s - %s",e,i);})]:[e,r])}function Ixe(t){if(typeof t=="string"||t===void 0)return t;E.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t);}function wxe(t,e){let r=t?.schemaUrl,i=e?.schemaUrl,n=r===void 0||r==="",a=i===void 0||i==="";if(n)return i;if(a||r===i)return r;E.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,i);}var sE,lI=g(()=>{P();Q();Ye();uI();RZ();sE=class t{_rawAttributes;_asyncAttributesPending=false;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,r){let i=new t({},r);return i._rawAttributes=AZ(e),i._asyncAttributesPending=e.filter(([n,a])=>id(a)).length>0,i}constructor(e,r){let i=e.attributes??{};this._rawAttributes=Object.entries(i).map(([n,a])=>(id(a)&&(this._asyncAttributesPending=true),[n,a])),this._rawAttributes=AZ(this._rawAttributes),this._schemaUrl=Ixe(r?.schemaUrl);}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,i]=this._rawAttributes[e];this._rawAttributes[e]=[r,id(i)?await i:i];}this._asyncAttributesPending=false;}}get attributes(){if(this.asyncAttributesPending&&E.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[r,i]of this._rawAttributes){if(id(i)){E.debug(`Unsettled resource attribute ${r} skipped`);continue}i!=null&&(e[r]??=i);}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=wxe(this,e),i=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],i)}};});var sd,xZ=g(()=>{P();lI();sd=(t={})=>(t.detectors||[]).map(r=>{try{let i=OZ(r.detect(t));return E.debug(`${r.constructor.name} found resource.`,i),i}catch(i){return E.debug(`${r.constructor.name} failed: ${i.message}`),uu()}}).reduce((r,i)=>r.merge(i),uu());});var dI,Aa,CZ=g(()=>{P();Ye();Q();dI=class{_MAX_LENGTH=255;_COMMA_SEPARATOR=",";_LABEL_KEY_VALUE_SPLITTER="=";_ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.";_ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters.";detect(e){let r={},i=Jt("OTEL_RESOURCE_ATTRIBUTES"),n=Jt("OTEL_SERVICE_NAME");if(i)try{let a=this._parseResourceAttributes(i);Object.assign(r,a);}catch(a){E.debug(`EnvDetector failed: ${a.message}`);}return n&&(r[xs]=n),{attributes:r}}_parseResourceAttributes(e){if(!e)return {};let r={},i=e.split(this._COMMA_SEPARATOR,-1);for(let n of i){let a=n.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[o,s]=a;if(o=o.trim(),s=s.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(s))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(s);}return r}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<33||i===44||i===59||i===92||i>126)return  false}return  true}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},Aa=new dI;});var NZ,PZ,IZ,wZ,MZ,LZ,DZ,kZ,UZ,$Z,zZ,VZ,BZ,FZ,HZ,hm=g(()=>{NZ="host.arch",PZ="host.id",IZ="host.name",wZ="os.type",MZ="os.version",LZ="process.command",DZ="process.command_args",kZ="process.executable.name",UZ="process.executable.path",$Z="process.owner",zZ="process.pid",VZ="process.runtime.description",BZ="process.runtime.name",FZ="process.runtime.version",HZ="service.instance.id";});var ad,aE=g(()=>{ad=jZ__namespace.promisify(GZ__namespace.exec);});var qZ={};Pe(qZ,{getMachineId:()=>Mxe});async function Mxe(){try{let e=(await ad('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(i=>i.includes("IOPlatformUUID"));if(!e)return;let r=e.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(t){E.debug(`error reading machine id: ${t}`);}}var WZ=g(()=>{aE();P();});var KZ={};Pe(KZ,{getMachineId:()=>Dxe});async function Dxe(){let t=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of t)try{return (await Zs.promises.readFile(e,{encoding:"utf8"})).trim()}catch(r){E.debug(`error reading machine id: ${r}`);}}var YZ=g(()=>{P();});var ZZ={};Pe(ZZ,{getMachineId:()=>Uxe});async function Uxe(){try{return (await Zs.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(t){E.debug(`error reading machine id: ${t}`);}try{return (await ad("kenv -q smbios.system.uuid")).stdout.trim()}catch(t){E.debug(`error reading machine id: ${t}`);}}var XZ=g(()=>{aE();P();});var JZ={};Pe(JZ,{getMachineId:()=>$xe});async function $xe(){let t="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";ra__namespace.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in ra__namespace.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let i=(await ad(`${e} ${t}`)).stdout.split("REG_SZ");if(i.length===2)return i[1].trim()}catch(r){E.debug(`error reading machine id: ${r}`);}}var QZ=g(()=>{aE();P();});var e8={};Pe(e8,{getMachineId:()=>zxe});async function zxe(){E.debug("could not read machine-id: unsupported platform");}var t8=g(()=>{P();});async function n8(){if(!lu)switch(ra__namespace.platform){case "darwin":lu=(await Promise.resolve().then(()=>(WZ(),qZ))).getMachineId;break;case "linux":lu=(await Promise.resolve().then(()=>(YZ(),KZ))).getMachineId;break;case "freebsd":lu=(await Promise.resolve().then(()=>(XZ(),ZZ))).getMachineId;break;case "win32":lu=(await Promise.resolve().then(()=>(QZ(),JZ))).getMachineId;break;default:lu=(await Promise.resolve().then(()=>(t8(),e8))).getMachineId;break}return lu()}var lu,i8=g(()=>{});var o8,s8,pI=g(()=>{o8=t=>{switch(t){case "arm":return "arm32";case "ppc":return "ppc32";case "x64":return "amd64";default:return t}},s8=t=>{switch(t){case "sunos":return "solaris";case "win32":return "windows";default:return t}};});var fI,Oa,a8=g(()=>{hm();i8();pI();fI=class{detect(e){return {attributes:{[IZ]:Qp.hostname(),[NZ]:o8(Qp.arch()),[PZ]:n8()}}}},Oa=new fI;});var hI,xa,c8=g(()=>{hm();pI();hI=class{detect(e){return {attributes:{[wZ]:s8(Qp.platform()),[MZ]:Qp.release()}}}},xa=new hI;});var mI,du,l8=g(()=>{P();hm();mI=class{detect(e){let r={[zZ]:process.pid,[kZ]:process.title,[UZ]:process.execPath,[DZ]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[FZ]:process.versions.node,[BZ]:"nodejs",[VZ]:"Node.js"};process.argv.length>1&&(r[LZ]=process.argv[1]);try{let i=Qp__namespace.userInfo();r[$Z]=i.username;}catch(i){E.debug(`error obtaining process owner: ${i}`);}return {attributes:r}}},du=new mI;});var gI,pu,d8=g(()=>{hm();gI=class{detect(e){return {attributes:{[HZ]:crypto$1.randomUUID()}}}},pu=new gI;});var p8=g(()=>{a8();c8();l8();d8();});var f8=g(()=>{p8();});var h8=g(()=>{CZ();f8();});var uE={};Pe(uE,{defaultResource:()=>fo,defaultServiceName:()=>nd,detectResources:()=>sd,emptyResource:()=>uu,envDetector:()=>Aa,hostDetector:()=>Oa,osDetector:()=>xa,processDetector:()=>du,resourceFromAttributes:()=>od,serviceInstanceIdDetector:()=>pu});var ho=g(()=>{xZ();h8();lI();uI();});var Qn,m8=g(()=>{(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TRACE=1]="TRACE",t[t.TRACE2=2]="TRACE2",t[t.TRACE3=3]="TRACE3",t[t.TRACE4=4]="TRACE4",t[t.DEBUG=5]="DEBUG",t[t.DEBUG2=6]="DEBUG2",t[t.DEBUG3=7]="DEBUG3",t[t.DEBUG4=8]="DEBUG4",t[t.INFO=9]="INFO",t[t.INFO2=10]="INFO2",t[t.INFO3=11]="INFO3",t[t.INFO4=12]="INFO4",t[t.WARN=13]="WARN",t[t.WARN2=14]="WARN2",t[t.WARN3=15]="WARN3",t[t.WARN4=16]="WARN4",t[t.ERROR=17]="ERROR",t[t.ERROR2=18]="ERROR2",t[t.ERROR3=19]="ERROR3",t[t.ERROR4=20]="ERROR4",t[t.FATAL=21]="FATAL",t[t.FATAL2=22]="FATAL2",t[t.FATAL3=23]="FATAL3",t[t.FATAL4=24]="FATAL4";})(Qn||(Qn={}));});var fu,cd,lE=g(()=>{fu=class{emit(e){}},cd=new fu;});var mm,ud,dE=g(()=>{lE();mm=class{getLogger(e,r,i){return new fu}},ud=new mm;});var ld,_I=g(()=>{lE();ld=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):cd}};});var hu,SI=g(()=>{dE();_I();hu=class{getLogger(e,r,i){var n;return (n=this._getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new ld(this,e,r,i)}_getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:ud}_setDelegate(e){this._delegate=e;}_getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};});var pE,g8=g(()=>{pE=typeof globalThis=="object"?globalThis:global;});var _8=g(()=>{g8();});var S8=g(()=>{_8();});function y8(t,e,r){return i=>i===t?e:r}var gm,dd,yI,E8=g(()=>{S8();gm=Symbol.for("io.opentelemetry.js.api.logs"),dd=pE;yI=1;});var fE,T8=g(()=>{E8();dE();SI();fE=class t{constructor(){this._proxyLoggerProvider=new hu;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return dd[gm]?this.getLoggerProvider():(dd[gm]=y8(yI,e,ud),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=dd[gm])===null||e===void 0?void 0:e.call(dd,yI))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete dd[gm],this._proxyLoggerProvider=new hu;}};});var gu={};Pe(gu,{NOOP_LOGGER:()=>cd,NOOP_LOGGER_PROVIDER:()=>ud,NoopLogger:()=>fu,NoopLoggerProvider:()=>mm,ProxyLogger:()=>ld,ProxyLoggerProvider:()=>hu,SeverityNumber:()=>Qn,logs:()=>mu});var mu,ei=g(()=>{m8();lE();dE();_I();SI();T8();mu=fE.getInstance();});var hE,v8=g(()=>{P();Q();hE=class{hrTime;hrTimeObserved;spanContext;resource;instrumentationScope;attributes={};_severityText;_severityNumber;_body;_eventName;totalAttributesCount=0;_isReadonly=false;_logRecordLimits;set severityText(e){this._isLogRecordReadonly()||(this._severityText=e);}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e);}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e);}get body(){return this._body}get eventName(){return this._eventName}set eventName(e){this._isLogRecordReadonly()||(this._eventName=e);}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}constructor(e,r,i){let{timestamp:n,observedTimestamp:a,eventName:o,severityNumber:s,severityText:c,body:u,attributes:l={},context:d}=i,p=Date.now();if(this.hrTime=am(n??p),this.hrTimeObserved=am(a??p),d){let f=ce.getSpanContext(d);f&&Cr(f)&&(this.spanContext=f);}this.severityNumber=s,this.severityText=c,this.body=u,this.resource=e.resource,this.instrumentationScope=r,this._logRecordLimits=e.logRecordLimits,this._eventName=o,this.setAttributes(l);}setAttribute(e,r){return this._isLogRecordReadonly()?this:r===null?this:e.length===0?(E.warn(`Invalid attribute key: ${e}`),this):!oo(r)&&!(typeof r=="object"&&!Array.isArray(r)&&Object.keys(r).length>0)?(E.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&E.warn("Dropping extra attributes."),this):(oo(r)?this.attributes[e]=this._truncateToSize(r):this.attributes[e]=r,this))}setAttributes(e){for(let[r,i]of Object.entries(e))this.setAttribute(r,i);return this}setBody(e){return this.body=e,this}setEventName(e){return this.eventName=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=true;}_truncateToSize(e){let r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(E.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,r):i):e}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_isLogRecordReadonly(){return this._isReadonly&&E.warn("Can not execute the operation on emitted log record"),this._isReadonly}};});var mE,b8=g(()=>{P();v8();mE=class{instrumentationScope;_sharedState;constructor(e,r){this.instrumentationScope=e,this._sharedState=r;}emit(e){let r=e.context||Te.active(),i=new hE(this._sharedState,this.instrumentationScope,{context:r,...e});this._sharedState.activeProcessor.onEmit(i,r),i._makeReadonly();}};});function R8(){return {forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:He("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:He("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??128},includeTraceContext:true}}function A8(t){return {attributeCountLimit:t.attributeCountLimit??He("OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT")??He("OTEL_ATTRIBUTE_COUNT_LIMIT")??128,attributeValueLengthLimit:t.attributeValueLengthLimit??He("OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT")??He("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0}}var O8=g(()=>{Q();});var pd,EI=g(()=>{pd=class{forceFlush(){return Promise.resolve()}onEmit(e,r){}shutdown(){return Promise.resolve()}};});var gE,x8=g(()=>{Q();gE=class{processors;forceFlushTimeoutMillis;constructor(e,r){this.processors=e,this.forceFlushTimeoutMillis=r;}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(r=>rd(r.forceFlush(),e)));}onEmit(e,r){this.processors.forEach(i=>i.onEmit(e,r));}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()));}};});var _E,C8=g(()=>{EI();x8();_E=class{resource;forceFlushTimeoutMillis;logRecordLimits;processors;loggers=new Map;activeProcessor;registeredLogRecordProcessors=[];constructor(e,r,i,n){this.resource=e,this.forceFlushTimeoutMillis=r,this.logRecordLimits=i,this.processors=n,n.length>0?(this.registeredLogRecordProcessors=n,this.activeProcessor=new gE(this.registeredLogRecordProcessors,this.forceFlushTimeoutMillis)):this.activeProcessor=new pd;}};});var jxe,SE,N8=g(()=>{P();ei();ho();Q();b8();O8();C8();jxe="unknown",SE=class{_shutdownOnce;_sharedState;constructor(e={}){let r=td({},R8(),e),i=e.resource??fo();this._sharedState=new _E(i,r.forceFlushTimeoutMillis,A8(r.logRecordLimits),e?.processors??[]),this._shutdownOnce=new nn(this._shutdown,this);}getLogger(e,r,i){if(this._shutdownOnce.isCalled)return E.warn("A shutdown LoggerProvider cannot provide a Logger"),cd;e||E.warn("Logger requested without instrumentation scope name.");let n=e||jxe,a=`${n}@${r||""}:${i?.schemaUrl||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new mE({name:n,version:r,schemaUrl:i?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}forceFlush(){return this._shutdownOnce.isCalled?(E.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(E.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}};});var yE,P8=g(()=>{Q();yE=class{export(e,r){this._sendLogRecords(e,r);}shutdown(){return Promise.resolve()}_exportInfo(e){return {resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,timestamp:Pr(e.hrTime),traceId:e.spanContext?.traceId,spanId:e.spanContext?.spanId,traceFlags:e.spanContext?.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,r){for(let i of e)console.dir(this._exportInfo(i),{depth:3});r?.({code:Z.SUCCESS});}};});var EE,I8=g(()=>{Q();EE=class{_exporter;_shutdownOnce;_unresolvedExports;constructor(e){this._exporter=e,this._shutdownOnce=new nn(this._shutdown,this),this._unresolvedExports=new Set;}onEmit(e){if(this._shutdownOnce.isCalled)return;let r=()=>Is._export(this._exporter,[e]).then(i=>{i.code!==Z.SUCCESS&&bt(i.error??new Error(`SimpleLogRecordProcessor: log record export failed (status ${i})`));}).catch(bt);if(e.resource.asyncAttributesPending){let i=e.resource.waitForAsyncAttributes?.().then(()=>(this._unresolvedExports.delete(i),r()),bt);i!=null&&this._unresolvedExports.add(i);}else r();}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports));}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};});var TE,w8=g(()=>{Q();TE=class{_finishedLogRecords=[];_stopped=false;export(e,r){if(this._stopped)return r({code:Z.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),r({code:Z.SUCCESS});}shutdown(){return this._stopped=true,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[];}};});var vE,M8=g(()=>{P();Q();vE=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_finishedLogRecords=[];_timer;_shutdownOnce;constructor(e,r){this._exporter=e,this._maxExportBatchSize=r?.maxExportBatchSize??He("OTEL_BLRP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=r?.maxQueueSize??He("OTEL_BLRP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=r?.scheduledDelayMillis??He("OTEL_BLRP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=r?.exportTimeoutMillis??He("OTEL_BLRP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new nn(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(E.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize);}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e);}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown();}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer());}_flushAll(){return new Promise((e,r)=>{let i=[],n=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<n;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e();}).catch(r);})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,r)=>{rd(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(r);})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer());}).catch(e=>{bt(e);});},this._scheduledDelayMillis),po(this._timer));}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0);}_export(e){let r=()=>Is._export(this._exporter,e).then(n=>{n.code!==Z.SUCCESS&&bt(n.error??new Error(`BatchLogRecordProcessor: log record export failed (status ${n})`));}).catch(bt),i=e.map(n=>n.resource).filter(n=>n.asyncAttributesPending);return i.length===0?r():Promise.all(i.map(n=>n.waitForAsyncAttributes?.())).then(r,bt)}};});var Ca,L8=g(()=>{M8();Ca=class extends vE{onShutdown(){}};});var D8=g(()=>{L8();});var k8=g(()=>{D8();});var TI={};Pe(TI,{BatchLogRecordProcessor:()=>Ca,ConsoleLogRecordExporter:()=>yE,InMemoryLogRecordExporter:()=>TE,LoggerProvider:()=>SE,NoopLogRecordProcessor:()=>pd,SimpleLogRecordProcessor:()=>EE});var bE=g(()=>{N8();EI();P8();I8();w8();k8();});var Rt,RE=g(()=>{(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE";})(Rt||(Rt={}));});var fe,At,Na=g(()=>{(function(t){t.COUNTER="COUNTER",t.GAUGE="GAUGE",t.HISTOGRAM="HISTOGRAM",t.UP_DOWN_COUNTER="UP_DOWN_COUNTER",t.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",t.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",t.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER";})(fe||(fe={}));(function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM";})(At||(At={}));});function U8(t){return t!=null}function AE(t){let e=Object.keys(t);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(r=>[r,t[r]])))}function $8(t){return `${t.name}:${t.version??""}:${t.schemaUrl??""}`}function Pa(t,e){let r,i=new Promise(function(a,o){r=setTimeout(function(){o(new _u("Operation timed out."));},e);});return Promise.race([t,i]).then(n=>(clearTimeout(r),n),n=>{throw clearTimeout(r),n})}async function z8(t){return Promise.all(t.map(async e=>{try{return {status:"fulfilled",value:await e}}catch(r){return {status:"rejected",reason:r}}}))}function V8(t){return t.status==="rejected"}function vI(t,e){let r=[];return t.forEach(i=>{r.push(...e(i));}),r}function B8(t,e){if(t.size!==e.size)return  false;for(let r of t)if(!e.has(r))return  false;return  true}function F8(t,e){let r=0,i=t.length-1,n=t.length;for(;i>=r;){let a=r+Math.trunc((i-r)/2);t[a]<e?r=a+1:(n=a,i=a-1);}return n}function H8(t,e){return t.toLowerCase()===e.toLowerCase()}var _u,Ii=g(()=>{_u=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype);}};});var ti,fd=g(()=>{(function(t){t[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM";})(ti||(ti={}));});var _m,G8=g(()=>{fd();_m=class{kind=ti.DROP;createAccumulation(){}merge(e,r){}diff(e,r){}toMetricData(e,r,i,n){}};});function qxe(t){let e=t.map(()=>0);return e.push(0),{buckets:{boundaries:t,counts:e},sum:0,count:0,hasMinMax:false,min:1/0,max:-1/0}}var hd,md,j8=g(()=>{fd();Na();Ii();hd=class{startTime;_boundaries;_recordMinMax;_current;constructor(e,r,i=true,n=qxe(r)){this.startTime=e,this._boundaries=r,this._recordMinMax=i,this._current=n;}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=true);let r=F8(this._boundaries,e);this._current.buckets.counts[r]+=1;}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},md=class{_boundaries;_recordMinMax;kind=ti.HISTOGRAM;constructor(e,r){this._boundaries=e,this._recordMinMax=r;}createAccumulation(e){return new hd(e,this._boundaries,this._recordMinMax)}merge(e,r){let i=e.toPointValue(),n=r.toPointValue(),a=i.buckets.counts,o=n.buckets.counts,s=new Array(a.length);for(let l=0;l<a.length;l++)s[l]=a[l]+o[l];let c=1/0,u=-1/0;return this._recordMinMax&&(i.hasMinMax&&n.hasMinMax?(c=Math.min(i.min,n.min),u=Math.max(i.max,n.max)):i.hasMinMax?(c=i.min,u=i.max):n.hasMinMax&&(c=n.min,u=n.max)),new hd(e.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:s},count:i.count+n.count,sum:i.sum+n.sum,hasMinMax:this._recordMinMax&&(i.hasMinMax||n.hasMinMax),min:c,max:u})}diff(e,r){let i=e.toPointValue(),n=r.toPointValue(),a=i.buckets.counts,o=n.buckets.counts,s=new Array(a.length);for(let c=0;c<a.length;c++)s[c]=o[c]-a[c];return new hd(r.startTime,i.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:i.buckets.boundaries,counts:s},count:n.count-i.count,sum:n.sum-i.sum,hasMinMax:false,min:1/0,max:-1/0})}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:At.HISTOGRAM,dataPoints:i.map(([a,o])=>{let s=o.toPointValue(),c=e.type===fe.GAUGE||e.type===fe.UP_DOWN_COUNTER||e.type===fe.OBSERVABLE_GAUGE||e.type===fe.OBSERVABLE_UP_DOWN_COUNTER;return {attributes:a,startTime:o.startTime,endTime:n,value:{min:s.hasMinMax?s.min:void 0,max:s.hasMinMax?s.max:void 0,sum:c?void 0:s.sum,buckets:s.buckets,count:s.count}}})}}};});var Sm,bI,q8=g(()=>{Sm=class t{backing;indexBase;indexStart;indexEnd;constructor(e=new bI,r=0,i=0,n=0){this.backing=e,this.indexBase=r,this.indexStart=i,this.indexEnd=n;}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,r)=>this.at(r))}at(e){let r=this.indexBase-this.indexStart;return e<r&&(e+=this.backing.length),e-=r,this.backing.countAt(e)}incrementBucket(e,r){this.backing.increment(e,r);}decrementBucket(e,r){this.backing.decrement(e,r);}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate();}downscale(e){this._rotate();let r=1+this.indexEnd-this.indexStart,i=1<<e,n=0,a=0;for(let o=this.indexStart;o<=this.indexEnd;){let s=o%i;s<0&&(s+=i);for(let c=s;c<i&&n<r;c++)this._relocateBucket(a,n),n++,o++;a++;}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart;}clone(){return new t(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart);}_relocateBucket(e,r){e!==r&&this.incrementBucket(e,this.backing.emptyBucket(r));}},bI=class t{_counts;constructor(e=[0]){this._counts=e;}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,r,i){let n=new Array(e).fill(0);n.splice(i,this._counts.length-r,...this._counts.slice(r)),n.splice(0,r,...this._counts.slice(0,r)),this._counts=n;}reverse(e,r){let i=Math.floor((e+r)/2)-e;for(let n=0;n<i;n++){let a=this._counts[e+n];this._counts[e+n]=this._counts[r-n-1],this._counts[r-n-1]=a;}}emptyBucket(e){let r=this._counts[e];return this._counts[e]=0,r}increment(e,r){this._counts[e]+=r;}decrement(e,r){this._counts[e]>=r?this._counts[e]-=r:this._counts[e]=0;}clone(){return new t([...this._counts])}};});function OE(t){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t),((e.getUint32(0)&2146435072)>>20)-1023}function xE(t){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);let r=e.getUint32(0),i=e.getUint32(4);return (r&1048575)*Math.pow(2,32)+i}var ym,RI=g(()=>{ym=Math.pow(2,-1022);});function Em(t,e){return t===0||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t)?t:t*Math.pow(2,e)}function K8(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}var CE=g(()=>{});var mo,NE=g(()=>{mo=class extends Error{};});var PE,Z8=g(()=>{RI();CE();NE();PE=class{_shift;constructor(e){this._shift=-e;}mapToIndex(e){if(e<ym)return this._minNormalLowerBoundaryIndex();let r=OE(e),i=this._rightShift(xE(e)-1,52);return r+i>>this._shift}lowerBoundary(e){let r=this._minNormalLowerBoundaryIndex();if(e<r)throw new mo(`underflow: ${e} is < minimum lower boundary: ${r}`);let i=this._maxNormalLowerBoundaryIndex();if(e>i)throw new mo(`overflow: ${e} is > maximum lower boundary: ${i}`);return Em(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,r){return Math.floor(e*Math.pow(2,-r))}};});var IE,X8=g(()=>{RI();CE();NE();IE=class{_scale;_scaleFactor;_inverseFactor;constructor(e){this._scale=e,this._scaleFactor=Em(Math.LOG2E,e),this._inverseFactor=Em(Math.LN2,-e);}mapToIndex(e){if(e<=ym)return this._minNormalLowerBoundaryIndex()-1;if(xE(e)===0)return (OE(e)<<this._scale)-1;let r=Math.floor(Math.log(e)*this._scaleFactor),i=this._maxNormalLowerBoundaryIndex();return r>=i?i:r}lowerBoundary(e){let r=this._maxNormalLowerBoundaryIndex();if(e>=r){if(e===r)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new mo(`overflow: ${e} is > maximum lower boundary: ${r}`)}let i=this._minNormalLowerBoundaryIndex();if(e<=i){if(e===i)return ym;if(e===i-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new mo(`overflow: ${e} is < minimum lower boundary: ${i}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return  -1022<<this._scale}_maxNormalLowerBoundaryIndex(){return (1024<<this._scale)-1}};});function xI(t){if(t>Q8||t<J8)throw new mo(`expected scale >= ${J8} && <= ${Q8}, got: ${t}`);return Kxe[t+10]}var J8,Q8,Kxe,e5=g(()=>{Z8();X8();NE();J8=-10,Q8=20,Kxe=Array.from({length:31},(t,e)=>e>10?new IE(e-10):new PE(e-10));});var gd,Yxe,Zxe,CI,wE,Tm,t5=g(()=>{fd();Na();P();q8();e5();CE();gd=class t{low;high;static combine(e,r){return new t(Math.min(e.low,r.low),Math.max(e.high,r.high))}constructor(e,r){this.low=e,this.high=r;}},Yxe=20,Zxe=160,CI=2,wE=class t{startTime;_maxSize;_recordMinMax;_sum;_count;_zeroCount;_min;_max;_positive;_negative;_mapping;constructor(e,r=Zxe,i=true,n=0,a=0,o=0,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,u=new Sm,l=new Sm,d=xI(Yxe)){this.startTime=e,this._maxSize=r,this._recordMinMax=i,this._sum=n,this._count=a,this._zeroCount=o,this._min=s,this._max=c,this._positive=u,this._negative=l,this._mapping=d,this._maxSize<CI&&(E.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${CI}`),this._maxSize=CI);}record(e){this.updateByIncrement(e,1);}setStartTime(e){this.startTime=e;}toPointValue(){return {hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,r){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=r,e===0){this._zeroCount+=r;return}this._sum+=e*r,e>0?this._updateBuckets(this._positive,e,r):this._updateBuckets(this._negative,-e,r);}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._mergeBuckets(this.positive,e,e.positive,r),this._mergeBuckets(this.negative,e,e.negative,r);}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._diffBuckets(this.positive,e,e.positive,r),this._diffBuckets(this.negative,e,e.negative,r);}clone(){return new t(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,r,i){let n=this._mapping.mapToIndex(r),a=false,o=0,s=0;if(e.length===0?(e.indexStart=n,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):n<e.indexStart&&e.indexEnd-n>=this._maxSize?(a=true,s=n,o=e.indexEnd):n>e.indexEnd&&n-e.indexStart>=this._maxSize&&(a=true,s=e.indexStart,o=n),a){let c=this._changeScale(o,s);this._downscale(c),n=this._mapping.mapToIndex(r);}this._incrementIndexBy(e,n,i);}_incrementIndexBy(e,r,i){if(i===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=r),r<e.indexStart){let a=e.indexEnd-r;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=r;}else if(r>e.indexEnd){let a=r-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=r;}let n=r-e.indexBase;n<0&&(n+=e.backing.length),e.incrementBucket(n,i);}_grow(e,r){let i=e.backing.length,n=e.indexBase-e.indexStart,a=i-n,o=K8(r);o>this._maxSize&&(o=this._maxSize);let s=o-n;e.backing.growTo(o,a,s);}_changeScale(e,r){let i=0;for(;e-r>=this._maxSize;)e>>=1,r>>=1,i++;return i}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let r=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=xI(r);}_minScale(e){let r=Math.min(this.scale,e.scale),i=gd.combine(this._highLowAtScale(this.positive,this.scale,r),this._highLowAtScale(e.positive,e.scale,r)),n=gd.combine(this._highLowAtScale(this.negative,this.scale,r),this._highLowAtScale(e.negative,e.scale,r));return Math.min(r-this._changeScale(i.high,i.low),r-this._changeScale(n.high,n.low))}_highLowAtScale(e,r,i){if(e.length===0)return new gd(0,-1);let n=r-i;return new gd(e.indexStart>>n,e.indexEnd>>n)}_mergeBuckets(e,r,i,n){let a=i.offset,o=r.scale-n;for(let s=0;s<i.length;s++)this._incrementIndexBy(e,a+s>>o,i.at(s));}_diffBuckets(e,r,i,n){let a=i.offset,o=r.scale-n;for(let s=0;s<i.length;s++){let u=(a+s>>o)-e.indexBase;u<0&&(u+=e.backing.length),e.decrementBucket(u,i.at(s));}e.trim();}},Tm=class{_maxSize;_recordMinMax;kind=ti.EXPONENTIAL_HISTOGRAM;constructor(e,r){this._maxSize=e,this._recordMinMax=r;}createAccumulation(e){return new wE(e,this._maxSize,this._recordMinMax)}merge(e,r){let i=r.clone();return i.merge(e),i}diff(e,r){let i=r.clone();return i.diff(e),i}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:At.EXPONENTIAL_HISTOGRAM,dataPoints:i.map(([a,o])=>{let s=o.toPointValue(),c=e.type===fe.GAUGE||e.type===fe.UP_DOWN_COUNTER||e.type===fe.OBSERVABLE_GAUGE||e.type===fe.OBSERVABLE_UP_DOWN_COUNTER;return {attributes:a,startTime:o.startTime,endTime:n,value:{min:s.hasMinMax?s.min:void 0,max:s.hasMinMax?s.max:void 0,sum:c?void 0:s.sum,positive:{offset:s.positive.offset,bucketCounts:s.positive.bucketCounts},negative:{offset:s.negative.offset,bucketCounts:s.negative.bucketCounts},count:s.count,scale:s.scale,zeroCount:s.zeroCount}}})}}};});var _d,vm,r5=g(()=>{fd();Q();Na();_d=class{startTime;_current;sampleTime;constructor(e,r=0,i=[0,0]){this.startTime=e,this._current=r,this.sampleTime=i;}record(e){this._current=e,this.sampleTime=gr(Date.now());}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},vm=class{kind=ti.LAST_VALUE;createAccumulation(e){return new _d(e)}merge(e,r){let i=Pr(r.sampleTime)>=Pr(e.sampleTime)?r:e;return new _d(e.startTime,i.toPointValue(),i.sampleTime)}diff(e,r){let i=Pr(r.sampleTime)>=Pr(e.sampleTime)?r:e;return new _d(r.startTime,i.toPointValue(),i.sampleTime)}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:At.GAUGE,dataPoints:i.map(([a,o])=>({attributes:a,startTime:o.startTime,endTime:n,value:o.toPointValue()}))}}};});var Ia,Sd,n5=g(()=>{fd();Na();Ia=class{startTime;monotonic;_current;reset;constructor(e,r,i=0,n=false){this.startTime=e,this.monotonic=r,this._current=i,this.reset=n;}record(e){this.monotonic&&e<0||(this._current+=e);}setStartTime(e){this.startTime=e;}toPointValue(){return this._current}},Sd=class{monotonic;kind=ti.SUM;constructor(e){this.monotonic=e;}createAccumulation(e){return new Ia(e,this.monotonic)}merge(e,r){let i=e.toPointValue(),n=r.toPointValue();return r.reset?new Ia(r.startTime,this.monotonic,n,r.reset):new Ia(e.startTime,this.monotonic,i+n)}diff(e,r){let i=e.toPointValue(),n=r.toPointValue();return this.monotonic&&i>n?new Ia(r.startTime,this.monotonic,n,true):new Ia(r.startTime,this.monotonic,n-i)}toMetricData(e,r,i,n){return {descriptor:e,aggregationTemporality:r,dataPointType:At.SUM,dataPoints:i.map(([a,o])=>({attributes:a,startTime:o.startTime,endTime:n,value:o.toPointValue()})),isMonotonic:this.monotonic}}};});var i5=g(()=>{G8();j8();t5();r5();n5();});var NI,PI,II,wI,bm,Rm,MI,LI,DI,kI,UI,o5,s5=g(()=>{P();i5();Na();NI=class t{static DEFAULT_INSTANCE=new _m;createAggregator(e){return t.DEFAULT_INSTANCE}},PI=class t{static MONOTONIC_INSTANCE=new Sd(true);static NON_MONOTONIC_INSTANCE=new Sd(false);createAggregator(e){switch(e.type){case fe.COUNTER:case fe.OBSERVABLE_COUNTER:case fe.HISTOGRAM:return t.MONOTONIC_INSTANCE;default:return t.NON_MONOTONIC_INSTANCE}}},II=class t{static DEFAULT_INSTANCE=new vm;createAggregator(e){return t.DEFAULT_INSTANCE}},wI=class t{static DEFAULT_INSTANCE=new md([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],true);createAggregator(e){return t.DEFAULT_INSTANCE}},bm=class{_recordMinMax;_boundaries;constructor(e,r=true){if(this._recordMinMax=r,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,o)=>a-o);let i=e.lastIndexOf(-1/0),n=e.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=e.slice(i+1,n);}createAggregator(e){return new md(this._boundaries,this._recordMinMax)}},Rm=class{_maxSize;_recordMinMax;constructor(e=160,r=true){this._maxSize=e,this._recordMinMax=r;}createAggregator(e){return new Tm(this._maxSize,this._recordMinMax)}},MI=class{_resolve(e){switch(e.type){case fe.COUNTER:case fe.UP_DOWN_COUNTER:case fe.OBSERVABLE_COUNTER:case fe.OBSERVABLE_UP_DOWN_COUNTER:return DI;case fe.GAUGE:case fe.OBSERVABLE_GAUGE:return kI;case fe.HISTOGRAM:return e.advice.explicitBucketBoundaries?new bm(e.advice.explicitBucketBoundaries):UI}return E.warn(`Unable to recognize instrument type: ${e.type}`),LI}createAggregator(e){return this._resolve(e).createAggregator(e)}},LI=new NI,DI=new PI,kI=new II,UI=new wI,new Rm,o5=new MI;});function ME(t){switch(t.type){case Ir.DEFAULT:return o5;case Ir.DROP:return LI;case Ir.SUM:return DI;case Ir.LAST_VALUE:return kI;case Ir.EXPONENTIAL_HISTOGRAM:{let e=t;return new Rm(e.options?.maxSize,e.options?.recordMinMax)}case Ir.EXPLICIT_BUCKET_HISTOGRAM:{let e=t;return e.options==null?UI:new bm(e.options?.boundaries,e.options?.recordMinMax)}default:throw new Error("Unsupported Aggregation")}}var Ir,Am=g(()=>{s5();(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.DROP=1]="DROP",t[t.SUM=2]="SUM",t[t.LAST_VALUE=3]="LAST_VALUE",t[t.EXPLICIT_BUCKET_HISTOGRAM=4]="EXPLICIT_BUCKET_HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=5]="EXPONENTIAL_HISTOGRAM";})(Ir||(Ir={}));});var a5,LE,$I=g(()=>{RE();Am();a5=t=>({type:Ir.DEFAULT}),LE=t=>Rt.CUMULATIVE;});var yd,zI=g(()=>{P();Ii();$I();yd=class{_shutdown=false;_metricProducers;_sdkMetricProducer;_aggregationTemporalitySelector;_aggregationSelector;_cardinalitySelector;constructor(e){this._aggregationSelector=e?.aggregationSelector??a5,this._aggregationTemporalitySelector=e?.aggregationTemporalitySelector??LE,this._metricProducers=e?.metricProducers??[],this._cardinalitySelector=e?.cardinalitySelector;}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized();}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[r,...i]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e?.timeoutMillis}),...this._metricProducers.map(s=>s.collect({timeoutMillis:e?.timeoutMillis}))]),n=r.errors.concat(vI(i,s=>s.errors)),a=r.resourceMetrics.resource,o=r.resourceMetrics.scopeMetrics.concat(vI(i,s=>s.resourceMetrics.scopeMetrics));return {resourceMetrics:{resource:a,scopeMetrics:o},errors:n}}async shutdown(e){if(this._shutdown){E.error("Cannot call shutdown twice.");return}e?.timeoutMillis==null?await this.onShutdown():await Pa(this.onShutdown(),e.timeoutMillis),this._shutdown=true;}async forceFlush(e){if(this._shutdown){E.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(e?.timeoutMillis==null){await this.onForceFlush();return}await Pa(this.onForceFlush(),e.timeoutMillis);}};});var nr,c5=g(()=>{P();Q();zI();Ii();nr=class extends yd{_interval;_exporter;_exportInterval;_exportTimeout;constructor(e){if(super({aggregationSelector:e.exporter.selectAggregation?.bind(e.exporter),aggregationTemporalitySelector:e.exporter.selectAggregationTemporality?.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=e.exportIntervalMillis??6e4,this._exportTimeout=e.exportTimeoutMillis??3e4,this._exporter=e.exporter;}async _runOnce(){try{await Pa(this._doRun(),this._exportTimeout);}catch(e){if(e instanceof _u){E.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}bt(e);}}async _doRun(){let{resourceMetrics:e,errors:r}=await this.collect({timeoutMillis:this._exportTimeout});if(r.length>0&&E.error("PeriodicExportingMetricReader: metrics collection errors",...r),e.resource.asyncAttributesPending)try{await e.resource.waitForAsyncAttributes?.();}catch(n){E.debug("Error while resolving async portion of resource: ",n),bt(n);}if(e.scopeMetrics.length===0)return;let i=await Is._export(this._exporter,e);if(i.code!==Z.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${i.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce();},this._exportInterval),po(this._interval);}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush();}async onShutdown(){this._interval&&clearInterval(this._interval),await this.onForceFlush(),await this._exporter.shutdown();}};});var DE,u5=g(()=>{Q();DE=class{_shutdown=false;_aggregationTemporality;_metrics=[];constructor(e){this._aggregationTemporality=e;}export(e,r){if(this._shutdown){setTimeout(()=>r({code:Z.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>r({code:Z.SUCCESS}),0);}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[];}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=true,Promise.resolve()}};});var kE,l5=g(()=>{Q();$I();kE=class t{_shutdown=false;_temporalitySelector;constructor(e){this._temporalitySelector=e?.temporalitySelector??LE;}export(e,r){if(this._shutdown){setImmediate(r,{code:Z.FAILED});return}return t._sendMetrics(e,r)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=true,Promise.resolve()}static _sendMetrics(e,r){for(let i of e.scopeMetrics)for(let n of i.metrics)console.dir({descriptor:n.descriptor,dataPointType:n.dataPointType,dataPoints:n.dataPoints},{depth:null});r({code:Z.SUCCESS});}};});var UE,d5=g(()=>{UE=class{_registeredViews=[];addView(e){this._registeredViews.push(e);}findViews(e,r){return this._registeredViews.filter(n=>this._matchInstrument(n.instrumentSelector,e)&&this._matchMeter(n.meterSelector,r))}_matchInstrument(e,r){return (e.getType()===void 0||r.type===e.getType())&&e.getNameFilter().match(r.name)&&e.getUnitFilter().match(r.unit)}_matchMeter(e,r){return e.getNameFilter().match(r.name)&&(r.version===void 0||e.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||e.getSchemaUrlFilter().match(r.schemaUrl))}};});function go(t,e,r){return Jxe(t)||E.warn(`Invalid metric name: "${t}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:t,type:e,description:r?.description??"",unit:r?.unit??"",valueType:r?.valueType??$e.DOUBLE,advice:r?.advice??{}}}function p5(t,e){return {name:t.name??e.name,description:t.description??e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function f5(t,e){return H8(t.name,e.name)&&t.unit===e.unit&&t.type===e.type&&t.valueType===e.valueType}function Jxe(t){return t.match(Xxe)!=null}var Xxe,Om=g(()=>{P();Ii();Xxe=/^[a-z][a-z0-9_.\-/]{0,254}$/i;});function xm(t){return t instanceof Td}var Ed,$E,zE,VE,BE,Td,FE,HE,GE,jE=g(()=>{P();Q();Ed=class{_writableMetricStorage;_descriptor;constructor(e,r){this._writableMetricStorage=e,this._descriptor=r;}_record(e,r={},i=Te.active()){if(typeof e!="number"){E.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===$e.INT&&!Number.isInteger(e)&&(E.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,r,i,gr(Date.now()));}},$E=class extends Ed{add(e,r,i){this._record(e,r,i);}},zE=class extends Ed{add(e,r,i){if(e<0){E.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,r,i);}},VE=class extends Ed{record(e,r,i){this._record(e,r,i);}},BE=class extends Ed{record(e,r,i){if(e<0){E.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,r,i);}},Td=class{_observableRegistry;_metricStorages;_descriptor;constructor(e,r,i){this._observableRegistry=i,this._descriptor=e,this._metricStorages=r;}addCallback(e){this._observableRegistry.addCallback(e,this);}removeCallback(e){this._observableRegistry.removeCallback(e,this);}},FE=class extends Td{},HE=class extends Td{},GE=class extends Td{};});var qE,h5=g(()=>{Om();jE();Na();qE=class{_meterSharedState;constructor(e){this._meterSharedState=e;}createGauge(e,r){let i=go(e,fe.GAUGE,r),n=this._meterSharedState.registerMetricStorage(i);return new VE(n,i)}createHistogram(e,r){let i=go(e,fe.HISTOGRAM,r),n=this._meterSharedState.registerMetricStorage(i);return new BE(n,i)}createCounter(e,r){let i=go(e,fe.COUNTER,r),n=this._meterSharedState.registerMetricStorage(i);return new zE(n,i)}createUpDownCounter(e,r){let i=go(e,fe.UP_DOWN_COUNTER,r),n=this._meterSharedState.registerMetricStorage(i);return new $E(n,i)}createObservableGauge(e,r){let i=go(e,fe.OBSERVABLE_GAUGE,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new HE(i,n,this._meterSharedState.observableRegistry)}createObservableCounter(e,r){let i=go(e,fe.OBSERVABLE_COUNTER,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new FE(i,n,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,r){let i=go(e,fe.OBSERVABLE_UP_DOWN_COUNTER,r),n=this._meterSharedState.registerAsyncMetricStorage(i);return new GE(i,n,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.addBatchCallback(e,r);}removeBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.removeBatchCallback(e,r);}};});var vd,VI=g(()=>{Om();vd=class{_instrumentDescriptor;constructor(e){this._instrumentDescriptor=e;}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=go(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice});}};});var BI,Ln,Cm=g(()=>{Ii();BI=class{_hash;_valueMap=new Map;_keyMap=new Map;constructor(e){this._hash=e;}get(e,r){return r??=this._hash(e),this._valueMap.get(r)}getOrDefault(e,r){let i=this._hash(e);if(this._valueMap.has(i))return this._valueMap.get(i);let n=r();return this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,n),n}set(e,r,i){i??=this._hash(e),this._keyMap.has(i)||this._keyMap.set(i,e),this._valueMap.set(i,r);}has(e,r){return r??=this._hash(e),this._valueMap.has(r)}*keys(){let e=this._keyMap.entries(),r=e.next();for(;r.done!==true;)yield [r.value[1],r.value[0]],r=e.next();}*entries(){let e=this._valueMap.entries(),r=e.next();for(;r.done!==true;)yield [this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=e.next();}get size(){return this._valueMap.size}},Ln=class extends BI{constructor(){super(AE);}};});var bd,FI=g(()=>{Ii();Cm();bd=class{_aggregator;_activeCollectionStorage=new Ln;_cumulativeMemoStorage=new Ln;_cardinalityLimit;_overflowAttributes={"otel.metric.overflow":true};_overflowHashCode;constructor(e,r){this._aggregator=e,this._cardinalityLimit=(r??2e3)-1,this._overflowHashCode=AE(this._overflowAttributes);}record(e,r,i,n){let a=this._activeCollectionStorage.get(r);if(!a){if(this._activeCollectionStorage.size>=this._cardinalityLimit){this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(n))?.record(e);return}a=this._aggregator.createAccumulation(n),this._activeCollectionStorage.set(r,a);}a?.record(e);}batchCumulate(e,r){Array.from(e.entries()).forEach(([i,n,a])=>{let o=this._aggregator.createAccumulation(r);o?.record(n);let s=o;if(this._cumulativeMemoStorage.has(i,a)){let c=this._cumulativeMemoStorage.get(i,a);s=this._aggregator.diff(c,o);}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit&&(i=this._overflowAttributes,a=this._overflowHashCode,this._cumulativeMemoStorage.has(i,a))){let c=this._cumulativeMemoStorage.get(i,a);s=this._aggregator.diff(c,o);}if(this._activeCollectionStorage.has(i,a)){let c=this._activeCollectionStorage.get(i,a);s=this._aggregator.merge(c,s);}this._cumulativeMemoStorage.set(i,o,a),this._activeCollectionStorage.set(i,s,a);});}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new Ln,e}};});function Qxe(t){return Array.from(t.entries())}var Rd,HI=g(()=>{RE();Cm();Rd=class t{_aggregator;_unreportedAccumulations=new Map;_reportHistory=new Map;constructor(e,r){this._aggregator=e,r.forEach(i=>{this._unreportedAccumulations.set(i,[]);});}buildMetrics(e,r,i,n){this._stashAccumulations(i);let a=this._getMergedUnreportedAccumulations(e),o=a,s;if(this._reportHistory.has(e)){let u=this._reportHistory.get(e),l=u.collectionTime;s=u.aggregationTemporality,s===Rt.CUMULATIVE?o=t.merge(u.accumulations,a,this._aggregator):o=t.calibrateStartTime(u.accumulations,a,l);}else s=e.selectAggregationTemporality(r.type);this._reportHistory.set(e,{accumulations:o,collectionTime:n,aggregationTemporality:s});let c=Qxe(o);if(c.length!==0)return this._aggregator.toMetricData(r,s,c,n)}_stashAccumulations(e){let r=this._unreportedAccumulations.keys();for(let i of r){let n=this._unreportedAccumulations.get(i);n===void 0&&(n=[],this._unreportedAccumulations.set(i,n)),n.push(e);}}_getMergedUnreportedAccumulations(e){let r=new Ln,i=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),i===void 0)return r;for(let n of i)r=t.merge(r,n,this._aggregator);return r}static merge(e,r,i){let n=e,a=r.entries(),o=a.next();for(;o.done!==true;){let[s,c,u]=o.value;if(e.has(s,u)){let l=e.get(s,u),d=i.merge(l,c);n.set(s,d,u);}else n.set(s,c,u);o=a.next();}return n}static calibrateStartTime(e,r,i){for(let[n,a]of e.keys())r.get(n,a)?.setStartTime(i);return r}};});var WE,m5=g(()=>{VI();FI();HI();Cm();WE=class extends vd{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(e,r,i,n,a){super(e),this._attributesProcessor=i,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new bd(r,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Rd(r,n);}record(e,r){let i=new Ln;Array.from(e.entries()).forEach(([n,a])=>{i.set(this._attributesProcessor.process(n),a);}),this._deltaMetricStorage.batchCumulate(i,r);}collect(e,r){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,r)}};});function GI(t,e){let r="";return t.unit!==e.unit&&(r+=`	- Unit '${t.unit}' does not match '${e.unit}'
`),t.type!==e.type&&(r+=`	- Type '${t.type}' does not match '${e.type}'
`),t.valueType!==e.valueType&&(r+=`	- Value Type '${t.valueType}' does not match '${e.valueType}'
`),t.description!==e.description&&(r+=`	- Description '${t.description}' does not match '${e.description}'
`),r}function eCe(t,e){return `	- use valueType '${t.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function tCe(t,e){return `	- use unit '${t.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function rCe(t,e){let r={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(r);return `	- create a new view with a name other than '${t.name}' and InstrumentSelector '${i}'`}function nCe(t,e){let r={name:e.name,type:e.type,unit:e.unit},i=JSON.stringify(r);return `	- create a new view with a name other than '${t.name}' and InstrumentSelector '${i}'
    	- OR - create a new view with the name ${t.name} and description '${t.description}' and InstrumentSelector ${i}
    	- OR - create a new view with the name ${e.name} and description '${t.description}' and InstrumentSelector ${i}`}function jI(t,e){return t.valueType!==e.valueType?eCe(t,e):t.unit!==e.unit?tCe(t,e):t.type!==e.type?rCe(t,e):t.description!==e.description?nCe(t,e):""}var g5=g(()=>{});var KE,_5=g(()=>{Om();P();g5();KE=class t{_sharedRegistry=new Map;_perCollectorRegistry=new Map;static create(){return new t}getStorages(e){let r=[];for(let n of this._sharedRegistry.values())r=r.concat(n);let i=this._perCollectorRegistry.get(e);if(i!=null)for(let n of i.values())r=r.concat(n);return r}register(e){this._registerStorage(e,this._sharedRegistry);}registerForCollector(e,r){let i=this._perCollectorRegistry.get(e);i==null&&(i=new Map,this._perCollectorRegistry.set(e,i)),this._registerStorage(r,i);}findOrUpdateCompatibleStorage(e){let r=this._sharedRegistry.get(e.name);return r===void 0?null:this._findOrUpdateCompatibleStorage(e,r)}findOrUpdateCompatibleCollectorStorage(e,r){let i=this._perCollectorRegistry.get(e);if(i===void 0)return null;let n=i.get(r.name);return n===void 0?null:this._findOrUpdateCompatibleStorage(r,n)}_registerStorage(e,r){let i=e.getInstrumentDescriptor(),n=r.get(i.name);if(n===void 0){r.set(i.name,[e]);return}n.push(e);}_findOrUpdateCompatibleStorage(e,r){let i=null;for(let n of r){let a=n.getInstrumentDescriptor();f5(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&n.updateDescription(e.description),E.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,GI(a,e),`The longer description will be used.
To resolve the conflict:`,jI(a,e))),i=n):E.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,GI(a,e),`To resolve the conflict:
`,jI(a,e));}return i}};});var YE,S5=g(()=>{YE=class{_backingStorages;constructor(e){this._backingStorages=e;}record(e,r,i,n){this._backingStorages.forEach(a=>{a.record(e,r,i,n);});}};});var ZE,XE,y5=g(()=>{P();Cm();jE();ZE=class{_instrumentName;_valueType;_buffer=new Ln;constructor(e,r){this._instrumentName=e,this._valueType=r;}observe(e,r={}){if(typeof e!="number"){E.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===$e.INT&&!Number.isInteger(e)&&(E.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(r,e);}},XE=class{_buffer=new Map;observe(e,r,i={}){if(!xm(e))return;let n=this._buffer.get(e);if(n==null&&(n=new Ln,this._buffer.set(e,n)),typeof r!="number"){E.warn(`non-number value provided to metric ${e._descriptor.name}: ${r}`);return}e._descriptor.valueType===$e.INT&&!Number.isInteger(r)&&(E.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||n.set(i,r);}};});var JE,E5=g(()=>{P();jE();y5();Ii();JE=class{_callbacks=[];_batchCallbacks=[];addCallback(e,r){this._findCallback(e,r)>=0||this._callbacks.push({callback:e,instrument:r});}removeCallback(e,r){let i=this._findCallback(e,r);i<0||this._callbacks.splice(i,1);}addBatchCallback(e,r){let i=new Set(r.filter(xm));if(i.size===0){E.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(e,i)>=0||this._batchCallbacks.push({callback:e,instruments:i});}removeBatchCallback(e,r){let i=new Set(r.filter(xm)),n=this._findBatchCallback(e,i);n<0||this._batchCallbacks.splice(n,1);}async observe(e,r){let i=this._observeCallbacks(e,r),n=this._observeBatchCallbacks(e,r);return (await z8([...i,...n])).filter(V8).map(s=>s.reason)}_observeCallbacks(e,r){return this._callbacks.map(async({callback:i,instrument:n})=>{let a=new ZE(n._descriptor.name,n._descriptor.valueType),o=Promise.resolve(i(a));r!=null&&(o=Pa(o,r)),await o,n._metricStorages.forEach(s=>{s.record(a._buffer,e);});})}_observeBatchCallbacks(e,r){return this._batchCallbacks.map(async({callback:i,instruments:n})=>{let a=new XE,o=Promise.resolve(i(a));r!=null&&(o=Pa(o,r)),await o,n.forEach(s=>{let c=a._buffer.get(s);c!=null&&s._metricStorages.forEach(u=>{u.record(c,e);});});})}_findCallback(e,r){return this._callbacks.findIndex(i=>i.callback===e&&i.instrument===r)}_findBatchCallback(e,r){return this._batchCallbacks.findIndex(i=>i.callback===e&&B8(i.instruments,r))}};});var QE,T5=g(()=>{VI();FI();HI();QE=class extends vd{_attributesProcessor;_aggregationCardinalityLimit;_deltaMetricStorage;_temporalMetricStorage;constructor(e,r,i,n,a){super(e),this._attributesProcessor=i,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new bd(r,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Rd(r,n);}record(e,r,i,n){r=this._attributesProcessor.process(r,i),this._deltaMetricStorage.record(e,r,i,n);}collect(e,r){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,i,r)}};});function eT(){return iCe}function v5(t){return new WI(t)}function b5(t){return new KI(t)}function R5(t){return new YI(t)}var qI,WI,KI,YI,iCe,tT=g(()=>{qI=class{process(e,r){return e}},WI=class{_processors;constructor(e){this._processors=e;}process(e,r){let i=e;for(let n of this._processors)i=n.process(i,r);return i}},KI=class{_allowedAttributeNames;constructor(e){this._allowedAttributeNames=e;}process(e,r){let i={};return Object.keys(e).filter(n=>this._allowedAttributeNames.includes(n)).forEach(n=>i[n]=e[n]),i}},YI=class{_deniedAttributeNames;constructor(e){this._deniedAttributeNames=e;}process(e,r){let i={};return Object.keys(e).filter(n=>!this._deniedAttributeNames.includes(n)).forEach(n=>i[n]=e[n]),i}};iCe=new qI;});var rT,A5=g(()=>{Om();h5();Ii();m5();_5();S5();E5();T5();tT();rT=class{_meterProviderSharedState;_instrumentationScope;metricStorageRegistry=new KE;observableRegistry=new JE;meter;constructor(e,r){this._meterProviderSharedState=e,this._instrumentationScope=r,this.meter=new qE(this);}registerMetricStorage(e){let r=this._registerMetricStorage(e,QE);return r.length===1?r[0]:new YE(r)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,WE)}async collect(e,r,i){let n=await this.observableRegistry.observe(r,i?.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let o=a.map(s=>s.collect(e,r)).filter(U8);return o.length===0?{errors:n}:{scopeMetrics:{scope:this._instrumentationScope,metrics:o},errors:n}}_registerMetricStorage(e,r){let n=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let o=p5(a,e),s=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(s!=null)return s;let c=a.aggregation.createAggregator(o),u=new r(o,c,a.attributesProcessor,this._meterProviderSharedState.metricCollectors,a.aggregationCardinalityLimit);return this.metricStorageRegistry.register(u),u});if(n.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([s,c])=>{let u=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(s,e);if(u!=null)return u;let l=c.createAggregator(e),d=s.selectCardinalityLimit(e.type),p=new r(e,l,eT(),[s],d);return this.metricStorageRegistry.registerForCollector(s,p),p});n=n.concat(o);}return n}};});var nT,O5=g(()=>{Ii();d5();A5();Am();nT=class{resource;viewRegistry=new UE;metricCollectors=[];meterSharedStates=new Map;constructor(e){this.resource=e;}getMeterSharedState(e){let r=$8(e),i=this.meterSharedStates.get(r);return i==null&&(i=new rT(this,e),this.meterSharedStates.set(r,i)),i}selectAggregations(e){let r=[];for(let i of this.metricCollectors)r.push([i,ME(i.selectAggregation(e))]);return r}};});var iT,x5=g(()=>{Q();iT=class{_sharedState;_metricReader;constructor(e,r){this._sharedState=e,this._metricReader=r;}async collect(e){let r=gr(Date.now()),i=[],n=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async o=>{let s=await o.collect(this,r,e);s?.scopeMetrics!=null&&i.push(s.scopeMetrics),s?.errors!=null&&n.push(...s.errors);});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i},errors:n}}async forceFlush(e){await this._metricReader.forceFlush(e);}async shutdown(e){await this._metricReader.shutdown(e);}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}selectCardinalityLimit(e){return this._metricReader.selectCardinalityLimit?.(e)??2e3}};});var oCe,Ad,wa,oT=g(()=>{oCe=/[\^$\\.+?()[\]{}|]/g,Ad=class t{_matchAll;_regexp;constructor(e){e==="*"?(this._matchAll=true,this._regexp=/.*/):(this._matchAll=false,this._regexp=new RegExp(t.escapePattern(e)));}match(e){return this._matchAll?true:this._regexp.test(e)}static escapePattern(e){return `^${e.replace(oCe,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},wa=class{_matchAll;_pattern;constructor(e){this._matchAll=e===void 0,this._pattern=e;}match(e){return !!(this._matchAll||e===this._pattern)}};});var sT,C5=g(()=>{oT();sT=class{_nameFilter;_type;_unitFilter;constructor(e){this._nameFilter=new Ad(e?.name??"*"),this._type=e?.type,this._unitFilter=new wa(e?.unit);}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};});var aT,N5=g(()=>{oT();aT=class{_nameFilter;_versionFilter;_schemaUrlFilter;constructor(e){this._nameFilter=new wa(e?.name),this._versionFilter=new wa(e?.version),this._schemaUrlFilter=new wa(e?.schemaUrl);}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};});function sCe(t){return t.instrumentName==null&&t.instrumentType==null&&t.instrumentUnit==null&&t.meterName==null&&t.meterVersion==null&&t.meterSchemaUrl==null}function aCe(t){if(sCe(t))throw new Error("Cannot create view with no selector arguments supplied");if(t.name!=null&&(t?.instrumentName==null||Ad.hasWildcard(t.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.")}var cT,P5=g(()=>{oT();tT();C5();N5();Am();cT=class{name;description;aggregation;attributesProcessor;instrumentSelector;meterSelector;aggregationCardinalityLimit;constructor(e){aCe(e),e.attributesProcessors!=null?this.attributesProcessor=v5(e.attributesProcessors):this.attributesProcessor=eT(),this.name=e.name,this.description=e.description,this.aggregation=ME(e.aggregation??{type:Ir.DEFAULT}),this.instrumentSelector=new sT({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new aT({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl}),this.aggregationCardinalityLimit=e.aggregationCardinalityLimit;}};});var wr,I5=g(()=>{P();ho();O5();x5();P5();wr=class{_sharedState;_shutdown=false;constructor(e){if(this._sharedState=new nT(e?.resource??fo()),e?.views!=null&&e.views.length>0)for(let r of e.views)this._sharedState.viewRegistry.addView(new cT(r));if(e?.readers!=null&&e.readers.length>0)for(let r of e.readers){let i=new iT(this._sharedState,r);r.setMetricProducer(i),this._sharedState.metricCollectors.push(i);}}getMeter(e,r="",i={}){return this._shutdown?(E.warn("A shutdown MeterProvider cannot provide a Meter"),Ry()):this._sharedState.getMeterSharedState({name:e,version:r,schemaUrl:i.schemaUrl}).meter}async shutdown(e){if(this._shutdown){E.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=true,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(e)));}async forceFlush(e){if(this._shutdown){E.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(e)));}};});var Nm={};Pe(Nm,{AggregationTemporality:()=>Rt,AggregationType:()=>Ir,ConsoleMetricExporter:()=>kE,DataPointType:()=>At,InMemoryMetricExporter:()=>DE,InstrumentType:()=>fe,MeterProvider:()=>wr,MetricReader:()=>yd,PeriodicExportingMetricReader:()=>nr,TimeoutError:()=>_u,createAllowListAttributesProcessor:()=>b5,createDenyListAttributesProcessor:()=>R5});var ir=g(()=>{RE();Na();zI();c5();u5();l5();I5();Am();tT();Ii();});var XI=T(uT=>{Object.defineProperty(uT,"__esModule",{value:true});uT.AbstractAsyncHooksContextManager=void 0;var cCe=L("events"),uCe=["addListener","on","once","prependListener","prependOnceListener"],ZI=class{bind(e,r){return r instanceof cCe.EventEmitter?this._bindEventEmitter(e,r):typeof r=="function"?this._bindFunction(e,r):r}_bindFunction(e,r){let i=this,n=function(...a){return i.with(e,()=>r.apply(this,a))};return Object.defineProperty(n,"length",{enumerable:false,configurable:true,writable:false,value:r.length}),n}_bindEventEmitter(e,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),uCe.forEach(n=>{r[n]!==void 0&&(r[n]=this._patchAddListener(r,r[n],e));}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(e,r){let i=this;return function(n,a){let o=i._getPatchMap(e)?.[n];if(o===void 0)return r.call(this,n,a);let s=o.get(a);return r.call(this,n,s||a)}}_patchRemoveAllListeners(e,r){let i=this;return function(n){let a=i._getPatchMap(e);return a!==void 0&&(arguments.length===0?i._createPatchMap(e):a[n]!==void 0&&delete a[n]),r.apply(this,arguments)}}_patchAddListener(e,r,i){let n=this;return function(a,o){if(n._wrapped)return r.call(this,a,o);let s=n._getPatchMap(e);s===void 0&&(s=n._createPatchMap(e));let c=s[a];c===void 0&&(c=new WeakMap,s[a]=c);let u=n.bind(i,o);c.set(o,u),n._wrapped=true;try{return r.call(this,a,u)}finally{n._wrapped=false;}}}_createPatchMap(e){let r=Object.create(null);return e[this._kOtListeners]=r,r}_getPatchMap(e){return e[this._kOtListeners]}_kOtListeners=Symbol("OtListeners");_wrapped=false};uT.AbstractAsyncHooksContextManager=ZI;});var w5=T(lT=>{Object.defineProperty(lT,"__esModule",{value:true});lT.AsyncHooksContextManager=void 0;var lCe=(P(),U(je)),dCe=L("async_hooks"),pCe=XI(),JI=class extends pCe.AbstractAsyncHooksContextManager{_asyncHook;_contexts=new Map;_stack=[];constructor(){super(),this._asyncHook=dCe.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)});}active(){return this._stack[this._stack.length-1]??lCe.ROOT_CONTEXT}with(e,r,i,...n){this._enterContext(e);try{return r.call(i,...n)}finally{this._exitContext();}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,r){if(r==="TIMERWRAP")return;let i=this._stack[this._stack.length-1];i!==void 0&&this._contexts.set(e,i);}_destroy(e){this._contexts.delete(e);}_before(e){let r=this._contexts.get(e);r!==void 0&&this._enterContext(r);}_after(){this._exitContext();}_enterContext(e){this._stack.push(e);}_exitContext(){this._stack.pop();}};lT.AsyncHooksContextManager=JI;});var M5=T(dT=>{Object.defineProperty(dT,"__esModule",{value:true});dT.AsyncLocalStorageContextManager=void 0;var fCe=(P(),U(je)),hCe=L("async_hooks"),mCe=XI(),QI=class extends mCe.AbstractAsyncHooksContextManager{_asyncLocalStorage;constructor(){super(),this._asyncLocalStorage=new hCe.AsyncLocalStorage;}active(){return this._asyncLocalStorage.getStore()??fCe.ROOT_CONTEXT}with(e,r,i,...n){let a=i==null?r:r.bind(i);return this._asyncLocalStorage.run(e,a,...n)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};dT.AsyncLocalStorageContextManager=QI;});var L5=T(Od=>{Object.defineProperty(Od,"__esModule",{value:true});Od.AsyncLocalStorageContextManager=Od.AsyncHooksContextManager=void 0;var gCe=w5();Object.defineProperty(Od,"AsyncHooksContextManager",{enumerable:true,get:function(){return gCe.AsyncHooksContextManager}});var _Ce=M5();Object.defineProperty(Od,"AsyncLocalStorageContextManager",{enumerable:true,get:function(){return _Ce.AsyncLocalStorageContextManager}});});var D5,k5=g(()=>{D5="exception";});var pT,U5=g(()=>{P();Q();Ye();k5();pT=class{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:ut.UNSET};endTime=[0,0];_ended=false;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let r=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=Yn.now(),this._performanceOffset=r-(this._performanceStartTime+Zl()),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??r),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context);}spanContext(){return this._spanContext}setAttribute(e,r){if(r==null||this._isSpanEnded())return this;if(e.length===0)return E.warn(`Invalid attribute key: ${e}`),this;if(!oo(r))return E.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:i}=this._spanLimits;return i!==void 0&&Object.keys(this.attributes).length>=i&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this)}setAttributes(e){for(let[r,i]of Object.entries(e))this.setAttribute(r,i);return this}addEvent(e,r,i){if(this._isSpanEnded())return this;let{eventCountLimit:n}=this._spanLimits;if(n===0)return E.warn("No events allowed."),this._droppedEventsCount++,this;n!==void 0&&this.events.length>=n&&(this._droppedEventsCount===0&&E.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),cm(r)&&(cm(i)||(i=r),r=void 0);let a=Pn(r);return this.events.push({name:e,attributes:a,time:this._getTime(i),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&(E.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){E.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=true,this.endTime=this._getTime(e),this._duration=eE(this.startTime,this.endTime),this._duration[0]<0&&(E.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&E.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this);}_getTime(e){if(typeof e=="number"&&e<=Yn.now())return sm(e+this._performanceOffset);if(typeof e=="number")return gr(e);if(e instanceof Date)return gr(e.getTime());if(Jl(e))return e;if(this._startTimeProvided)return gr(Date.now());let r=Yn.now()-this._performanceStartTime;return um(this.startTime,gr(r))}isRecording(){return this._ended===false}recordException(e,r){let i={};typeof e=="string"?i[Ts]=e:e&&(e.code?i[vs]=e.code.toString():e.name&&(i[vs]=e.name),e.message&&(i[Ts]=e.message),e.stack&&(i[au]=e.stack)),i[vs]||i[Ts]?this.addEvent(D5,i,r):E.warn(`Failed to record an exception ${e}`);}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);E.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e);}return this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(E.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(i=>typeof i=="string"?this._truncateToLimitUtil(i,r):i):e}};});var _r,Pm=g(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED";})(_r||(_r={}));});var _o,fT=g(()=>{Pm();_o=class{shouldSample(){return {decision:_r.NOT_RECORD}}toString(){return "AlwaysOffSampler"}};});var ri,hT=g(()=>{Pm();ri=class{shouldSample(){return {decision:_r.RECORD_AND_SAMPLED}}toString(){return "AlwaysOnSampler"}};});var ws,ew=g(()=>{P();Q();fT();hT();ws=class{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(bt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ri),this._remoteParentSampled=e.remoteParentSampled??new ri,this._remoteParentNotSampled=e.remoteParentNotSampled??new _o,this._localParentSampled=e.localParentSampled??new ri,this._localParentNotSampled=e.localParentNotSampled??new _o;}shouldSample(e,r,i,n,a,o){let s=ce.getSpanContext(e);return !s||!Cr(s)?this._root.shouldSample(e,r,i,n,a,o):s.isRemote?s.traceFlags&Ve.SAMPLED?this._remoteParentSampled.shouldSample(e,r,i,n,a,o):this._remoteParentNotSampled.shouldSample(e,r,i,n,a,o):s.traceFlags&Ve.SAMPLED?this._localParentSampled.shouldSample(e,r,i,n,a,o):this._localParentNotSampled.shouldSample(e,r,i,n,a,o)}toString(){return `ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};});var Su,tw=g(()=>{P();Pm();Su=class{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295);}shouldSample(e,r){return {decision:cs(r)&&this._accumulate(r)<this._upperBound?_r.RECORD_AND_SAMPLED:_r.NOT_RECORD}}toString(){return `TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let i=0;i<e.length/8;i++){let n=i*8,a=parseInt(e.slice(n,n+8),16);r=(r^a)>>>0;}return r}};});function gT(){return {sampler:rw(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:He("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:He("OTEL_ATTRIBUTE_COUNT_LIMIT")??128},spanLimits:{attributeValueLengthLimit:He("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??1/0,attributeCountLimit:He("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??128,linkCountLimit:He("OTEL_SPAN_LINK_COUNT_LIMIT")??128,eventCountLimit:He("OTEL_SPAN_EVENT_COUNT_LIMIT")??128,attributePerEventCountLimit:He("OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT")??128,attributePerLinkCountLimit:He("OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT")??128}}}function rw(){let t=Jt("OTEL_TRACES_SAMPLER")??So.ParentBasedAlwaysOn;switch(t){case So.AlwaysOn:return new ri;case So.AlwaysOff:return new _o;case So.ParentBasedAlwaysOn:return new ws({root:new ri});case So.ParentBasedAlwaysOff:return new ws({root:new _o});case So.TraceIdRatio:return new Su($5());case So.ParentBasedTraceIdRatio:return new ws({root:new Su($5())});default:return E.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${So.ParentBasedAlwaysOn}".`),new ws({root:new ri})}}function $5(){let t=He("OTEL_TRACES_SAMPLER_ARG");return t==null?(E.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${mT}.`),mT):t<0||t>1?(E.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${mT}.`),mT):t}var So,mT,nw=g(()=>{P();Q();fT();hT();ew();tw();(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio";})(So||(So={}));mT=1;});function z5(t){let e={sampler:rw()},r=gT(),i=Object.assign({},r,e,t);return i.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),i.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),i}function V5(t){let e=Object.assign({},t.spanLimits);return e.attributeCountLimit=t.spanLimits?.attributeCountLimit??t.generalLimits?.attributeCountLimit??He("OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT")??He("OTEL_ATTRIBUTE_COUNT_LIMIT")??SCe,e.attributeValueLengthLimit=t.spanLimits?.attributeValueLengthLimit??t.generalLimits?.attributeValueLengthLimit??He("OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT")??He("OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT")??yCe,Object.assign({},t,{spanLimits:e})}var SCe,yCe,iw=g(()=>{nw();Q();SCe=128,yCe=1/0;});var _T,B5=g(()=>{P();Q();_T=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=false;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,r){this._exporter=e,this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:He("OTEL_BSP_MAX_EXPORT_BATCH_SIZE")??512,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:He("OTEL_BSP_MAX_QUEUE_SIZE")??2048,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:He("OTEL_BSP_SCHEDULE_DELAY")??5e3,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:He("OTEL_BSP_EXPORT_TIMEOUT")??3e4,this._shutdownOnce=new nn(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(E.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize);}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&Ve.SAMPLED)!==0&&this._addToBuffer(e);}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&E.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(E.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer();}_flushAll(){return new Promise((e,r)=>{let i=[],n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,o=n;a<o;a++)i.push(this._flushOneBatch());Promise.all(i).then(()=>{e();}).catch(r);})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let i=setTimeout(()=>{r(new Error("Timeout"));},this._exportTimeoutMillis);Te.with(qt(Te.active()),()=>{let n;this._finishedSpans.length<=this._maxExportBatchSize?(n=this._finishedSpans,this._finishedSpans=[]):n=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(n,s=>{clearTimeout(i),s.code===Z.SUCCESS?e():r(s.error??new Error("BatchSpanProcessor: span export failed"));}),o=null;for(let s=0,c=n.length;s<c;s++){let u=n[s];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(o??=[],o.push(u.resource.waitForAsyncAttributes()));}o===null?a():Promise.all(o).then(a,s=>{bt(s),r(s);});});})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=true,this._flushOneBatch().finally(()=>{this._isExporting=false,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer());}).catch(r=>{this._isExporting=false,bt(r);});};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),po(this._timer));}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0);}};});var Ma,F5=g(()=>{B5();Ma=class extends _T{onShutdown(){}};});function H5(t){return function(){for(let r=0;r<t/4;r++)ST.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(ST[r]>0);r++)r===t-1&&(ST[t-1]=1);return ST.toString("hex",0,t)}}var yo,ST,G5=g(()=>{yo=class{generateTraceId=H5(16);generateSpanId=H5(8)},ST=Buffer.allocUnsafe(16);});var j5=g(()=>{F5();G5();});var ow=g(()=>{j5();});var yT,q5=g(()=>{P();Q();U5();iw();ow();yT=class{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,r,i,n){let a=z5(r);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=r.idGenerator||new yo,this._resource=i,this._spanProcessor=n,this.instrumentationScope=e;}startSpan(e,r={},i=Te.active()){r.root&&(i=ce.deleteSpan(i));let n=ce.getSpan(i);if(Nr(i))return E.debug("Instrumentation suppressed, returning Noop Span"),ce.wrapSpanContext(Sa);let a=n?.spanContext(),o=this._idGenerator.generateSpanId(),s,c,u;!a||!ce.isSpanContextValid(a)?c=this._idGenerator.generateTraceId():(c=a.traceId,u=a.traceState,s=a);let l=r.kind??be.INTERNAL,d=(r.links??[]).map(x=>({context:x.context,attributes:Pn(x.attributes)})),p=Pn(r.attributes),f=this._sampler.shouldSample(i,c,e,l,p,d);u=f.traceState??u;let _=f.decision===Qc.RECORD_AND_SAMPLED?Ve.SAMPLED:Ve.NONE,y={traceId:c,spanId:o,traceFlags:_,traceState:u};if(f.decision===Qc.NOT_RECORD)return E.debug("Recording is off, propagating context in a non-recording span"),ce.wrapSpanContext(y);let v=Pn(Object.assign(p,f.attributes));return new pT({resource:this._resource,scope:this.instrumentationScope,context:i,spanContext:y,name:e,kind:l,links:d,parentSpanContext:s,attributes:v,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,r,i,n){let a,o,s;if(arguments.length<2)return;arguments.length===2?s=r:arguments.length===3?(a=r,s=i):(a=r,o=i,s=n);let c=o??Te.active(),u=this.startSpan(e,a,c),l=ce.setSpan(c,u);return Te.with(l,s,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};});var ET,W5=g(()=>{Q();ET=class{_spanProcessors;constructor(e){this._spanProcessors=e;}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r();}).catch(i=>{bt(i||new Error("MultiSpanProcessor: forceFlush failed")),r();});})}onStart(e,r){for(let i of this._spanProcessors)i.onStart(e,r);}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e);}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,i)=>{Promise.all(e).then(()=>{r();},i);})}};});var yu,TT,K5=g(()=>{Q();ho();q5();nw();W5();iw();(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved";})(yu||(yu={}));TT=class{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let r=td({},gT(),V5(e));this._resource=r.resource??fo(),this._config=Object.assign({},r,{resource:this._resource});let i=[];e.spanProcessors?.length&&i.push(...e.spanProcessors),this._activeSpanProcessor=new ET(i);}getTracer(e,r,i){let n=`${e}@${r||""}:${i?.schemaUrl||""}`;return this._tracers.has(n)||this._tracers.set(n,new yT({name:e,version:r,schemaUrl:i?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(n)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(i=>new Promise(n=>{let a,o=setTimeout(()=>{n(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=yu.timeout;},e);i.forceFlush().then(()=>{clearTimeout(o),a!==yu.timeout&&(a=yu.resolved,n(a));}).catch(s=>{clearTimeout(o),a=yu.error,n(s);});}));return new Promise((i,n)=>{Promise.all(r).then(a=>{let o=a.filter(s=>s!==yu.resolved);o.length>0?n(o):i();}).catch(a=>n([a]));})}shutdown(){return this._activeSpanProcessor.shutdown()}};});var vT,Y5=g(()=>{Q();vT=class{export(e,r){return this._sendSpans(e,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){return {resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,traceId:e.spanContext().traceId,parentSpanContext:e.parentSpanContext,traceState:e.spanContext().traceState?.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:Pr(e.startTime),duration:Pr(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,r){for(let i of e)console.dir(this._exportInfo(i),{depth:3});if(r)return r({code:Z.SUCCESS})}};});var bT,Z5=g(()=>{Q();bT=class{_finishedSpans=[];_stopped=false;export(e,r){if(this._stopped)return r({code:Z.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>r({code:Z.SUCCESS}),0);}shutdown(){return this._stopped=true,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[];}getFinishedSpans(){return this._finishedSpans}};});var RT,X5=g(()=>{P();Q();RT=class{_exporter;_shutdownOnce;_pendingExports;constructor(e){this._exporter=e,this._shutdownOnce=new nn(this._shutdown,this),this._pendingExports=new Set;}async forceFlush(){await Promise.all(Array.from(this._pendingExports)),this._exporter.forceFlush&&await this._exporter.forceFlush();}onStart(e,r){}onEnd(e){if(this._shutdownOnce.isCalled||(e.spanContext().traceFlags&Ve.SAMPLED)===0)return;let r=this._doExport(e).catch(i=>bt(i));this._pendingExports.add(r),r.finally(()=>this._pendingExports.delete(r));}async _doExport(e){e.resource.asyncAttributesPending&&await e.resource.waitForAsyncAttributes?.();let r=await Is._export(this._exporter,[e]);if(r.code!==Z.SUCCESS)throw r.error??new Error(`SimpleSpanProcessor: span export failed (status ${r})`)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};});var AT,J5=g(()=>{AT=class{onStart(e,r){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};});var xd={};Pe(xd,{AlwaysOffSampler:()=>_o,AlwaysOnSampler:()=>ri,BasicTracerProvider:()=>TT,BatchSpanProcessor:()=>Ma,ConsoleSpanExporter:()=>vT,InMemorySpanExporter:()=>bT,NoopSpanProcessor:()=>AT,ParentBasedSampler:()=>ws,RandomIdGenerator:()=>yo,SamplingDecision:()=>_r,SimpleSpanProcessor:()=>RT,TraceIdRatioBasedSampler:()=>Su});var Eo=g(()=>{K5();ow();Y5();Z5();X5();J5();fT();hT();ew();tw();Pm();});var Q5=T(OT=>{Object.defineProperty(OT,"__esModule",{value:true});OT.NodeTracerProvider=void 0;var ECe=L5(),TCe=(Eo(),U(xd)),Im=(P(),U(je)),sw=(Q(),U(Mn));function vCe(t){if(t!==null){if(t===void 0){let e=new ECe.AsyncLocalStorageContextManager;e.enable(),Im.context.setGlobalContextManager(e);return}t.enable(),Im.context.setGlobalContextManager(t);}}function bCe(t){if(t!==null){if(t===void 0){Im.propagation.setGlobalPropagator(new sw.CompositePropagator({propagators:[new sw.W3CTraceContextPropagator,new sw.W3CBaggagePropagator]}));return}Im.propagation.setGlobalPropagator(t);}}var aw=class extends TCe.BasicTracerProvider{constructor(e={}){super(e);}register(e={}){Im.trace.setGlobalTracerProvider(this),vCe(e.contextManager),bCe(e.propagator);}};OT.NodeTracerProvider=aw;});var cw=T(nt=>{Object.defineProperty(nt,"__esModule",{value:true});nt.TraceIdRatioBasedSampler=nt.SimpleSpanProcessor=nt.SamplingDecision=nt.RandomIdGenerator=nt.ParentBasedSampler=nt.NoopSpanProcessor=nt.InMemorySpanExporter=nt.ConsoleSpanExporter=nt.BatchSpanProcessor=nt.BasicTracerProvider=nt.AlwaysOnSampler=nt.AlwaysOffSampler=nt.NodeTracerProvider=void 0;var RCe=Q5();Object.defineProperty(nt,"NodeTracerProvider",{enumerable:true,get:function(){return RCe.NodeTracerProvider}});var ni=(Eo(),U(xd));Object.defineProperty(nt,"AlwaysOffSampler",{enumerable:true,get:function(){return ni.AlwaysOffSampler}});Object.defineProperty(nt,"AlwaysOnSampler",{enumerable:true,get:function(){return ni.AlwaysOnSampler}});Object.defineProperty(nt,"BasicTracerProvider",{enumerable:true,get:function(){return ni.BasicTracerProvider}});Object.defineProperty(nt,"BatchSpanProcessor",{enumerable:true,get:function(){return ni.BatchSpanProcessor}});Object.defineProperty(nt,"ConsoleSpanExporter",{enumerable:true,get:function(){return ni.ConsoleSpanExporter}});Object.defineProperty(nt,"InMemorySpanExporter",{enumerable:true,get:function(){return ni.InMemorySpanExporter}});Object.defineProperty(nt,"NoopSpanProcessor",{enumerable:true,get:function(){return ni.NoopSpanProcessor}});Object.defineProperty(nt,"ParentBasedSampler",{enumerable:true,get:function(){return ni.ParentBasedSampler}});Object.defineProperty(nt,"RandomIdGenerator",{enumerable:true,get:function(){return ni.RandomIdGenerator}});Object.defineProperty(nt,"SamplingDecision",{enumerable:true,get:function(){return ni.SamplingDecision}});Object.defineProperty(nt,"SimpleSpanProcessor",{enumerable:true,get:function(){return ni.SimpleSpanProcessor}});Object.defineProperty(nt,"TraceIdRatioBasedSampler",{enumerable:true,get:function(){return ni.TraceIdRatioBasedSampler}});});function e9(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}function t9(t){t.forEach(e=>e.disable());}var r9=g(()=>{});function n9(t){let e=t.tracerProvider||ce.getTracerProvider(),r=t.meterProvider||kt.getMeterProvider(),i=t.loggerProvider||mu.getLoggerProvider(),n=t.instrumentations?.flat()??[];return e9(n,e,r,i),()=>{t9(n);}}var i9=g(()=>{P();ei();r9();});function l9(t,e,r){if(!xCe(t))return E.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=ICe(t);if(!i)return  false;let n=[],a=d9(i,e,n,r);return a&&!r?.includePrerelease?NCe(i,n):a}function xCe(t){return typeof t=="string"&&u9.test(t)}function d9(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(uw(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=JCe(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!uw(t,a,r,i))return  false;return  true}return uw(t,e,r,i)}function uw(t,e,r,i){if(e=PCe(e,i),e.includes(" "))return d9(t,e,r,i);{let n=wCe(e);return r.push(n),CCe(t,n)}}function CCe(t,e){if(e.invalid)return  false;if(!e.version||dw(e.version))return  true;let r=s9(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=s9(i,n);}return OCe[e.op]?.includes(r)}function NCe(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function PCe(t,e){return t=t.trim(),t=ZCe(t,e),t=YCe(t),t=XCe(t,e),t=t.trim(),t}function zr(t){return !t||t.toLowerCase()==="x"||t==="*"}function ICe(t){let e=t.match(u9);if(!e){E.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function wCe(t){if(!t)return {};let e=t.match(ACe);if(!e)return E.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function dw(t){return t==="*"||t==="x"||t==="X"}function o9(t){let e=parseInt(t,10);return isNaN(e)?t:e}function MCe(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function LCe(t,e){if(dw(t)||dw(e))return 0;let[r,i]=MCe(o9(t),o9(e));return r>i?1:r<i?-1:0}function s9(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=LCe(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}function YCe(t){let e=jCe;return t.replace(e,(r,i,n,a,o)=>{let s;return zr(i)?s="":zr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:zr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function ZCe(t,e){let r=KCe,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let u;return zr(a)?u="":zr(o)?u=`>=${a}.0.0${i} <${+a+1}.0.0-0`:zr(s)?a==="0"?u=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?u=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?u=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,u})}function XCe(t,e){let r=VCe;return t.replace(r,(i,n,a,o,s,c)=>{let u=zr(a),l=u||zr(o),d=l||zr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",u?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(l&&(o=0),s=0,n===">"?(n=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",l?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):l?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function JCe(t,e){let r=FCe;return t.replace(r,(i,n,a,o,s,c,u,l,d,p,f,_)=>(zr(a)?n="":zr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:zr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,zr(d)?l="":zr(p)?l=`<${+d+1}.0.0-0`:zr(f)?l=`<${d}.${+p+1}.0-0`:_?l=`<=${d}.${p}.${f}-${_}`:e?.includePrerelease?l=`<${d}.${p}.${+f+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()))}var u9,ACe,OCe,p9,f9,DCe,kCe,a9,UCe,c9,$Ce,lw,wm,zCe,VCe,BCe,FCe,HCe,GCe,jCe,qCe,WCe,KCe,h9=g(()=>{P();u9=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,ACe=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,OCe={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};p9="[a-zA-Z0-9-]",f9="0|[1-9]\\d*",DCe=`\\d*[a-zA-Z-]${p9}*`,kCe="((?:<|>)?=?)",a9=`(?:${f9}|${DCe})`,UCe=`(?:-(${a9}(?:\\.${a9})*))`,c9=`${p9}+`,$Ce=`(?:\\+(${c9}(?:\\.${c9})*))`,lw=`${f9}|x|X|\\*`,wm=`[v=\\s]*(${lw})(?:\\.(${lw})(?:\\.(${lw})(?:${UCe})?${$Ce}?)?)?`,zCe=`^${kCe}\\s*${wm}$`,VCe=new RegExp(zCe),BCe=`^\\s*(${wm})\\s+-\\s+(${wm})\\s*$`,FCe=new RegExp(BCe),HCe="(?:~>?)",GCe=`^${HCe}${wm}$`,jCe=new RegExp(GCe),qCe="(?:\\^)",WCe=`^${qCe}${wm}$`,KCe=new RegExp(WCe);});function Mm(t,e,r){let i=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}var Vr,Eu,pw,Cd,fw,hw=g(()=>{Vr=console.error.bind(console);Eu=(t,e,r)=>{if(!t||!t[e]){Vr("no original function "+String(e)+" to wrap");return}if(!r){Vr("no wrapper function"),Vr(new Error().stack);return}let i=t[e];if(typeof i!="function"||typeof r!="function"){Vr("original object and wrapper must be functions");return}let n=r(i,e);return Mm(n,"__original",i),Mm(n,"__unwrap",()=>{t[e]===n&&Mm(t,e,i);}),Mm(n,"__wrapped",true),Mm(t,e,n),n},pw=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else {Vr("must provide one or more modules to patch"),Vr(new Error().stack);return}if(!(e&&Array.isArray(e))){Vr("must provide one or more functions to wrap on modules");return}t.forEach(i=>{e.forEach(n=>{Eu(i,n,r);});});},Cd=(t,e)=>{if(!t||!t[e]){Vr("no function to unwrap."),Vr(new Error().stack);return}let r=t[e];if(!r.__unwrap)Vr("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else {r.__unwrap();return}},fw=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else {Vr("must provide one or more modules to patch"),Vr(new Error().stack);return}if(!(e&&Array.isArray(e))){Vr("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(i=>{Cd(r,i);});});};});var xT,m9=g(()=>{P();ei();hw();xT=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=E.createComponentLogger({namespace:e}),this._tracer=ce.getTracer(e,r),this._meter=kt.getMeter(e,r),this._logger=mu.getLogger(e,r),this._updateMetricInstruments();}_wrap=Eu;_unwrap=Cd;_massWrap=pw;_massUnwrap=fw;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};});var _9=T((Dot,g9)=>{var Nd=1e3,Pd=Nd*60,Id=Pd*60,Tu=Id*24,eNe=Tu*7,tNe=Tu*365.25;g9.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return rNe(t);if(r==="number"&&isFinite(t))return e.long?iNe(t):nNe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function rNe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case "years":case "year":case "yrs":case "yr":case "y":return r*tNe;case "weeks":case "week":case "w":return r*eNe;case "days":case "day":case "d":return r*Tu;case "hours":case "hour":case "hrs":case "hr":case "h":return r*Id;case "minutes":case "minute":case "mins":case "min":case "m":return r*Pd;case "seconds":case "second":case "secs":case "sec":case "s":return r*Nd;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return r;default:return}}}}function nNe(t){var e=Math.abs(t);return e>=Tu?Math.round(t/Tu)+"d":e>=Id?Math.round(t/Id)+"h":e>=Pd?Math.round(t/Pd)+"m":e>=Nd?Math.round(t/Nd)+"s":t+"ms"}function iNe(t){var e=Math.abs(t);return e>=Tu?CT(t,e,Tu,"day"):e>=Id?CT(t,e,Id,"hour"):e>=Pd?CT(t,e,Pd,"minute"):e>=Nd?CT(t,e,Nd,"second"):t+" ms"}function CT(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var mw=T((kot,S9)=>{function oNe(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=n,r.enabled=s,r.humanize=_9(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l];}),r.names=[],r.skips=[],r.formatters={};function e(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(l){let d,p=null,f,_;function y(...v){if(!y.enabled)return;let O=y,x=Number(new Date),I=x-(d||x);O.diff=I,O.prev=d,O.curr=x,d=x,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,($,G)=>{if($==="%%")return "%";R++;let ee=r.formatters[G];if(typeof ee=="function"){let re=v[R];$=ee.call(O,re),v.splice(R,1),R--;}return $}),r.formatArgs.call(O,v),(O.log||r.log).apply(O,v);}return y.namespace=l,y.useColors=r.useColors(),y.color=r.selectColor(l),y.extend=i,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:true,configurable:false,get:()=>p!==null?p:(f!==r.namespaces&&(f=r.namespaces,_=r.enabled(l)),_),set:v=>{p=v;}}),typeof r.init=="function"&&r.init(y),y}function i(l,d){let p=r(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function n(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let d=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p);}function a(l,d){let p=0,f=0,_=-1,y=0;for(;p<l.length;)if(f<d.length&&(d[f]===l[p]||d[f]==="*"))d[f]==="*"?(_=f,y=p,f++):(p++,f++);else if(_!==-1)f=_+1,y++,p=y;else return  false;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let l=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),l}function s(l){for(let d of r.skips)if(a(l,d))return  false;for(let d of r.names)if(a(l,d))return  true;return  false}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}S9.exports=oNe;});var y9=T((on,NT)=>{on.formatArgs=aNe;on.save=cNe;on.load=uNe;on.useColors=sNe;on.storage=lNe();on.destroy=(()=>{let t=false;return ()=>{t||(t=true,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();on.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function sNe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return  true;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return  false;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function aNe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+NT.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r));}),t.splice(i,0,e);}on.log=console.debug||console.log||(()=>{});function cNe(t){try{t?on.storage.setItem("debug",t):on.storage.removeItem("debug");}catch{}}function uNe(){let t;try{t=on.storage.getItem("debug")||on.storage.getItem("DEBUG");}catch{}return !t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function lNe(){try{return localStorage}catch{}}NT.exports=mw()(on);var{formatters:dNe}=NT.exports;dNe.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var T9=T((Uot,E9)=>{E9.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return i!==-1&&(n===-1||i<n)};});var R9=T(($ot,b9)=>{var pNe=L("os"),v9=L("tty"),ii=T9(),{env:or}=process,La;ii("no-color")||ii("no-colors")||ii("color=false")||ii("color=never")?La=0:(ii("color")||ii("colors")||ii("color=true")||ii("color=always"))&&(La=1);"FORCE_COLOR"in or&&(or.FORCE_COLOR==="true"?La=1:or.FORCE_COLOR==="false"?La=0:La=or.FORCE_COLOR.length===0?1:Math.min(parseInt(or.FORCE_COLOR,10),3));function gw(t){return t===0?false:{level:t,hasBasic:true,has256:t>=2,has16m:t>=3}}function _w(t,e){if(La===0)return 0;if(ii("color=16m")||ii("color=full")||ii("color=truecolor"))return 3;if(ii("color=256"))return 2;if(t&&!e&&La===void 0)return 0;let r=La||0;if(or.TERM==="dumb")return r;if(process.platform==="win32"){let i=pNe.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in or)return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in or)||or.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in or)return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(or.TEAMCITY_VERSION)?1:0;if(or.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in or){let i=parseInt((or.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(or.TERM_PROGRAM){case "iTerm.app":return i>=3?3:2;case "Apple_Terminal":return 2}}return /-256(color)?$/i.test(or.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(or.TERM)||"COLORTERM"in or?1:r}function fNe(t){let e=_w(t,t&&t.isTTY);return gw(e)}b9.exports={supportsColor:fNe,stdout:gw(_w(true,v9.isatty(1))),stderr:gw(_w(true,v9.isatty(2)))};});var O9=T((sr,IT)=>{var hNe=L("tty"),PT=L("util");sr.init=TNe;sr.log=SNe;sr.formatArgs=gNe;sr.save=yNe;sr.load=ENe;sr.useColors=mNe;sr.destroy=PT.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");sr.colors=[6,2,3,4,5,1];try{let t=R9();t&&(t.stderr||t).level>=2&&(sr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]);}catch{}sr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,a)=>a.toUpperCase()),i=process.env[e];return /^(yes|on|true|enabled)$/i.test(i)?i=true:/^(no|off|false|disabled)$/i.test(i)?i=false:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function mNe(){return "colors"in sr.inspectOpts?!!sr.inspectOpts.colors:hNe.isatty(process.stderr.fd)}function gNe(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${n};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(n+"m+"+IT.exports.humanize(this.diff)+"\x1B[0m");}else t[0]=_Ne()+e+" "+t[0];}function _Ne(){return sr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function SNe(...t){return process.stderr.write(PT.formatWithOptions(sr.inspectOpts,...t)+`
`)}function yNe(t){t?process.env.DEBUG=t:delete process.env.DEBUG;}function ENe(){return process.env.DEBUG}function TNe(t){t.inspectOpts={};let e=Object.keys(sr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=sr.inspectOpts[e[r]];}IT.exports=mw()(sr);var{formatters:A9}=IT.exports;A9.o=function(t){return this.inspectOpts.colors=this.useColors,PT.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};A9.O=function(t){return this.inspectOpts.colors=this.useColors,PT.inspect(t,this.inspectOpts)};});var Dm=T((zot,Sw)=>{typeof process>"u"||process.type==="renderer"||process.browser===true||process.__nwjs?Sw.exports=y9():Sw.exports=O9();});var Ew=T((Vot,x9)=>{var yw=L("path").sep;x9.exports=function(t){var e=t.split(yw),r=e.lastIndexOf("node_modules");if(r!==-1&&e[r+1]){for(var i=e[r+1][0]==="@",n=i?e[r+1]+"/"+e[r+2]:e[r+1],a=i?3:2,o="",s=r+a-1,c=0;c<=s;c++)c===s?o+=e[c]:o+=e[c]+yw;for(var u="",l=e.length-1,d=r+a;d<=l;d++)d===l?u+=e[d]:u+=e[d]+yw;return {name:n,basedir:o,path:u}}};});var Tw=T((Bot,C9)=>{var vNe=L("os");C9.exports=vNe.homedir||function(){var e=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null};});var vw=T((Fot,N9)=>{N9.exports=function(){var t=Error.prepareStackTrace;Error.prepareStackTrace=function(r,i){return i};var e=new Error().stack;return Error.prepareStackTrace=t,e[2].getFileName()};});var P9=T((Hot,km)=>{var bNe=process.platform==="win32",RNe=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,bw={};function ANe(t){return RNe.exec(t).slice(1)}bw.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=ANe(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return {root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var ONe=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Rw={};function xNe(t){return ONe.exec(t).slice(1)}Rw.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=xNe(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return {root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};bNe?km.exports=bw.parse:km.exports=Rw.parse;km.exports.posix=Rw.parse;km.exports.win32=bw.parse;});var Aw=T((Got,L9)=>{var M9=L("path"),I9=M9.parse||P9(),CNe=/^([A-Za-z]:)/,NNe=/^\\\\/,w9=function(e,r){var i="/";CNe.test(e)?i="":NNe.test(e)&&(i="\\\\");for(var n=[e],a=I9(e);a.dir!==n[n.length-1];)n.push(a.dir),a=I9(a.dir);return n.reduce(function(o,s){return o.concat(r.map(function(c){return M9.resolve(i,s,c)}))},[])};L9.exports=function(e,r,i){var n=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(i,e,function(){return w9(e,n)},r);var a=w9(e,n);return r&&r.paths?a.concat(r.paths):a};});var Ow=T((jot,D9)=>{D9.exports=function(t,e){return e||{}};});var $9=T((qot,U9)=>{var PNe="Function.prototype.bind called on incompatible ",INe=Object.prototype.toString,wNe=Math.max,MNe="[object Function]",k9=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var a=0;a<r.length;a+=1)i[a+e.length]=r[a];return i},LNe=function(e,r){for(var i=[],n=r,a=0;n<e.length;n+=1,a+=1)i[a]=e[n];return i},DNe=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r};U9.exports=function(e){var r=this;if(typeof r!="function"||INe.apply(r)!==MNe)throw new TypeError(PNe+r);for(var i=LNe(arguments,1),n,a=function(){if(this instanceof n){var l=r.apply(this,k9(i,arguments));return Object(l)===l?l:this}return r.apply(e,k9(i,arguments))},o=wNe(0,r.length-i.length),s=[],c=0;c<o;c++)s[c]="$"+c;if(n=Function("binder","return function ("+DNe(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,n.prototype=new u,u.prototype=null;}return n};});var V9=T((Wot,z9)=>{var kNe=$9();z9.exports=Function.prototype.bind||kNe;});var F9=T((Kot,B9)=>{var UNe=Function.prototype.call,$Ne=Object.prototype.hasOwnProperty,zNe=V9();B9.exports=zNe.call(UNe,$Ne);});var H9=T((Yot,VNe)=>{VNe.exports={assert:true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:true,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:true,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:true,"node:console":[">= 14.18 && < 15",">= 16"],constants:true,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:true,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:true,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:true,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:true,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:true,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:true,"node:module":[">= 14.18 && < 15",">= 16"],net:true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:true,"node:os":[">= 14.18 && < 15",">= 16"],path:true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:true,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:true,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:true,"node:tty":[">= 14.18 && < 15",">= 16"],url:true,"node:url":[">= 14.18 && < 15",">= 16"],util:true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:true,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]};});var Um=T((Zot,q9)=>{var BNe=F9();function FNe(t,e){for(var r=t.split("."),i=e.split(" "),n=i.length>1?i[0]:"=",a=(i.length>1?i[1]:i[0]).split("."),o=0;o<3;++o){var s=parseInt(r[o]||0,10),c=parseInt(a[o]||0,10);if(s!==c)return n==="<"?s<c:n===">="?s>=c:false}return n===">="}function G9(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return  false;for(var i=0;i<r.length;++i)if(!FNe(t,r[i]))return  false;return  true}function HNe(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var i=0;i<e.length;++i)if(G9(r,e[i]))return  true;return  false}return G9(r,e)}var j9=H9();q9.exports=function(e,r){return BNe(j9,e)&&HNe(r,j9[e])};});var Y9=T((Xot,K9)=>{var vu=L("fs"),GNe=Tw(),Wt=L("path"),jNe=vw(),qNe=Aw(),WNe=Ow(),KNe=Um(),YNe=process.platform!=="win32"&&vu.realpath&&typeof vu.realpath.native=="function"?vu.realpath.native:vu.realpath,ZNe=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,XNe=/^\w:[/\\]*$/,JNe=/[/\\]node_modules[/\\]*$/,W9=GNe(),QNe=function(){return [Wt.join(W9,".node_modules"),Wt.join(W9,".node_libraries")]},ePe=function(e,r){vu.stat(e,function(i,n){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,false):r(i):r(null,n.isFile()||n.isFIFO())});},tPe=function(e,r){vu.stat(e,function(i,n){return i?i.code==="ENOENT"||i.code==="ENOTDIR"?r(null,false):r(i):r(null,n.isDirectory())});},rPe=function(e,r){YNe(e,function(i,n){i&&i.code!=="ENOENT"?r(i):r(null,i?e:n);});},$m=function(e,r,i,n){i&&i.preserveSymlinks===false?e(r,n):n(null,r);},nPe=function(e,r,i){e(r,function(n,a){if(n)i(n);else try{var o=JSON.parse(a);i(null,o);}catch{i(null);}});},iPe=function(e,r,i){for(var n=qNe(r,i,e),a=0;a<n.length;a++)n[a]=Wt.join(n[a],e);return n};K9.exports=function(e,r,i){var n=i,a=r;if(typeof r=="function"&&(n=a,a={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){n(o);})}a=WNe(e,a);var s=a.isFile||ePe,c=a.isDirectory||tPe,u=a.readFile||vu.readFile,l=a.realpath||rPe,d=a.readPackage||nPe;if(a.readFile&&a.readPackage){var p=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){n(p);})}var f=a.packageIterator,_=a.extensions||[".js"],y=a.includeCoreModules!==false,v=a.basedir||Wt.dirname(jNe()),O=a.filename||v;a.paths=a.paths||QNe();var x=Wt.resolve(v);$m(l,x,a,function(C,me){C?n(C):R(me);});var I;function R(C){if(ZNe.test(e))I=Wt.resolve(C,e),(e==="."||e===".."||e.slice(-1)==="/")&&(I+="/"),e.slice(-1)==="/"&&I===C?ee(I,a.package,F):$(I,a.package,F);else {if(y&&KNe(e))return n(null,e);pe(e,C,function(me,w,S){if(me)n(me);else {if(w)return $m(l,w,a,function(Se,se){Se?n(Se):n(null,se,S);});var M=new Error("Cannot find module '"+e+"' from '"+O+"'");M.code="MODULE_NOT_FOUND",n(M);}});}}function F(C,me,w){C?n(C):me?n(null,me,w):ee(I,function(S,M,Se){if(S)n(S);else if(M)$m(l,M,a,function(_e,Fe){_e?n(_e):n(null,Fe,Se);});else {var se=new Error("Cannot find module '"+e+"' from '"+O+"'");se.code="MODULE_NOT_FOUND",n(se);}});}function $(C,me,w){var S=me,M=w;typeof S=="function"&&(M=S,S=void 0);var Se=[""].concat(_);se(Se,C,S);function se(_e,Fe,ht){if(_e.length===0)return M(null,void 0,ht);var vt=Fe+_e[0],rt=ht;rt?ye(null,rt):G(Wt.dirname(vt),ye);function ye(Je,Ct,Xt){if(rt=Ct,Je)return M(Je);if(Xt&&rt&&a.pathFilter){var Gl=Wt.relative(Xt,vt),jl=Gl.slice(0,Gl.length-_e[0].length),Kc=a.pathFilter(rt,Fe,jl);if(Kc)return se([""].concat(_.slice()),Wt.resolve(Xt,Kc),rt)}s(vt,Gt);}function Gt(Je,Ct){if(Je)return M(Je);if(Ct)return M(null,vt,rt);se(_e.slice(1),Fe,rt);}}}function G(C,me){if(C===""||C==="/"||process.platform==="win32"&&XNe.test(C)||JNe.test(C))return me(null);$m(l,C,a,function(w,S){if(w)return G(Wt.dirname(C),me);var M=Wt.join(S,"package.json");s(M,function(Se,se){if(!se)return G(Wt.dirname(C),me);d(u,M,function(_e,Fe){_e&&me(_e);var ht=Fe;ht&&a.packageFilter&&(ht=a.packageFilter(ht,M)),me(null,ht,C);});});});}function ee(C,me,w){var S=w,M=me;typeof M=="function"&&(S=M,M=a.package),$m(l,C,a,function(Se,se){if(Se)return S(Se);var _e=Wt.join(se,"package.json");s(_e,function(Fe,ht){if(Fe)return S(Fe);if(!ht)return $(Wt.join(C,"index"),M,S);d(u,_e,function(vt,rt){if(vt)return S(vt);var ye=rt;if(ye&&a.packageFilter&&(ye=a.packageFilter(ye,_e)),ye&&ye.main){if(typeof ye.main!="string"){var Gt=new TypeError("package \u201C"+ye.name+"\u201D `main` must be a string");return Gt.code="INVALID_PACKAGE_MAIN",S(Gt)}(ye.main==="."||ye.main==="./")&&(ye.main="index"),$(Wt.resolve(C,ye.main),ye,function(Je,Ct,Xt){if(Je)return S(Je);if(Ct)return S(null,Ct,Xt);if(!Xt)return $(Wt.join(C,"index"),Xt,S);var Gl=Wt.resolve(C,Xt.main);ee(Gl,Xt,function(jl,Kc,jt){if(jl)return S(jl);if(Kc)return S(null,Kc,jt);$(Wt.join(C,"index"),jt,S);});});return}$(Wt.join(C,"/index"),ye,S);});});});}function re(C,me){if(me.length===0)return C(null,void 0);var w=me[0];c(Wt.dirname(w),S);function S(se,_e){if(se)return C(se);if(!_e)return re(C,me.slice(1));$(w,a.package,M);}function M(se,_e,Fe){if(se)return C(se);if(_e)return C(null,_e,Fe);ee(w,a.package,Se);}function Se(se,_e,Fe){if(se)return C(se);if(_e)return C(null,_e,Fe);re(C,me.slice(1));}}function pe(C,me,w){var S=function(){return iPe(C,me,a)};re(w,f?f(C,me,S,a):S());}};});var Z9=T((Jot,oPe)=>{oPe.exports={assert:true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:true,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:true,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:true,"node:console":[">= 14.18 && < 15",">= 16"],constants:true,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:true,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:true,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:true,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:true,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:true,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:true,"node:module":[">= 14.18 && < 15",">= 16"],net:true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:true,"node:os":[">= 14.18 && < 15",">= 16"],path:true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:true,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:true,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:true,"node:tty":[">= 14.18 && < 15",">= 16"],url:true,"node:url":[">= 14.18 && < 15",">= 16"],util:true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:true,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]};});var eX=T((Qot,Q9)=>{var sPe=Um(),X9=Z9(),J9={};for(wT in X9)Object.prototype.hasOwnProperty.call(X9,wT)&&(J9[wT]=sPe(wT));var wT;Q9.exports=J9;});var rX=T((est,tX)=>{var aPe=Um();tX.exports=function(e){return aPe(e)};});var oX=T((tst,iX)=>{var cPe=Um(),bu=L("fs"),Mr=L("path"),uPe=Tw(),lPe=vw(),dPe=Aw(),pPe=Ow(),fPe=process.platform!=="win32"&&bu.realpathSync&&typeof bu.realpathSync.native=="function"?bu.realpathSync.native:bu.realpathSync,hPe=/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/,mPe=/^\w:[/\\]*$/,gPe=/[/\\]node_modules[/\\]*$/,nX=uPe(),_Pe=function(){return [Mr.join(nX,".node_modules"),Mr.join(nX,".node_libraries")]},SPe=function(e){try{var r=bu.statSync(e,{throwIfNoEntry:!1});}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return  false;throw i}return !!r&&(r.isFile()||r.isFIFO())},yPe=function(e){try{var r=bu.statSync(e,{throwIfNoEntry:!1});}catch(i){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR"))return  false;throw i}return !!r&&r.isDirectory()},EPe=function(e){try{return fPe(e)}catch(r){if(r.code!=="ENOENT")throw r}return e},zm=function(e,r,i){return i&&i.preserveSymlinks===false?e(r):r},TPe=function(e,r){var i=e(r);try{var n=JSON.parse(i);return n}catch{}},vPe=function(e,r,i){for(var n=dPe(r,i,e),a=0;a<n.length;a++)n[a]=Mr.join(n[a],e);return n};iX.exports=function(e,r){if(typeof e!="string")throw new TypeError("Path must be a string.");var i=pPe(e,r),n=i.isFile||SPe,a=i.readFileSync||bu.readFileSync,o=i.isDirectory||yPe,s=i.realpathSync||EPe,c=i.readPackageSync||TPe;if(i.readFileSync&&i.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var u=i.packageIterator,l=i.extensions||[".js"],d=i.includeCoreModules!==false,p=i.basedir||Mr.dirname(lPe()),f=i.filename||p;i.paths=i.paths||_Pe();var _=zm(s,Mr.resolve(p),i);if(hPe.test(e)){var y=Mr.resolve(_,e);(e==="."||e===".."||e.slice(-1)==="/")&&(y+="/");var v=I(y)||F(y);if(v)return zm(s,v,i)}else {if(d&&cPe(e))return e;var O=$(e,_);if(O)return zm(s,O,i)}var x=new Error("Cannot find module '"+e+"' from '"+f+"'");throw x.code="MODULE_NOT_FOUND",x;function I(G){var ee=R(Mr.dirname(G));if(ee&&ee.dir&&ee.pkg&&i.pathFilter){var re=Mr.relative(ee.dir,G),pe=i.pathFilter(ee.pkg,G,re);pe&&(G=Mr.resolve(ee.dir,pe));}if(n(G))return G;for(var C=0;C<l.length;C++){var me=G+l[C];if(n(me))return me}}function R(G){if(!(G===""||G==="/")&&!(process.platform==="win32"&&mPe.test(G))&&!gPe.test(G)){var ee=Mr.join(zm(s,G,i),"package.json");if(!n(ee))return R(Mr.dirname(G));var re=c(a,ee);return re&&i.packageFilter&&(re=i.packageFilter(re,G)),{pkg:re,dir:G}}}function F(G){var ee=Mr.join(zm(s,G,i),"/package.json");if(n(ee)){try{var re=c(a,ee);}catch{}if(re&&i.packageFilter&&(re=i.packageFilter(re,G)),re&&re.main){if(typeof re.main!="string"){var pe=new TypeError("package \u201C"+re.name+"\u201D `main` must be a string");throw pe.code="INVALID_PACKAGE_MAIN",pe}(re.main==="."||re.main==="./")&&(re.main="index");try{var C=I(Mr.resolve(G,re.main));if(C)return C;var me=F(Mr.resolve(G,re.main));if(me)return me}catch{}}}return I(Mr.join(G,"/index"))}function $(G,ee){for(var re=function(){return vPe(G,ee,i)},pe=u?u(G,ee,re,i):re(),C=0;C<pe.length;C++){var me=pe[C];if(o(Mr.dirname(me))){var w=I(me);if(w)return w;var S=F(me);if(S)return S}}}};});var xw=T((rst,sX)=>{var MT=Y9();MT.core=eX();MT.isCore=rX();MT.sync=oX();sX.exports=MT;});var aX=T((nst,bPe)=>{bPe.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}};});var Ms=T((ist,Pw)=>{var Md=L("path"),wi=L("module"),$t=Dm()("require-in-the-middle"),RPe=Ew();Pw.exports=Vm;Pw.exports.Hook=Vm;var Cw,wd;if(wi.isBuiltin)wd=wi.isBuiltin;else if(wi.builtinModules)wd=t=>t.startsWith("node:")?true:(Cw===void 0&&(Cw=new Set(wi.builtinModules)),Cw.has(t));else {let t=xw(),[e,r]=process.versions.node.split(".").map(Number);e===8&&r<8?wd=i=>i==="http2"?true:!!t.core[i]:wd=i=>!!t.core[i];}var LT;function APe(t,e){if(!LT)if(L.resolve&&L.resolve.paths)LT=function(r,i){return L.resolve(r,{paths:[i]})};else {let r=xw();LT=function(i,n){return r.sync(i,{basedir:n})};}return LT(t,e)}var OPe=/([/\\]index)?(\.js)?$/,Nw=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports");}has(e,r){if(this._localCache.has(e))return  true;if(r)return  false;{let i=L.cache[e];return !!(i&&this._kRitmExports in i)}}get(e,r){let i=this._localCache.get(e);if(i!==void 0)return i;if(!r){let n=L.cache[e];return n&&n[this._kRitmExports]}}set(e,r,i){i?this._localCache.set(e,r):e in L.cache?L.cache[e][this._kRitmExports]=r:($t('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,r));}};function Vm(t,e,r){if(!(this instanceof Vm))return new Vm(t,e,r);if(typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),typeof wi._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof wi._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,aX().bugs.url);return}this._cache=new Nw,this._unhooked=false,this._origRequire=wi.prototype.require;let i=this,n=new Set,a=e?e.internals===true:false,o=Array.isArray(t);$t("registering require hook"),this._require=wi.prototype.require=function(c){return i._unhooked===true?($t("ignoring require call - module is soft-unhooked"),i._origRequire.apply(this,arguments)):s.call(this,arguments,false)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(c){return i._unhooked===true?($t("ignoring process.getBuiltinModule call - module is soft-unhooked"),i._origGetBuiltinModule.apply(this,arguments)):s.call(this,arguments,true)});function s(c,u){let l=c[0],d=wd(l),p;if(d){if(p=l,l.startsWith("node:")){let x=l.slice(5);wd(x)&&(p=x);}}else {if(u)return $t("call to process.getBuiltinModule with unknown built-in id"),i._origGetBuiltinModule.apply(this,c);try{p=wi._resolveFilename(l,this);}catch(x){return $t('Module._resolveFilename("%s") threw %j, calling original Module.require',l,x.message),i._origRequire.apply(this,c)}}let f,_;if($t("processing %s module require('%s'): %s",d===true?"core":"non-core",l,p),i._cache.has(p,d)===true)return $t("returning already patched cached module: %s",p),i._cache.get(p,d);let y=n.has(p);y===false&&n.add(p);let v=u?i._origGetBuiltinModule.apply(this,c):i._origRequire.apply(this,c);if(y===true)return $t("module is in the process of being patched already - ignoring: %s",p),v;if(n.delete(p),d===true){if(o===true&&t.includes(p)===false)return $t("ignoring core module not on whitelist: %s",p),v;f=p;}else if(o===true&&t.includes(p)){let x=Md.parse(p);f=x.name,_=x.dir;}else {let x=RPe(p);if(x===void 0)return $t("could not parse filename: %s",p),v;f=x.name,_=x.basedir;let I=xPe(x);$t("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",f,l,I,_);let R=false;if(o){if(!l.startsWith(".")&&t.includes(l)&&(f=l,R=true),!t.includes(f)&&!t.includes(I))return v;t.includes(I)&&I!==f&&(f=I,R=true);}if(!R){let F;try{F=APe(f,_);}catch{return $t("could not resolve module: %s",f),i._cache.set(p,v,d),v}if(F!==p)if(a===true)f=f+Md.sep+Md.relative(_,p),$t("preparing to process require of internal file: %s",f);else return $t("ignoring require of non-main module file: %s",F),i._cache.set(p,v,d),v}}i._cache.set(p,v,d),$t("calling require hook: %s",f);let O=r(v,f,_);return i._cache.set(p,O,d),$t("returning module: %s",f),O}}Vm.prototype.unhook=function(){this._unhooked=true,this._require===wi.prototype.require?(wi.prototype.require=this._origRequire,$t("require unhook successful")):$t("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,$t("process.getBuiltinModule unhook successful")):$t("process.getBuiltinModule unhook unsuccessful"));};function xPe(t){let e=Md.sep!=="/"?t.path.split(Md.sep).join("/"):t.path;return Md.posix.join(t.name,e).replace(OPe,"")}});var DT,kT,cX=g(()=>{DT=class{hooks=[];children=new Map},kT=class{_trie=new DT;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new DT,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};});function NPe(t){return tl__namespace.sep!=="/"?t.split(tl__namespace.sep).join("/"):t}var lX,CPe,UT,dX=g(()=>{lX=Qe(Ms());cX();CPe=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),UT=class t{_moduleNameTrie=new kT;static _instance;constructor(){this._initialize();}_initialize(){new lX.Hook(null,{internals:true},(e,r,i)=>{let n=NPe(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return CPe?new t:this._instance=this._instance??new t}};});var _X=T(Ru=>{var pX=[],ww=new WeakMap,fX=new WeakMap,hX=new Map,mX=[],PPe={set(t,e,r){return ww.get(t)[e](r)},get(t,e){if(e===Symbol.toStringTag)return "Module";let r=fX.get(t)[e];if(typeof r=="function")return r()},defineProperty(t,e,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return ww.get(t)[e](r.value)}};function IPe(t,e,r,i,n){hX.set(t,n),ww.set(e,r),fX.set(e,i);let a=new Proxy(e,PPe);pX.forEach(o=>o(t,a)),mX.push([t,a]);}var gX=false;function wPe(){return gX}function MPe(t){gX=t;}Ru.register=IPe;Ru.importHooks=pX;Ru.specifiers=hX;Ru.toHook=mX;Ru.getExperimentalPatchInternals=wPe;Ru.setExperimentalPatchInternals=MPe;});var Fm=T((lst,Ld)=>{var SX=L("path"),LPe=Ew(),{fileURLToPath:yX}=L("url"),{MessageChannel:DPe}=L("worker_threads"),{importHooks:Mw,specifiers:kPe,toHook:UPe,getExperimentalPatchInternals:$Pe}=_X();function TX(t){Mw.push(t),UPe.forEach(([e,r])=>t(e,r));}function vX(t){let e=Mw.indexOf(t);e>-1&&Mw.splice(e,1);}function EX(t,e,r,i){let n=t(e,r,i);n&&n!==e&&(e.default=n);}var Lw;function zPe(){let{port1:t,port2:e}=new DPe,r=0,i;Lw=s=>{r++,t.postMessage(s);},t.on("message",()=>{r--,i&&r<=0&&i();}).unref();function n(){let s=setInterval(()=>{},1e3),c=new Promise(u=>{i=u;}).then(()=>{clearInterval(s);});return r===0&&i(),c}let a=e;return {registerOptions:{data:{addHookMessagePort:a,include:[]},transferList:[a]},addHookMessagePort:a,waitForAllMessagesAcknowledged:n}}function Bm(t,e,r){if(!(this instanceof Bm))return new Bm(t,e,r);typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i=e?e.internals===true:false;Lw&&Array.isArray(t)&&Lw(t),this._iitmHook=(n,a)=>{let o=n,s=n.startsWith("node:"),c;if(s)n=n.replace(/^node:/,"");else {if(n.startsWith("file://"))try{n=yX(n);}catch{}let u=LPe(n);u&&(n=u.name,c=u.basedir);}if(t){for(let u of t)if(u===n){if(c){if(i)n=n+SX.sep+SX.relative(c,yX(o));else if(!$Pe()&&!c.endsWith(kPe.get(o)))continue}EX(r,a,n,c);}}else EX(r,a,n,c);},TX(this._iitmHook);}Bm.prototype.unhook=function(){vX(this._iitmHook);};Ld.exports=Bm;Ld.exports.Hook=Bm;Ld.exports.addHook=TX;Ld.exports.removeHook=vX;Ld.exports.createAddHookMessageChannel=zPe;});function bX(t,e,r){let i,n;try{n=t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}async function RX(t,e,r){let i,n;try{n=await t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}function $T(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var Dw=g(()=>{});function OX(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>l9(e,i,{includePrerelease:r}))}var xX,CX,Dd,NX=g(()=>{h9();hw();m9();dX();xX=Qe(Fm());P();CX=Qe(Ms());Dw();Dd=class extends xT{_modules;_hooks=[];_requireInTheMiddleSingleton=UT.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if($T(e[r])&&this._unwrap(e,r),jZ.types.isProxy(e)){let n=Eu(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return Eu(e,r,i)};_unwrap=(e,r)=>jZ.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):Cd(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=L.resolve(r);L.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=Zs.readFileSync(tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{E.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return OX(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=tl__namespace.normalize(i);return o.filter(u=>u.name===s).filter(u=>OX(u.supportedVersions,a,e.includePrerelease)).reduce((u,l)=>(l.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:l.name,baseDir:n}),l.patch(u,e.moduleVersion)):u),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&tl__namespace.isAbsolute(s)){let u=tl__namespace.parse(s);s=u.name,c=u.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=tl__namespace.isAbsolute(e.name)?new CX.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new xX.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};});var PX=g(()=>{});var IX=g(()=>{NX();PX();});var kw=g(()=>{IX();});var VT,wX=g(()=>{VT=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};});var BT,MX=g(()=>{kw();BT=class{supportedVersions;patch;unpatch;name;constructor(e,r,i,n){this.supportedVersions=r,this.patch=i,this.unpatch=n,this.name=tl.normalize(e);}};});function LX(t,e){let r=Au.OLD,i=e?.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of i??[])if(n.toLowerCase()===t+"/dup"){r=Au.DUPLICATE;break}else n.toLowerCase()===t&&(r=Au.STABLE);return r}var Au,DX=g(()=>{(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE";})(Au||(Au={}));});var sn={};Pe(sn,{InstrumentationBase:()=>Dd,InstrumentationNodeModuleDefinition:()=>VT,InstrumentationNodeModuleFile:()=>BT,SemconvStability:()=>Au,isWrapped:()=>$T,registerInstrumentations:()=>n9,safeExecuteInTheMiddle:()=>bX,safeExecuteInTheMiddleAsync:()=>RX,semconvStabilityFromStr:()=>LX});var an=g(()=>{i9();kw();wX();MX();Dw();DX();});var cn,kX=g(()=>{cn=class{_delegate;constructor(e){this._delegate=e;}export(e,r){this._delegate.export(e,r);}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}};});var Ds,FT=g(()=>{Ds=class extends Error{code;name="OTLPExporterError";data;constructor(e,r,i){super(e),this.data=i,this.code=r;}};});function BPe(t){if(Number.isFinite(t)&&t>0)return t;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${t}')`)}function HT(t){if(t!=null)return ()=>t}function GT(t,e,r){return {timeoutMillis:BPe(t.timeoutMillis??e.timeoutMillis??r.timeoutMillis),concurrencyLimit:t.concurrencyLimit??e.concurrencyLimit??r.concurrencyLimit,compression:t.compression??e.compression??r.compression}}function jT(){return {timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var Hm=g(()=>{});var qT,UX=g(()=>{(function(t){t.NONE="none",t.GZIP="gzip";})(qT||(qT={}));});function WT(t){return new Uw(t.concurrencyLimit)}var Uw,$w=g(()=>{Uw=class{_concurrencyLimit;_sendingPromises=[];constructor(e){this._concurrencyLimit=e;}pushPromise(e){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);let r=()=>{let i=this._sendingPromises.indexOf(e);this._sendingPromises.splice(i,1);};e.then(r,r);}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises);}};});function FPe(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function $X(){return {handleResponse(t){t==null||!FPe(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||E.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess));}}}var zX=g(()=>{P();});function KT(t,e){return new zw(t.transport,t.serializer,$X(),t.promiseHandler,e.timeout)}var zw,Vw=g(()=>{Q();FT();zX();P();zw=class{_transport;_serializer;_responseHandler;_promiseQueue;_timeout;_diagLogger;constructor(e,r,i,n,a){this._transport=e,this._serializer=r,this._responseHandler=i,this._promiseQueue=n,this._timeout=a,this._diagLogger=E.createComponentLogger({namespace:"OTLPExportDelegate"});}export(e,r){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){r({code:Z.FAILED,error:new Error("Concurrent export limit reached")});return}let i=this._serializer.serializeRequest(e);if(i==null){r({code:Z.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(i,this._timeout).then(n=>{if(n.status==="success"){if(n.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(n.data));}catch(a){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",a,n.data);}r({code:Z.SUCCESS});return}else if(n.status==="failure"&&n.error){r({code:Z.FAILED,error:n.error});return}else n.status==="retryable"?r({code:Z.FAILED,error:new Ds("Export failed with retryable status")}):r({code:Z.FAILED,error:new Ds("Export failed with unknown error")});},n=>r({code:Z.FAILED,error:n})));}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown();}};});function VX(t,e,r){return KT({transport:r,serializer:e,promiseHandler:WT(t)},{timeout:t.timeoutMillis})}var BX=g(()=>{$w();Vw();});var Gm={};Pe(Gm,{CompressionAlgorithm:()=>qT,OTLPExporterBase:()=>cn,OTLPExporterError:()=>Ds,createOtlpNetworkExportDelegate:()=>VX,getSharedConfigurationDefaults:()=>jT,mergeOtlpSharedConfigurationWithDefaults:()=>GT});var To=g(()=>{kX();FT();Hm();UX();BX();});var Bw=T((oat,FX)=>{FX.exports=HPe;function HPe(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,a=true;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(s,c){r[i]=function(l){if(a)if(a=false,l)c(l);else {for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p++]=arguments[p];s.apply(null,d);}};try{t.apply(e||null,r);}catch(u){a&&(a=false,c(u));}})}});var qX=T(jX=>{var YT=jX;YT.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var kd=new Array(64),GX=new Array(123);for(Mi=0;Mi<64;)GX[kd[Mi]=Mi<26?Mi+65:Mi<52?Mi+71:Mi<62?Mi-4:Mi-59|43]=Mi++;var Mi;YT.encode=function(e,r,i){for(var n=null,a=[],o=0,s=0,c;r<i;){var u=e[r++];switch(s){case 0:a[o++]=kd[u>>2],c=(u&3)<<4,s=1;break;case 1:a[o++]=kd[c|u>>4],c=(u&15)<<2,s=2;break;case 2:a[o++]=kd[c|u>>6],a[o++]=kd[u&63],s=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),o=0);}return s&&(a[o++]=kd[c],a[o++]=61,s===1&&(a[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,a.slice(0,o))),n.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var HX="invalid encoding";YT.decode=function(e,r,i){for(var n=i,a=0,o,s=0;s<e.length;){var c=e.charCodeAt(s++);if(c===61&&a>1)break;if((c=GX[c])===void 0)throw Error(HX);switch(a){case 0:o=c,a=1;break;case 1:r[i++]=o<<2|(c&48)>>4,o=c,a=2;break;case 2:r[i++]=(o&15)<<4|(c&60)>>2,o=c,a=3;break;case 3:r[i++]=(o&3)<<6|c,a=0;break}}if(a===1)throw Error(HX);return i-n};YT.test=function(e){return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)};});var KX=T((aat,WX)=>{WX.exports=ZT;function ZT(){this._listeners={};}ZT.prototype.on=function(e,r,i){return (this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};ZT.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};ZT.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i);}return this};});var tJ=T((cat,eJ)=>{eJ.exports=YX(YX);function YX(t){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(c,u,l){e[0]=c,u[l]=r[0],u[l+1]=r[1],u[l+2]=r[2],u[l+3]=r[3];}function a(c,u,l){e[0]=c,u[l]=r[3],u[l+1]=r[2],u[l+2]=r[1],u[l+3]=r[0];}t.writeFloatLE=i?n:a,t.writeFloatBE=i?a:n;function o(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],e[0]}function s(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],e[0]}t.readFloatLE=i?o:s,t.readFloatBE=i?s:o;})():(function(){function e(i,n,a,o){var s=n<0?1:0;if(s&&(n=-n),n===0)i(1/n>0?0:2147483648,a,o);else if(isNaN(n))i(2143289344,a,o);else if(n>34028234663852886e22)i((s<<31|2139095040)>>>0,a,o);else if(n<11754943508222875e-54)i((s<<31|Math.round(n/1401298464324817e-60))>>>0,a,o);else {var c=Math.floor(Math.log(n)/Math.LN2),u=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((s<<31|c+127<<23|u)>>>0,a,o);}}t.writeFloatLE=e.bind(null,ZX),t.writeFloatBE=e.bind(null,XX);function r(i,n,a){var o=i(n,a),s=(o>>31)*2+1,c=o>>>23&255,u=o&8388607;return c===255?u?NaN:s*(1/0):c===0?s*1401298464324817e-60*u:s*Math.pow(2,c-150)*(u+8388608)}t.readFloatLE=r.bind(null,JX),t.readFloatBE=r.bind(null,QX);})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(c,u,l){e[0]=c,u[l]=r[0],u[l+1]=r[1],u[l+2]=r[2],u[l+3]=r[3],u[l+4]=r[4],u[l+5]=r[5],u[l+6]=r[6],u[l+7]=r[7];}function a(c,u,l){e[0]=c,u[l]=r[7],u[l+1]=r[6],u[l+2]=r[5],u[l+3]=r[4],u[l+4]=r[3],u[l+5]=r[2],u[l+6]=r[1],u[l+7]=r[0];}t.writeDoubleLE=i?n:a,t.writeDoubleBE=i?a:n;function o(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],e[0]}function s(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],e[0]}t.readDoubleLE=i?o:s,t.readDoubleBE=i?s:o;})():(function(){function e(i,n,a,o,s,c){var u=o<0?1:0;if(u&&(o=-o),o===0)i(0,s,c+n),i(1/o>0?0:2147483648,s,c+a);else if(isNaN(o))i(0,s,c+n),i(2146959360,s,c+a);else if(o>17976931348623157e292)i(0,s,c+n),i((u<<31|2146435072)>>>0,s,c+a);else {var l;if(o<22250738585072014e-324)l=o/5e-324,i(l>>>0,s,c+n),i((u<<31|l/4294967296)>>>0,s,c+a);else {var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),l=o*Math.pow(2,-d),i(l*4503599627370496>>>0,s,c+n),i((u<<31|d+1023<<20|l*1048576&1048575)>>>0,s,c+a);}}}t.writeDoubleLE=e.bind(null,ZX,0,4),t.writeDoubleBE=e.bind(null,XX,4,0);function r(i,n,a,o,s){var c=i(o,s+n),u=i(o,s+a),l=(u>>31)*2+1,d=u>>>20&2047,p=4294967296*(u&1048575)+c;return d===2047?p?NaN:l*(1/0):d===0?l*5e-324*p:l*Math.pow(2,d-1075)*(p+4503599627370496)}t.readDoubleLE=r.bind(null,JX,0,4),t.readDoubleBE=r.bind(null,QX,4,0);})(),t}function ZX(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24;}function XX(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255;}function JX(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function QX(t,e){return (t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Fw=T((exports,module)=>{module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var nJ=T(rJ=>{var Hw=rJ;Hw.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};Hw.read=function(e,r,i){var n=i-r;if(n<1)return "";for(var a=null,o=[],s=0,c;r<i;)c=e[r++],c<128?o[s++]=c:c>191&&c<224?o[s++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[s++]=55296+(c>>10),o[s++]=56320+(c&1023)):o[s++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};Hw.write=function(e,r,i){for(var n=i,a,o,s=0;s<e.length;++s)a=e.charCodeAt(s),a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):(a&64512)===55296&&((o=e.charCodeAt(s+1))&64512)===56320?(a=65536+((a&1023)<<10)+(o&1023),++s,r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128);return i-n};});var oJ=T((lat,iJ)=>{iJ.exports=GPe;function GPe(t,e,r){var i=r||8192,n=i>>>1,a=null,o=i;return function(c){if(c<1||c>n)return t(c);o+c>i&&(a=t(i),o=0);var u=e.call(a,o,o+=c);return o&7&&(o=(o|7)+1),u}}});var aJ=T((dat,sJ)=>{sJ.exports=ar;var jm=vo();function ar(t,e){this.lo=t>>>0,this.hi=e>>>0;}var Ou=ar.zero=new ar(0,0);Ou.toNumber=function(){return 0};Ou.zzEncode=Ou.zzDecode=function(){return this};Ou.length=function(){return 1};var jPe=ar.zeroHash="\0\0\0\0\0\0\0\0";ar.fromNumber=function(e){if(e===0)return Ou;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new ar(i,n)};ar.from=function(e){if(typeof e=="number")return ar.fromNumber(e);if(jm.isString(e))if(jm.Long)e=jm.Long.fromString(e);else return ar.fromNumber(parseInt(e,10));return e.low||e.high?new ar(e.low>>>0,e.high>>>0):Ou};ar.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};ar.prototype.toLong=function(e){return jm.Long?new jm.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Da=String.prototype.charCodeAt;ar.fromHash=function(e){return e===jPe?Ou:new ar((Da.call(e,0)|Da.call(e,1)<<8|Da.call(e,2)<<16|Da.call(e,3)<<24)>>>0,(Da.call(e,4)|Da.call(e,5)<<8|Da.call(e,6)<<16|Da.call(e,7)<<24)>>>0)};ar.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ar.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};ar.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};ar.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10};});var vo=T(Gw=>{var ue=Gw;ue.asPromise=Bw();ue.base64=qX();ue.EventEmitter=KX();ue.float=tJ();ue.inquire=Fw();ue.utf8=nJ();ue.pool=oJ();ue.LongBits=aJ();ue.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);ue.global=ue.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Gw;ue.emptyArray=Object.freeze?Object.freeze([]):[];ue.emptyObject=Object.freeze?Object.freeze({}):{};ue.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};ue.isString=function(e){return typeof e=="string"||e instanceof String};ue.isObject=function(e){return e&&typeof e=="object"};ue.isset=ue.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:false};ue.Buffer=(function(){try{var t=ue.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}})();ue._Buffer_from=null;ue._Buffer_allocUnsafe=null;ue.newBuffer=function(e){return typeof e=="number"?ue.Buffer?ue._Buffer_allocUnsafe(e):new ue.Array(e):ue.Buffer?ue._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};ue.Array=typeof Uint8Array<"u"?Uint8Array:Array;ue.Long=ue.global.dcodeIO&&ue.global.dcodeIO.Long||ue.global.Long||ue.inquire("long");ue.key2Re=/^true|false|0|1$/;ue.key32Re=/^-?(?:0|[1-9][0-9]*)$/;ue.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;ue.longToHash=function(e){return e?ue.LongBits.from(e).toHash():ue.LongBits.zeroHash};ue.longFromHash=function(e,r){var i=ue.LongBits.fromHash(e);return ue.Long?ue.Long.fromBits(i.lo,i.hi,r):i.toNumber(!!r)};function cJ(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}ue.merge=cJ;ue.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function uJ(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&cJ(this,i);}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:true,enumerable:false,configurable:true},name:{get:function(){return t},set:void 0,enumerable:false,configurable:true},toString:{value:function(){return this.name+": "+this.message},writable:true,enumerable:false,configurable:true}}),e}ue.newError=uJ;ue.ProtocolError=uJ("ProtocolError");ue.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),a=n.length-1;a>-1;--a)if(r[n[a]]===1&&this[n[a]]!==void 0&&this[n[a]]!==null)return n[a]}};ue.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]];}};ue.toJSONOptions={longs:String,enums:String,bytes:String,json:true};ue._configure=function(){var t=ue.Buffer;if(!t){ue._Buffer_from=ue._Buffer_allocUnsafe=null;return}ue._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},ue._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)};};});var JT=T((fat,fJ)=>{fJ.exports=Ze;var oi=vo(),jw,XT=oi.LongBits,lJ=oi.base64,dJ=oi.utf8;function qm(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r;}function Ww(){}function qPe(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states;}function Ze(){this.len=0,this.head=new qm(Ww,0,0),this.tail=this.head,this.states=null;}var pJ=function(){return oi.Buffer?function(){return (Ze.create=function(){return new jw})()}:function(){return new Ze}};Ze.create=pJ();Ze.alloc=function(e){return new oi.Array(e)};oi.Array!==Array&&(Ze.alloc=oi.pool(Ze.alloc,oi.Array.prototype.subarray));Ze.prototype._push=function(e,r,i){return this.tail=this.tail.next=new qm(e,r,i),this.len+=r,this};function Kw(t,e,r){e[r]=t&255;}function WPe(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t;}function Yw(t,e){this.len=t,this.next=void 0,this.val=e;}Yw.prototype=Object.create(qm.prototype);Yw.prototype.fn=WPe;Ze.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Yw((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Ze.prototype.int32=function(e){return e<0?this._push(Zw,10,XT.fromNumber(e)):this.uint32(e)};Ze.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Zw(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo;}Ze.prototype.uint64=function(e){var r=XT.from(e);return this._push(Zw,r.length(),r)};Ze.prototype.int64=Ze.prototype.uint64;Ze.prototype.sint64=function(e){var r=XT.from(e).zzEncode();return this._push(Zw,r.length(),r)};Ze.prototype.bool=function(e){return this._push(Kw,1,e?1:0)};function qw(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24;}Ze.prototype.fixed32=function(e){return this._push(qw,4,e>>>0)};Ze.prototype.sfixed32=Ze.prototype.fixed32;Ze.prototype.fixed64=function(e){var r=XT.from(e);return this._push(qw,4,r.lo)._push(qw,4,r.hi)};Ze.prototype.sfixed64=Ze.prototype.fixed64;Ze.prototype.float=function(e){return this._push(oi.float.writeFloatLE,4,e)};Ze.prototype.double=function(e){return this._push(oi.float.writeDoubleLE,8,e)};var KPe=oi.Array.prototype.set?function(e,r,i){r.set(e,i);}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n];};Ze.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Kw,1,0);if(oi.isString(e)){var i=Ze.alloc(r=lJ.length(e));lJ.decode(e,i,0),e=i;}return this.uint32(r)._push(KPe,r,e)};Ze.prototype.string=function(e){var r=dJ.length(e);return r?this.uint32(r)._push(dJ.write,r,e):this._push(Kw,1,0)};Ze.prototype.fork=function(){return this.states=new qPe(this),this.head=this.tail=new qm(Ww,0,0),this.len=0,this};Ze.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new qm(Ww,0,0),this.len=0),this};Ze.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};Ze.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};Ze._configure=function(t){jw=t,Ze.create=pJ(),jw._configure();};});var gJ=T((hat,mJ)=>{mJ.exports=bo;var hJ=JT();(bo.prototype=Object.create(hJ.prototype)).constructor=bo;var ka=vo();function bo(){hJ.call(this);}bo._configure=function(){bo.alloc=ka._Buffer_allocUnsafe,bo.writeBytesBuffer=ka.Buffer&&ka.Buffer.prototype instanceof Uint8Array&&ka.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i);}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++];};};bo.prototype.bytes=function(e){ka.isString(e)&&(e=ka._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(bo.writeBytesBuffer,r,e),this};function YPe(t,e,r){t.length<40?ka.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r);}bo.prototype.string=function(e){var r=ka.Buffer.byteLength(e);return this.uint32(r),r&&this._push(YPe,r,e),this};bo._configure();});var ev=T((mat,TJ)=>{TJ.exports=zt;var Li=vo(),Jw,yJ=Li.LongBits,ZPe=Li.utf8;function Di(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function zt(t){this.buf=t,this.pos=0,this.len=t.length;}var _J=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new zt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new zt(e);throw Error("illegal buffer")},EJ=function(){return Li.Buffer?function(r){return (zt.create=function(n){return Li.Buffer.isBuffer(n)?new Jw(n):_J(n)})(r)}:_J};zt.create=EJ();zt.prototype._slice=Li.Array.prototype.subarray||Li.Array.prototype.slice;zt.prototype.uint32=(function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Di(this,10);return e}})();zt.prototype.int32=function(){return this.uint32()|0};zt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Xw(){var t=new yJ(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0;}else {for(;e<3;++e){if(this.pos>=this.len)throw Di(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Di(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}zt.prototype.bool=function(){return this.uint32()!==0};function QT(t,e){return (t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}zt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Di(this,4);return QT(this.buf,this.pos+=4)};zt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Di(this,4);return QT(this.buf,this.pos+=4)|0};function SJ(){if(this.pos+8>this.len)throw Di(this,8);return new yJ(QT(this.buf,this.pos+=4),QT(this.buf,this.pos+=4))}zt.prototype.float=function(){if(this.pos+4>this.len)throw Di(this,4);var e=Li.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};zt.prototype.double=function(){if(this.pos+8>this.len)throw Di(this,4);var e=Li.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};zt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw Di(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,i);if(r===i){var n=Li.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,i)};zt.prototype.string=function(){var e=this.bytes();return ZPe.read(e,0,e.length)};zt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Di(this,e);this.pos+=e;}else do if(this.pos>=this.len)throw Di(this);while(this.buf[this.pos++]&128);return this};zt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};zt._configure=function(t){Jw=t,zt.create=EJ(),Jw._configure();var e=Li.Long?"toLong":"toNumber";Li.merge(zt.prototype,{int64:function(){return Xw.call(this)[e](false)},uint64:function(){return Xw.call(this)[e](true)},sint64:function(){return Xw.call(this).zzDecode()[e](false)},fixed64:function(){return SJ.call(this)[e](true)},sfixed64:function(){return SJ.call(this)[e](false)}});};});var AJ=T((gat,RJ)=>{RJ.exports=xu;var bJ=ev();(xu.prototype=Object.create(bJ.prototype)).constructor=xu;var vJ=vo();function xu(t){bJ.call(this,t);}xu._configure=function(){vJ.Buffer&&(xu.prototype._slice=vJ.Buffer.prototype.slice);};xu.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};xu._configure();});var xJ=T((_at,OJ)=>{OJ.exports=Wm;var Qw=vo();(Wm.prototype=Object.create(Qw.EventEmitter.prototype)).constructor=Wm;function Wm(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Qw.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r;}Wm.prototype.rpcCall=function t(e,r,i,n,a){if(!n)throw TypeError("request must be specified");var o=this;if(!a)return Qw.asPromise(t,o,e,r,i,n);if(!o.rpcImpl){setTimeout(function(){a(Error("already ended"));},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(c,u){if(c)return o.emit("error",c,e),a(c);if(u===null){o.end(!0);return}if(!(u instanceof i))try{u=i[o.responseDelimited?"decodeDelimited":"decode"](u);}catch(l){return o.emit("error",l,e),a(l)}return o.emit("data",u,e),a(null,u)})}catch(s){o.emit("error",s,e),setTimeout(function(){a(s);},0);return}};Wm.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};});var e0=T(CJ=>{var XPe=CJ;XPe.Service=xJ();});var t0=T((yat,NJ)=>{NJ.exports={};});var r0=T(IJ=>{var un=IJ;un.build="minimal";un.Writer=JT();un.BufferWriter=gJ();un.Reader=ev();un.BufferReader=AJ();un.util=vo();un.rpc=e0();un.roots=t0();un.configure=PJ;function PJ(){un.util._configure(),un.Writer._configure(un.BufferWriter),un.Reader._configure(un.BufferReader);}PJ();});var MJ=T((Tat,wJ)=>{wJ.exports=r0();});var tv=T((vat,LJ)=>{var he=MJ(),A=he.Reader,Ae=he.Writer,m=he.util,h=he.roots.default||(he.roots.default={});h.opentelemetry=(function(){var t={};return t.proto=(function(){var e={};return e.common=(function(){var r={};return r.v1=(function(){var i={};return i.AnyValue=(function(){function n(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.stringValue=null,n.prototype.boolValue=null,n.prototype.intValue=null,n.prototype.doubleValue=null,n.prototype.arrayValue=null,n.prototype.kvlistValue=null,n.prototype.bytesValue=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){return c||(c=Ae.create()),s.stringValue!=null&&Object.hasOwnProperty.call(s,"stringValue")&&c.uint32(10).string(s.stringValue),s.boolValue!=null&&Object.hasOwnProperty.call(s,"boolValue")&&c.uint32(16).bool(s.boolValue),s.intValue!=null&&Object.hasOwnProperty.call(s,"intValue")&&c.uint32(24).int64(s.intValue),s.doubleValue!=null&&Object.hasOwnProperty.call(s,"doubleValue")&&c.uint32(33).double(s.doubleValue),s.arrayValue!=null&&Object.hasOwnProperty.call(s,"arrayValue")&&h.opentelemetry.proto.common.v1.ArrayValue.encode(s.arrayValue,c.uint32(42).fork()).ldelim(),s.kvlistValue!=null&&Object.hasOwnProperty.call(s,"kvlistValue")&&h.opentelemetry.proto.common.v1.KeyValueList.encode(s.kvlistValue,c.uint32(50).fork()).ldelim(),s.bytesValue!=null&&Object.hasOwnProperty.call(s,"bytesValue")&&c.uint32(58).bytes(s.bytesValue),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.common.v1.AnyValue;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.stringValue=s.string();break}case 2:{d.boolValue=s.bool();break}case 3:{d.intValue=s.int64();break}case 4:{d.doubleValue=s.double();break}case 5:{d.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.decode(s,s.uint32());break}case 6:{d.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.decode(s,s.uint32());break}case 7:{d.bytesValue=s.bytes();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(c.value=1,!m.isString(s.stringValue)))return "stringValue: string expected";if(s.boolValue!=null&&s.hasOwnProperty("boolValue")){if(c.value===1)return "value: multiple values";if(c.value=1,typeof s.boolValue!="boolean")return "boolValue: boolean expected"}if(s.intValue!=null&&s.hasOwnProperty("intValue")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.intValue)&&!(s.intValue&&m.isInteger(s.intValue.low)&&m.isInteger(s.intValue.high)))return "intValue: integer|Long expected"}if(s.doubleValue!=null&&s.hasOwnProperty("doubleValue")){if(c.value===1)return "value: multiple values";if(c.value=1,typeof s.doubleValue!="number")return "doubleValue: number expected"}if(s.arrayValue!=null&&s.hasOwnProperty("arrayValue")){if(c.value===1)return "value: multiple values";c.value=1;{var u=h.opentelemetry.proto.common.v1.ArrayValue.verify(s.arrayValue);if(u)return "arrayValue."+u}}if(s.kvlistValue!=null&&s.hasOwnProperty("kvlistValue")){if(c.value===1)return "value: multiple values";c.value=1;{var u=h.opentelemetry.proto.common.v1.KeyValueList.verify(s.kvlistValue);if(u)return "kvlistValue."+u}}if(s.bytesValue!=null&&s.hasOwnProperty("bytesValue")){if(c.value===1)return "value: multiple values";if(c.value=1,!(s.bytesValue&&typeof s.bytesValue.length=="number"||m.isString(s.bytesValue)))return "bytesValue: buffer expected"}return null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.common.v1.AnyValue)return s;var c=new h.opentelemetry.proto.common.v1.AnyValue;if(s.stringValue!=null&&(c.stringValue=String(s.stringValue)),s.boolValue!=null&&(c.boolValue=!!s.boolValue),s.intValue!=null&&(m.Long?(c.intValue=m.Long.fromValue(s.intValue)).unsigned=false:typeof s.intValue=="string"?c.intValue=parseInt(s.intValue,10):typeof s.intValue=="number"?c.intValue=s.intValue:typeof s.intValue=="object"&&(c.intValue=new m.LongBits(s.intValue.low>>>0,s.intValue.high>>>0).toNumber())),s.doubleValue!=null&&(c.doubleValue=Number(s.doubleValue)),s.arrayValue!=null){if(typeof s.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");c.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.fromObject(s.arrayValue);}if(s.kvlistValue!=null){if(typeof s.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");c.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.fromObject(s.kvlistValue);}return s.bytesValue!=null&&(typeof s.bytesValue=="string"?m.base64.decode(s.bytesValue,c.bytesValue=m.newBuffer(m.base64.length(s.bytesValue)),0):s.bytesValue.length>=0&&(c.bytesValue=s.bytesValue)),c},n.toObject=function(s,c){c||(c={});var u={};return s.stringValue!=null&&s.hasOwnProperty("stringValue")&&(u.stringValue=s.stringValue,c.oneofs&&(u.value="stringValue")),s.boolValue!=null&&s.hasOwnProperty("boolValue")&&(u.boolValue=s.boolValue,c.oneofs&&(u.value="boolValue")),s.intValue!=null&&s.hasOwnProperty("intValue")&&(typeof s.intValue=="number"?u.intValue=c.longs===String?String(s.intValue):s.intValue:u.intValue=c.longs===String?m.Long.prototype.toString.call(s.intValue):c.longs===Number?new m.LongBits(s.intValue.low>>>0,s.intValue.high>>>0).toNumber():s.intValue,c.oneofs&&(u.value="intValue")),s.doubleValue!=null&&s.hasOwnProperty("doubleValue")&&(u.doubleValue=c.json&&!isFinite(s.doubleValue)?String(s.doubleValue):s.doubleValue,c.oneofs&&(u.value="doubleValue")),s.arrayValue!=null&&s.hasOwnProperty("arrayValue")&&(u.arrayValue=h.opentelemetry.proto.common.v1.ArrayValue.toObject(s.arrayValue,c),c.oneofs&&(u.value="arrayValue")),s.kvlistValue!=null&&s.hasOwnProperty("kvlistValue")&&(u.kvlistValue=h.opentelemetry.proto.common.v1.KeyValueList.toObject(s.kvlistValue,c),c.oneofs&&(u.value="kvlistValue")),s.bytesValue!=null&&s.hasOwnProperty("bytesValue")&&(u.bytesValue=c.bytes===String?m.base64.encode(s.bytesValue,0,s.bytesValue.length):c.bytes===Array?Array.prototype.slice.call(s.bytesValue):s.bytesValue,c.oneofs&&(u.value="bytesValue")),u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.common.v1.AnyValue"},n})(),i.ArrayValue=(function(){function n(a){if(this.values=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.values=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.values!=null&&o.values.length)for(var c=0;c<o.values.length;++c)h.opentelemetry.proto.common.v1.AnyValue.encode(o.values[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.common.v1.ArrayValue;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.values&&l.values.length||(l.values=[]),l.values.push(h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.values!=null&&o.hasOwnProperty("values")){if(!Array.isArray(o.values))return "values: array expected";for(var s=0;s<o.values.length;++s){var c=h.opentelemetry.proto.common.v1.AnyValue.verify(o.values[s]);if(c)return "values."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.ArrayValue)return o;var s=new h.opentelemetry.proto.common.v1.ArrayValue;if(o.values){if(!Array.isArray(o.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");s.values=[];for(var c=0;c<o.values.length;++c){if(typeof o.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");s.values[c]=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.values[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.values=[]),o.values&&o.values.length){c.values=[];for(var u=0;u<o.values.length;++u)c.values[u]=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.values[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.ArrayValue"},n})(),i.KeyValueList=(function(){function n(a){if(this.values=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.values=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.values!=null&&o.values.length)for(var c=0;c<o.values.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.values[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.common.v1.KeyValueList;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.values&&l.values.length||(l.values=[]),l.values.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.values!=null&&o.hasOwnProperty("values")){if(!Array.isArray(o.values))return "values: array expected";for(var s=0;s<o.values.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.values[s]);if(c)return "values."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.KeyValueList)return o;var s=new h.opentelemetry.proto.common.v1.KeyValueList;if(o.values){if(!Array.isArray(o.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");s.values=[];for(var c=0;c<o.values.length;++c){if(typeof o.values[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");s.values[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.values[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.values=[]),o.values&&o.values.length){c.values=[];for(var u=0;u<o.values.length;++u)c.values[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.values[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.KeyValueList"},n})(),i.KeyValue=(function(){function n(a){if(a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.key=null,n.prototype.value=null,n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=Ae.create()),o.key!=null&&Object.hasOwnProperty.call(o,"key")&&s.uint32(10).string(o.key),o.value!=null&&Object.hasOwnProperty.call(o,"value")&&h.opentelemetry.proto.common.v1.AnyValue.encode(o.value,s.uint32(18).fork()).ldelim(),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.common.v1.KeyValue;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.key=o.string();break}case 2:{l.value=h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32());break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.key!=null&&o.hasOwnProperty("key")&&!m.isString(o.key))return "key: string expected";if(o.value!=null&&o.hasOwnProperty("value")){var s=h.opentelemetry.proto.common.v1.AnyValue.verify(o.value);if(s)return "value."+s}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.KeyValue)return o;var s=new h.opentelemetry.proto.common.v1.KeyValue;if(o.key!=null&&(s.key=String(o.key)),o.value!=null){if(typeof o.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");s.value=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.value);}return s},n.toObject=function(o,s){s||(s={});var c={};return s.defaults&&(c.key="",c.value=null),o.key!=null&&o.hasOwnProperty("key")&&(c.key=o.key),o.value!=null&&o.hasOwnProperty("value")&&(c.value=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.value,s)),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.KeyValue"},n})(),i.InstrumentationScope=(function(){function n(a){if(this.attributes=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.name=null,n.prototype.version=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&s.uint32(10).string(o.name),o.version!=null&&Object.hasOwnProperty.call(o,"version")&&s.uint32(18).string(o.version),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(26).fork()).ldelim();return o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(32).uint32(o.droppedAttributesCount),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.common.v1.InstrumentationScope;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.name=o.string();break}case 2:{l.version=o.string();break}case 3:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 4:{l.droppedAttributesCount=o.uint32();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.name!=null&&o.hasOwnProperty("name")&&!m.isString(o.name))return "name: string expected";if(o.version!=null&&o.hasOwnProperty("version")&&!m.isString(o.version))return "version: string expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.InstrumentationScope)return o;var s=new h.opentelemetry.proto.common.v1.InstrumentationScope;if(o.name!=null&&(s.name=String(o.name)),o.version!=null&&(s.version=String(o.version)),o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}return o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[]),s.defaults&&(c.name="",c.version="",c.droppedAttributesCount=0),o.name!=null&&o.hasOwnProperty("name")&&(c.name=o.name),o.version!=null&&o.hasOwnProperty("version")&&(c.version=o.version),o.attributes&&o.attributes.length){c.attributes=[];for(var u=0;u<o.attributes.length;++u)c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[u],s);}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.InstrumentationScope"},n})(),i.EntityRef=(function(){function n(a){if(this.idKeys=[],this.descriptionKeys=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.schemaUrl=null,n.prototype.type=null,n.prototype.idKeys=m.emptyArray,n.prototype.descriptionKeys=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(10).string(o.schemaUrl),o.type!=null&&Object.hasOwnProperty.call(o,"type")&&s.uint32(18).string(o.type),o.idKeys!=null&&o.idKeys.length)for(var c=0;c<o.idKeys.length;++c)s.uint32(26).string(o.idKeys[c]);if(o.descriptionKeys!=null&&o.descriptionKeys.length)for(var c=0;c<o.descriptionKeys.length;++c)s.uint32(34).string(o.descriptionKeys[c]);return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.common.v1.EntityRef;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.schemaUrl=o.string();break}case 2:{l.type=o.string();break}case 3:{l.idKeys&&l.idKeys.length||(l.idKeys=[]),l.idKeys.push(o.string());break}case 4:{l.descriptionKeys&&l.descriptionKeys.length||(l.descriptionKeys=[]),l.descriptionKeys.push(o.string());break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl))return "schemaUrl: string expected";if(o.type!=null&&o.hasOwnProperty("type")&&!m.isString(o.type))return "type: string expected";if(o.idKeys!=null&&o.hasOwnProperty("idKeys")){if(!Array.isArray(o.idKeys))return "idKeys: array expected";for(var s=0;s<o.idKeys.length;++s)if(!m.isString(o.idKeys[s]))return "idKeys: string[] expected"}if(o.descriptionKeys!=null&&o.hasOwnProperty("descriptionKeys")){if(!Array.isArray(o.descriptionKeys))return "descriptionKeys: array expected";for(var s=0;s<o.descriptionKeys.length;++s)if(!m.isString(o.descriptionKeys[s]))return "descriptionKeys: string[] expected"}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.common.v1.EntityRef)return o;var s=new h.opentelemetry.proto.common.v1.EntityRef;if(o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),o.type!=null&&(s.type=String(o.type)),o.idKeys){if(!Array.isArray(o.idKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.idKeys: array expected");s.idKeys=[];for(var c=0;c<o.idKeys.length;++c)s.idKeys[c]=String(o.idKeys[c]);}if(o.descriptionKeys){if(!Array.isArray(o.descriptionKeys))throw TypeError(".opentelemetry.proto.common.v1.EntityRef.descriptionKeys: array expected");s.descriptionKeys=[];for(var c=0;c<o.descriptionKeys.length;++c)s.descriptionKeys[c]=String(o.descriptionKeys[c]);}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.idKeys=[],c.descriptionKeys=[]),s.defaults&&(c.schemaUrl="",c.type=""),o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),o.type!=null&&o.hasOwnProperty("type")&&(c.type=o.type),o.idKeys&&o.idKeys.length){c.idKeys=[];for(var u=0;u<o.idKeys.length;++u)c.idKeys[u]=o.idKeys[u];}if(o.descriptionKeys&&o.descriptionKeys.length){c.descriptionKeys=[];for(var u=0;u<o.descriptionKeys.length;++u)c.descriptionKeys[u]=o.descriptionKeys[u];}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.common.v1.EntityRef"},n})(),i})(),r})(),e.resource=(function(){var r={};return r.v1=(function(){var i={};return i.Resource=(function(){function n(a){if(this.attributes=[],this.entityRefs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.entityRefs=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(10).fork()).ldelim();if(o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(16).uint32(o.droppedAttributesCount),o.entityRefs!=null&&o.entityRefs.length)for(var c=0;c<o.entityRefs.length;++c)h.opentelemetry.proto.common.v1.EntityRef.encode(o.entityRefs[c],s.uint32(26).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.resource.v1.Resource;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 2:{l.droppedAttributesCount=o.uint32();break}case 3:{l.entityRefs&&l.entityRefs.length||(l.entityRefs=[]),l.entityRefs.push(h.opentelemetry.proto.common.v1.EntityRef.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount))return "droppedAttributesCount: integer expected";if(o.entityRefs!=null&&o.hasOwnProperty("entityRefs")){if(!Array.isArray(o.entityRefs))return "entityRefs: array expected";for(var s=0;s<o.entityRefs.length;++s){var c=h.opentelemetry.proto.common.v1.EntityRef.verify(o.entityRefs[s]);if(c)return "entityRefs."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.resource.v1.Resource)return o;var s=new h.opentelemetry.proto.resource.v1.Resource;if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.entityRefs){if(!Array.isArray(o.entityRefs))throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: array expected");s.entityRefs=[];for(var c=0;c<o.entityRefs.length;++c){if(typeof o.entityRefs[c]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.entityRefs: object expected");s.entityRefs[c]=h.opentelemetry.proto.common.v1.EntityRef.fromObject(o.entityRefs[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[],c.entityRefs=[]),s.defaults&&(c.droppedAttributesCount=0),o.attributes&&o.attributes.length){c.attributes=[];for(var u=0;u<o.attributes.length;++u)c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[u],s);}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.entityRefs&&o.entityRefs.length){c.entityRefs=[];for(var u=0;u<o.entityRefs.length;++u)c.entityRefs[u]=h.opentelemetry.proto.common.v1.EntityRef.toObject(o.entityRefs[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.resource.v1.Resource"},n})(),i})(),r})(),e.trace=(function(){var r={};return r.v1=(function(){var i={};return i.TracesData=(function(){function n(a){if(this.resourceSpans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceSpans=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resourceSpans!=null&&o.resourceSpans.length)for(var c=0;c<o.resourceSpans.length;++c)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(o.resourceSpans[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.trace.v1.TracesData;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resourceSpans&&l.resourceSpans.length||(l.resourceSpans=[]),l.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceSpans!=null&&o.hasOwnProperty("resourceSpans")){if(!Array.isArray(o.resourceSpans))return "resourceSpans: array expected";for(var s=0;s<o.resourceSpans.length;++s){var c=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(o.resourceSpans[s]);if(c)return "resourceSpans."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.TracesData)return o;var s=new h.opentelemetry.proto.trace.v1.TracesData;if(o.resourceSpans){if(!Array.isArray(o.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");s.resourceSpans=[];for(var c=0;c<o.resourceSpans.length;++c){if(typeof o.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");s.resourceSpans[c]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(o.resourceSpans[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceSpans=[]),o.resourceSpans&&o.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<o.resourceSpans.length;++u)c.resourceSpans[u]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(o.resourceSpans[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.TracesData"},n})(),i.ResourceSpans=(function(){function n(a){if(this.scopeSpans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeSpans=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeSpans!=null&&o.scopeSpans.length)for(var c=0;c<o.scopeSpans.length;++c)h.opentelemetry.proto.trace.v1.ScopeSpans.encode(o.scopeSpans[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.trace.v1.ResourceSpans;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{l.scopeSpans&&l.scopeSpans.length||(l.scopeSpans=[]),l.scopeSpans.push(h.opentelemetry.proto.trace.v1.ScopeSpans.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeSpans!=null&&o.hasOwnProperty("scopeSpans")){if(!Array.isArray(o.scopeSpans))return "scopeSpans: array expected";for(var c=0;c<o.scopeSpans.length;++c){var s=h.opentelemetry.proto.trace.v1.ScopeSpans.verify(o.scopeSpans[c]);if(s)return "scopeSpans."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.ResourceSpans)return o;var s=new h.opentelemetry.proto.trace.v1.ResourceSpans;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeSpans){if(!Array.isArray(o.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");s.scopeSpans=[];for(var c=0;c<o.scopeSpans.length;++c){if(typeof o.scopeSpans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");s.scopeSpans[c]=h.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(o.scopeSpans[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeSpans=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeSpans&&o.scopeSpans.length){c.scopeSpans=[];for(var u=0;u<o.scopeSpans.length;++u)c.scopeSpans[u]=h.opentelemetry.proto.trace.v1.ScopeSpans.toObject(o.scopeSpans[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.ResourceSpans"},n})(),i.ScopeSpans=(function(){function n(a){if(this.spans=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.spans=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.spans!=null&&o.spans.length)for(var c=0;c<o.spans.length;++c)h.opentelemetry.proto.trace.v1.Span.encode(o.spans[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.trace.v1.ScopeSpans;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{l.spans&&l.spans.length||(l.spans=[]),l.spans.push(h.opentelemetry.proto.trace.v1.Span.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.spans!=null&&o.hasOwnProperty("spans")){if(!Array.isArray(o.spans))return "spans: array expected";for(var c=0;c<o.spans.length;++c){var s=h.opentelemetry.proto.trace.v1.Span.verify(o.spans[c]);if(s)return "spans."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.ScopeSpans)return o;var s=new h.opentelemetry.proto.trace.v1.ScopeSpans;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.spans){if(!Array.isArray(o.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");s.spans=[];for(var c=0;c<o.spans.length;++c){if(typeof o.spans[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");s.spans[c]=h.opentelemetry.proto.trace.v1.Span.fromObject(o.spans[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.spans=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.spans&&o.spans.length){c.spans=[];for(var u=0;u<o.spans.length;++u)c.spans[u]=h.opentelemetry.proto.trace.v1.Span.toObject(o.spans[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.ScopeSpans"},n})(),i.Span=(function(){function n(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.traceId=null,n.prototype.spanId=null,n.prototype.traceState=null,n.prototype.parentSpanId=null,n.prototype.flags=null,n.prototype.name=null,n.prototype.kind=null,n.prototype.startTimeUnixNano=null,n.prototype.endTimeUnixNano=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.events=m.emptyArray,n.prototype.droppedEventsCount=null,n.prototype.links=m.emptyArray,n.prototype.droppedLinksCount=null,n.prototype.status=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.traceId!=null&&Object.hasOwnProperty.call(o,"traceId")&&s.uint32(10).bytes(o.traceId),o.spanId!=null&&Object.hasOwnProperty.call(o,"spanId")&&s.uint32(18).bytes(o.spanId),o.traceState!=null&&Object.hasOwnProperty.call(o,"traceState")&&s.uint32(26).string(o.traceState),o.parentSpanId!=null&&Object.hasOwnProperty.call(o,"parentSpanId")&&s.uint32(34).bytes(o.parentSpanId),o.name!=null&&Object.hasOwnProperty.call(o,"name")&&s.uint32(42).string(o.name),o.kind!=null&&Object.hasOwnProperty.call(o,"kind")&&s.uint32(48).int32(o.kind),o.startTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"startTimeUnixNano")&&s.uint32(57).fixed64(o.startTimeUnixNano),o.endTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"endTimeUnixNano")&&s.uint32(65).fixed64(o.endTimeUnixNano),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(74).fork()).ldelim();if(o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(80).uint32(o.droppedAttributesCount),o.events!=null&&o.events.length)for(var c=0;c<o.events.length;++c)h.opentelemetry.proto.trace.v1.Span.Event.encode(o.events[c],s.uint32(90).fork()).ldelim();if(o.droppedEventsCount!=null&&Object.hasOwnProperty.call(o,"droppedEventsCount")&&s.uint32(96).uint32(o.droppedEventsCount),o.links!=null&&o.links.length)for(var c=0;c<o.links.length;++c)h.opentelemetry.proto.trace.v1.Span.Link.encode(o.links[c],s.uint32(106).fork()).ldelim();return o.droppedLinksCount!=null&&Object.hasOwnProperty.call(o,"droppedLinksCount")&&s.uint32(112).uint32(o.droppedLinksCount),o.status!=null&&Object.hasOwnProperty.call(o,"status")&&h.opentelemetry.proto.trace.v1.Status.encode(o.status,s.uint32(122).fork()).ldelim(),o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(133).fixed32(o.flags),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.trace.v1.Span;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.traceId=o.bytes();break}case 2:{l.spanId=o.bytes();break}case 3:{l.traceState=o.string();break}case 4:{l.parentSpanId=o.bytes();break}case 16:{l.flags=o.fixed32();break}case 5:{l.name=o.string();break}case 6:{l.kind=o.int32();break}case 7:{l.startTimeUnixNano=o.fixed64();break}case 8:{l.endTimeUnixNano=o.fixed64();break}case 9:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 10:{l.droppedAttributesCount=o.uint32();break}case 11:{l.events&&l.events.length||(l.events=[]),l.events.push(h.opentelemetry.proto.trace.v1.Span.Event.decode(o,o.uint32()));break}case 12:{l.droppedEventsCount=o.uint32();break}case 13:{l.links&&l.links.length||(l.links=[]),l.links.push(h.opentelemetry.proto.trace.v1.Span.Link.decode(o,o.uint32()));break}case 14:{l.droppedLinksCount=o.uint32();break}case 15:{l.status=h.opentelemetry.proto.trace.v1.Status.decode(o,o.uint32());break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.traceId!=null&&o.hasOwnProperty("traceId")&&!(o.traceId&&typeof o.traceId.length=="number"||m.isString(o.traceId)))return "traceId: buffer expected";if(o.spanId!=null&&o.hasOwnProperty("spanId")&&!(o.spanId&&typeof o.spanId.length=="number"||m.isString(o.spanId)))return "spanId: buffer expected";if(o.traceState!=null&&o.hasOwnProperty("traceState")&&!m.isString(o.traceState))return "traceState: string expected";if(o.parentSpanId!=null&&o.hasOwnProperty("parentSpanId")&&!(o.parentSpanId&&typeof o.parentSpanId.length=="number"||m.isString(o.parentSpanId)))return "parentSpanId: buffer expected";if(o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags))return "flags: integer expected";if(o.name!=null&&o.hasOwnProperty("name")&&!m.isString(o.name))return "name: string expected";if(o.kind!=null&&o.hasOwnProperty("kind"))switch(o.kind){default:return "kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(o.startTimeUnixNano)&&!(o.startTimeUnixNano&&m.isInteger(o.startTimeUnixNano.low)&&m.isInteger(o.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(o.endTimeUnixNano!=null&&o.hasOwnProperty("endTimeUnixNano")&&!m.isInteger(o.endTimeUnixNano)&&!(o.endTimeUnixNano&&m.isInteger(o.endTimeUnixNano.low)&&m.isInteger(o.endTimeUnixNano.high)))return "endTimeUnixNano: integer|Long expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount))return "droppedAttributesCount: integer expected";if(o.events!=null&&o.hasOwnProperty("events")){if(!Array.isArray(o.events))return "events: array expected";for(var s=0;s<o.events.length;++s){var c=h.opentelemetry.proto.trace.v1.Span.Event.verify(o.events[s]);if(c)return "events."+c}}if(o.droppedEventsCount!=null&&o.hasOwnProperty("droppedEventsCount")&&!m.isInteger(o.droppedEventsCount))return "droppedEventsCount: integer expected";if(o.links!=null&&o.hasOwnProperty("links")){if(!Array.isArray(o.links))return "links: array expected";for(var s=0;s<o.links.length;++s){var c=h.opentelemetry.proto.trace.v1.Span.Link.verify(o.links[s]);if(c)return "links."+c}}if(o.droppedLinksCount!=null&&o.hasOwnProperty("droppedLinksCount")&&!m.isInteger(o.droppedLinksCount))return "droppedLinksCount: integer expected";if(o.status!=null&&o.hasOwnProperty("status")){var c=h.opentelemetry.proto.trace.v1.Status.verify(o.status);if(c)return "status."+c}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.Span)return o;var s=new h.opentelemetry.proto.trace.v1.Span;switch(o.traceId!=null&&(typeof o.traceId=="string"?m.base64.decode(o.traceId,s.traceId=m.newBuffer(m.base64.length(o.traceId)),0):o.traceId.length>=0&&(s.traceId=o.traceId)),o.spanId!=null&&(typeof o.spanId=="string"?m.base64.decode(o.spanId,s.spanId=m.newBuffer(m.base64.length(o.spanId)),0):o.spanId.length>=0&&(s.spanId=o.spanId)),o.traceState!=null&&(s.traceState=String(o.traceState)),o.parentSpanId!=null&&(typeof o.parentSpanId=="string"?m.base64.decode(o.parentSpanId,s.parentSpanId=m.newBuffer(m.base64.length(o.parentSpanId)),0):o.parentSpanId.length>=0&&(s.parentSpanId=o.parentSpanId)),o.flags!=null&&(s.flags=o.flags>>>0),o.name!=null&&(s.name=String(o.name)),o.kind){default:if(typeof o.kind=="number"){s.kind=o.kind;break}break;case "SPAN_KIND_UNSPECIFIED":case 0:s.kind=0;break;case "SPAN_KIND_INTERNAL":case 1:s.kind=1;break;case "SPAN_KIND_SERVER":case 2:s.kind=2;break;case "SPAN_KIND_CLIENT":case 3:s.kind=3;break;case "SPAN_KIND_PRODUCER":case 4:s.kind=4;break;case "SPAN_KIND_CONSUMER":case 5:s.kind=5;break}if(o.startTimeUnixNano!=null&&(m.Long?(s.startTimeUnixNano=m.Long.fromValue(o.startTimeUnixNano)).unsigned=false:typeof o.startTimeUnixNano=="string"?s.startTimeUnixNano=parseInt(o.startTimeUnixNano,10):typeof o.startTimeUnixNano=="number"?s.startTimeUnixNano=o.startTimeUnixNano:typeof o.startTimeUnixNano=="object"&&(s.startTimeUnixNano=new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber())),o.endTimeUnixNano!=null&&(m.Long?(s.endTimeUnixNano=m.Long.fromValue(o.endTimeUnixNano)).unsigned=false:typeof o.endTimeUnixNano=="string"?s.endTimeUnixNano=parseInt(o.endTimeUnixNano,10):typeof o.endTimeUnixNano=="number"?s.endTimeUnixNano=o.endTimeUnixNano:typeof o.endTimeUnixNano=="object"&&(s.endTimeUnixNano=new m.LongBits(o.endTimeUnixNano.low>>>0,o.endTimeUnixNano.high>>>0).toNumber())),o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.events){if(!Array.isArray(o.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");s.events=[];for(var c=0;c<o.events.length;++c){if(typeof o.events[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");s.events[c]=h.opentelemetry.proto.trace.v1.Span.Event.fromObject(o.events[c]);}}if(o.droppedEventsCount!=null&&(s.droppedEventsCount=o.droppedEventsCount>>>0),o.links){if(!Array.isArray(o.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");s.links=[];for(var c=0;c<o.links.length;++c){if(typeof o.links[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");s.links[c]=h.opentelemetry.proto.trace.v1.Span.Link.fromObject(o.links[c]);}}if(o.droppedLinksCount!=null&&(s.droppedLinksCount=o.droppedLinksCount>>>0),o.status!=null){if(typeof o.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");s.status=h.opentelemetry.proto.trace.v1.Status.fromObject(o.status);}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[],c.events=[],c.links=[]),s.defaults){if(s.bytes===String?c.traceId="":(c.traceId=[],s.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId))),s.bytes===String?c.spanId="":(c.spanId=[],s.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),c.traceState="",s.bytes===String?c.parentSpanId="":(c.parentSpanId=[],s.bytes!==Array&&(c.parentSpanId=m.newBuffer(c.parentSpanId))),c.name="",c.kind=s.enums===String?"SPAN_KIND_UNSPECIFIED":0,m.Long){var u=new m.Long(0,0,false);c.startTimeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.startTimeUnixNano=s.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);c.endTimeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.endTimeUnixNano=s.longs===String?"0":0;c.droppedAttributesCount=0,c.droppedEventsCount=0,c.droppedLinksCount=0,c.status=null,c.flags=0;}if(o.traceId!=null&&o.hasOwnProperty("traceId")&&(c.traceId=s.bytes===String?m.base64.encode(o.traceId,0,o.traceId.length):s.bytes===Array?Array.prototype.slice.call(o.traceId):o.traceId),o.spanId!=null&&o.hasOwnProperty("spanId")&&(c.spanId=s.bytes===String?m.base64.encode(o.spanId,0,o.spanId.length):s.bytes===Array?Array.prototype.slice.call(o.spanId):o.spanId),o.traceState!=null&&o.hasOwnProperty("traceState")&&(c.traceState=o.traceState),o.parentSpanId!=null&&o.hasOwnProperty("parentSpanId")&&(c.parentSpanId=s.bytes===String?m.base64.encode(o.parentSpanId,0,o.parentSpanId.length):s.bytes===Array?Array.prototype.slice.call(o.parentSpanId):o.parentSpanId),o.name!=null&&o.hasOwnProperty("name")&&(c.name=o.name),o.kind!=null&&o.hasOwnProperty("kind")&&(c.kind=s.enums===String?h.opentelemetry.proto.trace.v1.Span.SpanKind[o.kind]===void 0?o.kind:h.opentelemetry.proto.trace.v1.Span.SpanKind[o.kind]:o.kind),o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&(typeof o.startTimeUnixNano=="number"?c.startTimeUnixNano=s.longs===String?String(o.startTimeUnixNano):o.startTimeUnixNano:c.startTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.startTimeUnixNano):s.longs===Number?new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber():o.startTimeUnixNano),o.endTimeUnixNano!=null&&o.hasOwnProperty("endTimeUnixNano")&&(typeof o.endTimeUnixNano=="number"?c.endTimeUnixNano=s.longs===String?String(o.endTimeUnixNano):o.endTimeUnixNano:c.endTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.endTimeUnixNano):s.longs===Number?new m.LongBits(o.endTimeUnixNano.low>>>0,o.endTimeUnixNano.high>>>0).toNumber():o.endTimeUnixNano),o.attributes&&o.attributes.length){c.attributes=[];for(var l=0;l<o.attributes.length;++l)c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[l],s);}if(o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.events&&o.events.length){c.events=[];for(var l=0;l<o.events.length;++l)c.events[l]=h.opentelemetry.proto.trace.v1.Span.Event.toObject(o.events[l],s);}if(o.droppedEventsCount!=null&&o.hasOwnProperty("droppedEventsCount")&&(c.droppedEventsCount=o.droppedEventsCount),o.links&&o.links.length){c.links=[];for(var l=0;l<o.links.length;++l)c.links[l]=h.opentelemetry.proto.trace.v1.Span.Link.toObject(o.links[l],s);}return o.droppedLinksCount!=null&&o.hasOwnProperty("droppedLinksCount")&&(c.droppedLinksCount=o.droppedLinksCount),o.status!=null&&o.hasOwnProperty("status")&&(c.status=h.opentelemetry.proto.trace.v1.Status.toObject(o.status,s)),o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.Span"},n.SpanKind=(function(){var a={},o=Object.create(a);return o[a[0]="SPAN_KIND_UNSPECIFIED"]=0,o[a[1]="SPAN_KIND_INTERNAL"]=1,o[a[2]="SPAN_KIND_SERVER"]=2,o[a[3]="SPAN_KIND_CLIENT"]=3,o[a[4]="SPAN_KIND_PRODUCER"]=4,o[a[5]="SPAN_KIND_CONSUMER"]=5,o})(),n.Event=(function(){function a(o){if(this.attributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=m.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Ae.create()),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(9).fixed64(s.timeUnixNano),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(18).string(s.name),s.attributes!=null&&s.attributes.length)for(var u=0;u<s.attributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[u],c.uint32(26).fork()).ldelim();return s.droppedAttributesCount!=null&&Object.hasOwnProperty.call(s,"droppedAttributesCount")&&c.uint32(32).uint32(s.droppedAttributesCount),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.trace.v1.Span.Event;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.timeUnixNano=s.fixed64();break}case 2:{d.name=s.string();break}case 3:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 4:{d.droppedAttributesCount=s.uint32();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.name!=null&&s.hasOwnProperty("name")&&!m.isString(s.name))return "name: string expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var c=0;c<s.attributes.length;++c){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[c]);if(u)return "attributes."+u}}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(s.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.trace.v1.Span.Event)return s;var c=new h.opentelemetry.proto.trace.v1.Span.Event;if(s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.name!=null&&(c.name=String(s.name)),s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");c.attributes=[];for(var u=0;u<s.attributes.length;++u){if(typeof s.attributes[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[u]);}}return s.droppedAttributesCount!=null&&(c.droppedAttributesCount=s.droppedAttributesCount>>>0),c},a.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.attributes=[]),c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.timeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.timeUnixNano=c.longs===String?"0":0;u.name="",u.droppedAttributesCount=0;}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?u.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:u.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.name!=null&&s.hasOwnProperty("name")&&(u.name=s.name),s.attributes&&s.attributes.length){u.attributes=[];for(var d=0;d<s.attributes.length;++d)u.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=s.droppedAttributesCount),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.trace.v1.Span.Event"},a})(),n.Link=(function(){function a(o){if(this.attributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=m.emptyArray,a.prototype.droppedAttributesCount=null,a.prototype.flags=null,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Ae.create()),s.traceId!=null&&Object.hasOwnProperty.call(s,"traceId")&&c.uint32(10).bytes(s.traceId),s.spanId!=null&&Object.hasOwnProperty.call(s,"spanId")&&c.uint32(18).bytes(s.spanId),s.traceState!=null&&Object.hasOwnProperty.call(s,"traceState")&&c.uint32(26).string(s.traceState),s.attributes!=null&&s.attributes.length)for(var u=0;u<s.attributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[u],c.uint32(34).fork()).ldelim();return s.droppedAttributesCount!=null&&Object.hasOwnProperty.call(s,"droppedAttributesCount")&&c.uint32(40).uint32(s.droppedAttributesCount),s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(53).fixed32(s.flags),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.trace.v1.Span.Link;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.traceId=s.bytes();break}case 2:{d.spanId=s.bytes();break}case 3:{d.traceState=s.string();break}case 4:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 5:{d.droppedAttributesCount=s.uint32();break}case 6:{d.flags=s.fixed32();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.traceId!=null&&s.hasOwnProperty("traceId")&&!(s.traceId&&typeof s.traceId.length=="number"||m.isString(s.traceId)))return "traceId: buffer expected";if(s.spanId!=null&&s.hasOwnProperty("spanId")&&!(s.spanId&&typeof s.spanId.length=="number"||m.isString(s.spanId)))return "spanId: buffer expected";if(s.traceState!=null&&s.hasOwnProperty("traceState")&&!m.isString(s.traceState))return "traceState: string expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var c=0;c<s.attributes.length;++c){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[c]);if(u)return "attributes."+u}}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(s.droppedAttributesCount)?"droppedAttributesCount: integer expected":s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.trace.v1.Span.Link)return s;var c=new h.opentelemetry.proto.trace.v1.Span.Link;if(s.traceId!=null&&(typeof s.traceId=="string"?m.base64.decode(s.traceId,c.traceId=m.newBuffer(m.base64.length(s.traceId)),0):s.traceId.length>=0&&(c.traceId=s.traceId)),s.spanId!=null&&(typeof s.spanId=="string"?m.base64.decode(s.spanId,c.spanId=m.newBuffer(m.base64.length(s.spanId)),0):s.spanId.length>=0&&(c.spanId=s.spanId)),s.traceState!=null&&(c.traceState=String(s.traceState)),s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");c.attributes=[];for(var u=0;u<s.attributes.length;++u){if(typeof s.attributes[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[u]);}}return s.droppedAttributesCount!=null&&(c.droppedAttributesCount=s.droppedAttributesCount>>>0),s.flags!=null&&(c.flags=s.flags>>>0),c},a.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.attributes=[]),c.defaults&&(c.bytes===String?u.traceId="":(u.traceId=[],c.bytes!==Array&&(u.traceId=m.newBuffer(u.traceId))),c.bytes===String?u.spanId="":(u.spanId=[],c.bytes!==Array&&(u.spanId=m.newBuffer(u.spanId))),u.traceState="",u.droppedAttributesCount=0,u.flags=0),s.traceId!=null&&s.hasOwnProperty("traceId")&&(u.traceId=c.bytes===String?m.base64.encode(s.traceId,0,s.traceId.length):c.bytes===Array?Array.prototype.slice.call(s.traceId):s.traceId),s.spanId!=null&&s.hasOwnProperty("spanId")&&(u.spanId=c.bytes===String?m.base64.encode(s.spanId,0,s.spanId.length):c.bytes===Array?Array.prototype.slice.call(s.spanId):s.spanId),s.traceState!=null&&s.hasOwnProperty("traceState")&&(u.traceState=s.traceState),s.attributes&&s.attributes.length){u.attributes=[];for(var l=0;l<s.attributes.length;++l)u.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[l],c);}return s.droppedAttributesCount!=null&&s.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=s.droppedAttributesCount),s.flags!=null&&s.hasOwnProperty("flags")&&(u.flags=s.flags),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.trace.v1.Span.Link"},a})(),n})(),i.Status=(function(){function n(a){if(a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.message=null,n.prototype.code=null,n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=Ae.create()),o.message!=null&&Object.hasOwnProperty.call(o,"message")&&s.uint32(18).string(o.message),o.code!=null&&Object.hasOwnProperty.call(o,"code")&&s.uint32(24).int32(o.code),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.trace.v1.Status;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 2:{l.message=o.string();break}case 3:{l.code=o.int32();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.message!=null&&o.hasOwnProperty("message")&&!m.isString(o.message))return "message: string expected";if(o.code!=null&&o.hasOwnProperty("code"))switch(o.code){default:return "code: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.trace.v1.Status)return o;var s=new h.opentelemetry.proto.trace.v1.Status;switch(o.message!=null&&(s.message=String(o.message)),o.code){default:if(typeof o.code=="number"){s.code=o.code;break}break;case "STATUS_CODE_UNSET":case 0:s.code=0;break;case "STATUS_CODE_OK":case 1:s.code=1;break;case "STATUS_CODE_ERROR":case 2:s.code=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};return s.defaults&&(c.message="",c.code=s.enums===String?"STATUS_CODE_UNSET":0),o.message!=null&&o.hasOwnProperty("message")&&(c.message=o.message),o.code!=null&&o.hasOwnProperty("code")&&(c.code=s.enums===String?h.opentelemetry.proto.trace.v1.Status.StatusCode[o.code]===void 0?o.code:h.opentelemetry.proto.trace.v1.Status.StatusCode[o.code]:o.code),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.trace.v1.Status"},n.StatusCode=(function(){var a={},o=Object.create(a);return o[a[0]="STATUS_CODE_UNSET"]=0,o[a[1]="STATUS_CODE_OK"]=1,o[a[2]="STATUS_CODE_ERROR"]=2,o})(),n})(),i.SpanFlags=(function(){var n={},a=Object.create(n);return a[n[0]="SPAN_FLAGS_DO_NOT_USE"]=0,a[n[255]="SPAN_FLAGS_TRACE_FLAGS_MASK"]=255,a[n[256]="SPAN_FLAGS_CONTEXT_HAS_IS_REMOTE_MASK"]=256,a[n[512]="SPAN_FLAGS_CONTEXT_IS_REMOTE_MASK"]=512,a})(),i})(),r})(),e.collector=(function(){var r={};return r.trace=(function(){var i={};return i.v1=(function(){var n={};return n.TraceService=(function(){function a(o,s,c){he.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(he.rpc.Service.prototype)).constructor=a,a.create=function(s,c,u){return new this(s,c,u)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportTraceServiceRequest=(function(){function a(o){if(this.resourceSpans=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceSpans=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Ae.create()),s.resourceSpans!=null&&s.resourceSpans.length)for(var u=0;u<s.resourceSpans.length;++u)h.opentelemetry.proto.trace.v1.ResourceSpans.encode(s.resourceSpans[u],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(h.opentelemetry.proto.trace.v1.ResourceSpans.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceSpans!=null&&s.hasOwnProperty("resourceSpans")){if(!Array.isArray(s.resourceSpans))return "resourceSpans: array expected";for(var c=0;c<s.resourceSpans.length;++c){var u=h.opentelemetry.proto.trace.v1.ResourceSpans.verify(s.resourceSpans[c]);if(u)return "resourceSpans."+u}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(s.resourceSpans){if(!Array.isArray(s.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");c.resourceSpans=[];for(var u=0;u<s.resourceSpans.length;++u){if(typeof s.resourceSpans[u]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");c.resourceSpans[u]=h.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(s.resourceSpans[u]);}}return c},a.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.resourceSpans=[]),s.resourceSpans&&s.resourceSpans.length){u.resourceSpans=[];for(var l=0;l<s.resourceSpans.length;++l)u.resourceSpans[l]=h.opentelemetry.proto.trace.v1.ResourceSpans.toObject(s.resourceSpans[l],c);}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a})(),n.ExportTraceServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var u={};return c.defaults&&(u.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(u.partialSuccess=h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(s.partialSuccess,c)),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a})(),n.ExportTracePartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.rejectedSpans!=null&&Object.hasOwnProperty.call(s,"rejectedSpans")&&c.uint32(8).int64(s.rejectedSpans),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.rejectedSpans=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedSpans!=null&&s.hasOwnProperty("rejectedSpans")&&!m.isInteger(s.rejectedSpans)&&!(s.rejectedSpans&&m.isInteger(s.rejectedSpans.low)&&m.isInteger(s.rejectedSpans.high))?"rejectedSpans: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return s;var c=new h.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return s.rejectedSpans!=null&&(m.Long?(c.rejectedSpans=m.Long.fromValue(s.rejectedSpans)).unsigned=false:typeof s.rejectedSpans=="string"?c.rejectedSpans=parseInt(s.rejectedSpans,10):typeof s.rejectedSpans=="number"?c.rejectedSpans=s.rejectedSpans:typeof s.rejectedSpans=="object"&&(c.rejectedSpans=new m.LongBits(s.rejectedSpans.low>>>0,s.rejectedSpans.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var u={};if(c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.rejectedSpans=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.rejectedSpans=c.longs===String?"0":0;u.errorMessage="";}return s.rejectedSpans!=null&&s.hasOwnProperty("rejectedSpans")&&(typeof s.rejectedSpans=="number"?u.rejectedSpans=c.longs===String?String(s.rejectedSpans):s.rejectedSpans:u.rejectedSpans=c.longs===String?m.Long.prototype.toString.call(s.rejectedSpans):c.longs===Number?new m.LongBits(s.rejectedSpans.low>>>0,s.rejectedSpans.high>>>0).toNumber():s.rejectedSpans),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(u.errorMessage=s.errorMessage),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a})(),n})(),i})(),r.metrics=(function(){var i={};return i.v1=(function(){var n={};return n.MetricsService=(function(){function a(o,s,c){he.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(he.rpc.Service.prototype)).constructor=a,a.create=function(s,c,u){return new this(s,c,u)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportMetricsServiceRequest=(function(){function a(o){if(this.resourceMetrics=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceMetrics=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Ae.create()),s.resourceMetrics!=null&&s.resourceMetrics.length)for(var u=0;u<s.resourceMetrics.length;++u)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(s.resourceMetrics[u],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceMetrics!=null&&s.hasOwnProperty("resourceMetrics")){if(!Array.isArray(s.resourceMetrics))return "resourceMetrics: array expected";for(var c=0;c<s.resourceMetrics.length;++c){var u=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(s.resourceMetrics[c]);if(u)return "resourceMetrics."+u}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(s.resourceMetrics){if(!Array.isArray(s.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");c.resourceMetrics=[];for(var u=0;u<s.resourceMetrics.length;++u){if(typeof s.resourceMetrics[u]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");c.resourceMetrics[u]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(s.resourceMetrics[u]);}}return c},a.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.resourceMetrics=[]),s.resourceMetrics&&s.resourceMetrics.length){u.resourceMetrics=[];for(var l=0;l<s.resourceMetrics.length;++l)u.resourceMetrics[l]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(s.resourceMetrics[l],c);}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a})(),n.ExportMetricsServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var u={};return c.defaults&&(u.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(u.partialSuccess=h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(s.partialSuccess,c)),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a})(),n.ExportMetricsPartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.rejectedDataPoints!=null&&Object.hasOwnProperty.call(s,"rejectedDataPoints")&&c.uint32(8).int64(s.rejectedDataPoints),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.rejectedDataPoints=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedDataPoints!=null&&s.hasOwnProperty("rejectedDataPoints")&&!m.isInteger(s.rejectedDataPoints)&&!(s.rejectedDataPoints&&m.isInteger(s.rejectedDataPoints.low)&&m.isInteger(s.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return s;var c=new h.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return s.rejectedDataPoints!=null&&(m.Long?(c.rejectedDataPoints=m.Long.fromValue(s.rejectedDataPoints)).unsigned=false:typeof s.rejectedDataPoints=="string"?c.rejectedDataPoints=parseInt(s.rejectedDataPoints,10):typeof s.rejectedDataPoints=="number"?c.rejectedDataPoints=s.rejectedDataPoints:typeof s.rejectedDataPoints=="object"&&(c.rejectedDataPoints=new m.LongBits(s.rejectedDataPoints.low>>>0,s.rejectedDataPoints.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var u={};if(c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.rejectedDataPoints=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.rejectedDataPoints=c.longs===String?"0":0;u.errorMessage="";}return s.rejectedDataPoints!=null&&s.hasOwnProperty("rejectedDataPoints")&&(typeof s.rejectedDataPoints=="number"?u.rejectedDataPoints=c.longs===String?String(s.rejectedDataPoints):s.rejectedDataPoints:u.rejectedDataPoints=c.longs===String?m.Long.prototype.toString.call(s.rejectedDataPoints):c.longs===Number?new m.LongBits(s.rejectedDataPoints.low>>>0,s.rejectedDataPoints.high>>>0).toNumber():s.rejectedDataPoints),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(u.errorMessage=s.errorMessage),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a})(),n})(),i})(),r.logs=(function(){var i={};return i.v1=(function(){var n={};return n.LogsService=(function(){function a(o,s,c){he.rpc.Service.call(this,o,s,c);}return (a.prototype=Object.create(he.rpc.Service.prototype)).constructor=a,a.create=function(s,c,u){return new this(s,c,u)},Object.defineProperty(a.prototype.export=function o(s,c){return this.rpcCall(o,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,s,c)},"name",{value:"Export"}),a})(),n.ExportLogsServiceRequest=(function(){function a(o){if(this.resourceLogs=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.resourceLogs=m.emptyArray,a.create=function(s){return new a(s)},a.encode=function(s,c){if(c||(c=Ae.create()),s.resourceLogs!=null&&s.resourceLogs.length)for(var u=0;u<s.resourceLogs.length;++u)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(s.resourceLogs[u],c.uint32(10).fork()).ldelim();return c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.resourceLogs!=null&&s.hasOwnProperty("resourceLogs")){if(!Array.isArray(s.resourceLogs))return "resourceLogs: array expected";for(var c=0;c<s.resourceLogs.length;++c){var u=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(s.resourceLogs[c]);if(u)return "resourceLogs."+u}}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(s.resourceLogs){if(!Array.isArray(s.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");c.resourceLogs=[];for(var u=0;u<s.resourceLogs.length;++u){if(typeof s.resourceLogs[u]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");c.resourceLogs[u]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(s.resourceLogs[u]);}}return c},a.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.resourceLogs=[]),s.resourceLogs&&s.resourceLogs.length){u.resourceLogs=[];for(var l=0;l<s.resourceLogs.length;++l)u.resourceLogs[l]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(s.resourceLogs[l],c);}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a})(),n.ExportLogsServiceResponse=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.partialSuccess=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.partialSuccess!=null&&Object.hasOwnProperty.call(s,"partialSuccess")&&h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(s.partialSuccess,c.uint32(10).fork()).ldelim(),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(s,s.uint32());break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")){var c=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(s.partialSuccess);if(c)return "partialSuccess."+c}return null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(s.partialSuccess!=null){if(typeof s.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");c.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(s.partialSuccess);}return c},a.toObject=function(s,c){c||(c={});var u={};return c.defaults&&(u.partialSuccess=null),s.partialSuccess!=null&&s.hasOwnProperty("partialSuccess")&&(u.partialSuccess=h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(s.partialSuccess,c)),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a})(),n.ExportLogsPartialSuccess=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.rejectedLogRecords!=null&&Object.hasOwnProperty.call(s,"rejectedLogRecords")&&c.uint32(8).int64(s.rejectedLogRecords),s.errorMessage!=null&&Object.hasOwnProperty.call(s,"errorMessage")&&c.uint32(18).string(s.errorMessage),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.rejectedLogRecords=s.int64();break}case 2:{d.errorMessage=s.string();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.rejectedLogRecords!=null&&s.hasOwnProperty("rejectedLogRecords")&&!m.isInteger(s.rejectedLogRecords)&&!(s.rejectedLogRecords&&m.isInteger(s.rejectedLogRecords.low)&&m.isInteger(s.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&!m.isString(s.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return s;var c=new h.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return s.rejectedLogRecords!=null&&(m.Long?(c.rejectedLogRecords=m.Long.fromValue(s.rejectedLogRecords)).unsigned=false:typeof s.rejectedLogRecords=="string"?c.rejectedLogRecords=parseInt(s.rejectedLogRecords,10):typeof s.rejectedLogRecords=="number"?c.rejectedLogRecords=s.rejectedLogRecords:typeof s.rejectedLogRecords=="object"&&(c.rejectedLogRecords=new m.LongBits(s.rejectedLogRecords.low>>>0,s.rejectedLogRecords.high>>>0).toNumber())),s.errorMessage!=null&&(c.errorMessage=String(s.errorMessage)),c},a.toObject=function(s,c){c||(c={});var u={};if(c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.rejectedLogRecords=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.rejectedLogRecords=c.longs===String?"0":0;u.errorMessage="";}return s.rejectedLogRecords!=null&&s.hasOwnProperty("rejectedLogRecords")&&(typeof s.rejectedLogRecords=="number"?u.rejectedLogRecords=c.longs===String?String(s.rejectedLogRecords):s.rejectedLogRecords:u.rejectedLogRecords=c.longs===String?m.Long.prototype.toString.call(s.rejectedLogRecords):c.longs===Number?new m.LongBits(s.rejectedLogRecords.low>>>0,s.rejectedLogRecords.high>>>0).toNumber():s.rejectedLogRecords),s.errorMessage!=null&&s.hasOwnProperty("errorMessage")&&(u.errorMessage=s.errorMessage),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a})(),n})(),i})(),r})(),e.metrics=(function(){var r={};return r.v1=(function(){var i={};return i.MetricsData=(function(){function n(a){if(this.resourceMetrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceMetrics=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resourceMetrics!=null&&o.resourceMetrics.length)for(var c=0;c<o.resourceMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(o.resourceMetrics[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.MetricsData;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resourceMetrics&&l.resourceMetrics.length||(l.resourceMetrics=[]),l.resourceMetrics.push(h.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceMetrics!=null&&o.hasOwnProperty("resourceMetrics")){if(!Array.isArray(o.resourceMetrics))return "resourceMetrics: array expected";for(var s=0;s<o.resourceMetrics.length;++s){var c=h.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(o.resourceMetrics[s]);if(c)return "resourceMetrics."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.MetricsData)return o;var s=new h.opentelemetry.proto.metrics.v1.MetricsData;if(o.resourceMetrics){if(!Array.isArray(o.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");s.resourceMetrics=[];for(var c=0;c<o.resourceMetrics.length;++c){if(typeof o.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");s.resourceMetrics[c]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(o.resourceMetrics[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceMetrics=[]),o.resourceMetrics&&o.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<o.resourceMetrics.length;++u)c.resourceMetrics[u]=h.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(o.resourceMetrics[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.MetricsData"},n})(),i.ResourceMetrics=(function(){function n(a){if(this.scopeMetrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeMetrics=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeMetrics!=null&&o.scopeMetrics.length)for(var c=0;c<o.scopeMetrics.length;++c)h.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(o.scopeMetrics[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{l.scopeMetrics&&l.scopeMetrics.length||(l.scopeMetrics=[]),l.scopeMetrics.push(h.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeMetrics!=null&&o.hasOwnProperty("scopeMetrics")){if(!Array.isArray(o.scopeMetrics))return "scopeMetrics: array expected";for(var c=0;c<o.scopeMetrics.length;++c){var s=h.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(o.scopeMetrics[c]);if(s)return "scopeMetrics."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ResourceMetrics)return o;var s=new h.opentelemetry.proto.metrics.v1.ResourceMetrics;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeMetrics){if(!Array.isArray(o.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");s.scopeMetrics=[];for(var c=0;c<o.scopeMetrics.length;++c){if(typeof o.scopeMetrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");s.scopeMetrics[c]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(o.scopeMetrics[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeMetrics=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeMetrics&&o.scopeMetrics.length){c.scopeMetrics=[];for(var u=0;u<o.scopeMetrics.length;++u)c.scopeMetrics[u]=h.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(o.scopeMetrics[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},n})(),i.ScopeMetrics=(function(){function n(a){if(this.metrics=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.metrics=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.metrics!=null&&o.metrics.length)for(var c=0;c<o.metrics.length;++c)h.opentelemetry.proto.metrics.v1.Metric.encode(o.metrics[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{l.metrics&&l.metrics.length||(l.metrics=[]),l.metrics.push(h.opentelemetry.proto.metrics.v1.Metric.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.metrics!=null&&o.hasOwnProperty("metrics")){if(!Array.isArray(o.metrics))return "metrics: array expected";for(var c=0;c<o.metrics.length;++c){var s=h.opentelemetry.proto.metrics.v1.Metric.verify(o.metrics[c]);if(s)return "metrics."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ScopeMetrics)return o;var s=new h.opentelemetry.proto.metrics.v1.ScopeMetrics;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.metrics){if(!Array.isArray(o.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");s.metrics=[];for(var c=0;c<o.metrics.length;++c){if(typeof o.metrics[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");s.metrics[c]=h.opentelemetry.proto.metrics.v1.Metric.fromObject(o.metrics[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.metrics=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.metrics&&o.metrics.length){c.metrics=[];for(var u=0;u<o.metrics.length;++u)c.metrics[u]=h.opentelemetry.proto.metrics.v1.Metric.toObject(o.metrics[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},n})(),i.Metric=(function(){function n(o){if(this.metadata=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.name=null,n.prototype.description=null,n.prototype.unit=null,n.prototype.gauge=null,n.prototype.sum=null,n.prototype.histogram=null,n.prototype.exponentialHistogram=null,n.prototype.summary=null,n.prototype.metadata=m.emptyArray;var a;return Object.defineProperty(n.prototype,"data",{get:m.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Ae.create()),s.name!=null&&Object.hasOwnProperty.call(s,"name")&&c.uint32(10).string(s.name),s.description!=null&&Object.hasOwnProperty.call(s,"description")&&c.uint32(18).string(s.description),s.unit!=null&&Object.hasOwnProperty.call(s,"unit")&&c.uint32(26).string(s.unit),s.gauge!=null&&Object.hasOwnProperty.call(s,"gauge")&&h.opentelemetry.proto.metrics.v1.Gauge.encode(s.gauge,c.uint32(42).fork()).ldelim(),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&h.opentelemetry.proto.metrics.v1.Sum.encode(s.sum,c.uint32(58).fork()).ldelim(),s.histogram!=null&&Object.hasOwnProperty.call(s,"histogram")&&h.opentelemetry.proto.metrics.v1.Histogram.encode(s.histogram,c.uint32(74).fork()).ldelim(),s.exponentialHistogram!=null&&Object.hasOwnProperty.call(s,"exponentialHistogram")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(s.exponentialHistogram,c.uint32(82).fork()).ldelim(),s.summary!=null&&Object.hasOwnProperty.call(s,"summary")&&h.opentelemetry.proto.metrics.v1.Summary.encode(s.summary,c.uint32(90).fork()).ldelim(),s.metadata!=null&&s.metadata.length)for(var u=0;u<s.metadata.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.metadata[u],c.uint32(98).fork()).ldelim();return c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.Metric;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.name=s.string();break}case 2:{d.description=s.string();break}case 3:{d.unit=s.string();break}case 5:{d.gauge=h.opentelemetry.proto.metrics.v1.Gauge.decode(s,s.uint32());break}case 7:{d.sum=h.opentelemetry.proto.metrics.v1.Sum.decode(s,s.uint32());break}case 9:{d.histogram=h.opentelemetry.proto.metrics.v1.Histogram.decode(s,s.uint32());break}case 10:{d.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(s,s.uint32());break}case 11:{d.summary=h.opentelemetry.proto.metrics.v1.Summary.decode(s,s.uint32());break}case 12:{d.metadata&&d.metadata.length||(d.metadata=[]),d.metadata.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.name!=null&&s.hasOwnProperty("name")&&!m.isString(s.name))return "name: string expected";if(s.description!=null&&s.hasOwnProperty("description")&&!m.isString(s.description))return "description: string expected";if(s.unit!=null&&s.hasOwnProperty("unit")&&!m.isString(s.unit))return "unit: string expected";if(s.gauge!=null&&s.hasOwnProperty("gauge")){c.data=1;{var u=h.opentelemetry.proto.metrics.v1.Gauge.verify(s.gauge);if(u)return "gauge."+u}}if(s.sum!=null&&s.hasOwnProperty("sum")){if(c.data===1)return "data: multiple values";c.data=1;{var u=h.opentelemetry.proto.metrics.v1.Sum.verify(s.sum);if(u)return "sum."+u}}if(s.histogram!=null&&s.hasOwnProperty("histogram")){if(c.data===1)return "data: multiple values";c.data=1;{var u=h.opentelemetry.proto.metrics.v1.Histogram.verify(s.histogram);if(u)return "histogram."+u}}if(s.exponentialHistogram!=null&&s.hasOwnProperty("exponentialHistogram")){if(c.data===1)return "data: multiple values";c.data=1;{var u=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(s.exponentialHistogram);if(u)return "exponentialHistogram."+u}}if(s.summary!=null&&s.hasOwnProperty("summary")){if(c.data===1)return "data: multiple values";c.data=1;{var u=h.opentelemetry.proto.metrics.v1.Summary.verify(s.summary);if(u)return "summary."+u}}if(s.metadata!=null&&s.hasOwnProperty("metadata")){if(!Array.isArray(s.metadata))return "metadata: array expected";for(var l=0;l<s.metadata.length;++l){var u=h.opentelemetry.proto.common.v1.KeyValue.verify(s.metadata[l]);if(u)return "metadata."+u}}return null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.Metric)return s;var c=new h.opentelemetry.proto.metrics.v1.Metric;if(s.name!=null&&(c.name=String(s.name)),s.description!=null&&(c.description=String(s.description)),s.unit!=null&&(c.unit=String(s.unit)),s.gauge!=null){if(typeof s.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");c.gauge=h.opentelemetry.proto.metrics.v1.Gauge.fromObject(s.gauge);}if(s.sum!=null){if(typeof s.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");c.sum=h.opentelemetry.proto.metrics.v1.Sum.fromObject(s.sum);}if(s.histogram!=null){if(typeof s.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");c.histogram=h.opentelemetry.proto.metrics.v1.Histogram.fromObject(s.histogram);}if(s.exponentialHistogram!=null){if(typeof s.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");c.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(s.exponentialHistogram);}if(s.summary!=null){if(typeof s.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");c.summary=h.opentelemetry.proto.metrics.v1.Summary.fromObject(s.summary);}if(s.metadata){if(!Array.isArray(s.metadata))throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: array expected");c.metadata=[];for(var u=0;u<s.metadata.length;++u){if(typeof s.metadata[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.metadata: object expected");c.metadata[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.metadata[u]);}}return c},n.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.metadata=[]),c.defaults&&(u.name="",u.description="",u.unit=""),s.name!=null&&s.hasOwnProperty("name")&&(u.name=s.name),s.description!=null&&s.hasOwnProperty("description")&&(u.description=s.description),s.unit!=null&&s.hasOwnProperty("unit")&&(u.unit=s.unit),s.gauge!=null&&s.hasOwnProperty("gauge")&&(u.gauge=h.opentelemetry.proto.metrics.v1.Gauge.toObject(s.gauge,c),c.oneofs&&(u.data="gauge")),s.sum!=null&&s.hasOwnProperty("sum")&&(u.sum=h.opentelemetry.proto.metrics.v1.Sum.toObject(s.sum,c),c.oneofs&&(u.data="sum")),s.histogram!=null&&s.hasOwnProperty("histogram")&&(u.histogram=h.opentelemetry.proto.metrics.v1.Histogram.toObject(s.histogram,c),c.oneofs&&(u.data="histogram")),s.exponentialHistogram!=null&&s.hasOwnProperty("exponentialHistogram")&&(u.exponentialHistogram=h.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(s.exponentialHistogram,c),c.oneofs&&(u.data="exponentialHistogram")),s.summary!=null&&s.hasOwnProperty("summary")&&(u.summary=h.opentelemetry.proto.metrics.v1.Summary.toObject(s.summary,c),c.oneofs&&(u.data="summary")),s.metadata&&s.metadata.length){u.metadata=[];for(var l=0;l<s.metadata.length;++l)u.metadata[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.metadata[l],c);}return u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.Metric"},n})(),i.Gauge=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.Gauge;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Gauge)return o;var s=new h.opentelemetry.proto.metrics.v1.Gauge;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(o.dataPoints[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var u=0;u<o.dataPoints.length;++u)c.dataPoints[u]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(o.dataPoints[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Gauge"},n})(),i.Sum=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.prototype.isMonotonic=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),o.isMonotonic!=null&&Object.hasOwnProperty.call(o,"isMonotonic")&&s.uint32(24).bool(o.isMonotonic),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.Sum;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(h.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(o,o.uint32()));break}case 2:{l.aggregationTemporality=o.int32();break}case 3:{l.isMonotonic=o.bool();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return o.isMonotonic!=null&&o.hasOwnProperty("isMonotonic")&&typeof o.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Sum)return o;var s=new h.opentelemetry.proto.metrics.v1.Sum;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return o.isMonotonic!=null&&(s.isMonotonic=!!o.isMonotonic),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,c.isMonotonic=false),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var u=0;u<o.dataPoints.length;++u)c.dataPoints[u]=h.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(o.dataPoints[u],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),o.isMonotonic!=null&&o.hasOwnProperty("isMonotonic")&&(c.isMonotonic=o.isMonotonic),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Sum"},n})(),i.Histogram=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.Histogram;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(h.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(o,o.uint32()));break}case 2:{l.aggregationTemporality=o.int32();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Histogram)return o;var s=new h.opentelemetry.proto.metrics.v1.Histogram;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var u=0;u<o.dataPoints.length;++u)c.dataPoints[u]=h.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(o.dataPoints[u],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Histogram"},n})(),i.ExponentialHistogram=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.prototype.aggregationTemporality=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return o.aggregationTemporality!=null&&Object.hasOwnProperty.call(o,"aggregationTemporality")&&s.uint32(16).int32(o.aggregationTemporality),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(o,o.uint32()));break}case 2:{l.aggregationTemporality=o.int32();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}if(o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality"))switch(o.aggregationTemporality){default:return "aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogram)return o;var s=new h.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(o.dataPoints[c]);}}switch(o.aggregationTemporality){default:if(typeof o.aggregationTemporality=="number"){s.aggregationTemporality=o.aggregationTemporality;break}break;case "AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:s.aggregationTemporality=0;break;case "AGGREGATION_TEMPORALITY_DELTA":case 1:s.aggregationTemporality=1;break;case "AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:s.aggregationTemporality=2;break}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),s.defaults&&(c.aggregationTemporality=s.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var u=0;u<o.dataPoints.length;++u)c.dataPoints[u]=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(o.dataPoints[u],s);}return o.aggregationTemporality!=null&&o.hasOwnProperty("aggregationTemporality")&&(c.aggregationTemporality=s.enums===String?h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]===void 0?o.aggregationTemporality:h.opentelemetry.proto.metrics.v1.AggregationTemporality[o.aggregationTemporality]:o.aggregationTemporality),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},n})(),i.Summary=(function(){function n(a){if(this.dataPoints=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.dataPoints=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.dataPoints!=null&&o.dataPoints.length)for(var c=0;c<o.dataPoints.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(o.dataPoints[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.Summary;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.dataPoints&&l.dataPoints.length||(l.dataPoints=[]),l.dataPoints.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.dataPoints!=null&&o.hasOwnProperty("dataPoints")){if(!Array.isArray(o.dataPoints))return "dataPoints: array expected";for(var s=0;s<o.dataPoints.length;++s){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(o.dataPoints[s]);if(c)return "dataPoints."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.Summary)return o;var s=new h.opentelemetry.proto.metrics.v1.Summary;if(o.dataPoints){if(!Array.isArray(o.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");s.dataPoints=[];for(var c=0;c<o.dataPoints.length;++c){if(typeof o.dataPoints[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");s.dataPoints[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(o.dataPoints[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.dataPoints=[]),o.dataPoints&&o.dataPoints.length){c.dataPoints=[];for(var u=0;u<o.dataPoints.length;++u)c.dataPoints[u]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(o.dataPoints[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.Summary"},n})(),i.AggregationTemporality=(function(){var n={},a=Object.create(n);return a[n[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[n[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[n[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a})(),i.DataPointFlags=(function(){var n={},a=Object.create(n);return a[n[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[n[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a})(),i.NumberDataPoint=(function(){function n(o){if(this.attributes=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.asDouble=null,n.prototype.asInt=null,n.prototype.exemplars=m.emptyArray,n.prototype.flags=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["asDouble","asInt"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Ae.create()),s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.asDouble!=null&&Object.hasOwnProperty.call(s,"asDouble")&&c.uint32(33).double(s.asDouble),s.exemplars!=null&&s.exemplars.length)for(var u=0;u<s.exemplars.length;++u)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[u],c.uint32(42).fork()).ldelim();if(s.asInt!=null&&Object.hasOwnProperty.call(s,"asInt")&&c.uint32(49).sfixed64(s.asInt),s.attributes!=null&&s.attributes.length)for(var u=0;u<s.attributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[u],c.uint32(58).fork()).ldelim();return s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(64).uint32(s.flags),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 7:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.asDouble=s.double();break}case 6:{d.asInt=s.sfixed64();break}case 5:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 8:{d.flags=s.uint32();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var u=0;u<s.attributes.length;++u){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[u]);if(l)return "attributes."+l}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(c.value=1,typeof s.asDouble!="number"))return "asDouble: number expected";if(s.asInt!=null&&s.hasOwnProperty("asInt")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.asInt)&&!(s.asInt&&m.isInteger(s.asInt.low)&&m.isInteger(s.asInt.high)))return "asInt: integer|Long expected"}if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var u=0;u<s.exemplars.length;++u){var l=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[u]);if(l)return "exemplars."+l}}return s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.NumberDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.NumberDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");c.attributes=[];for(var u=0;u<s.attributes.length;++u){if(typeof s.attributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[u]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.asDouble!=null&&(c.asDouble=Number(s.asDouble)),s.asInt!=null&&(m.Long?(c.asInt=m.Long.fromValue(s.asInt)).unsigned=false:typeof s.asInt=="string"?c.asInt=parseInt(s.asInt,10):typeof s.asInt=="number"?c.asInt=s.asInt:typeof s.asInt=="object"&&(c.asInt=new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber())),s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");c.exemplars=[];for(var u=0;u<s.exemplars.length;++u){if(typeof s.exemplars[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");c.exemplars[u]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[u]);}}return s.flags!=null&&(c.flags=s.flags>>>0),c},n.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.exemplars=[],u.attributes=[]),c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.startTimeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);u.timeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.timeUnixNano=c.longs===String?"0":0;u.flags=0;}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?u.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:u.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?u.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:u.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(u.asDouble=c.json&&!isFinite(s.asDouble)?String(s.asDouble):s.asDouble,c.oneofs&&(u.value="asDouble")),s.exemplars&&s.exemplars.length){u.exemplars=[];for(var d=0;d<s.exemplars.length;++d)u.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}if(s.asInt!=null&&s.hasOwnProperty("asInt")&&(typeof s.asInt=="number"?u.asInt=c.longs===String?String(s.asInt):s.asInt:u.asInt=c.longs===String?m.Long.prototype.toString.call(s.asInt):c.longs===Number?new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber():s.asInt,c.oneofs&&(u.value="asInt")),s.attributes&&s.attributes.length){u.attributes=[];for(var d=0;d<s.attributes.length;++d)u.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.flags!=null&&s.hasOwnProperty("flags")&&(u.flags=s.flags),u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},n})(),i.HistogramDataPoint=(function(){function n(o){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.bucketCounts=m.emptyArray,n.prototype.explicitBounds=m.emptyArray,n.prototype.exemplars=m.emptyArray,n.prototype.flags=null,n.prototype.min=null,n.prototype.max=null;var a;return Object.defineProperty(n.prototype,"_sum",{get:m.oneOfGetter(a=["sum"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_min",{get:m.oneOfGetter(a=["min"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_max",{get:m.oneOfGetter(a=["max"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Ae.create()),s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.count!=null&&Object.hasOwnProperty.call(s,"count")&&c.uint32(33).fixed64(s.count),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&c.uint32(41).double(s.sum),s.bucketCounts!=null&&s.bucketCounts.length){c.uint32(50).fork();for(var u=0;u<s.bucketCounts.length;++u)c.fixed64(s.bucketCounts[u]);c.ldelim();}if(s.explicitBounds!=null&&s.explicitBounds.length){c.uint32(58).fork();for(var u=0;u<s.explicitBounds.length;++u)c.double(s.explicitBounds[u]);c.ldelim();}if(s.exemplars!=null&&s.exemplars.length)for(var u=0;u<s.exemplars.length;++u)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[u],c.uint32(66).fork()).ldelim();if(s.attributes!=null&&s.attributes.length)for(var u=0;u<s.attributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[u],c.uint32(74).fork()).ldelim();return s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(80).uint32(s.flags),s.min!=null&&Object.hasOwnProperty.call(s,"min")&&c.uint32(89).double(s.min),s.max!=null&&Object.hasOwnProperty.call(s,"max")&&c.uint32(97).double(s.max),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 9:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.count=s.fixed64();break}case 5:{d.sum=s.double();break}case 6:{if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(p&7)===2)for(var f=s.uint32()+s.pos;s.pos<f;)d.bucketCounts.push(s.fixed64());else d.bucketCounts.push(s.fixed64());break}case 7:{if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(p&7)===2)for(var f=s.uint32()+s.pos;s.pos<f;)d.explicitBounds.push(s.double());else d.explicitBounds.push(s.double());break}case 8:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 10:{d.flags=s.uint32();break}case 11:{d.min=s.double();break}case 12:{d.max=s.double();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var u=0;u<s.attributes.length;++u){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[u]);if(l)return "attributes."+l}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.count!=null&&s.hasOwnProperty("count")&&!m.isInteger(s.count)&&!(s.count&&m.isInteger(s.count.low)&&m.isInteger(s.count.high)))return "count: integer|Long expected";if(s.sum!=null&&s.hasOwnProperty("sum")&&(typeof s.sum!="number"))return "sum: number expected";if(s.bucketCounts!=null&&s.hasOwnProperty("bucketCounts")){if(!Array.isArray(s.bucketCounts))return "bucketCounts: array expected";for(var u=0;u<s.bucketCounts.length;++u)if(!m.isInteger(s.bucketCounts[u])&&!(s.bucketCounts[u]&&m.isInteger(s.bucketCounts[u].low)&&m.isInteger(s.bucketCounts[u].high)))return "bucketCounts: integer|Long[] expected"}if(s.explicitBounds!=null&&s.hasOwnProperty("explicitBounds")){if(!Array.isArray(s.explicitBounds))return "explicitBounds: array expected";for(var u=0;u<s.explicitBounds.length;++u)if(typeof s.explicitBounds[u]!="number")return "explicitBounds: number[] expected"}if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var u=0;u<s.exemplars.length;++u){var l=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[u]);if(l)return "exemplars."+l}}return s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags)?"flags: integer expected":s.min!=null&&s.hasOwnProperty("min")&&(typeof s.min!="number")?"min: number expected":s.max!=null&&s.hasOwnProperty("max")&&(typeof s.max!="number")?"max: number expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.HistogramDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");c.attributes=[];for(var u=0;u<s.attributes.length;++u){if(typeof s.attributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[u]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.count!=null&&(m.Long?(c.count=m.Long.fromValue(s.count)).unsigned=false:typeof s.count=="string"?c.count=parseInt(s.count,10):typeof s.count=="number"?c.count=s.count:typeof s.count=="object"&&(c.count=new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber())),s.sum!=null&&(c.sum=Number(s.sum)),s.bucketCounts){if(!Array.isArray(s.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<s.bucketCounts.length;++u)m.Long?(c.bucketCounts[u]=m.Long.fromValue(s.bucketCounts[u])).unsigned=false:typeof s.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(s.bucketCounts[u],10):typeof s.bucketCounts[u]=="number"?c.bucketCounts[u]=s.bucketCounts[u]:typeof s.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new m.LongBits(s.bucketCounts[u].low>>>0,s.bucketCounts[u].high>>>0).toNumber());}if(s.explicitBounds){if(!Array.isArray(s.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");c.explicitBounds=[];for(var u=0;u<s.explicitBounds.length;++u)c.explicitBounds[u]=Number(s.explicitBounds[u]);}if(s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var u=0;u<s.exemplars.length;++u){if(typeof s.exemplars[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");c.exemplars[u]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[u]);}}return s.flags!=null&&(c.flags=s.flags>>>0),s.min!=null&&(c.min=Number(s.min)),s.max!=null&&(c.max=Number(s.max)),c},n.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[],u.explicitBounds=[],u.exemplars=[],u.attributes=[]),c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.startTimeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);u.timeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.timeUnixNano=c.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);u.count=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.count=c.longs===String?"0":0;u.flags=0;}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?u.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:u.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?u.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:u.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.count!=null&&s.hasOwnProperty("count")&&(typeof s.count=="number"?u.count=c.longs===String?String(s.count):s.count:u.count=c.longs===String?m.Long.prototype.toString.call(s.count):c.longs===Number?new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber():s.count),s.sum!=null&&s.hasOwnProperty("sum")&&(u.sum=c.json&&!isFinite(s.sum)?String(s.sum):s.sum,c.oneofs&&(u._sum="sum")),s.bucketCounts&&s.bucketCounts.length){u.bucketCounts=[];for(var d=0;d<s.bucketCounts.length;++d)typeof s.bucketCounts[d]=="number"?u.bucketCounts[d]=c.longs===String?String(s.bucketCounts[d]):s.bucketCounts[d]:u.bucketCounts[d]=c.longs===String?m.Long.prototype.toString.call(s.bucketCounts[d]):c.longs===Number?new m.LongBits(s.bucketCounts[d].low>>>0,s.bucketCounts[d].high>>>0).toNumber():s.bucketCounts[d];}if(s.explicitBounds&&s.explicitBounds.length){u.explicitBounds=[];for(var d=0;d<s.explicitBounds.length;++d)u.explicitBounds[d]=c.json&&!isFinite(s.explicitBounds[d])?String(s.explicitBounds[d]):s.explicitBounds[d];}if(s.exemplars&&s.exemplars.length){u.exemplars=[];for(var d=0;d<s.exemplars.length;++d)u.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}if(s.attributes&&s.attributes.length){u.attributes=[];for(var d=0;d<s.attributes.length;++d)u.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}return s.flags!=null&&s.hasOwnProperty("flags")&&(u.flags=s.flags),s.min!=null&&s.hasOwnProperty("min")&&(u.min=c.json&&!isFinite(s.min)?String(s.min):s.min,c.oneofs&&(u._min="min")),s.max!=null&&s.hasOwnProperty("max")&&(u.max=c.json&&!isFinite(s.max)?String(s.max):s.max,c.oneofs&&(u._max="max")),u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},n})(),i.ExponentialHistogramDataPoint=(function(){function n(o){if(this.attributes=[],this.exemplars=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.scale=null,n.prototype.zeroCount=null,n.prototype.positive=null,n.prototype.negative=null,n.prototype.flags=null,n.prototype.exemplars=m.emptyArray,n.prototype.min=null,n.prototype.max=null,n.prototype.zeroThreshold=null;var a;return Object.defineProperty(n.prototype,"_sum",{get:m.oneOfGetter(a=["sum"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_min",{get:m.oneOfGetter(a=["min"]),set:m.oneOfSetter(a)}),Object.defineProperty(n.prototype,"_max",{get:m.oneOfGetter(a=["max"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Ae.create()),s.attributes!=null&&s.attributes.length)for(var u=0;u<s.attributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.attributes[u],c.uint32(10).fork()).ldelim();if(s.startTimeUnixNano!=null&&Object.hasOwnProperty.call(s,"startTimeUnixNano")&&c.uint32(17).fixed64(s.startTimeUnixNano),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(25).fixed64(s.timeUnixNano),s.count!=null&&Object.hasOwnProperty.call(s,"count")&&c.uint32(33).fixed64(s.count),s.sum!=null&&Object.hasOwnProperty.call(s,"sum")&&c.uint32(41).double(s.sum),s.scale!=null&&Object.hasOwnProperty.call(s,"scale")&&c.uint32(48).sint32(s.scale),s.zeroCount!=null&&Object.hasOwnProperty.call(s,"zeroCount")&&c.uint32(57).fixed64(s.zeroCount),s.positive!=null&&Object.hasOwnProperty.call(s,"positive")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(s.positive,c.uint32(66).fork()).ldelim(),s.negative!=null&&Object.hasOwnProperty.call(s,"negative")&&h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(s.negative,c.uint32(74).fork()).ldelim(),s.flags!=null&&Object.hasOwnProperty.call(s,"flags")&&c.uint32(80).uint32(s.flags),s.exemplars!=null&&s.exemplars.length)for(var u=0;u<s.exemplars.length;++u)h.opentelemetry.proto.metrics.v1.Exemplar.encode(s.exemplars[u],c.uint32(90).fork()).ldelim();return s.min!=null&&Object.hasOwnProperty.call(s,"min")&&c.uint32(97).double(s.min),s.max!=null&&Object.hasOwnProperty.call(s,"max")&&c.uint32(105).double(s.max),s.zeroThreshold!=null&&Object.hasOwnProperty.call(s,"zeroThreshold")&&c.uint32(113).double(s.zeroThreshold),c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.startTimeUnixNano=s.fixed64();break}case 3:{d.timeUnixNano=s.fixed64();break}case 4:{d.count=s.fixed64();break}case 5:{d.sum=s.double();break}case 6:{d.scale=s.sint32();break}case 7:{d.zeroCount=s.fixed64();break}case 8:{d.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(s,s.uint32());break}case 9:{d.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(s,s.uint32());break}case 10:{d.flags=s.uint32();break}case 11:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(h.opentelemetry.proto.metrics.v1.Exemplar.decode(s,s.uint32()));break}case 12:{d.min=s.double();break}case 13:{d.max=s.double();break}case 14:{d.zeroThreshold=s.double();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";if(s.attributes!=null&&s.hasOwnProperty("attributes")){if(!Array.isArray(s.attributes))return "attributes: array expected";for(var u=0;u<s.attributes.length;++u){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.attributes[u]);if(l)return "attributes."+l}}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(s.startTimeUnixNano)&&!(s.startTimeUnixNano&&m.isInteger(s.startTimeUnixNano.low)&&m.isInteger(s.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.count!=null&&s.hasOwnProperty("count")&&!m.isInteger(s.count)&&!(s.count&&m.isInteger(s.count.low)&&m.isInteger(s.count.high)))return "count: integer|Long expected";if(s.sum!=null&&s.hasOwnProperty("sum")&&(typeof s.sum!="number"))return "sum: number expected";if(s.scale!=null&&s.hasOwnProperty("scale")&&!m.isInteger(s.scale))return "scale: integer expected";if(s.zeroCount!=null&&s.hasOwnProperty("zeroCount")&&!m.isInteger(s.zeroCount)&&!(s.zeroCount&&m.isInteger(s.zeroCount.low)&&m.isInteger(s.zeroCount.high)))return "zeroCount: integer|Long expected";if(s.positive!=null&&s.hasOwnProperty("positive")){var l=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(s.positive);if(l)return "positive."+l}if(s.negative!=null&&s.hasOwnProperty("negative")){var l=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(s.negative);if(l)return "negative."+l}if(s.flags!=null&&s.hasOwnProperty("flags")&&!m.isInteger(s.flags))return "flags: integer expected";if(s.exemplars!=null&&s.hasOwnProperty("exemplars")){if(!Array.isArray(s.exemplars))return "exemplars: array expected";for(var u=0;u<s.exemplars.length;++u){var l=h.opentelemetry.proto.metrics.v1.Exemplar.verify(s.exemplars[u]);if(l)return "exemplars."+l}}return s.min!=null&&s.hasOwnProperty("min")&&(typeof s.min!="number")?"min: number expected":s.max!=null&&s.hasOwnProperty("max")&&(typeof s.max!="number")?"max: number expected":s.zeroThreshold!=null&&s.hasOwnProperty("zeroThreshold")&&typeof s.zeroThreshold!="number"?"zeroThreshold: number expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return s;var c=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(s.attributes){if(!Array.isArray(s.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");c.attributes=[];for(var u=0;u<s.attributes.length;++u){if(typeof s.attributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");c.attributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.attributes[u]);}}if(s.startTimeUnixNano!=null&&(m.Long?(c.startTimeUnixNano=m.Long.fromValue(s.startTimeUnixNano)).unsigned=false:typeof s.startTimeUnixNano=="string"?c.startTimeUnixNano=parseInt(s.startTimeUnixNano,10):typeof s.startTimeUnixNano=="number"?c.startTimeUnixNano=s.startTimeUnixNano:typeof s.startTimeUnixNano=="object"&&(c.startTimeUnixNano=new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber())),s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.count!=null&&(m.Long?(c.count=m.Long.fromValue(s.count)).unsigned=false:typeof s.count=="string"?c.count=parseInt(s.count,10):typeof s.count=="number"?c.count=s.count:typeof s.count=="object"&&(c.count=new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber())),s.sum!=null&&(c.sum=Number(s.sum)),s.scale!=null&&(c.scale=s.scale|0),s.zeroCount!=null&&(m.Long?(c.zeroCount=m.Long.fromValue(s.zeroCount)).unsigned=false:typeof s.zeroCount=="string"?c.zeroCount=parseInt(s.zeroCount,10):typeof s.zeroCount=="number"?c.zeroCount=s.zeroCount:typeof s.zeroCount=="object"&&(c.zeroCount=new m.LongBits(s.zeroCount.low>>>0,s.zeroCount.high>>>0).toNumber())),s.positive!=null){if(typeof s.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");c.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(s.positive);}if(s.negative!=null){if(typeof s.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");c.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(s.negative);}if(s.flags!=null&&(c.flags=s.flags>>>0),s.exemplars){if(!Array.isArray(s.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");c.exemplars=[];for(var u=0;u<s.exemplars.length;++u){if(typeof s.exemplars[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");c.exemplars[u]=h.opentelemetry.proto.metrics.v1.Exemplar.fromObject(s.exemplars[u]);}}return s.min!=null&&(c.min=Number(s.min)),s.max!=null&&(c.max=Number(s.max)),s.zeroThreshold!=null&&(c.zeroThreshold=Number(s.zeroThreshold)),c},n.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.attributes=[],u.exemplars=[]),c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.startTimeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.startTimeUnixNano=c.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);u.timeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.timeUnixNano=c.longs===String?"0":0;if(m.Long){var l=new m.Long(0,0,false);u.count=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.count=c.longs===String?"0":0;if(u.scale=0,m.Long){var l=new m.Long(0,0,false);u.zeroCount=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.zeroCount=c.longs===String?"0":0;u.positive=null,u.negative=null,u.flags=0,u.zeroThreshold=0;}if(s.attributes&&s.attributes.length){u.attributes=[];for(var d=0;d<s.attributes.length;++d)u.attributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.attributes[d],c);}if(s.startTimeUnixNano!=null&&s.hasOwnProperty("startTimeUnixNano")&&(typeof s.startTimeUnixNano=="number"?u.startTimeUnixNano=c.longs===String?String(s.startTimeUnixNano):s.startTimeUnixNano:u.startTimeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.startTimeUnixNano):c.longs===Number?new m.LongBits(s.startTimeUnixNano.low>>>0,s.startTimeUnixNano.high>>>0).toNumber():s.startTimeUnixNano),s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?u.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:u.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.count!=null&&s.hasOwnProperty("count")&&(typeof s.count=="number"?u.count=c.longs===String?String(s.count):s.count:u.count=c.longs===String?m.Long.prototype.toString.call(s.count):c.longs===Number?new m.LongBits(s.count.low>>>0,s.count.high>>>0).toNumber():s.count),s.sum!=null&&s.hasOwnProperty("sum")&&(u.sum=c.json&&!isFinite(s.sum)?String(s.sum):s.sum,c.oneofs&&(u._sum="sum")),s.scale!=null&&s.hasOwnProperty("scale")&&(u.scale=s.scale),s.zeroCount!=null&&s.hasOwnProperty("zeroCount")&&(typeof s.zeroCount=="number"?u.zeroCount=c.longs===String?String(s.zeroCount):s.zeroCount:u.zeroCount=c.longs===String?m.Long.prototype.toString.call(s.zeroCount):c.longs===Number?new m.LongBits(s.zeroCount.low>>>0,s.zeroCount.high>>>0).toNumber():s.zeroCount),s.positive!=null&&s.hasOwnProperty("positive")&&(u.positive=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(s.positive,c)),s.negative!=null&&s.hasOwnProperty("negative")&&(u.negative=h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(s.negative,c)),s.flags!=null&&s.hasOwnProperty("flags")&&(u.flags=s.flags),s.exemplars&&s.exemplars.length){u.exemplars=[];for(var d=0;d<s.exemplars.length;++d)u.exemplars[d]=h.opentelemetry.proto.metrics.v1.Exemplar.toObject(s.exemplars[d],c);}return s.min!=null&&s.hasOwnProperty("min")&&(u.min=c.json&&!isFinite(s.min)?String(s.min):s.min,c.oneofs&&(u._min="min")),s.max!=null&&s.hasOwnProperty("max")&&(u.max=c.json&&!isFinite(s.max)?String(s.max):s.max,c.oneofs&&(u._max="max")),s.zeroThreshold!=null&&s.hasOwnProperty("zeroThreshold")&&(u.zeroThreshold=c.json&&!isFinite(s.zeroThreshold)?String(s.zeroThreshold):s.zeroThreshold),u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},n.Buckets=(function(){function o(s){if(this.bucketCounts=[],s)for(var c=Object.keys(s),u=0;u<c.length;++u)s[c[u]]!=null&&(this[c[u]]=s[c[u]]);}return o.prototype.offset=null,o.prototype.bucketCounts=m.emptyArray,o.create=function(c){return new o(c)},o.encode=function(c,u){if(u||(u=Ae.create()),c.offset!=null&&Object.hasOwnProperty.call(c,"offset")&&u.uint32(8).sint32(c.offset),c.bucketCounts!=null&&c.bucketCounts.length){u.uint32(18).fork();for(var l=0;l<c.bucketCounts.length;++l)u.uint64(c.bucketCounts[l]);u.ldelim();}return u},o.encodeDelimited=function(c,u){return this.encode(c,u).ldelim()},o.decode=function(c,u,l){c instanceof A||(c=A.create(c));for(var d=u===void 0?c.len:c.pos+u,p=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;c.pos<d;){var f=c.uint32();if(f===l)break;switch(f>>>3){case 1:{p.offset=c.sint32();break}case 2:{if(p.bucketCounts&&p.bucketCounts.length||(p.bucketCounts=[]),(f&7)===2)for(var _=c.uint32()+c.pos;c.pos<_;)p.bucketCounts.push(c.uint64());else p.bucketCounts.push(c.uint64());break}default:c.skipType(f&7);break}}return p},o.decodeDelimited=function(c){return c instanceof A||(c=new A(c)),this.decode(c,c.uint32())},o.verify=function(c){if(typeof c!="object"||c===null)return "object expected";if(c.offset!=null&&c.hasOwnProperty("offset")&&!m.isInteger(c.offset))return "offset: integer expected";if(c.bucketCounts!=null&&c.hasOwnProperty("bucketCounts")){if(!Array.isArray(c.bucketCounts))return "bucketCounts: array expected";for(var u=0;u<c.bucketCounts.length;++u)if(!m.isInteger(c.bucketCounts[u])&&!(c.bucketCounts[u]&&m.isInteger(c.bucketCounts[u].low)&&m.isInteger(c.bucketCounts[u].high)))return "bucketCounts: integer|Long[] expected"}return null},o.fromObject=function(c){if(c instanceof h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return c;var u=new h.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(c.offset!=null&&(u.offset=c.offset|0),c.bucketCounts){if(!Array.isArray(c.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");u.bucketCounts=[];for(var l=0;l<c.bucketCounts.length;++l)m.Long?(u.bucketCounts[l]=m.Long.fromValue(c.bucketCounts[l])).unsigned=true:typeof c.bucketCounts[l]=="string"?u.bucketCounts[l]=parseInt(c.bucketCounts[l],10):typeof c.bucketCounts[l]=="number"?u.bucketCounts[l]=c.bucketCounts[l]:typeof c.bucketCounts[l]=="object"&&(u.bucketCounts[l]=new m.LongBits(c.bucketCounts[l].low>>>0,c.bucketCounts[l].high>>>0).toNumber(true));}return u},o.toObject=function(c,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.bucketCounts=[]),u.defaults&&(l.offset=0),c.offset!=null&&c.hasOwnProperty("offset")&&(l.offset=c.offset),c.bucketCounts&&c.bucketCounts.length){l.bucketCounts=[];for(var d=0;d<c.bucketCounts.length;++d)typeof c.bucketCounts[d]=="number"?l.bucketCounts[d]=u.longs===String?String(c.bucketCounts[d]):c.bucketCounts[d]:l.bucketCounts[d]=u.longs===String?m.Long.prototype.toString.call(c.bucketCounts[d]):u.longs===Number?new m.LongBits(c.bucketCounts[d].low>>>0,c.bucketCounts[d].high>>>0).toNumber(true):c.bucketCounts[d];}return l},o.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},o.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},o})(),n})(),i.SummaryDataPoint=(function(){function n(a){if(this.attributes=[],this.quantileValues=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.attributes=m.emptyArray,n.prototype.startTimeUnixNano=null,n.prototype.timeUnixNano=null,n.prototype.count=null,n.prototype.sum=null,n.prototype.quantileValues=m.emptyArray,n.prototype.flags=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.startTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"startTimeUnixNano")&&s.uint32(17).fixed64(o.startTimeUnixNano),o.timeUnixNano!=null&&Object.hasOwnProperty.call(o,"timeUnixNano")&&s.uint32(25).fixed64(o.timeUnixNano),o.count!=null&&Object.hasOwnProperty.call(o,"count")&&s.uint32(33).fixed64(o.count),o.sum!=null&&Object.hasOwnProperty.call(o,"sum")&&s.uint32(41).double(o.sum),o.quantileValues!=null&&o.quantileValues.length)for(var c=0;c<o.quantileValues.length;++c)h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(o.quantileValues[c],s.uint32(50).fork()).ldelim();if(o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(58).fork()).ldelim();return o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(64).uint32(o.flags),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 7:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 2:{l.startTimeUnixNano=o.fixed64();break}case 3:{l.timeUnixNano=o.fixed64();break}case 4:{l.count=o.fixed64();break}case 5:{l.sum=o.double();break}case 6:{l.quantileValues&&l.quantileValues.length||(l.quantileValues=[]),l.quantileValues.push(h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(o,o.uint32()));break}case 8:{l.flags=o.uint32();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var s=0;s<o.attributes.length;++s){var c=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[s]);if(c)return "attributes."+c}}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&!m.isInteger(o.startTimeUnixNano)&&!(o.startTimeUnixNano&&m.isInteger(o.startTimeUnixNano.low)&&m.isInteger(o.startTimeUnixNano.high)))return "startTimeUnixNano: integer|Long expected";if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&!m.isInteger(o.timeUnixNano)&&!(o.timeUnixNano&&m.isInteger(o.timeUnixNano.low)&&m.isInteger(o.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(o.count!=null&&o.hasOwnProperty("count")&&!m.isInteger(o.count)&&!(o.count&&m.isInteger(o.count.low)&&m.isInteger(o.count.high)))return "count: integer|Long expected";if(o.sum!=null&&o.hasOwnProperty("sum")&&typeof o.sum!="number")return "sum: number expected";if(o.quantileValues!=null&&o.hasOwnProperty("quantileValues")){if(!Array.isArray(o.quantileValues))return "quantileValues: array expected";for(var s=0;s<o.quantileValues.length;++s){var c=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(o.quantileValues[s]);if(c)return "quantileValues."+c}}return o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags)?"flags: integer expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint)return o;var s=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}if(o.startTimeUnixNano!=null&&(m.Long?(s.startTimeUnixNano=m.Long.fromValue(o.startTimeUnixNano)).unsigned=false:typeof o.startTimeUnixNano=="string"?s.startTimeUnixNano=parseInt(o.startTimeUnixNano,10):typeof o.startTimeUnixNano=="number"?s.startTimeUnixNano=o.startTimeUnixNano:typeof o.startTimeUnixNano=="object"&&(s.startTimeUnixNano=new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber())),o.timeUnixNano!=null&&(m.Long?(s.timeUnixNano=m.Long.fromValue(o.timeUnixNano)).unsigned=false:typeof o.timeUnixNano=="string"?s.timeUnixNano=parseInt(o.timeUnixNano,10):typeof o.timeUnixNano=="number"?s.timeUnixNano=o.timeUnixNano:typeof o.timeUnixNano=="object"&&(s.timeUnixNano=new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber())),o.count!=null&&(m.Long?(s.count=m.Long.fromValue(o.count)).unsigned=false:typeof o.count=="string"?s.count=parseInt(o.count,10):typeof o.count=="number"?s.count=o.count:typeof o.count=="object"&&(s.count=new m.LongBits(o.count.low>>>0,o.count.high>>>0).toNumber())),o.sum!=null&&(s.sum=Number(o.sum)),o.quantileValues){if(!Array.isArray(o.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");s.quantileValues=[];for(var c=0;c<o.quantileValues.length;++c){if(typeof o.quantileValues[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");s.quantileValues[c]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(o.quantileValues[c]);}}return o.flags!=null&&(s.flags=o.flags>>>0),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.quantileValues=[],c.attributes=[]),s.defaults){if(m.Long){var u=new m.Long(0,0,false);c.startTimeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.startTimeUnixNano=s.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);c.timeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.timeUnixNano=s.longs===String?"0":0;if(m.Long){var u=new m.Long(0,0,false);c.count=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.count=s.longs===String?"0":0;c.sum=0,c.flags=0;}if(o.startTimeUnixNano!=null&&o.hasOwnProperty("startTimeUnixNano")&&(typeof o.startTimeUnixNano=="number"?c.startTimeUnixNano=s.longs===String?String(o.startTimeUnixNano):o.startTimeUnixNano:c.startTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.startTimeUnixNano):s.longs===Number?new m.LongBits(o.startTimeUnixNano.low>>>0,o.startTimeUnixNano.high>>>0).toNumber():o.startTimeUnixNano),o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&(typeof o.timeUnixNano=="number"?c.timeUnixNano=s.longs===String?String(o.timeUnixNano):o.timeUnixNano:c.timeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.timeUnixNano):s.longs===Number?new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber():o.timeUnixNano),o.count!=null&&o.hasOwnProperty("count")&&(typeof o.count=="number"?c.count=s.longs===String?String(o.count):o.count:c.count=s.longs===String?m.Long.prototype.toString.call(o.count):s.longs===Number?new m.LongBits(o.count.low>>>0,o.count.high>>>0).toNumber():o.count),o.sum!=null&&o.hasOwnProperty("sum")&&(c.sum=s.json&&!isFinite(o.sum)?String(o.sum):o.sum),o.quantileValues&&o.quantileValues.length){c.quantileValues=[];for(var l=0;l<o.quantileValues.length;++l)c.quantileValues[l]=h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(o.quantileValues[l],s);}if(o.attributes&&o.attributes.length){c.attributes=[];for(var l=0;l<o.attributes.length;++l)c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[l],s);}return o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},n.ValueAtQuantile=(function(){function a(o){if(o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(s){return new a(s)},a.encode=function(s,c){return c||(c=Ae.create()),s.quantile!=null&&Object.hasOwnProperty.call(s,"quantile")&&c.uint32(9).double(s.quantile),s.value!=null&&Object.hasOwnProperty.call(s,"value")&&c.uint32(17).double(s.value),c},a.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},a.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 1:{d.quantile=s.double();break}case 2:{d.value=s.double();break}default:s.skipType(p&7);break}}return d},a.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},a.verify=function(s){return typeof s!="object"||s===null?"object expected":s.quantile!=null&&s.hasOwnProperty("quantile")&&typeof s.quantile!="number"?"quantile: number expected":s.value!=null&&s.hasOwnProperty("value")&&typeof s.value!="number"?"value: number expected":null},a.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return s;var c=new h.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return s.quantile!=null&&(c.quantile=Number(s.quantile)),s.value!=null&&(c.value=Number(s.value)),c},a.toObject=function(s,c){c||(c={});var u={};return c.defaults&&(u.quantile=0,u.value=0),s.quantile!=null&&s.hasOwnProperty("quantile")&&(u.quantile=c.json&&!isFinite(s.quantile)?String(s.quantile):s.quantile),s.value!=null&&s.hasOwnProperty("value")&&(u.value=c.json&&!isFinite(s.value)?String(s.value):s.value),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},a.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a})(),n})(),i.Exemplar=(function(){function n(o){if(this.filteredAttributes=[],o)for(var s=Object.keys(o),c=0;c<s.length;++c)o[s[c]]!=null&&(this[s[c]]=o[s[c]]);}n.prototype.filteredAttributes=m.emptyArray,n.prototype.timeUnixNano=null,n.prototype.asDouble=null,n.prototype.asInt=null,n.prototype.spanId=null,n.prototype.traceId=null;var a;return Object.defineProperty(n.prototype,"value",{get:m.oneOfGetter(a=["asDouble","asInt"]),set:m.oneOfSetter(a)}),n.create=function(s){return new n(s)},n.encode=function(s,c){if(c||(c=Ae.create()),s.timeUnixNano!=null&&Object.hasOwnProperty.call(s,"timeUnixNano")&&c.uint32(17).fixed64(s.timeUnixNano),s.asDouble!=null&&Object.hasOwnProperty.call(s,"asDouble")&&c.uint32(25).double(s.asDouble),s.spanId!=null&&Object.hasOwnProperty.call(s,"spanId")&&c.uint32(34).bytes(s.spanId),s.traceId!=null&&Object.hasOwnProperty.call(s,"traceId")&&c.uint32(42).bytes(s.traceId),s.asInt!=null&&Object.hasOwnProperty.call(s,"asInt")&&c.uint32(49).sfixed64(s.asInt),s.filteredAttributes!=null&&s.filteredAttributes.length)for(var u=0;u<s.filteredAttributes.length;++u)h.opentelemetry.proto.common.v1.KeyValue.encode(s.filteredAttributes[u],c.uint32(58).fork()).ldelim();return c},n.encodeDelimited=function(s,c){return this.encode(s,c).ldelim()},n.decode=function(s,c,u){s instanceof A||(s=A.create(s));for(var l=c===void 0?s.len:s.pos+c,d=new h.opentelemetry.proto.metrics.v1.Exemplar;s.pos<l;){var p=s.uint32();if(p===u)break;switch(p>>>3){case 7:{d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(s,s.uint32()));break}case 2:{d.timeUnixNano=s.fixed64();break}case 3:{d.asDouble=s.double();break}case 6:{d.asInt=s.sfixed64();break}case 4:{d.spanId=s.bytes();break}case 5:{d.traceId=s.bytes();break}default:s.skipType(p&7);break}}return d},n.decodeDelimited=function(s){return s instanceof A||(s=new A(s)),this.decode(s,s.uint32())},n.verify=function(s){if(typeof s!="object"||s===null)return "object expected";var c={};if(s.filteredAttributes!=null&&s.hasOwnProperty("filteredAttributes")){if(!Array.isArray(s.filteredAttributes))return "filteredAttributes: array expected";for(var u=0;u<s.filteredAttributes.length;++u){var l=h.opentelemetry.proto.common.v1.KeyValue.verify(s.filteredAttributes[u]);if(l)return "filteredAttributes."+l}}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&!m.isInteger(s.timeUnixNano)&&!(s.timeUnixNano&&m.isInteger(s.timeUnixNano.low)&&m.isInteger(s.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(c.value=1,typeof s.asDouble!="number"))return "asDouble: number expected";if(s.asInt!=null&&s.hasOwnProperty("asInt")){if(c.value===1)return "value: multiple values";if(c.value=1,!m.isInteger(s.asInt)&&!(s.asInt&&m.isInteger(s.asInt.low)&&m.isInteger(s.asInt.high)))return "asInt: integer|Long expected"}return s.spanId!=null&&s.hasOwnProperty("spanId")&&!(s.spanId&&typeof s.spanId.length=="number"||m.isString(s.spanId))?"spanId: buffer expected":s.traceId!=null&&s.hasOwnProperty("traceId")&&!(s.traceId&&typeof s.traceId.length=="number"||m.isString(s.traceId))?"traceId: buffer expected":null},n.fromObject=function(s){if(s instanceof h.opentelemetry.proto.metrics.v1.Exemplar)return s;var c=new h.opentelemetry.proto.metrics.v1.Exemplar;if(s.filteredAttributes){if(!Array.isArray(s.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");c.filteredAttributes=[];for(var u=0;u<s.filteredAttributes.length;++u){if(typeof s.filteredAttributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");c.filteredAttributes[u]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(s.filteredAttributes[u]);}}return s.timeUnixNano!=null&&(m.Long?(c.timeUnixNano=m.Long.fromValue(s.timeUnixNano)).unsigned=false:typeof s.timeUnixNano=="string"?c.timeUnixNano=parseInt(s.timeUnixNano,10):typeof s.timeUnixNano=="number"?c.timeUnixNano=s.timeUnixNano:typeof s.timeUnixNano=="object"&&(c.timeUnixNano=new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber())),s.asDouble!=null&&(c.asDouble=Number(s.asDouble)),s.asInt!=null&&(m.Long?(c.asInt=m.Long.fromValue(s.asInt)).unsigned=false:typeof s.asInt=="string"?c.asInt=parseInt(s.asInt,10):typeof s.asInt=="number"?c.asInt=s.asInt:typeof s.asInt=="object"&&(c.asInt=new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber())),s.spanId!=null&&(typeof s.spanId=="string"?m.base64.decode(s.spanId,c.spanId=m.newBuffer(m.base64.length(s.spanId)),0):s.spanId.length>=0&&(c.spanId=s.spanId)),s.traceId!=null&&(typeof s.traceId=="string"?m.base64.decode(s.traceId,c.traceId=m.newBuffer(m.base64.length(s.traceId)),0):s.traceId.length>=0&&(c.traceId=s.traceId)),c},n.toObject=function(s,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.filteredAttributes=[]),c.defaults){if(m.Long){var l=new m.Long(0,0,false);u.timeUnixNano=c.longs===String?l.toString():c.longs===Number?l.toNumber():l;}else u.timeUnixNano=c.longs===String?"0":0;c.bytes===String?u.spanId="":(u.spanId=[],c.bytes!==Array&&(u.spanId=m.newBuffer(u.spanId))),c.bytes===String?u.traceId="":(u.traceId=[],c.bytes!==Array&&(u.traceId=m.newBuffer(u.traceId)));}if(s.timeUnixNano!=null&&s.hasOwnProperty("timeUnixNano")&&(typeof s.timeUnixNano=="number"?u.timeUnixNano=c.longs===String?String(s.timeUnixNano):s.timeUnixNano:u.timeUnixNano=c.longs===String?m.Long.prototype.toString.call(s.timeUnixNano):c.longs===Number?new m.LongBits(s.timeUnixNano.low>>>0,s.timeUnixNano.high>>>0).toNumber():s.timeUnixNano),s.asDouble!=null&&s.hasOwnProperty("asDouble")&&(u.asDouble=c.json&&!isFinite(s.asDouble)?String(s.asDouble):s.asDouble,c.oneofs&&(u.value="asDouble")),s.spanId!=null&&s.hasOwnProperty("spanId")&&(u.spanId=c.bytes===String?m.base64.encode(s.spanId,0,s.spanId.length):c.bytes===Array?Array.prototype.slice.call(s.spanId):s.spanId),s.traceId!=null&&s.hasOwnProperty("traceId")&&(u.traceId=c.bytes===String?m.base64.encode(s.traceId,0,s.traceId.length):c.bytes===Array?Array.prototype.slice.call(s.traceId):s.traceId),s.asInt!=null&&s.hasOwnProperty("asInt")&&(typeof s.asInt=="number"?u.asInt=c.longs===String?String(s.asInt):s.asInt:u.asInt=c.longs===String?m.Long.prototype.toString.call(s.asInt):c.longs===Number?new m.LongBits(s.asInt.low>>>0,s.asInt.high>>>0).toNumber():s.asInt,c.oneofs&&(u.value="asInt")),s.filteredAttributes&&s.filteredAttributes.length){u.filteredAttributes=[];for(var d=0;d<s.filteredAttributes.length;++d)u.filteredAttributes[d]=h.opentelemetry.proto.common.v1.KeyValue.toObject(s.filteredAttributes[d],c);}return u},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(s){return s===void 0&&(s="type.googleapis.com"),s+"/opentelemetry.proto.metrics.v1.Exemplar"},n})(),i})(),r})(),e.logs=(function(){var r={};return r.v1=(function(){var i={};return i.LogsData=(function(){function n(a){if(this.resourceLogs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resourceLogs=m.emptyArray,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resourceLogs!=null&&o.resourceLogs.length)for(var c=0;c<o.resourceLogs.length;++c)h.opentelemetry.proto.logs.v1.ResourceLogs.encode(o.resourceLogs[c],s.uint32(10).fork()).ldelim();return s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.logs.v1.LogsData;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resourceLogs&&l.resourceLogs.length||(l.resourceLogs=[]),l.resourceLogs.push(h.opentelemetry.proto.logs.v1.ResourceLogs.decode(o,o.uint32()));break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resourceLogs!=null&&o.hasOwnProperty("resourceLogs")){if(!Array.isArray(o.resourceLogs))return "resourceLogs: array expected";for(var s=0;s<o.resourceLogs.length;++s){var c=h.opentelemetry.proto.logs.v1.ResourceLogs.verify(o.resourceLogs[s]);if(c)return "resourceLogs."+c}}return null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.LogsData)return o;var s=new h.opentelemetry.proto.logs.v1.LogsData;if(o.resourceLogs){if(!Array.isArray(o.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");s.resourceLogs=[];for(var c=0;c<o.resourceLogs.length;++c){if(typeof o.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");s.resourceLogs[c]=h.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(o.resourceLogs[c]);}}return s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.resourceLogs=[]),o.resourceLogs&&o.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<o.resourceLogs.length;++u)c.resourceLogs[u]=h.opentelemetry.proto.logs.v1.ResourceLogs.toObject(o.resourceLogs[u],s);}return c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.LogsData"},n})(),i.ResourceLogs=(function(){function n(a){if(this.scopeLogs=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.resource=null,n.prototype.scopeLogs=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.resource!=null&&Object.hasOwnProperty.call(o,"resource")&&h.opentelemetry.proto.resource.v1.Resource.encode(o.resource,s.uint32(10).fork()).ldelim(),o.scopeLogs!=null&&o.scopeLogs.length)for(var c=0;c<o.scopeLogs.length;++c)h.opentelemetry.proto.logs.v1.ScopeLogs.encode(o.scopeLogs[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.logs.v1.ResourceLogs;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.resource=h.opentelemetry.proto.resource.v1.Resource.decode(o,o.uint32());break}case 2:{l.scopeLogs&&l.scopeLogs.length||(l.scopeLogs=[]),l.scopeLogs.push(h.opentelemetry.proto.logs.v1.ScopeLogs.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.resource!=null&&o.hasOwnProperty("resource")){var s=h.opentelemetry.proto.resource.v1.Resource.verify(o.resource);if(s)return "resource."+s}if(o.scopeLogs!=null&&o.hasOwnProperty("scopeLogs")){if(!Array.isArray(o.scopeLogs))return "scopeLogs: array expected";for(var c=0;c<o.scopeLogs.length;++c){var s=h.opentelemetry.proto.logs.v1.ScopeLogs.verify(o.scopeLogs[c]);if(s)return "scopeLogs."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.ResourceLogs)return o;var s=new h.opentelemetry.proto.logs.v1.ResourceLogs;if(o.resource!=null){if(typeof o.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");s.resource=h.opentelemetry.proto.resource.v1.Resource.fromObject(o.resource);}if(o.scopeLogs){if(!Array.isArray(o.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");s.scopeLogs=[];for(var c=0;c<o.scopeLogs.length;++c){if(typeof o.scopeLogs[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");s.scopeLogs[c]=h.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(o.scopeLogs[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.scopeLogs=[]),s.defaults&&(c.resource=null,c.schemaUrl=""),o.resource!=null&&o.hasOwnProperty("resource")&&(c.resource=h.opentelemetry.proto.resource.v1.Resource.toObject(o.resource,s)),o.scopeLogs&&o.scopeLogs.length){c.scopeLogs=[];for(var u=0;u<o.scopeLogs.length;++u)c.scopeLogs[u]=h.opentelemetry.proto.logs.v1.ScopeLogs.toObject(o.scopeLogs[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.ResourceLogs"},n})(),i.ScopeLogs=(function(){function n(a){if(this.logRecords=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.scope=null,n.prototype.logRecords=m.emptyArray,n.prototype.schemaUrl=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.scope!=null&&Object.hasOwnProperty.call(o,"scope")&&h.opentelemetry.proto.common.v1.InstrumentationScope.encode(o.scope,s.uint32(10).fork()).ldelim(),o.logRecords!=null&&o.logRecords.length)for(var c=0;c<o.logRecords.length;++c)h.opentelemetry.proto.logs.v1.LogRecord.encode(o.logRecords[c],s.uint32(18).fork()).ldelim();return o.schemaUrl!=null&&Object.hasOwnProperty.call(o,"schemaUrl")&&s.uint32(26).string(o.schemaUrl),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.logs.v1.ScopeLogs;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.decode(o,o.uint32());break}case 2:{l.logRecords&&l.logRecords.length||(l.logRecords=[]),l.logRecords.push(h.opentelemetry.proto.logs.v1.LogRecord.decode(o,o.uint32()));break}case 3:{l.schemaUrl=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.scope!=null&&o.hasOwnProperty("scope")){var s=h.opentelemetry.proto.common.v1.InstrumentationScope.verify(o.scope);if(s)return "scope."+s}if(o.logRecords!=null&&o.hasOwnProperty("logRecords")){if(!Array.isArray(o.logRecords))return "logRecords: array expected";for(var c=0;c<o.logRecords.length;++c){var s=h.opentelemetry.proto.logs.v1.LogRecord.verify(o.logRecords[c]);if(s)return "logRecords."+s}}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&!m.isString(o.schemaUrl)?"schemaUrl: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.ScopeLogs)return o;var s=new h.opentelemetry.proto.logs.v1.ScopeLogs;if(o.scope!=null){if(typeof o.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");s.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(o.scope);}if(o.logRecords){if(!Array.isArray(o.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");s.logRecords=[];for(var c=0;c<o.logRecords.length;++c){if(typeof o.logRecords[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");s.logRecords[c]=h.opentelemetry.proto.logs.v1.LogRecord.fromObject(o.logRecords[c]);}}return o.schemaUrl!=null&&(s.schemaUrl=String(o.schemaUrl)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.logRecords=[]),s.defaults&&(c.scope=null,c.schemaUrl=""),o.scope!=null&&o.hasOwnProperty("scope")&&(c.scope=h.opentelemetry.proto.common.v1.InstrumentationScope.toObject(o.scope,s)),o.logRecords&&o.logRecords.length){c.logRecords=[];for(var u=0;u<o.logRecords.length;++u)c.logRecords[u]=h.opentelemetry.proto.logs.v1.LogRecord.toObject(o.logRecords[u],s);}return o.schemaUrl!=null&&o.hasOwnProperty("schemaUrl")&&(c.schemaUrl=o.schemaUrl),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.ScopeLogs"},n})(),i.SeverityNumber=(function(){var n={},a=Object.create(n);return a[n[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[n[1]="SEVERITY_NUMBER_TRACE"]=1,a[n[2]="SEVERITY_NUMBER_TRACE2"]=2,a[n[3]="SEVERITY_NUMBER_TRACE3"]=3,a[n[4]="SEVERITY_NUMBER_TRACE4"]=4,a[n[5]="SEVERITY_NUMBER_DEBUG"]=5,a[n[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[n[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[n[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[n[9]="SEVERITY_NUMBER_INFO"]=9,a[n[10]="SEVERITY_NUMBER_INFO2"]=10,a[n[11]="SEVERITY_NUMBER_INFO3"]=11,a[n[12]="SEVERITY_NUMBER_INFO4"]=12,a[n[13]="SEVERITY_NUMBER_WARN"]=13,a[n[14]="SEVERITY_NUMBER_WARN2"]=14,a[n[15]="SEVERITY_NUMBER_WARN3"]=15,a[n[16]="SEVERITY_NUMBER_WARN4"]=16,a[n[17]="SEVERITY_NUMBER_ERROR"]=17,a[n[18]="SEVERITY_NUMBER_ERROR2"]=18,a[n[19]="SEVERITY_NUMBER_ERROR3"]=19,a[n[20]="SEVERITY_NUMBER_ERROR4"]=20,a[n[21]="SEVERITY_NUMBER_FATAL"]=21,a[n[22]="SEVERITY_NUMBER_FATAL2"]=22,a[n[23]="SEVERITY_NUMBER_FATAL3"]=23,a[n[24]="SEVERITY_NUMBER_FATAL4"]=24,a})(),i.LogRecordFlags=(function(){var n={},a=Object.create(n);return a[n[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[n[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a})(),i.LogRecord=(function(){function n(a){if(this.attributes=[],a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]]);}return n.prototype.timeUnixNano=null,n.prototype.observedTimeUnixNano=null,n.prototype.severityNumber=null,n.prototype.severityText=null,n.prototype.body=null,n.prototype.attributes=m.emptyArray,n.prototype.droppedAttributesCount=null,n.prototype.flags=null,n.prototype.traceId=null,n.prototype.spanId=null,n.prototype.eventName=null,n.create=function(o){return new n(o)},n.encode=function(o,s){if(s||(s=Ae.create()),o.timeUnixNano!=null&&Object.hasOwnProperty.call(o,"timeUnixNano")&&s.uint32(9).fixed64(o.timeUnixNano),o.severityNumber!=null&&Object.hasOwnProperty.call(o,"severityNumber")&&s.uint32(16).int32(o.severityNumber),o.severityText!=null&&Object.hasOwnProperty.call(o,"severityText")&&s.uint32(26).string(o.severityText),o.body!=null&&Object.hasOwnProperty.call(o,"body")&&h.opentelemetry.proto.common.v1.AnyValue.encode(o.body,s.uint32(42).fork()).ldelim(),o.attributes!=null&&o.attributes.length)for(var c=0;c<o.attributes.length;++c)h.opentelemetry.proto.common.v1.KeyValue.encode(o.attributes[c],s.uint32(50).fork()).ldelim();return o.droppedAttributesCount!=null&&Object.hasOwnProperty.call(o,"droppedAttributesCount")&&s.uint32(56).uint32(o.droppedAttributesCount),o.flags!=null&&Object.hasOwnProperty.call(o,"flags")&&s.uint32(69).fixed32(o.flags),o.traceId!=null&&Object.hasOwnProperty.call(o,"traceId")&&s.uint32(74).bytes(o.traceId),o.spanId!=null&&Object.hasOwnProperty.call(o,"spanId")&&s.uint32(82).bytes(o.spanId),o.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(o,"observedTimeUnixNano")&&s.uint32(89).fixed64(o.observedTimeUnixNano),o.eventName!=null&&Object.hasOwnProperty.call(o,"eventName")&&s.uint32(98).string(o.eventName),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s,c){o instanceof A||(o=A.create(o));for(var u=s===void 0?o.len:o.pos+s,l=new h.opentelemetry.proto.logs.v1.LogRecord;o.pos<u;){var d=o.uint32();if(d===c)break;switch(d>>>3){case 1:{l.timeUnixNano=o.fixed64();break}case 11:{l.observedTimeUnixNano=o.fixed64();break}case 2:{l.severityNumber=o.int32();break}case 3:{l.severityText=o.string();break}case 5:{l.body=h.opentelemetry.proto.common.v1.AnyValue.decode(o,o.uint32());break}case 6:{l.attributes&&l.attributes.length||(l.attributes=[]),l.attributes.push(h.opentelemetry.proto.common.v1.KeyValue.decode(o,o.uint32()));break}case 7:{l.droppedAttributesCount=o.uint32();break}case 8:{l.flags=o.fixed32();break}case 9:{l.traceId=o.bytes();break}case 10:{l.spanId=o.bytes();break}case 12:{l.eventName=o.string();break}default:o.skipType(d&7);break}}return l},n.decodeDelimited=function(o){return o instanceof A||(o=new A(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return "object expected";if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&!m.isInteger(o.timeUnixNano)&&!(o.timeUnixNano&&m.isInteger(o.timeUnixNano.low)&&m.isInteger(o.timeUnixNano.high)))return "timeUnixNano: integer|Long expected";if(o.observedTimeUnixNano!=null&&o.hasOwnProperty("observedTimeUnixNano")&&!m.isInteger(o.observedTimeUnixNano)&&!(o.observedTimeUnixNano&&m.isInteger(o.observedTimeUnixNano.low)&&m.isInteger(o.observedTimeUnixNano.high)))return "observedTimeUnixNano: integer|Long expected";if(o.severityNumber!=null&&o.hasOwnProperty("severityNumber"))switch(o.severityNumber){default:return "severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(o.severityText!=null&&o.hasOwnProperty("severityText")&&!m.isString(o.severityText))return "severityText: string expected";if(o.body!=null&&o.hasOwnProperty("body")){var s=h.opentelemetry.proto.common.v1.AnyValue.verify(o.body);if(s)return "body."+s}if(o.attributes!=null&&o.hasOwnProperty("attributes")){if(!Array.isArray(o.attributes))return "attributes: array expected";for(var c=0;c<o.attributes.length;++c){var s=h.opentelemetry.proto.common.v1.KeyValue.verify(o.attributes[c]);if(s)return "attributes."+s}}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(o.droppedAttributesCount)?"droppedAttributesCount: integer expected":o.flags!=null&&o.hasOwnProperty("flags")&&!m.isInteger(o.flags)?"flags: integer expected":o.traceId!=null&&o.hasOwnProperty("traceId")&&!(o.traceId&&typeof o.traceId.length=="number"||m.isString(o.traceId))?"traceId: buffer expected":o.spanId!=null&&o.hasOwnProperty("spanId")&&!(o.spanId&&typeof o.spanId.length=="number"||m.isString(o.spanId))?"spanId: buffer expected":o.eventName!=null&&o.hasOwnProperty("eventName")&&!m.isString(o.eventName)?"eventName: string expected":null},n.fromObject=function(o){if(o instanceof h.opentelemetry.proto.logs.v1.LogRecord)return o;var s=new h.opentelemetry.proto.logs.v1.LogRecord;switch(o.timeUnixNano!=null&&(m.Long?(s.timeUnixNano=m.Long.fromValue(o.timeUnixNano)).unsigned=false:typeof o.timeUnixNano=="string"?s.timeUnixNano=parseInt(o.timeUnixNano,10):typeof o.timeUnixNano=="number"?s.timeUnixNano=o.timeUnixNano:typeof o.timeUnixNano=="object"&&(s.timeUnixNano=new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber())),o.observedTimeUnixNano!=null&&(m.Long?(s.observedTimeUnixNano=m.Long.fromValue(o.observedTimeUnixNano)).unsigned=false:typeof o.observedTimeUnixNano=="string"?s.observedTimeUnixNano=parseInt(o.observedTimeUnixNano,10):typeof o.observedTimeUnixNano=="number"?s.observedTimeUnixNano=o.observedTimeUnixNano:typeof o.observedTimeUnixNano=="object"&&(s.observedTimeUnixNano=new m.LongBits(o.observedTimeUnixNano.low>>>0,o.observedTimeUnixNano.high>>>0).toNumber())),o.severityNumber){default:if(typeof o.severityNumber=="number"){s.severityNumber=o.severityNumber;break}break;case "SEVERITY_NUMBER_UNSPECIFIED":case 0:s.severityNumber=0;break;case "SEVERITY_NUMBER_TRACE":case 1:s.severityNumber=1;break;case "SEVERITY_NUMBER_TRACE2":case 2:s.severityNumber=2;break;case "SEVERITY_NUMBER_TRACE3":case 3:s.severityNumber=3;break;case "SEVERITY_NUMBER_TRACE4":case 4:s.severityNumber=4;break;case "SEVERITY_NUMBER_DEBUG":case 5:s.severityNumber=5;break;case "SEVERITY_NUMBER_DEBUG2":case 6:s.severityNumber=6;break;case "SEVERITY_NUMBER_DEBUG3":case 7:s.severityNumber=7;break;case "SEVERITY_NUMBER_DEBUG4":case 8:s.severityNumber=8;break;case "SEVERITY_NUMBER_INFO":case 9:s.severityNumber=9;break;case "SEVERITY_NUMBER_INFO2":case 10:s.severityNumber=10;break;case "SEVERITY_NUMBER_INFO3":case 11:s.severityNumber=11;break;case "SEVERITY_NUMBER_INFO4":case 12:s.severityNumber=12;break;case "SEVERITY_NUMBER_WARN":case 13:s.severityNumber=13;break;case "SEVERITY_NUMBER_WARN2":case 14:s.severityNumber=14;break;case "SEVERITY_NUMBER_WARN3":case 15:s.severityNumber=15;break;case "SEVERITY_NUMBER_WARN4":case 16:s.severityNumber=16;break;case "SEVERITY_NUMBER_ERROR":case 17:s.severityNumber=17;break;case "SEVERITY_NUMBER_ERROR2":case 18:s.severityNumber=18;break;case "SEVERITY_NUMBER_ERROR3":case 19:s.severityNumber=19;break;case "SEVERITY_NUMBER_ERROR4":case 20:s.severityNumber=20;break;case "SEVERITY_NUMBER_FATAL":case 21:s.severityNumber=21;break;case "SEVERITY_NUMBER_FATAL2":case 22:s.severityNumber=22;break;case "SEVERITY_NUMBER_FATAL3":case 23:s.severityNumber=23;break;case "SEVERITY_NUMBER_FATAL4":case 24:s.severityNumber=24;break}if(o.severityText!=null&&(s.severityText=String(o.severityText)),o.body!=null){if(typeof o.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");s.body=h.opentelemetry.proto.common.v1.AnyValue.fromObject(o.body);}if(o.attributes){if(!Array.isArray(o.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");s.attributes=[];for(var c=0;c<o.attributes.length;++c){if(typeof o.attributes[c]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");s.attributes[c]=h.opentelemetry.proto.common.v1.KeyValue.fromObject(o.attributes[c]);}}return o.droppedAttributesCount!=null&&(s.droppedAttributesCount=o.droppedAttributesCount>>>0),o.flags!=null&&(s.flags=o.flags>>>0),o.traceId!=null&&(typeof o.traceId=="string"?m.base64.decode(o.traceId,s.traceId=m.newBuffer(m.base64.length(o.traceId)),0):o.traceId.length>=0&&(s.traceId=o.traceId)),o.spanId!=null&&(typeof o.spanId=="string"?m.base64.decode(o.spanId,s.spanId=m.newBuffer(m.base64.length(o.spanId)),0):o.spanId.length>=0&&(s.spanId=o.spanId)),o.eventName!=null&&(s.eventName=String(o.eventName)),s},n.toObject=function(o,s){s||(s={});var c={};if((s.arrays||s.defaults)&&(c.attributes=[]),s.defaults){if(m.Long){var u=new m.Long(0,0,false);c.timeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.timeUnixNano=s.longs===String?"0":0;if(c.severityNumber=s.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,c.severityText="",c.body=null,c.droppedAttributesCount=0,c.flags=0,s.bytes===String?c.traceId="":(c.traceId=[],s.bytes!==Array&&(c.traceId=m.newBuffer(c.traceId))),s.bytes===String?c.spanId="":(c.spanId=[],s.bytes!==Array&&(c.spanId=m.newBuffer(c.spanId))),m.Long){var u=new m.Long(0,0,false);c.observedTimeUnixNano=s.longs===String?u.toString():s.longs===Number?u.toNumber():u;}else c.observedTimeUnixNano=s.longs===String?"0":0;c.eventName="";}if(o.timeUnixNano!=null&&o.hasOwnProperty("timeUnixNano")&&(typeof o.timeUnixNano=="number"?c.timeUnixNano=s.longs===String?String(o.timeUnixNano):o.timeUnixNano:c.timeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.timeUnixNano):s.longs===Number?new m.LongBits(o.timeUnixNano.low>>>0,o.timeUnixNano.high>>>0).toNumber():o.timeUnixNano),o.severityNumber!=null&&o.hasOwnProperty("severityNumber")&&(c.severityNumber=s.enums===String?h.opentelemetry.proto.logs.v1.SeverityNumber[o.severityNumber]===void 0?o.severityNumber:h.opentelemetry.proto.logs.v1.SeverityNumber[o.severityNumber]:o.severityNumber),o.severityText!=null&&o.hasOwnProperty("severityText")&&(c.severityText=o.severityText),o.body!=null&&o.hasOwnProperty("body")&&(c.body=h.opentelemetry.proto.common.v1.AnyValue.toObject(o.body,s)),o.attributes&&o.attributes.length){c.attributes=[];for(var l=0;l<o.attributes.length;++l)c.attributes[l]=h.opentelemetry.proto.common.v1.KeyValue.toObject(o.attributes[l],s);}return o.droppedAttributesCount!=null&&o.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=o.droppedAttributesCount),o.flags!=null&&o.hasOwnProperty("flags")&&(c.flags=o.flags),o.traceId!=null&&o.hasOwnProperty("traceId")&&(c.traceId=s.bytes===String?m.base64.encode(o.traceId,0,o.traceId.length):s.bytes===Array?Array.prototype.slice.call(o.traceId):o.traceId),o.spanId!=null&&o.hasOwnProperty("spanId")&&(c.spanId=s.bytes===String?m.base64.encode(o.spanId,0,o.spanId.length):s.bytes===Array?Array.prototype.slice.call(o.spanId):o.spanId),o.observedTimeUnixNano!=null&&o.hasOwnProperty("observedTimeUnixNano")&&(typeof o.observedTimeUnixNano=="number"?c.observedTimeUnixNano=s.longs===String?String(o.observedTimeUnixNano):o.observedTimeUnixNano:c.observedTimeUnixNano=s.longs===String?m.Long.prototype.toString.call(o.observedTimeUnixNano):s.longs===Number?new m.LongBits(o.observedTimeUnixNano.low>>>0,o.observedTimeUnixNano.high>>>0).toNumber():o.observedTimeUnixNano),o.eventName!=null&&o.hasOwnProperty("eventName")&&(c.eventName=o.eventName),c},n.prototype.toJSON=function(){return this.constructor.toObject(this,he.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/opentelemetry.proto.logs.v1.LogRecord"},n})(),i})(),r})(),e})(),t})();LJ.exports=h;});function DJ(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function rv(t){let e=new Uint8Array(t.length/2),r=0;for(let i=0;i<t.length;i+=2){let n=DJ(t.charCodeAt(i)),a=DJ(t.charCodeAt(i+1));e[r++]=n<<4|a;}return e}var kJ=g(()=>{});function $J(t){let e=BigInt(1e9);return BigInt(t[0])*e+BigInt(t[1])}function JPe(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return {low:e,high:r}}function zJ(t){let e=$J(t);return JPe(e)}function QPe(t){return $J(t).toString()}function UJ(t){return t}function VJ(t){if(t!==void 0)return rv(t)}function Ud(t){if(t===void 0)return tIe;let e=t.useLongBits??true,r=t.useHex??false;return {encodeHrTime:e?zJ:eIe,encodeSpanContext:r?UJ:rv,encodeOptionalSpanContext:r?UJ:VJ}}var eIe,tIe,nv=g(()=>{Q();kJ();eIe=typeof BigInt<"u"?QPe:Xl;tIe={encodeHrTime:zJ,encodeSpanContext:rv,encodeOptionalSpanContext:VJ};});function $d(t){let e={attributes:ks(t.attributes),droppedAttributesCount:0},r=t.schemaUrl;return r&&r!==""&&(e.schemaUrl=r),e}function zd(t){return {name:t.name,version:t.version}}function ks(t){return Object.keys(t).map(e=>iv(e,t[e]))}function iv(t,e){return {key:t,value:ov(e)}}function ov(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(ov)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,i])=>iv(r,i))}}:{}}var sv=g(()=>{});function av(t,e){let r=Ud(e);return {resourceLogs:nIe(t,r)}}function rIe(t){let e=new Map;for(let r of t){let{resource:i,instrumentationScope:{name:n,version:a="",schemaUrl:o=""}}=r,s=e.get(i);s||(s=new Map,e.set(i,s));let c=`${n}@${a}:${o}`,u=s.get(c);u||(u=[],s.set(c,u)),u.push(r);}return e}function nIe(t,e){let r=rIe(t);return Array.from(r,([i,n])=>{let a=$d(i);return {resource:a,scopeLogs:Array.from(n,([,o])=>({scope:zd(o[0].instrumentationScope),logRecords:o.map(s=>iIe(s,e)),schemaUrl:o[0].instrumentationScope.schemaUrl})),schemaUrl:a.schemaUrl}})}function iIe(t,e){return {timeUnixNano:e.encodeHrTime(t.hrTime),observedTimeUnixNano:e.encodeHrTime(t.hrTimeObserved),severityNumber:t.severityNumber,severityText:t.severityText,body:ov(t.body),eventName:t.eventName,attributes:oIe(t.attributes),droppedAttributesCount:t.droppedAttributesCount,flags:t.spanContext?.traceFlags,traceId:e.encodeOptionalSpanContext(t.spanContext?.traceId),spanId:e.encodeOptionalSpanContext(t.spanContext?.spanId)}}function oIe(t){return Object.keys(t).map(e=>iv(e,t[e]))}var n0=g(()=>{nv();sv();});var i0,sIe,aIe,Km,BJ=g(()=>{i0=Qe(tv());n0();sIe=i0.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,aIe=i0.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,Km={serializeRequest:t=>{let e=av(t);return aIe.encode(e).finish()},deserializeResponse:t=>sIe.decode(t)};});var FJ=g(()=>{BJ();});var Ym,HJ=g(()=>{(function(t){t[t.AGGREGATION_TEMPORALITY_UNSPECIFIED=0]="AGGREGATION_TEMPORALITY_UNSPECIFIED",t[t.AGGREGATION_TEMPORALITY_DELTA=1]="AGGREGATION_TEMPORALITY_DELTA",t[t.AGGREGATION_TEMPORALITY_CUMULATIVE=2]="AGGREGATION_TEMPORALITY_CUMULATIVE";})(Ym||(Ym={}));});function cIe(t,e){let r=Ud(e),i=$d(t.resource);return {resource:i,schemaUrl:i.schemaUrl,scopeMetrics:uIe(t.scopeMetrics,r)}}function uIe(t,e){return Array.from(t.map(r=>({scope:zd(r.scope),metrics:r.metrics.map(i=>lIe(i,e)),schemaUrl:r.scope.schemaUrl})))}function lIe(t,e){let r={name:t.descriptor.name,description:t.descriptor.description,unit:t.descriptor.unit},i=hIe(t.aggregationTemporality);switch(t.dataPointType){case At.SUM:r.sum={aggregationTemporality:i,isMonotonic:t.isMonotonic,dataPoints:GJ(t,e)};break;case At.GAUGE:r.gauge={dataPoints:GJ(t,e)};break;case At.HISTOGRAM:r.histogram={aggregationTemporality:i,dataPoints:pIe(t,e)};break;case At.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:i,dataPoints:fIe(t,e)};break}return r}function dIe(t,e,r){let i={attributes:ks(t.attributes),startTimeUnixNano:r.encodeHrTime(t.startTime),timeUnixNano:r.encodeHrTime(t.endTime)};switch(e){case $e.INT:i.asInt=t.value;break;case $e.DOUBLE:i.asDouble=t.value;break}return i}function GJ(t,e){return t.dataPoints.map(r=>dIe(r,t.descriptor.valueType,e))}function pIe(t,e){return t.dataPoints.map(r=>{let i=r.value;return {attributes:ks(r.attributes),bucketCounts:i.buckets.counts,explicitBounds:i.buckets.boundaries,count:i.count,sum:i.sum,min:i.min,max:i.max,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function fIe(t,e){return t.dataPoints.map(r=>{let i=r.value;return {attributes:ks(r.attributes),count:i.count,min:i.min,max:i.max,sum:i.sum,positive:{offset:i.positive.offset,bucketCounts:i.positive.bucketCounts},negative:{offset:i.negative.offset,bucketCounts:i.negative.bucketCounts},scale:i.scale,zeroCount:i.zeroCount,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function hIe(t){switch(t){case Rt.DELTA:return Ym.AGGREGATION_TEMPORALITY_DELTA;case Rt.CUMULATIVE:return Ym.AGGREGATION_TEMPORALITY_CUMULATIVE}}function cv(t,e){return {resourceMetrics:t.map(r=>cIe(r,e))}}var o0=g(()=>{P();ir();HJ();nv();sv();});var s0,mIe,gIe,Zm,jJ=g(()=>{s0=Qe(tv());o0();mIe=s0.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,gIe=s0.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,Zm={serializeRequest:t=>{let e=cv([t]);return gIe.encode(e).finish()},deserializeResponse:t=>mIe.decode(t)};});var qJ=g(()=>{jJ();});function _Ie(t,e){let r=t.spanContext(),i=t.status,n=t.parentSpanContext?.spanId?e.encodeSpanContext(t.parentSpanContext?.spanId):void 0;return {traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:n,traceState:r.traceState?.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:ks(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(a=>yIe(a,e)),droppedEventsCount:t.droppedEventsCount,status:{code:i.code,message:i.message},links:t.links.map(a=>SIe(a,e)),droppedLinksCount:t.droppedLinksCount}}function SIe(t,e){return {attributes:t.attributes?ks(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:t.context.traceState?.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}function yIe(t,e){return {attributes:t.attributes?ks(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function uv(t,e){let r=Ud(e);return {resourceSpans:TIe(t,r)}}function EIe(t){let e=new Map;for(let r of t){let i=e.get(r.resource);i||(i=new Map,e.set(r.resource,i));let n=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,a=i.get(n);a||(a=[],i.set(n,a)),a.push(r);}return e}function TIe(t,e){let r=EIe(t),i=[],n=r.entries(),a=n.next();for(;!a.done;){let[o,s]=a.value,c=[],u=s.values(),l=u.next();for(;!l.done;){let f=l.value;if(f.length>0){let _=f.map(y=>_Ie(y,e));c.push({scope:zd(f[0].instrumentationScope),spans:_,schemaUrl:f[0].instrumentationScope.schemaUrl});}l=u.next();}let d=$d(o),p={resource:d,scopeSpans:c,schemaUrl:d.schemaUrl};i.push(p),a=n.next();}return i}var a0=g(()=>{sv();nv();});var c0,vIe,bIe,Xm,WJ=g(()=>{c0=Qe(tv());a0();vIe=c0.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,bIe=c0.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,Xm={serializeRequest:t=>{let e=uv(t);return bIe.encode(e).finish()},deserializeResponse:t=>vIe.decode(t)};});var KJ=g(()=>{WJ();});var Jm,YJ=g(()=>{n0();Jm={serializeRequest:t=>{let e=av(t,{useHex:true,useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var ZJ=g(()=>{YJ();});var Qm,XJ=g(()=>{o0();Qm={serializeRequest:t=>{let e=cv([t],{useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var JJ=g(()=>{XJ();});var eg,QJ=g(()=>{a0();eg={serializeRequest:t=>{let e=uv(t,{useHex:true,useLongBits:false});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return {};let e=new TextDecoder;return JSON.parse(e.decode(t))}};});var e7=g(()=>{QJ();});var lv={};Pe(lv,{JsonLogsSerializer:()=>Jm,JsonMetricsSerializer:()=>Qm,JsonTraceSerializer:()=>eg,ProtobufLogsSerializer:()=>Km,ProtobufMetricsSerializer:()=>Zm,ProtobufTraceSerializer:()=>Xm});var Ro=g(()=>{FJ();qJ();KJ();ZJ();JJ();e7();});var t7,r7=g(()=>{t7="0.204.0";});function n7(t){return ()=>{let e={};return Object.entries(t?.()??{}).forEach(([r,i])=>{typeof i<"u"?e[r]=String(i):E.warn(`Header "${r}" has invalid value (${i}) and will be ignored`);}),e}}var i7=g(()=>{P();});function RIe(t,e,r){let i={...r()},n={};return ()=>(e!=null&&Object.assign(n,e()),t!=null&&Object.assign(n,t()),Object.assign(n,i))}function AIe(t){if(t!=null)try{let e=globalThis.location?.href;return new URL(t,e).href}catch{throw new Error(`Configuration: Could not parse user-provided export URL: '${t}'`)}}function tg(t){return async e=>{let r=e==="http:"?import('http'):import('https'),{Agent:i}=await r;return new i(t)}}function o7(t,e,r){return {...GT(t,e,r),headers:RIe(n7(t.headers),e.headers,r.headers),url:AIe(t.url)??e.url??r.url,agentFactory:t.agentFactory??e.agentFactory??r.agentFactory}}function s7(t,e){return {...jT(),headers:()=>t,url:"http://localhost:4318/"+e,agentFactory:tg({keepAlive:true})}}var u0=g(()=>{Hm();i7();});function a7(t){return [429,502,503,504].includes(t)}function c7(t){if(t==null)return;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}var u7=g(()=>{});function d7(t,e,r,i,n,a){let o=new URL(e.url),s={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:{...e.headers()},agent:r},c=t(s,u=>{let l=[];u.on("data",d=>l.push(d)),u.on("end",()=>{if(u.statusCode&&u.statusCode<299)n({status:"success",data:Buffer.concat(l)});else if(u.statusCode&&a7(u.statusCode))n({status:"retryable",retryInMillis:c7(u.headers["retry-after"])});else {let d=new Ds(u.statusMessage,u.statusCode,Buffer.concat(l).toString());n({status:"failure",error:d});}});});c.setTimeout(a,()=>{c.destroy(),n({status:"failure",error:new Error("Request Timeout")});}),c.on("error",u=>{n({status:"failure",error:u});}),xIe(c,e.compression,i,u=>{n({status:"failure",error:u});});}function xIe(t,e,r,i){let n=CIe(r);e==="gzip"&&(t.setHeader("Content-Encoding","gzip"),n=n.on("error",i).pipe(Qo__namespace.createGzip()).on("error",i)),n.pipe(t).on("error",i);}function CIe(t){let e=new stream.Readable;return e.push(t),e.push(null),e}var p7=g(()=>{u7();FT();});async function NIe(t){let e=t==="http:"?import('http'):import('https'),{request:r}=await e;return r}function f7(t){return new l0(t)}var l0,h7=g(()=>{p7();l0=class{_parameters;_utils=null;constructor(e){this._parameters=e;}async send(e,r){let{agent:i,request:n}=await this._loadUtils();return new Promise(a=>{d7(n,this._parameters,i,e,o=>{a(o);},r);})}shutdown(){}async _loadUtils(){let e=this._utils;if(e===null){let r=new URL(this._parameters.url).protocol,[i,n]=await Promise.all([this._parameters.agentFactory(r),NIe(r)]);e=this._utils={agent:i,request:n};}return e}};});function PIe(){return Math.random()*(2*.2)-.2}function m7(t){return new d0(t.transport)}var d0,g7=g(()=>{d0=class{_transport;constructor(e){this._transport=e;}retry(e,r,i){return new Promise((n,a)=>{setTimeout(()=>{this._transport.send(e,r).then(n,a);},i);})}async send(e,r){let i=Date.now()+r,n=await this._transport.send(e,r),a=5,o=1e3;for(;n.status==="retryable"&&a>0;){a--;let s=Math.max(Math.min(o,5e3)+PIe(),0);o=o*1.5;let c=n.retryInMillis??s,u=i-Date.now();if(c>u)return n;n=await this.retry(e,u,c);}return n}shutdown(){return this._transport.shutdown()}};});function ln(t,e){return KT({transport:m7({transport:f7(t)}),serializer:e,promiseHandler:WT(t)},{timeout:t.timeoutMillis})}var _7=g(()=>{Vw();h7();$w();g7();});function S7(t){let e=process.env[t]?.trim();if(e!=null&&e!==""){let r=Number(e);if(Number.isFinite(r)&&r>0)return r;E.warn(`Configuration: ${t} is invalid, expected number greater than 0 (actual: ${e})`);}}function IIe(t){let e=S7(`OTEL_EXPORTER_OTLP_${t}_TIMEOUT`),r=S7("OTEL_EXPORTER_OTLP_TIMEOUT");return e??r}function y7(t){let e=process.env[t]?.trim();if(e!==""){if(e==null||e==="none"||e==="gzip")return e;E.warn(`Configuration: ${t} is invalid, expected 'none' or 'gzip' (actual: '${e}')`);}}function wIe(t){let e=y7(`OTEL_EXPORTER_OTLP_${t}_COMPRESSION`),r=y7("OTEL_EXPORTER_OTLP_COMPRESSION");return e??r}function dv(t){return {timeoutMillis:IIe(t),compression:wIe(t)}}var p0=g(()=>{P();});function MIe(t){let e=Jt(`OTEL_EXPORTER_OTLP_${t}_HEADERS`),r=Jt("OTEL_EXPORTER_OTLP_HEADERS"),i=eu(e),n=eu(r);if(!(Object.keys(i).length===0&&Object.keys(n).length===0))return Object.assign({},eu(r),eu(e))}function LIe(t){try{return new URL(t).toString()}catch{E.warn(`Configuration: Could not parse environment-provided export URL: '${t}', falling back to undefined`);return}}function DIe(t,e){try{new URL(t);}catch{E.warn(`Configuration: Could not parse environment-provided export URL: '${t}', falling back to undefined`);return}t.endsWith("/")||(t=t+"/"),t+=e;try{new URL(t);}catch{E.warn(`Configuration: Provided URL appended with '${e}' is not a valid URL, using 'undefined' instead of '${t}'`);return}return t}function kIe(t){let e=Jt("OTEL_EXPORTER_OTLP_ENDPOINT");if(e!==void 0)return DIe(e,t)}function UIe(t){let e=Jt(`OTEL_EXPORTER_OTLP_${t}_ENDPOINT`);if(e!==void 0)return LIe(e)}function E7(t,e){return {...dv(t),url:UIe(t)??kIe(e),headers:HT(MIe(t))}}var T7=g(()=>{Q();P();p0();Hm();});function $Ie(t){if(typeof t.httpAgentOptions=="function")return t.httpAgentOptions;let e=t.httpAgentOptions;if(t.keepAlive!=null&&(e={keepAlive:t.keepAlive,...e}),e!=null)return tg(e)}function dn(t,e,r,i){return t.metadata&&E.warn("Metadata cannot be set when using http"),o7({url:t.url,headers:HT(t.headers),concurrencyLimit:t.concurrencyLimit,timeoutMillis:t.timeoutMillis,compression:t.compression,agentFactory:$Ie(t)},E7(e,r),s7(i,r))}var v7=g(()=>{u0();T7();P();Hm();});var b7={};Pe(b7,{convertLegacyHttpOptions:()=>dn,createOtlpHttpExportDelegate:()=>ln,getSharedConfigurationFromEnvironment:()=>dv,httpAgentFactoryFromOptions:()=>tg});var Ua=g(()=>{u0();_7();p0();v7();});var Vd,R7=g(()=>{To();Ro();r7();Ua();Vd=class extends cn{constructor(e={}){super(ln(dn(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${t7}`,"Content-Type":"application/json"}),Jm));}};});var A7=g(()=>{R7();});var O7=g(()=>{A7();});var x7={};Pe(x7,{OTLPLogExporter:()=>Vd});var C7=g(()=>{O7();});var ke=T(si=>{Object.defineProperty(si,"__esModule",{value:true});si.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=si.DEFAULT_MAX_SEND_MESSAGE_LENGTH=si.Propagate=si.LogVerbosity=si.Status=void 0;var N7;(function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED";})(N7||(si.Status=N7={}));var P7;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE";})(P7||(si.LogVerbosity=P7={}));var I7;(function(t){t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS";})(I7||(si.Propagate=I7={}));si.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;si.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024;});var f0=T((uut,zIe)=>{zIe.exports={name:"@grpc/grpc-js",version:"1.14.2",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run copy-protos && npm run generate-types && npm run generate-test-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs proto/ proto/xds/ proto/protoc-gen-validate/ -O src/generated/ --grpcLib ../index channelz.proto xds/service/orca/v3/orca.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto echo_service.proto","copy-protos":"node ./copy-protos"},dependencies:{"@grpc/proto-loader":"^0.8.0","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/**/*.proto","proto/**/LICENSE","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]};});var lt=T(Dn=>{var h0,m0,g0,_0;Object.defineProperty(Dn,"__esModule",{value:true});Dn.log=Dn.setLoggerVerbosity=Dn.setLogger=Dn.getLogger=void 0;Dn.trace=ZIe;Dn.isTracerEnabled=M7;var $a=ke(),VIe=L("process"),BIe=f0().version,FIe={error:(t,...e)=>{console.error("E "+t,...e);},info:(t,...e)=>{console.error("I "+t,...e);},debug:(t,...e)=>{console.error("D "+t,...e);}},Cu=FIe,Bd=$a.LogVerbosity.ERROR,HIe=(m0=(h0=process.env.GRPC_NODE_VERBOSITY)!==null&&h0!==void 0?h0:process.env.GRPC_VERBOSITY)!==null&&m0!==void 0?m0:"";switch(HIe.toUpperCase()){case "DEBUG":Bd=$a.LogVerbosity.DEBUG;break;case "INFO":Bd=$a.LogVerbosity.INFO;break;case "ERROR":Bd=$a.LogVerbosity.ERROR;break;case "NONE":Bd=$a.LogVerbosity.NONE;break;}var GIe=()=>Cu;Dn.getLogger=GIe;var jIe=t=>{Cu=t;};Dn.setLogger=jIe;var qIe=t=>{Bd=t;};Dn.setLoggerVerbosity=qIe;var WIe=(t,...e)=>{let r;if(t>=Bd){switch(t){case $a.LogVerbosity.DEBUG:r=Cu.debug;break;case $a.LogVerbosity.INFO:r=Cu.info;break;case $a.LogVerbosity.ERROR:r=Cu.error;break}r||(r=Cu.error),r&&r.bind(Cu)(...e);}};Dn.log=WIe;var KIe=(_0=(g0=process.env.GRPC_NODE_TRACE)!==null&&g0!==void 0?g0:process.env.GRPC_TRACE)!==null&&_0!==void 0?_0:"",S0=new Set,w7=new Set;for(let t of KIe.split(","))t.startsWith("-")?w7.add(t.substring(1)):S0.add(t);var YIe=S0.has("all");function ZIe(t,e,r){M7(e)&&(0, Dn.log)(t,new Date().toISOString()+" | v"+BIe+" "+VIe.pid+" | "+e+" | "+r);}function M7(t){return !w7.has(t)&&(YIe||S0.has(t))}});var fv=T(pv=>{Object.defineProperty(pv,"__esModule",{value:true});pv.getErrorMessage=XIe;pv.getErrorCode=JIe;function XIe(t){return t instanceof Error?t.message:String(t)}function JIe(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}});var cr=T(mv=>{Object.defineProperty(mv,"__esModule",{value:true});mv.Metadata=void 0;var QIe=lt(),ewe=ke(),twe=fv(),rwe=/^[:0-9a-z_.-]+$/,nwe=/^[ -~]*$/;function iwe(t){return rwe.test(t)}function owe(t){return nwe.test(t)}function D7(t){return t.endsWith("-bin")}function swe(t){return !t.startsWith("grpc-")}function hv(t){return t.toLowerCase()}function L7(t,e){if(!iwe(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(D7(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else {if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!owe(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var y0=class t{constructor(e={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=e;}set(e,r){e=hv(e),L7(e,r),this.internalRepr.set(e,[r]);}add(e,r){e=hv(e),L7(e,r);let i=this.internalRepr.get(e);i===void 0?this.internalRepr.set(e,[r]):i.push(r);}remove(e){e=hv(e),this.internalRepr.delete(e);}get(e){return e=hv(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[r,i]of this.internalRepr)if(i.length>0){let n=i[0];e[r]=Buffer.isBuffer(n)?Buffer.from(n):n;}return e}clone(){let e=new t(this.options),r=e.internalRepr;for(let[i,n]of this.internalRepr){let a=n.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);r.set(i,a);}return e}merge(e){for(let[r,i]of e.internalRepr){let n=(this.internalRepr.get(r)||[]).concat(i);this.internalRepr.set(r,n);}}setOptions(e){this.options=e;}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[r,i]of this.internalRepr)r.startsWith(":")||(e[r]=i.map(awe));return e}toJSON(){let e={};for(let[r,i]of this.internalRepr)e[r]=i;return e}setOpaque(e,r){this.opaqueData.set(e,r);}getOpaque(e){return this.opaqueData.get(e)}static fromHttp2Headers(e){let r=new t;for(let i of Object.keys(e)){if(i.charAt(0)===":")continue;let n=e[i];try{D7(i)?Array.isArray(n)?n.forEach(a=>{r.add(i,Buffer.from(a,"base64"));}):n!==void 0&&(swe(i)?n.split(",").forEach(a=>{r.add(i,Buffer.from(a.trim(),"base64"));}):r.add(i,Buffer.from(n,"base64"))):Array.isArray(n)?n.forEach(a=>{r.add(i,a);}):n!==void 0&&r.add(i,n);}catch(a){let o=`Failed to add metadata entry ${i}: ${n}. ${(0, twe.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0, QIe.log)(ewe.LogVerbosity.ERROR,o);}}return r}};mv.Metadata=y0;var awe=t=>Buffer.isBuffer(t)?t.toString("base64"):t;});var _v=T(gv=>{Object.defineProperty(gv,"__esModule",{value:true});gv.CallCredentials=void 0;var b0=cr();function cwe(t){return "getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var Fd=class t{static createFromMetadataGenerator(e){return new T0(e)}static createFromGoogleCredential(e){return t.createFromMetadataGenerator((r,i)=>{let n;cwe(e)?n=e.getRequestHeaders(r.service_url):n=new Promise((a,o)=>{e.getRequestMetadata(r.service_url,(s,c)=>{if(s){o(s);return}if(!c){o(new Error("Headers not set by metadata plugin"));return}a(c);});}),n.then(a=>{let o=new b0.Metadata;for(let s of Object.keys(a))o.add(s,a[s]);i(null,o);},a=>{i(a);});})}static createEmpty(){return new v0}};gv.CallCredentials=Fd;var E0=class t extends Fd{constructor(e){super(),this.creds=e;}async generateMetadata(e){let r=new b0.Metadata,i=await Promise.all(this.creds.map(n=>n.generateMetadata(e)));for(let n of i)r.merge(n);return r}compose(e){return new t(this.creds.concat([e]))}_equals(e){return this===e?true:e instanceof t?this.creds.every((r,i)=>r._equals(e.creds[i])):false}},T0=class t extends Fd{constructor(e){super(),this.metadataGenerator=e;}generateMetadata(e){return new Promise((r,i)=>{this.metadataGenerator(e,(n,a)=>{a!==void 0?r(a):i(n);});})}compose(e){return new E0([this,e])}_equals(e){return this===e?true:e instanceof t?this.metadataGenerator===e.metadataGenerator:false}},v0=class t extends Fd{generateMetadata(e){return Promise.resolve(new b0.Metadata)}compose(e){return e}_equals(e){return e instanceof t}};});var A0=T(rg=>{Object.defineProperty(rg,"__esModule",{value:true});rg.CIPHER_SUITES=void 0;rg.getDefaultRootsData=lwe;var uwe=L("fs");rg.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var k7=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,R0=null;function lwe(){return k7?(R0===null&&(R0=uwe.readFileSync(k7)),R0):null}});var Br=T(Hd=>{Object.defineProperty(Hd,"__esModule",{value:true});Hd.parseUri=pwe;Hd.splitHostPort=fwe;Hd.combineHostPort=hwe;Hd.uriToString=mwe;var dwe=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function pwe(t){let e=dwe.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}var U7=/^\d+$/;function fwe(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let r=t.substring(1,e);if(r.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let i=t.substring(e+2);return U7.test(i)?{host:r,port:+i}:null}else return null;else return {host:r}}else {let e=t.split(":");return e.length===2?U7.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}function hwe(t){return t.port===void 0?t.host:t.host.includes(":")?`[${t.host}]:${t.port}`:`${t.host}:${t.port}`}function mwe(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}});var ki=T(Us=>{Object.defineProperty(Us,"__esModule",{value:true});Us.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0;Us.registerResolver=gwe;Us.registerDefaultScheme=_we;Us.createResolver=Swe;Us.getDefaultAuthority=ywe;Us.mapUriDefaultScheme=Ewe;var x0=Br();Us.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";var Gd={},O0=null;function gwe(t,e){Gd[t]=e;}function _we(t){O0=t;}function Swe(t,e,r){if(t.scheme!==void 0&&t.scheme in Gd)return new Gd[t.scheme](t,e,r);throw new Error(`No resolver could be created for target ${(0, x0.uriToString)(t)}`)}function ywe(t){if(t.scheme!==void 0&&t.scheme in Gd)return Gd[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0, x0.uriToString)(t)}`)}function Ewe(t){return t.scheme===void 0||!(t.scheme in Gd)?O0!==null?{scheme:O0,authority:void 0,path:(0, x0.uriToString)(t)}:null:t}});var jd=T(ig=>{Object.defineProperty(ig,"__esModule",{value:true});ig.ChannelCredentials=void 0;ig.createCertificateProviderChannelCredentials=Rwe;var ng=L("tls"),Ev=_v(),N0=A0(),$7=Br(),Twe=ki(),vwe=lt(),bwe=ke();function C0(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Nu=class{compose(e){return new w0(this,e)}static createSsl(e,r,i,n){var a;if(C0(e,"Root certificate"),C0(r,"Private key"),C0(i,"Certificate chain"),r&&!i)throw new Error("Private key must be given with accompanying certificate chain");if(!r&&i)throw new Error("Certificate chain must be given with accompanying private key");let o=(0, ng.createSecureContext)({ca:(a=e??(0, N0.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:r??void 0,cert:i??void 0,ciphers:N0.CIPHER_SUITES});return new Sv(o,n??{})}static createFromSecureContext(e,r){return new Sv(e,r??{})}static createInsecure(){return new P0}};ig.ChannelCredentials=Nu;var P0=class t extends Nu{constructor(){super();}compose(e){throw new Error("Cannot compose insecure credentials")}_isSecure(){return  false}_equals(e){return e instanceof t}_createSecureConnector(e,r,i){return {connect(n){return Promise.resolve({socket:n,secure:false})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>i??Ev.CallCredentials.createEmpty(),destroy(){}}}};function z7(t,e,r,i){var n,a;let o={secureContext:t},s=r;if("grpc.http_connect_target"in i){let d=(0, $7.parseUri)(i["grpc.http_connect_target"]);d&&(s=d);}let c=(0, Twe.getDefaultAuthority)(s),u=(0, $7.splitHostPort)(c),l=(n=u?.host)!==null&&n!==void 0?n:c;if(o.host=l,e.checkServerIdentity&&(o.checkServerIdentity=e.checkServerIdentity),e.rejectUnauthorized!==void 0&&(o.rejectUnauthorized=e.rejectUnauthorized),o.ALPNProtocols=["h2"],i["grpc.ssl_target_name_override"]){let d=i["grpc.ssl_target_name_override"],p=(a=o.checkServerIdentity)!==null&&a!==void 0?a:ng.checkServerIdentity;o.checkServerIdentity=(f,_)=>p(d,_),o.servername=d;}else o.servername=l;return i["grpc-node.tls_enable_trace"]&&(o.enableTrace=true),o}var I0=class{constructor(e,r){this.connectionOptions=e,this.callCredentials=r;}connect(e){let r=Object.assign({socket:e},this.connectionOptions);return new Promise((i,n)=>{let a=(0, ng.connect)(r,()=>{var o;if((!((o=this.connectionOptions.rejectUnauthorized)!==null&&o!==void 0)||o)&&!a.authorized){n(a.authorizationError);return}i({socket:a,secure:true});});a.on("error",o=>{n(o);});})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}},Sv=class t extends Nu{constructor(e,r){super(),this.secureContext=e,this.verifyOptions=r;}_isSecure(){return  true}_equals(e){return this===e?true:e instanceof t?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:false}_createSecureConnector(e,r,i){let n=z7(this.secureContext,this.verifyOptions,e,r);return new I0(n,i??Ev.CallCredentials.createEmpty())}},yv=class t extends Nu{constructor(e,r,i){super(),this.caCertificateProvider=e,this.identityCertificateProvider=r,this.verifyOptions=i,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[];}_isSecure(){return  true}_equals(e){var r,i;return this===e?true:e instanceof t?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&((r=this.verifyOptions)===null||r===void 0?void 0:r.checkServerIdentity)===((i=e.verifyOptions)===null||i===void 0?void 0:i.checkServerIdentity):false}ref(){var e;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1;}unref(){var e;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.removeIdentityCertificateListener(this.identityCertificateUpdateListener));}_createSecureConnector(e,r,i){return this.ref(),new t.SecureConnectorImpl(this,e,r,i??Ev.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let e of this.secureContextWatchers)e(this.getLatestSecureContext());this.secureContextWatchers=[];}}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.maybeUpdateWatchers();}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.maybeUpdateWatchers();}hasReceivedUpdates(){return !(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(e=>{this.secureContextWatchers.push(e);})}getLatestSecureContext(){var e,r;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return (0,ng.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(e=this.latestIdentityUpdate)===null||e===void 0?void 0:e.privateKey,cert:(r=this.latestIdentityUpdate)===null||r===void 0?void 0:r.certificate,ciphers:N0.CIPHER_SUITES})}catch(i){return (0, vwe.log)(bwe.LogVerbosity.ERROR,"Failed to createSecureContext with error "+i.message),null}}};yv.SecureConnectorImpl=class{constructor(t,e,r,i){this.parent=t,this.channelTarget=e,this.options=r,this.callCredentials=i;}connect(t){return new Promise((e,r)=>{let i=this.parent.getLatestSecureContext();if(!i){r(new Error("Failed to load credentials"));return}t.closed&&r(new Error("Socket closed while loading credentials"));let n=z7(i,this.parent.verifyOptions,this.channelTarget,this.options),a=Object.assign({socket:t},n),o=()=>{r(new Error("Socket closed"));},s=u=>{r(u);},c=(0, ng.connect)(a,()=>{var u;if(c.removeListener("close",o),c.removeListener("error",s),(!((u=this.parent.verifyOptions.rejectUnauthorized)!==null&&u!==void 0)||u)&&!c.authorized){r(c.authorizationError);return}e({socket:c,secure:true});});c.once("close",o),c.once("error",s);})}async waitForReady(){await this.parent.getSecureContext();}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref();}};function Rwe(t,e,r){return new yv(t,e,r??{})}var w0=class t extends Nu{constructor(e,r){if(super(),this.channelCredentials=e,this.callCredentials=r,!e._isSecure())throw new Error("Cannot compose insecure credentials")}compose(e){let r=this.callCredentials.compose(e);return new t(this.channelCredentials,r)}_isSecure(){return  true}_equals(e){return this===e?true:e instanceof t?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):false}_createSecureConnector(e,r,i){let n=this.callCredentials.compose(i??Ev.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(e,r,n)}};});var Va=T(Ao=>{Object.defineProperty(Ao,"__esModule",{value:true});Ao.createChildChannelControlHelper=xwe;Ao.registerLoadBalancerType=Cwe;Ao.registerDefaultLoadBalancerType=Nwe;Ao.createLoadBalancer=Pwe;Ao.isLoadBalancerNameRegistered=Iwe;Ao.parseLoadBalancingConfig=V7;Ao.getDefaultConfig=wwe;Ao.selectLbConfigFromList=Mwe;var Awe=lt(),Owe=ke();function xwe(t,e){var r,i,n,a,o,s,c,u,l,d;return {createSubchannel:(i=(r=e.createSubchannel)===null||r===void 0?void 0:r.bind(e))!==null&&i!==void 0?i:t.createSubchannel.bind(t),updateState:(a=(n=e.updateState)===null||n===void 0?void 0:n.bind(e))!==null&&a!==void 0?a:t.updateState.bind(t),requestReresolution:(s=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&s!==void 0?s:t.requestReresolution.bind(t),addChannelzChild:(u=(c=e.addChannelzChild)===null||c===void 0?void 0:c.bind(e))!==null&&u!==void 0?u:t.addChannelzChild.bind(t),removeChannelzChild:(d=(l=e.removeChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&d!==void 0?d:t.removeChannelzChild.bind(t)}}var za={},og=null;function Cwe(t,e,r){za[t]={LoadBalancer:e,LoadBalancingConfig:r};}function Nwe(t){og=t;}function Pwe(t,e){let r=t.getLoadBalancerName();return r in za?new za[r].LoadBalancer(e):null}function Iwe(t){return t in za}function V7(t){let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let r=e[0];if(r in za)try{return za[r].LoadBalancingConfig.createFromJson(t[r])}catch(i){throw new Error(`${r}: ${i.message}`)}else throw new Error(`Unrecognized load balancing config name ${r}`)}function wwe(){if(!og)throw new Error("No default load balancer type registered");return new za[og].LoadBalancingConfig}function Mwe(t,e=false){for(let r of t)try{return V7(r)}catch(i){(0, Awe.log)(Owe.LogVerbosity.DEBUG,"Config parsing failed with error",i.message);continue}return e&&og?new za[og].LoadBalancingConfig:null}});var M0=T(sg=>{Object.defineProperty(sg,"__esModule",{value:true});sg.validateRetryThrottling=B7;sg.validateServiceConfig=F7;sg.extractAndSelectServiceConfig=Hwe;var Lwe=L("os"),Tv=ke(),vv=/^\d+(\.\d{1,9})?s$/,Dwe="node";function kwe(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return {service:t.service,method:t.method}}else return {service:t.service}}else {if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return {}}}function Uwe(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!vv.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!vv.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(Tv.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(Tv.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return {maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function $we(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!vv.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let r of t.nonFatalStatusCodes)if(typeof r=="number"){if(!Object.values(Tv.Status).includes(r))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof r=="string"){if(!Object.values(Tv.Status).includes(r.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function zwe(t){var e;let r={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let i of t.name)r.name.push(kwe(i));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=t.waitForReady;}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=t.timeout;}else if(typeof t.timeout=="string"&&vv.test(t.timeout)){let i=t.timeout.substring(0,t.timeout.length-1).split(".");r.timeout={seconds:i[0]|0,nanos:((e=i[1])!==null&&e!==void 0?e:0)|0};}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=t.maxRequestBytes;}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=t.maxResponseBytes;}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=Uwe(t.retryPolicy);}else "hedgingPolicy"in t&&(r.hedgingPolicy=$we(t.hedgingPolicy));return r}function B7(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return {maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}function Vwe(t){if(!(typeof t=="object"&&t!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof t}`);let e=Object.keys(t);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return {[e[0]]:t[e[0]]}}function F7(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let i of t.loadBalancingConfig)e.loadBalancingConfig.push(Vwe(i));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let i of t.methodConfig)e.methodConfig.push(zwe(i));"retryThrottling"in t&&(e.retryThrottling=B7(t.retryThrottling));let r=[];for(let i of e.methodConfig)for(let n of i.name){for(let a of r)if(n.service===a.service&&n.method===a.method)throw new Error(`Invalid service config: duplicate name ${n.service}/${n.method}`);r.push(n);}return e}function Bwe(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:F7(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let i of t.clientLanguage)if(typeof i=="string")e.clientLanguage.push(i);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let i of t.clientHostname)if(typeof i=="string")e.clientHostname.push(i);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let i in t)if(!r.includes(i))throw new Error(`Invalid service config choice: unexpected field ${i}`);return e}function Fwe(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let r of t){let i=Bwe(r);if(!(typeof i.percentage=="number"&&e>i.percentage)){if(Array.isArray(i.clientHostname)){let n=false;for(let a of i.clientHostname)a===Lwe.hostname()&&(n=true);if(!n)continue}if(Array.isArray(i.clientLanguage)){let n=false;for(let a of i.clientLanguage)a===Dwe&&(n=true);if(!n)continue}return i.serviceConfig}}throw new Error("No matching service config found")}function Hwe(t,e){for(let r of t)if(r.length>0&&r[0].startsWith("grpc_config=")){let i=r.join("").substring(12),n=JSON.parse(i);return Fwe(n,e)}return null}});var Fr=T(bv=>{Object.defineProperty(bv,"__esModule",{value:true});bv.ConnectivityState=void 0;var H7;(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN";})(H7||(bv.ConnectivityState=H7={}));});var $s=T(Ba=>{Object.defineProperty(Ba,"__esModule",{value:true});Ba.QueuePicker=Ba.UnavailablePicker=Ba.PickResultType=void 0;var Gwe=cr(),jwe=ke(),Rv;(function(t){t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP";})(Rv||(Ba.PickResultType=Rv={}));var L0=class{constructor(e){this.status=Object.assign({code:jwe.Status.UNAVAILABLE,details:"No connection established",metadata:new Gwe.Metadata},e);}pick(e){return {pickResultType:Rv.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ba.UnavailablePicker=L0;var D0=class{constructor(e,r){this.loadBalancer=e,this.childPicker=r,this.calledExitIdle=false;}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle();}),this.calledExitIdle=true),this.childPicker?this.childPicker.pick(e):{pickResultType:Rv.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ba.QueuePicker=D0;});var qd=T(Ov=>{Object.defineProperty(Ov,"__esModule",{value:true});Ov.BackoffTimeout=void 0;var qwe=ke(),Wwe=lt(),Kwe="backoff",Ywe=1e3,Zwe=1.6,Xwe=12e4,Jwe=.2;function Qwe(t,e){return Math.random()*(e-t)+t}var Av=class t{constructor(e,r){this.callback=e,this.initialDelay=Ywe,this.multiplier=Zwe,this.maxDelay=Xwe,this.jitter=Jwe,this.running=false,this.hasRef=true,this.startTime=new Date,this.endTime=new Date,this.id=t.getNextId(),r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId);}static getNextId(){return this.nextId++}trace(e){Wwe.trace(qwe.LogVerbosity.DEBUG,Kwe,"{"+this.id+"} "+e);}runTimer(e){var r,i;this.trace("runTimer(delay="+e+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+e),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=false,this.callback();},e),this.hasRef||(i=(r=this.timerId).unref)===null||i===void 0||i.call(r);}runOnce(){this.trace("runOnce()"),this.running=true,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=e*this.jitter;this.nextDelay=e+Qwe(-r,r);}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=false;}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let e=new Date,r=this.startTime;r.setMilliseconds(r.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<r?this.runTimer(r.getTime()-e.getTime()):this.running=false;}}isRunning(){return this.running}ref(){var e,r;this.hasRef=true,(r=(e=this.timerId).ref)===null||r===void 0||r.call(e);}unref(){var e,r;this.hasRef=false,(r=(e=this.timerId).unref)===null||r===void 0||r.call(e);}getEndTime(){return this.endTime}};Ov.BackoffTimeout=Av;Av.nextId=0;});var Cv=T(xv=>{Object.defineProperty(xv,"__esModule",{value:true});xv.ChildLoadBalancerHandler=void 0;var e0e=Va(),t0e=Fr(),r0e="child_load_balancer_helper",k0=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(r){this.parent=r,this.child=null;}createSubchannel(r,i){return this.parent.channelControlHelper.createSubchannel(r,i)}updateState(r,i,n){var a;if(this.calledByPendingChild()){if(r===t0e.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null;}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(r,i,n);}requestReresolution(){var r;let i=(r=this.parent.pendingChild)!==null&&r!==void 0?r:this.parent.currentChild;this.child===i&&this.parent.channelControlHelper.requestReresolution();}setChild(r){this.child=r;}addChannelzChild(r){this.parent.channelControlHelper.addChannelzChild(r);}removeChannelzChild(r){this.parent.channelControlHelper.removeChannelzChild(r);}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}};}configUpdateRequiresNewPolicyInstance(e,r){return e.getLoadBalancerName()!==r.getLoadBalancerName()}updateAddressList(e,r,i,n){let a;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,r)){let o=new this.ChildPolicyHelper(this),s=(0, e0e.createLoadBalancer)(r,o);o.setChild(s),this.currentChild===null?(this.currentChild=s,a=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=s,a=this.pendingChild);}else this.pendingChild===null?a=this.currentChild:a=this.pendingChild;return this.latestConfig=r,a.updateAddressList(e,r,i,n)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle());}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff());}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null);}getTypeName(){return r0e}};xv.ChildLoadBalancerHandler=k0;});var q7=T(Nv=>{Object.defineProperty(Nv,"__esModule",{value:true});Nv.ResolvingLoadBalancer=void 0;var n0e=Va(),i0e=M0(),pn=Fr(),G7=ki(),ag=$s(),o0e=qd(),U0=ke(),s0e=cr(),a0e=lt(),c0e=ke(),u0e=Br(),l0e=Cv(),d0e="resolving_load_balancer";function j7(t){a0e.trace(c0e.LogVerbosity.DEBUG,d0e,t);}var p0e=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function f0e(t,e,r,i){for(let n of r.name)switch(i){case "EMPTY":if(!n.service&&!n.method)return  true;break;case "SERVICE":if(n.service===t&&!n.method)return  true;break;case "SERVICE_AND_METHOD":if(n.service===t&&n.method===e)return  true}return  false}function h0e(t,e,r,i){for(let n of r)if(f0e(t,e,n,i))return n;return null}function m0e(t){return {invoke(e,r){var i,n;let a=e.split("/").filter(c=>c.length>0),o=(i=a[0])!==null&&i!==void 0?i:"",s=(n=a[1])!==null&&n!==void 0?n:"";if(t&&t.methodConfig)for(let c of p0e){let u=h0e(o,s,t.methodConfig,c);if(u)return {methodConfig:u,pickInformation:{},status:U0.Status.OK,dynamicFilterFactories:[]}}return {methodConfig:{name:[]},pickInformation:{},status:U0.Status.OK,dynamicFilterFactories:[]}},unref(){}}}var $0=class{constructor(e,r,i,n,a){this.target=e,this.channelControlHelper=r,this.channelOptions=i,this.onSuccessfulResolution=n,this.onFailedResolution=a,this.latestChildState=pn.ConnectivityState.IDLE,this.latestChildPicker=new ag.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=pn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=false,i["grpc.service_config"]?this.defaultServiceConfig=(0, i0e.validateServiceConfig)(JSON.parse(i["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(pn.ConnectivityState.IDLE,new ag.QueuePicker(this),null),this.childLoadBalancer=new l0e.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?(j7("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=true):this.updateResolution();},updateState:(s,c,u)=>{this.latestChildState=s,this.latestChildPicker=c,this.latestChildErrorMessage=u,this.updateState(s,c,u);},addChannelzChild:r.addChannelzChild.bind(r),removeChannelzChild:r.removeChannelzChild.bind(r)}),this.innerResolver=(0, G7.createResolver)(e,this.handleResolverResult.bind(this),i);let o={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new o0e.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=false):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage);},o),this.backoffTimeout.unref();}handleResolverResult(e,r,i,n){var a,o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let s=true,c=null;if(i===null?c=this.defaultServiceConfig:i.ok?c=i.value:this.previousServiceConfig!==null?c=this.previousServiceConfig:(s=false,this.handleResolutionFailure(i.error)),c!==null){let u=(a=c?.loadBalancingConfig)!==null&&a!==void 0?a:[],l=(0, n0e.selectLbConfigFromList)(u,true);l===null?(s=false,this.handleResolutionFailure({code:U0.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new s0e.Metadata})):s=this.childLoadBalancer.updateAddressList(e,l,Object.assign(Object.assign({},this.channelOptions),r),n);}return s&&this.onSuccessfulResolution(c,(o=r[G7.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])!==null&&o!==void 0?o:m0e(c)),s}updateResolution(){this.innerResolver.updateResolution(),this.currentState===pn.ConnectivityState.IDLE&&this.updateState(pn.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce();}updateState(e,r,i){j7((0, u0e.uriToString)(this.target)+" "+pn.ConnectivityState[this.currentState]+" -> "+pn.ConnectivityState[e]),e===pn.ConnectivityState.IDLE&&(r=new ag.QueuePicker(this,r)),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}handleResolutionFailure(e){this.latestChildState===pn.ConnectivityState.IDLE&&(this.updateState(pn.ConnectivityState.TRANSIENT_FAILURE,new ag.UnavailablePicker(e),e.details),this.onFailedResolution(e));}exitIdle(){(this.currentState===pn.ConnectivityState.IDLE||this.currentState===pn.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=true:this.updateResolution()),this.childLoadBalancer.exitIdle();}updateAddressList(e,r){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff();}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=pn.ConnectivityState.IDLE,this.latestChildPicker=new ag.QueuePicker(this),this.currentState=pn.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=false;}getTypeName(){return "resolving_load_balancer"}};Nv.ResolvingLoadBalancer=$0;});var W7=T(cg=>{Object.defineProperty(cg,"__esModule",{value:true});cg.recognizedOptions=void 0;cg.channelOptionsEqual=g0e;cg.recognizedOptions={"grpc.ssl_target_name_override":true,"grpc.primary_user_agent":true,"grpc.secondary_user_agent":true,"grpc.default_authority":true,"grpc.keepalive_time_ms":true,"grpc.keepalive_timeout_ms":true,"grpc.keepalive_permit_without_calls":true,"grpc.service_config":true,"grpc.max_concurrent_streams":true,"grpc.initial_reconnect_backoff_ms":true,"grpc.max_reconnect_backoff_ms":true,"grpc.use_local_subchannel_pool":true,"grpc.max_send_message_length":true,"grpc.max_receive_message_length":true,"grpc.enable_http_proxy":true,"grpc.enable_channelz":true,"grpc.dns_min_time_between_resolutions_ms":true,"grpc.enable_retries":true,"grpc.per_rpc_retry_buffer_size":true,"grpc.retry_buffer_size":true,"grpc.max_connection_age_ms":true,"grpc.max_connection_age_grace_ms":true,"grpc-node.max_session_memory":true,"grpc.service_config_disable_resolution":true,"grpc.client_idle_timeout_ms":true,"grpc-node.tls_enable_trace":true,"grpc.lb.ring_hash.ring_size_cap":true,"grpc-node.retry_max_attempts_limit":true,"grpc-node.flow_control_window":true,"grpc.server_call_metric_recording":true};function g0e(t,e){let r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return  false;for(let n=0;n<r.length;n+=1)if(r[n]!==i[n]||t[r[n]]!==e[i[n]])return  false;return  true}});var fn=T(Ui=>{Object.defineProperty(Ui,"__esModule",{value:true});Ui.EndpointMap=void 0;Ui.isTcpSubchannelAddress=lg;Ui.subchannelAddressEqual=Pv;Ui.subchannelAddressToString=Y7;Ui.stringToSubchannelAddress=S0e;Ui.endpointEqual=y0e;Ui.endpointToString=E0e;Ui.endpointHasAddress=Z7;var K7=L("net");function lg(t){return "port"in t}function Pv(t,e){return !t&&!e?true:!t||!e?false:lg(t)?lg(e)&&t.host===e.host&&t.port===e.port:!lg(e)&&t.path===e.path}function Y7(t){return lg(t)?(0, K7.isIPv6)(t.host)?"["+t.host+"]:"+t.port:t.host+":"+t.port:t.path}var _0e=443;function S0e(t,e){return (0, K7.isIP)(t)?{host:t,port:e??_0e}:{path:t}}function y0e(t,e){if(t.addresses.length!==e.addresses.length)return  false;for(let r=0;r<t.addresses.length;r++)if(!Pv(t.addresses[r],e.addresses[r]))return  false;return  true}function E0e(t){return "["+t.addresses.map(Y7).join(", ")+"]"}function Z7(t,e){for(let r of t.addresses)if(Pv(r,e))return  true;return  false}function ug(t,e){if(t.addresses.length!==e.addresses.length)return  false;for(let r of t.addresses){let i=false;for(let n of e.addresses)if(Pv(r,n)){i=true;break}if(!i)return  false}return  true}var z0=class{constructor(){this.map=new Set;}get size(){return this.map.size}getForSubchannelAddress(e){for(let r of this.map)if(Z7(r.key,e))return r.value}deleteMissing(e){let r=[];for(let i of this.map){let n=false;for(let a of e)ug(a,i.key)&&(n=true);n||(r.push(i.value),this.map.delete(i));}return r}get(e){for(let r of this.map)if(ug(e,r.key))return r.value}set(e,r){for(let i of this.map)if(ug(e,i.key)){i.value=r;return}this.map.add({key:e,value:r});}delete(e){for(let r of this.map)if(ug(e,r.key)){this.map.delete(r);return}}has(e){for(let r of this.map)if(ug(e,r.key))return  true;return  false}clear(){this.map.clear();}*keys(){for(let e of this.map)yield e.key;}*values(){for(let e of this.map)yield e.value;}*entries(){for(let e of this.map)yield [e.key,e.value];}};Ui.EndpointMap=z0;});var J7={};Pe(J7,{OrderedMap:()=>C0e});function Wd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");V0(t,e);function r(){this.constructor=t;}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r);}function T0e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(l){return c([u,l])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r);}catch(l){u=[6,l],n=0;}finally{i=a=0;}if(u[0]&5)throw u[1];return {value:u[0]?u[1]:void 0,done:true}}}function Pu(){throw new RangeError("Iterator access denied!")}var V0,X7,v0e,b0e,R0e,A0e,O0e,x0e,zs,C0e,Q7=g(()=>{V0=function(t,e){return V0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n]);},V0(t,e)};X7=(function(){function t(e,r,i){i===void 0&&(i=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=r,this.l=i;}return t.prototype.v=function(){var e=this,r=e.h.h===e;if(r&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else {if(r)return e.h;for(var i=e.h;i.t===e;)e=i,i=e.h;e=i;}return e},t.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else {for(var r=e.h;r.i===e;)e=r,r=e.h;return e.i!==r?r:e}},t.prototype.T=function(){var e=this.h,r=this.i,i=r.t;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.t=this,this.h=r,this.i=i,i&&(i.h=this),r},t.prototype.I=function(){var e=this.h,r=this.t,i=r.i;return e.h===this?e.h=r:e.t===this?e.t=r:e.i=r,r.h=e,r.i=this,this.h=r,this.t=i,i&&(i.h=this),r},t})(),v0e=(function(t){Wd(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.O=1,r}return e.prototype.T=function(){var r=t.prototype.T.call(this);return this.M(),r.M(),r},e.prototype.I=function(){var r=t.prototype.I.call(this);return this.M(),r.M(),r},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O);},e})(X7),b0e=(function(){function t(e){e===void 0&&(e=0),this.iteratorType=e;}return t.prototype.equals=function(e){return this.C===e.C},t})(),R0e=(function(){function t(){this._=0;}return Object.defineProperty(t.prototype,"length",{get:function(){return this._},enumerable:false,configurable:true}),t.prototype.size=function(){return this._},t.prototype.empty=function(){return this._===0},t})(),A0e=(function(t){Wd(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(R0e);O0e=(function(t){Wd(e,t);function e(r,i){r===void 0&&(r=function(a,o){return a<o?-1:a>o?1:0}),i===void 0&&(i=false);var n=t.call(this)||this;return n.N=void 0,n.g=r,n.enableIndex=i,n.S=i?v0e:X7,n.A=new n.S,n}return e.prototype.m=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);if(a<0)r=r.i;else if(a>0)n=r,r=r.t;else return r}return n},e.prototype.B=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);a<=0?r=r.i:(n=r,r=r.t);}return n},e.prototype.j=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);if(a<0)n=r,r=r.i;else if(a>0)r=r.t;else return r}return n},e.prototype.k=function(r,i){for(var n=this.A;r;){var a=this.g(r.u,i);a<0?(n=r,r=r.i):r=r.t;}return n},e.prototype.R=function(r){for(;;){var i=r.h;if(i===this.A)return;if(r.l===1){r.l=0;return}if(r===i.t){var n=i.i;if(n.l===1)n.l=0,i.l=1,i===this.N?this.N=i.T():i.T();else if(n.i&&n.i.l===1){n.l=i.l,i.l=0,n.i.l=0,i===this.N?this.N=i.T():i.T();return}else n.t&&n.t.l===1?(n.l=1,n.t.l=0,n.I()):(n.l=1,r=i);}else {var n=i.t;if(n.l===1)n.l=0,i.l=1,i===this.N?this.N=i.I():i.I();else if(n.t&&n.t.l===1){n.l=i.l,i.l=0,n.t.l=0,i===this.N?this.N=i.I():i.I();return}else n.i&&n.i.l===1?(n.l=1,n.i.l=0,n.T()):(n.l=1,r=i);}}},e.prototype.G=function(r){if(this._===1){this.clear();return}for(var i=r;i.t||i.i;){if(i.i)for(i=i.i;i.t;)i=i.t;else i=i.t;var n=r.u;r.u=i.u,i.u=n;var a=r.o;r.o=i.o,i.o=a,r=i;}this.A.t===i?this.A.t=i.h:this.A.i===i&&(this.A.i=i.h),this.R(i);var o=i.h;if(i===o.t?o.t=void 0:o.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;o!==this.A;)o.O-=1,o=o.h;},e.prototype.P=function(r){for(var i=typeof r=="number"?r:void 0,n=typeof r=="function"?r:void 0,a=typeof r>"u"?[]:void 0,o=0,s=this.N,c=[];c.length||s;)if(s)c.push(s),s=s.t;else {if(s=c.pop(),o===i)return s;a&&a.push(s),n&&n(s,o,this),o+=1,s=s.i;}return a},e.prototype.q=function(r){for(;;){var i=r.h;if(i.l===0)return;var n=i.h;if(i===n.t){var a=n.i;if(a&&a.l===1){if(a.l=i.l=0,n===this.N)return;n.l=1,r=n;continue}else if(r===i.i){if(r.l=0,r.t&&(r.t.h=i),r.i&&(r.i.h=n),i.i=r.t,n.t=r.i,r.t=i,r.i=n,n===this.N)this.N=r,this.A.h=r;else {var o=n.h;o.t===n?o.t=r:o.i=r;}r.h=n.h,i.h=r,n.h=r,n.l=1;}else {i.l=0,n===this.N?this.N=n.I():n.I(),n.l=1;return}}else {var a=n.t;if(a&&a.l===1){if(a.l=i.l=0,n===this.N)return;n.l=1,r=n;continue}else if(r===i.t){if(r.l=0,r.t&&(r.t.h=n),r.i&&(r.i.h=i),n.i=r.t,i.t=r.i,r.t=n,r.i=i,n===this.N)this.N=r,this.A.h=r;else {var o=n.h;o.t===n?o.t=r:o.i=r;}r.h=n.h,i.h=r,n.h=r,n.l=1;}else {i.l=0,n===this.N?this.N=n.T():n.T(),n.l=1;return}}this.enableIndex&&(i.M(),n.M(),r.M());return}},e.prototype.D=function(r,i,n){if(this.N===void 0)return this._+=1,this.N=new this.S(r,i,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,o=this.A.t,s=this.g(o.u,r);if(s===0)return o.o=i,this._;if(s>0)o.t=new this.S(r,i),o.t.h=o,a=o.t,this.A.t=a;else {var c=this.A.i,u=this.g(c.u,r);if(u===0)return c.o=i,this._;if(u<0)c.i=new this.S(r,i),c.i.h=c,a=c.i,this.A.i=a;else {if(n!==void 0){var l=n.C;if(l!==this.A){var d=this.g(l.u,r);if(d===0)return l.o=i,this._;if(d>0){var p=l.v(),f=this.g(p.u,r);if(f===0)return p.o=i,this._;f<0&&(a=new this.S(r,i),p.i===void 0?(p.i=a,a.h=p):(l.t=a,a.h=l));}}}if(a===void 0)for(a=this.N;;){var _=this.g(a.u,r);if(_>0){if(a.t===void 0){a.t=new this.S(r,i),a.t.h=a,a=a.t;break}a=a.t;}else if(_<0){if(a.i===void 0){a.i=new this.S(r,i),a.i.h=a,a=a.i;break}a=a.i;}else return a.o=i,this._}}}if(this.enableIndex)for(var y=a.h;y!==this.A;)y.O+=1,y=y.h;return this.q(a),this._+=1,this._},e.prototype.F=function(r,i){for(;r;){var n=this.g(r.u,i);if(n<0)r=r.i;else if(n>0)r=r.t;else return r}return r||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0;},e.prototype.updateKeyByIterator=function(r,i){var n=r.C;if(n===this.A&&Pu(),this._===1)return n.u=i,true;var a=n.p().u;if(n===this.A.t)return this.g(a,i)>0?(n.u=i,true):false;var o=n.v().u;return n===this.A.i?this.g(o,i)<0?(n.u=i,true):false:this.g(o,i)>=0||this.g(a,i)<=0?false:(n.u=i,true)},e.prototype.eraseElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var i=this.P(r);return this.G(i),this._},e.prototype.eraseElementByKey=function(r){if(this._===0)return  false;var i=this.F(this.N,r);return i===this.A?false:(this.G(i),true)},e.prototype.eraseElementByIterator=function(r){var i=r.C;i===this.A&&Pu();var n=i.i===void 0,a=r.iteratorType===0;return a?n&&r.next():(!n||i.t===void 0)&&r.next(),this.G(i),r},e.prototype.getHeight=function(){if(this._===0)return 0;function r(i){return i?Math.max(r(i.t),r(i.i))+1:0}return r(this.N)},e})(A0e),x0e=(function(t){Wd(e,t);function e(r,i,n){var a=t.call(this,n)||this;return a.C=r,a.A=i,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&Pu(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&Pu(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&Pu(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&Pu(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var r=this.C,i=this.A.h;if(r===this.A)return i?i.O-1:0;var n=0;for(r.t&&(n+=r.t.O);r!==i;){var a=r.h;r===a.i&&(n+=1,a.t&&(n+=a.t.O)),r=a;}return n},enumerable:false,configurable:true}),e.prototype.isAccessible=function(){return this.C!==this.A},e})(b0e),zs=(function(t){Wd(e,t);function e(r,i,n,a){var o=t.call(this,r,i,a)||this;return o.container=n,o}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&Pu();var r=this;return new Proxy([],{get:function(i,n){return n==="0"?r.C.u:n==="1"?r.C.o:(i[0]=r.C.u,i[1]=r.C.o,i[n])},set:function(i,n,a){if(n!=="1")throw new TypeError("prop must be 1");return r.C.o=a,true}})},enumerable:false,configurable:true}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e})(x0e),C0e=(function(t){Wd(e,t);function e(r,i,n){r===void 0&&(r=[]);var a=t.call(this,i,n)||this,o=a;return r.forEach((function(s){o.setElement(s[0],s[1]);})),a}return e.prototype.begin=function(){return new zs(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new zs(this.A,this.A,this)},e.prototype.rBegin=function(){return new zs(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new zs(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var r=this.A.t;return [r.u,r.o]}},e.prototype.back=function(){if(this._!==0){var r=this.A.i;return [r.u,r.o]}},e.prototype.lowerBound=function(r){var i=this.m(this.N,r);return new zs(i,this.A,this)},e.prototype.upperBound=function(r){var i=this.B(this.N,r);return new zs(i,this.A,this)},e.prototype.reverseLowerBound=function(r){var i=this.j(this.N,r);return new zs(i,this.A,this)},e.prototype.reverseUpperBound=function(r){var i=this.k(this.N,r);return new zs(i,this.A,this)},e.prototype.forEach=function(r){this.P((function(i,n,a){r([i.u,i.o],n,a);}));},e.prototype.setElement=function(r,i,n){return this.D(r,i,n)},e.prototype.getElementByPos=function(r){if(r<0||r>this._-1)throw new RangeError;var i=this.P(r);return [i.u,i.o]},e.prototype.find=function(r){var i=this.F(this.N,r);return new zs(i,this.A,this)},e.prototype.getElementByKey=function(r){var i=this.F(this.N,r);return i.o},e.prototype.union=function(r){var i=this;return r.forEach((function(n){i.setElement(n[0],n[1]);})),this._},e.prototype[Symbol.iterator]=function(){var r,i,n,a;return T0e(this,(function(o){switch(o.label){case 0:r=this._,i=this.P(),n=0,o.label=1;case 1:return n<r?(a=i[n],[4,[a.u,a.o]]):[3,4];case 2:o.sent(),o.label=3;case 3:return ++n,[3,1];case 4:return [2]}}))},e})(O0e);});var wv=T(Iv=>{Object.defineProperty(Iv,"__esModule",{value:true});Iv.registerAdminService=N0e;Iv.addAdminServicesToServer=P0e;var eQ=[];function N0e(t,e){eQ.push({getServiceDefinition:t,getHandlers:e});}function P0e(t){for(let{getServiceDefinition:e,getHandlers:r}of eQ)t.addService(e(),r());}});var tQ=T($i=>{Object.defineProperty($i,"__esModule",{value:true});$i.ClientDuplexStreamImpl=$i.ClientWritableStreamImpl=$i.ClientReadableStreamImpl=$i.ClientUnaryCallImpl=void 0;$i.callErrorFromStatus=w0e;var I0e=L("events"),j0=L("stream"),dg=ke();function w0e(t,e){let r=`${t.code} ${dg.Status[t.code]}: ${t.details}`,n=`${new Error(r).stack}
for call at
${e}`;return Object.assign(new Error(r),t,{stack:n})}var B0=class extends I0e.EventEmitter{constructor(){super();}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(dg.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}};$i.ClientUnaryCallImpl=B0;var F0=class extends j0.Readable{constructor(e){super({objectMode:true}),this.deserialize=e;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(dg.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead();}};$i.ClientReadableStreamImpl=F0;var H0=class extends j0.Writable{constructor(e){super({objectMode:true}),this.serialize=e;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(dg.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_write(e,r,i){var n;let a={callback:i},o=Number(r);Number.isNaN(o)||(a.flags=o),(n=this.call)===null||n===void 0||n.sendMessageWithContext(a,e);}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e();}};$i.ClientWritableStreamImpl=H0;var G0=class extends j0.Duplex{constructor(e,r){super({objectMode:true}),this.serialize=e,this.deserialize=r;}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(dg.Status.CANCELLED,"Cancelled on client");}getPeer(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}getAuthContext(){var e,r;return (r=(e=this.call)===null||e===void 0?void 0:e.getAuthContext())!==null&&r!==void 0?r:null}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead();}_write(e,r,i){var n;let a={callback:i},o=Number(r);Number.isNaN(o)||(a.flags=o),(n=this.call)===null||n===void 0||n.sendMessageWithContext(a,e);}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e();}};$i.ClientDuplexStreamImpl=G0;});var wu=T(Iu=>{Object.defineProperty(Iu,"__esModule",{value:true});Iu.InterceptingListenerImpl=void 0;Iu.statusOrFromValue=L0e;Iu.statusOrFromError=D0e;Iu.isInterceptingListener=k0e;var M0e=cr();function L0e(t){return {ok:true,value:t}}function D0e(t){var e;return {ok:false,error:Object.assign(Object.assign({},t),{metadata:(e=t.metadata)!==null&&e!==void 0?e:new M0e.Metadata})}}function k0e(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}var q0=class{constructor(e,r){this.listener=e,this.nextListener=r,this.processingMetadata=false,this.hasPendingMessage=false,this.processingMessage=false,this.pendingStatus=null;}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=false);}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus);}onReceiveMetadata(e){this.processingMetadata=true,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=false,this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingStatus();});}onReceiveMessage(e){this.processingMessage=true,this.listener.onReceiveMessage(e,r=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=true):(this.nextListener.onReceiveMessage(r),this.processPendingStatus());});}onReceiveStatus(e){this.listener.onReceiveStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextListener.onReceiveStatus(r);});}};Iu.InterceptingListenerImpl=q0;});var Q0=T(zi=>{Object.defineProperty(zi,"__esModule",{value:true});zi.InterceptingCall=zi.RequesterBuilder=zi.ListenerBuilder=zi.InterceptorConfigurationError=void 0;zi.getInterceptingCall=V0e;var U0e=cr(),rQ=wu(),nQ=ke(),iQ=fv(),fg=class t extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,t);}};zi.InterceptorConfigurationError=fg;var K0=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0;}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return {onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};zi.ListenerBuilder=K0;var Y0=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0;}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return {start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};zi.RequesterBuilder=Y0;var W0={onReceiveMetadata:(t,e)=>{e(t);},onReceiveMessage:(t,e)=>{e(t);},onReceiveStatus:(t,e)=>{e(t);}},pg={start:(t,e,r)=>{r(t,e);},sendMessage:(t,e)=>{e(t);},halfClose:t=>{t();},cancel:t=>{t();}},Z0=class{constructor(e,r){var i,n,a,o;this.nextCall=e,this.processingMetadata=false,this.pendingMessageContext=null,this.processingMessage=false,this.pendingHalfClose=false,r?this.requester={start:(i=r.start)!==null&&i!==void 0?i:pg.start,sendMessage:(n=r.sendMessage)!==null&&n!==void 0?n:pg.sendMessage,halfClose:(a=r.halfClose)!==null&&a!==void 0?a:pg.halfClose,cancel:(o=r.cancel)!==null&&o!==void 0?o:pg.cancel}:this.requester=pg;}cancelWithStatus(e,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,r);});}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null);}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose();}start(e,r){var i,n,a,o,s,c;let u={onReceiveMetadata:(n=(i=r?.onReceiveMetadata)===null||i===void 0?void 0:i.bind(r))!==null&&n!==void 0?n:(l=>{}),onReceiveMessage:(o=(a=r?.onReceiveMessage)===null||a===void 0?void 0:a.bind(r))!==null&&o!==void 0?o:(l=>{}),onReceiveStatus:(c=(s=r?.onReceiveStatus)===null||s===void 0?void 0:s.bind(r))!==null&&c!==void 0?c:(l=>{})};this.processingMetadata=true,this.requester.start(e,u,(l,d)=>{var p,f,_;this.processingMetadata=false;let y;if((0, rQ.isInterceptingListener)(d))y=d;else {let v={onReceiveMetadata:(p=d.onReceiveMetadata)!==null&&p!==void 0?p:W0.onReceiveMetadata,onReceiveMessage:(f=d.onReceiveMessage)!==null&&f!==void 0?f:W0.onReceiveMessage,onReceiveStatus:(_=d.onReceiveStatus)!==null&&_!==void 0?_:W0.onReceiveStatus};y=new rQ.InterceptingListenerImpl(v,u);}this.nextCall.start(l,y),this.processPendingMessage(),this.processPendingHalfClose();});}sendMessageWithContext(e,r){this.processingMessage=true,this.requester.sendMessage(r,i=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=r):(this.nextCall.sendMessageWithContext(e,i),this.processPendingHalfClose());});}sendMessage(e){this.sendMessageWithContext({},e);}startRead(){this.nextCall.startRead();}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=true:this.nextCall.halfClose();});}getAuthContext(){return this.nextCall.getAuthContext()}};zi.InterceptingCall=Z0;function $0e(t,e,r){var i,n;let a=(i=r.deadline)!==null&&i!==void 0?i:1/0,o=r.host,s=(n=r.parent)!==null&&n!==void 0?n:null,c=r.propagate_flags,u=r.credentials,l=t.createCall(e,a,o,s,c);return u&&l.setCredentials(u),l}var Mv=class{constructor(e,r){this.call=e,this.methodDefinition=r;}cancelWithStatus(e,r){this.call.cancelWithStatus(e,r);}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,r){let i;try{i=this.methodDefinition.requestSerialize(r);}catch(n){this.call.cancelWithStatus(nQ.Status.INTERNAL,`Request message serialization failure: ${(0, iQ.getErrorMessage)(n)}`);return}this.call.sendMessageWithContext(e,i);}sendMessage(e){this.sendMessageWithContext({},e);}start(e,r){let i=null;this.call.start(e,{onReceiveMetadata:n=>{var a;(a=r?.onReceiveMetadata)===null||a===void 0||a.call(r,n);},onReceiveMessage:n=>{var a;let o;try{o=this.methodDefinition.responseDeserialize(n);}catch(s){i={code:nQ.Status.INTERNAL,details:`Response message parsing error: ${(0, iQ.getErrorMessage)(s)}`,metadata:new U0e.Metadata},this.call.cancelWithStatus(i.code,i.details);return}(a=r?.onReceiveMessage)===null||a===void 0||a.call(r,o);},onReceiveStatus:n=>{var a,o;i?(a=r?.onReceiveStatus)===null||a===void 0||a.call(r,i):(o=r?.onReceiveStatus)===null||o===void 0||o.call(r,n);}});}startRead(){this.call.startRead();}halfClose(){this.call.halfClose();}getAuthContext(){return this.call.getAuthContext()}},X0=class extends Mv{constructor(e,r){super(e,r);}start(e,r){var i,n;let a=false,o={onReceiveMetadata:(n=(i=r?.onReceiveMetadata)===null||i===void 0?void 0:i.bind(r))!==null&&n!==void 0?n:(s=>{}),onReceiveMessage:s=>{var c;a=true,(c=r?.onReceiveMessage)===null||c===void 0||c.call(r,s);},onReceiveStatus:s=>{var c,u;a||(c=r?.onReceiveMessage)===null||c===void 0||c.call(r,null),(u=r?.onReceiveStatus)===null||u===void 0||u.call(r,s);}};super.start(e,o),this.call.startRead();}},J0=class extends Mv{};function z0e(t,e,r){let i=$0e(t,r.path,e);return r.responseStream?new J0(i,r):new X0(i,r)}function V0e(t,e,r,i){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new fg("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new fg("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let n=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?n=[].concat(t.callInterceptors,t.callInterceptorProviders.map(s=>s(e))).filter(s=>s):n=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(s=>s(e))).filter(s=>s);let a=Object.assign({},r,{method_definition:e});return n.reduceRight((s,c)=>u=>c(u,s),s=>z0e(i,s,e))(a)}});var rM=T(Dv=>{Object.defineProperty(Dv,"__esModule",{value:true});Dv.Client=void 0;var Oo=tQ(),B0e=nM(),F0e=Fr(),Fa=ke(),Kd=cr(),Lv=Q0(),Vi=Symbol(),Yd=Symbol(),Zd=Symbol(),Vs=Symbol();function eM(t){return typeof t=="function"}function Xd(t){var e;return ((e=t.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var tM=class{constructor(e,r,i={}){var n,a;if(i=Object.assign({},i),this[Yd]=(n=i.interceptors)!==null&&n!==void 0?n:[],delete i.interceptors,this[Zd]=(a=i.interceptor_providers)!==null&&a!==void 0?a:[],delete i.interceptor_providers,this[Yd].length>0&&this[Zd].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Vs]=i.callInvocationTransformer,delete i.callInvocationTransformer,i.channelOverride)this[Vi]=i.channelOverride;else if(i.channelFactoryOverride){let o=i.channelFactoryOverride;delete i.channelFactoryOverride,this[Vi]=o(e,r,i);}else this[Vi]=new B0e.ChannelImplementation(e,r,i);}close(){this[Vi].close();}getChannel(){return this[Vi]}waitForReady(e,r){let i=n=>{if(n){r(new Error("Failed to connect before the deadline"));return}let a;try{a=this[Vi].getConnectivityState(!0);}catch{r(new Error("The channel has been closed"));return}if(a===F0e.ConnectivityState.READY)r();else try{this[Vi].watchConnectivityState(a,e,i);}catch{r(new Error("The channel has been closed"));}};setImmediate(i);}checkOptionalUnaryResponseArguments(e,r,i){if(eM(e))return {metadata:new Kd.Metadata,options:{},callback:e};if(eM(r))return e instanceof Kd.Metadata?{metadata:e,options:{},callback:r}:{metadata:new Kd.Metadata,options:e,callback:r};if(!(e instanceof Kd.Metadata&&r instanceof Object&&eM(i)))throw new Error("Incorrect arguments passed");return {metadata:e,options:r,callback:i}}makeUnaryRequest(e,r,i,n,a,o,s){var c,u;let l=this.checkOptionalUnaryResponseArguments(a,o,s),d={path:e,requestStream:false,responseStream:false,requestSerialize:r,responseDeserialize:i},p={argument:n,metadata:l.metadata,call:new Oo.ClientUnaryCallImpl,channel:this[Vi],methodDefinition:d,callOptions:l.options,callback:l.callback};this[Vs]&&(p=this[Vs](p));let f=p.call,_={clientInterceptors:this[Yd],clientInterceptorProviders:this[Zd],callInterceptors:(c=p.callOptions.interceptors)!==null&&c!==void 0?c:[],callInterceptorProviders:(u=p.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},y=(0, Lv.getInterceptingCall)(_,p.methodDefinition,p.callOptions,p.channel);f.call=y;let v=null,O=false,x=new Error;return y.start(p.metadata,{onReceiveMetadata:I=>{f.emit("metadata",I);},onReceiveMessage(I){v!==null&&y.cancelWithStatus(Fa.Status.UNIMPLEMENTED,"Too many responses received"),v=I;},onReceiveStatus(I){if(!O){if(O=true,I.code===Fa.Status.OK)if(v===null){let R=Xd(x);p.callback((0, Oo.callErrorFromStatus)({code:Fa.Status.UNIMPLEMENTED,details:"No message received",metadata:I.metadata},R));}else p.callback(null,v);else {let R=Xd(x);p.callback((0, Oo.callErrorFromStatus)(I,R));}x=null,f.emit("status",I);}}}),y.sendMessage(n),y.halfClose(),f}makeClientStreamRequest(e,r,i,n,a,o){var s,c;let u=this.checkOptionalUnaryResponseArguments(n,a,o),l={path:e,requestStream:true,responseStream:false,requestSerialize:r,responseDeserialize:i},d={metadata:u.metadata,call:new Oo.ClientWritableStreamImpl(r),channel:this[Vi],methodDefinition:l,callOptions:u.options,callback:u.callback};this[Vs]&&(d=this[Vs](d));let p=d.call,f={clientInterceptors:this[Yd],clientInterceptorProviders:this[Zd],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(c=d.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},_=(0, Lv.getInterceptingCall)(f,d.methodDefinition,d.callOptions,d.channel);p.call=_;let y=null,v=false,O=new Error;return _.start(d.metadata,{onReceiveMetadata:x=>{p.emit("metadata",x);},onReceiveMessage(x){y!==null&&_.cancelWithStatus(Fa.Status.UNIMPLEMENTED,"Too many responses received"),y=x,_.startRead();},onReceiveStatus(x){if(!v){if(v=true,x.code===Fa.Status.OK)if(y===null){let I=Xd(O);d.callback((0, Oo.callErrorFromStatus)({code:Fa.Status.UNIMPLEMENTED,details:"No message received",metadata:x.metadata},I));}else d.callback(null,y);else {let I=Xd(O);d.callback((0, Oo.callErrorFromStatus)(x,I));}O=null,p.emit("status",x);}}}),p}checkMetadataAndOptions(e,r){let i,n;return e instanceof Kd.Metadata?(i=e,r?n=r:n={}):(e?n=e:n={},i=new Kd.Metadata),{metadata:i,options:n}}makeServerStreamRequest(e,r,i,n,a,o){var s,c;let u=this.checkMetadataAndOptions(a,o),l={path:e,requestStream:false,responseStream:true,requestSerialize:r,responseDeserialize:i},d={argument:n,metadata:u.metadata,call:new Oo.ClientReadableStreamImpl(i),channel:this[Vi],methodDefinition:l,callOptions:u.options};this[Vs]&&(d=this[Vs](d));let p=d.call,f={clientInterceptors:this[Yd],clientInterceptorProviders:this[Zd],callInterceptors:(s=d.callOptions.interceptors)!==null&&s!==void 0?s:[],callInterceptorProviders:(c=d.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},_=(0, Lv.getInterceptingCall)(f,d.methodDefinition,d.callOptions,d.channel);p.call=_;let y=false,v=new Error;return _.start(d.metadata,{onReceiveMetadata(O){p.emit("metadata",O);},onReceiveMessage(O){p.push(O);},onReceiveStatus(O){if(!y){if(y=true,p.push(null),O.code!==Fa.Status.OK){let x=Xd(v);p.emit("error",(0, Oo.callErrorFromStatus)(O,x));}v=null,p.emit("status",O);}}}),_.sendMessage(n),_.halfClose(),p}makeBidiStreamRequest(e,r,i,n,a){var o,s;let c=this.checkMetadataAndOptions(n,a),u={path:e,requestStream:true,responseStream:true,requestSerialize:r,responseDeserialize:i},l={metadata:c.metadata,call:new Oo.ClientDuplexStreamImpl(r,i),channel:this[Vi],methodDefinition:u,callOptions:c.options};this[Vs]&&(l=this[Vs](l));let d=l.call,p={clientInterceptors:this[Yd],clientInterceptorProviders:this[Zd],callInterceptors:(o=l.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(s=l.callOptions.interceptor_providers)!==null&&s!==void 0?s:[]},f=(0, Lv.getInterceptingCall)(p,l.methodDefinition,l.callOptions,l.channel);d.call=f;let _=false,y=new Error;return f.start(l.metadata,{onReceiveMetadata(v){d.emit("metadata",v);},onReceiveMessage(v){d.push(v);},onReceiveStatus(v){if(!_){if(_=true,d.push(null),v.code!==Fa.Status.OK){let O=Xd(y);d.emit("error",(0, Oo.callErrorFromStatus)(v,O));}y=null,d.emit("status",v);}}}),d}};Dv.Client=tM;});var Uv=T(kv=>{Object.defineProperty(kv,"__esModule",{value:true});kv.makeClientConstructor=oQ;kv.loadPackageDefinition=q0e;var hg=rM(),H0e={unary:hg.Client.prototype.makeUnaryRequest,server_stream:hg.Client.prototype.makeServerStreamRequest,client_stream:hg.Client.prototype.makeClientStreamRequest,bidi:hg.Client.prototype.makeBidiStreamRequest};function iM(t){return ["__proto__","prototype","constructor"].includes(t)}function oQ(t,e,r){class i extends hg.Client{}return Object.keys(t).forEach(n=>{if(iM(n))return;let a=t[n],o;if(typeof n=="string"&&n.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?o="bidi":o="client_stream":a.responseStream?o="server_stream":o="unary";let s=a.requestSerialize,c=a.responseDeserialize,u=G0e(H0e[o],a.path,s,c);i.prototype[n]=u,Object.assign(i.prototype[n],a),a.originalName&&!iM(a.originalName)&&(i.prototype[a.originalName]=i.prototype[n]);}),i.service=t,i.serviceName=e,i}function G0e(t,e,r,i){return function(...n){return t.call(this,e,r,i,...n)}}function j0e(t){return "format"in t}function q0e(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let i=t[r],n=r.split(".");if(n.some(s=>iM(s)))continue;let a=n[n.length-1],o=e;for(let s of n.slice(0,-1))o[s]||(o[s]={}),o=o[s];j0e(i)?o[a]=i:o[a]=oQ(i,a);}return e}});var PQ=T((Dut,NQ)=>{var K0e="[object Symbol]",Y0e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z0e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zv="\\ud800-\\udfff",fQ="\\u0300-\\u036f\\ufe20-\\ufe23",hQ="\\u20d0-\\u20f0",mQ="\\u2700-\\u27bf",gQ="a-z\\xdf-\\xf6\\xf8-\\xff",X0e="\\xac\\xb1\\xd7\\xf7",J0e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Q0e="\\u2000-\\u206f",eMe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_Q="A-Z\\xc0-\\xd6\\xd8-\\xde",SQ="\\ufe0e\\ufe0f",yQ=X0e+J0e+Q0e+eMe,sM="['\u2019]",tMe="["+zv+"]",sQ="["+yQ+"]",$v="["+fQ+hQ+"]",EQ="\\d+",rMe="["+mQ+"]",TQ="["+gQ+"]",vQ="[^"+zv+yQ+EQ+mQ+gQ+_Q+"]",oM="\\ud83c[\\udffb-\\udfff]",nMe="(?:"+$v+"|"+oM+")",bQ="[^"+zv+"]",aM="(?:\\ud83c[\\udde6-\\uddff]){2}",cM="[\\ud800-\\udbff][\\udc00-\\udfff]",Jd="["+_Q+"]",RQ="\\u200d",aQ="(?:"+TQ+"|"+vQ+")",iMe="(?:"+Jd+"|"+vQ+")",cQ="(?:"+sM+"(?:d|ll|m|re|s|t|ve))?",uQ="(?:"+sM+"(?:D|LL|M|RE|S|T|VE))?",AQ=nMe+"?",OQ="["+SQ+"]?",oMe="(?:"+RQ+"(?:"+[bQ,aM,cM].join("|")+")"+OQ+AQ+")*",xQ=OQ+AQ+oMe,sMe="(?:"+[rMe,aM,cM].join("|")+")"+xQ,aMe="(?:"+[bQ+$v+"?",$v,aM,cM,tMe].join("|")+")",cMe=RegExp(sM,"g"),uMe=RegExp($v,"g"),lMe=RegExp(oM+"(?="+oM+")|"+aMe+xQ,"g"),dMe=RegExp([Jd+"?"+TQ+"+"+cQ+"(?="+[sQ,Jd,"$"].join("|")+")",iMe+"+"+uQ+"(?="+[sQ,Jd+aQ,"$"].join("|")+")",Jd+"?"+aQ+"+"+cQ,Jd+"+"+uQ,EQ,sMe].join("|"),"g"),pMe=RegExp("["+RQ+zv+fQ+hQ+SQ+"]"),fMe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hMe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},mMe=typeof global=="object"&&global&&global.Object===Object&&global,gMe=typeof self=="object"&&self&&self.Object===Object&&self,_Me=mMe||gMe||Function("return this")();function SMe(t,e,r,i){var n=-1,a=t?t.length:0;for(i;++n<a;)r=e(r,t[n],n,t);return r}function yMe(t){return t.split("")}function EMe(t){return t.match(Y0e)||[]}function TMe(t){return function(e){return t?.[e]}}var vMe=TMe(hMe);function CQ(t){return pMe.test(t)}function bMe(t){return fMe.test(t)}function RMe(t){return CQ(t)?AMe(t):yMe(t)}function AMe(t){return t.match(lMe)||[]}function OMe(t){return t.match(dMe)||[]}var xMe=Object.prototype,CMe=xMe.toString,lQ=_Me.Symbol,dQ=lQ?lQ.prototype:void 0,pQ=dQ?dQ.toString:void 0;function NMe(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),r=r>n?n:r,r<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(n);++i<n;)a[i]=t[i+e];return a}function PMe(t){if(typeof t=="string")return t;if(DMe(t))return pQ?pQ.call(t):"";var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}function IMe(t,e,r){var i=t.length;return r=r===void 0?i:r,false&&r>=i?t:NMe(t,e,r)}function wMe(t){return function(e){e=Vv(e);var r=CQ(e)?RMe(e):void 0,i=r?r[0]:e.charAt(0),n=r?IMe(r,1).join(""):e.slice(1);return i[t]()+n}}function MMe(t){return function(e){return SMe(VMe($Me(e).replace(cMe,"")),t,"")}}function LMe(t){return !!t&&typeof t=="object"}function DMe(t){return typeof t=="symbol"||LMe(t)&&CMe.call(t)==K0e}function Vv(t){return t==null?"":PMe(t)}var kMe=MMe(function(t,e,r){return e=e.toLowerCase(),t+(r?UMe(e):e)});function UMe(t){return zMe(Vv(t).toLowerCase())}function $Me(t){return t=Vv(t),t&&t.replace(Z0e,vMe).replace(uMe,"")}var zMe=wMe("toUpperCase");function VMe(t,e,r){return t=Vv(t),e=e,e===void 0?bMe(t)?OMe(t):EMe(t):t.match(e)||[]}NQ.exports=kMe;});var wQ=T((kut,IQ)=>{IQ.exports=uM;function uM(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function i(a){if(typeof a!="string"){var o=n();if(uM.verbose&&console.log("codegen: "+o),o="return "+o,a){for(var s=Object.keys(a),c=new Array(s.length+1),u=new Array(s.length),l=0;l<s.length;)c[l]=s[l],u[l]=a[s[l++]];return c[l]=o,Function.apply(null,c).apply(null,u)}return Function(o)()}for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p]=arguments[++p];if(p=0,a=a.replace(/%([%dfijs])/g,function(_,y){var v=d[p++];switch(y){case "d":case "f":return String(Number(v));case "i":return String(Math.floor(v));case "j":return JSON.stringify(v);case "s":return String(v)}return "%"}),p!==d.length)throw Error("parameter count mismatch");return r.push(a),i}function n(a){return "function "+(a||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return i.toString=n,i}uM.verbose=false;});var LQ=T((Uut,MQ)=>{MQ.exports=mg;var BMe=Bw(),FMe=Fw(),lM=FMe("fs");function mg(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&lM&&lM.readFile?lM.readFile(t,function(n,a){return n&&typeof XMLHttpRequest<"u"?mg.xhr(t,e,r):n?r(n):r(null,e.binary?a:a.toString("utf8"))}):mg.xhr(t,e,r):BMe(mg,this,t,e)}mg.xhr=function(e,r,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status!==0&&n.status!==200)return i(Error("status "+n.status));if(r.binary){var o=n.response;if(!o){o=[];for(var s=0;s<n.responseText.length;++s)o.push(n.responseText.charCodeAt(s)&255);}return i(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return i(null,n.responseText)}},r.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send();};});var UQ=T(kQ=>{var pM=kQ,DQ=pM.isAbsolute=function(e){return /^(?:\/|\w+:)/.test(e)},dM=pM.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),i=DQ(e),n="";i&&(n=r.shift()+"/");for(var a=0;a<r.length;)r[a]===".."?a>0&&r[a-1]!==".."?r.splice(--a,2):i?r.splice(a,1):++a:r[a]==="."?r.splice(a,1):++a;return n+r.join("/")};pM.resolve=function(e,r,i){return i||(r=dM(r)),DQ(r)?r:(i||(e=dM(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?dM(e+"/"+r):r)};});var ep=T((zut,VQ)=>{VQ.exports=qe;var Bv=Ga();((qe.prototype=Object.create(Bv.prototype)).constructor=qe).className="Namespace";var fM=Ha(),Fv=ur(),HMe=Du(),Mu,Qd,Lu;qe.fromJSON=function(e,r){return new qe(e,r.options).addJSON(r.nested)};function $Q(t,e){if(t&&t.length){for(var r={},i=0;i<t.length;++i)r[t[i].name]=t[i].toJSON(e);return r}}qe.arrayToJSON=$Q;qe.isReservedId=function(e,r){if(e){for(var i=0;i<e.length;++i)if(typeof e[i]!="string"&&e[i][0]<=r&&e[i][1]>r)return  true}return  false};qe.isReservedName=function(e,r){if(e){for(var i=0;i<e.length;++i)if(e[i]===r)return  true}return  false};function qe(t,e){Bv.call(this,t,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=true,this._needsRecursiveResolve=true;}function zQ(t){t._nestedArray=null,t._lookupCache={};for(var e=t;e=e.parent;)e._lookupCache={};return t}Object.defineProperty(qe.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=Fv.toArray(this.nested))}});qe.prototype.toJSON=function(e){return Fv.toObject(["options",this.options,"nested",$Q(this.nestedArray,e)])};qe.prototype.addJSON=function(e){var r=this;if(e)for(var i=Object.keys(e),n=0,a;n<i.length;++n)a=e[i[n]],r.add((a.fields!==void 0?Mu.fromJSON:a.values!==void 0?Lu.fromJSON:a.methods!==void 0?Qd.fromJSON:a.id!==void 0?fM.fromJSON:qe.fromJSON)(i[n],a));return this};qe.prototype.get=function(e){return this.nested&&this.nested[e]||null};qe.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Lu)return this.nested[e].values;throw Error("no such enum: "+e)};qe.prototype.add=function(e){if(!(e instanceof fM&&e.extend!==void 0||e instanceof Mu||e instanceof HMe||e instanceof Lu||e instanceof Qd||e instanceof qe))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else {var r=this.get(e.name);if(r)if(r instanceof qe&&e instanceof qe&&!(r instanceof Mu||r instanceof Qd)){for(var i=r.nestedArray,n=0;n<i.length;++n)e.add(i[n]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,true);}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof Mu||this instanceof Qd||this instanceof Lu||this instanceof fM||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=true,this._needsRecursiveResolve=true;for(var a=this;a=a.parent;)a._needsRecursiveFeatureResolution=true,a._needsRecursiveResolve=true;return e.onAdd(this),zQ(this)};qe.prototype.remove=function(e){if(!(e instanceof Bv))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),zQ(this)};qe.prototype.define=function(e,r){if(Fv.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var i=this;e.length>0;){var n=e.shift();if(i.nested&&i.nested[n]){if(i=i.nested[n],!(i instanceof qe))throw Error("path conflicts with non-namespace objects")}else i.add(i=new qe(n));}return r&&i.addJSON(r),i};qe.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,r=0;for(this.resolve();r<e.length;)e[r]instanceof qe?e[r++].resolveAll():e[r++].resolve();return this._needsRecursiveResolve=false,this};qe.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=false,e=this._edition||e,Bv.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(r=>{r._resolveFeaturesRecursive(e);}),this):this};qe.prototype.lookup=function(e,r,i){if(typeof r=="boolean"?(i=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),Fv.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".");}else if(!e.length)return this;var n=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),r);var a=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+n];if(a&&(!r||r.indexOf(a.constructor)>-1)||(a=this._lookupImpl(e,n),a&&(!r||r.indexOf(a.constructor)>-1)))return a;if(i)return null;for(var o=this;o.parent;){if(a=o.parent._lookupImpl(e,n),a&&(!r||r.indexOf(a.constructor)>-1))return a;o=o.parent;}return null};qe.prototype._lookupImpl=function(e,r){if(Object.prototype.hasOwnProperty.call(this._lookupCache,r))return this._lookupCache[r];var i=this.get(e[0]),n=null;if(i)e.length===1?n=i:i instanceof qe&&(e=e.slice(1),n=i._lookupImpl(e,e.join(".")));else for(var a=0;a<this.nestedArray.length;++a)this._nestedArray[a]instanceof qe&&(i=this._nestedArray[a]._lookupImpl(e,r))&&(n=i);return this._lookupCache[r]=n,n};qe.prototype.lookupType=function(e){var r=this.lookup(e,[Mu]);if(!r)throw Error("no such type: "+e);return r};qe.prototype.lookupEnum=function(e){var r=this.lookup(e,[Lu]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};qe.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[Mu,Lu]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};qe.prototype.lookupService=function(e){var r=this.lookup(e,[Qd]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};qe._configure=function(t,e,r){Mu=t,Qd=e,Lu=r;};});var Hv=T((Vut,BQ)=>{BQ.exports=Bs;var hM=Ha();((Bs.prototype=Object.create(hM.prototype)).constructor=Bs).className="MapField";var GMe=ku(),gg=ur();function Bs(t,e,r,i,n,a){if(hM.call(this,t,e,i,void 0,void 0,n,a),!gg.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=true;}Bs.fromJSON=function(e,r){return new Bs(e,r.id,r.keyType,r.type,r.options,r.comment)};Bs.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return gg.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};Bs.prototype.resolve=function(){if(this.resolved)return this;if(GMe.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return hM.prototype.resolve.call(this)};Bs.d=function(e,r,i){return typeof i=="function"?i=gg.decorateType(i).name:i&&typeof i=="object"&&(i=gg.decorateEnum(i).name),function(a,o){gg.decorateType(a.constructor).add(new Bs(o,e,r,i));}};});var Gv=T((But,FQ)=>{FQ.exports=Uu;var mM=Ga();((Uu.prototype=Object.create(mM.prototype)).constructor=Uu).className="Method";var tp=ur();function Uu(t,e,r,i,n,a,o,s,c){if(tp.isObject(n)?(o=n,n=a=void 0):tp.isObject(a)&&(o=a,a=void 0),!(e===void 0||tp.isString(e)))throw TypeError("type must be a string");if(!tp.isString(r))throw TypeError("requestType must be a string");if(!tp.isString(i))throw TypeError("responseType must be a string");mM.call(this,t,o),this.type=e||"rpc",this.requestType=r,this.requestStream=n?true:void 0,this.responseType=i,this.responseStream=a?true:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=s,this.parsedOptions=c;}Uu.fromJSON=function(e,r){return new Uu(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};Uu.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return tp.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};Uu.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),mM.prototype.resolve.call(this))};});var jv=T((Fut,GQ)=>{GQ.exports=kn;var Fs=ep();((kn.prototype=Object.create(Fs.prototype)).constructor=kn).className="Service";var gM=Gv(),_g=ur(),jMe=e0();function kn(t,e){Fs.call(this,t,e),this.methods={},this._methodsArray=null;}kn.fromJSON=function(e,r){var i=new kn(e,r.options);if(r.methods)for(var n=Object.keys(r.methods),a=0;a<n.length;++a)i.add(gM.fromJSON(n[a],r.methods[n[a]]));return r.nested&&i.addJSON(r.nested),r.edition&&(i._edition=r.edition),i.comment=r.comment,i._defaultEdition="proto3",i};kn.prototype.toJSON=function(e){var r=Fs.prototype.toJSON.call(this,e),i=e?!!e.keepComments:false;return _g.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"methods",Fs.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])};Object.defineProperty(kn.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=_g.toArray(this.methods))}});function HQ(t){return t._methodsArray=null,t}kn.prototype.get=function(e){return this.methods[e]||Fs.prototype.get.call(this,e)};kn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Fs.prototype.resolve.call(this);for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return this};kn.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Fs.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(r=>{r._resolveFeaturesRecursive(e);}),this):this};kn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof gM?(this.methods[e.name]=e,e.parent=this,HQ(this)):Fs.prototype.add.call(this,e)};kn.prototype.remove=function(e){if(e instanceof gM){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,HQ(this)}return Fs.prototype.remove.call(this,e)};kn.prototype.create=function(e,r,i){for(var n=new jMe.Service(e,r,i),a=0,o;a<this.methodsArray.length;++a){var s=_g.lcFirst((o=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");n[s]=_g.codegen(["r","c"],_g.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor});}return n};});var qv=T((Hut,jQ)=>{jQ.exports=xo;var qMe=vo();function xo(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]];}xo.create=function(e){return this.$type.create(e)};xo.encode=function(e,r){return this.$type.encode(e,r)};xo.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};xo.decode=function(e){return this.$type.decode(e)};xo.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};xo.verify=function(e){return this.$type.verify(e)};xo.fromObject=function(e){return this.$type.fromObject(e)};xo.toObject=function(e,r){return this.$type.toObject(e,r)};xo.prototype.toJSON=function(){return this.$type.toObject(this,qMe.toJSONOptions)};});var _M=T((Gut,WQ)=>{WQ.exports=YMe;var WMe=Bi(),Hs=ku(),qQ=ur();function KMe(t){return "missing required '"+t.name+"'"}function YMe(t){for(var e=qQ.codegen(["r","l","e"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(s){return s.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<t.fieldsArray.length;++r){var i=t._fieldsArray[r].resolve(),n=i.resolvedType instanceof WMe?"int32":i.type,a="m"+qQ.safeProp(i.name);e("case %i: {",i.id),i.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),Hs.defaults[i.keyType]!==void 0?e("k=%j",Hs.defaults[i.keyType]):e("k=null"),Hs.defaults[n]!==void 0?e("value=%j",Hs.defaults[n]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),Hs.basic[n]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",n),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Hs.long[i.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):i.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),Hs.packed[n]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,n)("}else"),Hs.basic[n]===void 0?e(i.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",a,r):e("%s.push(r.%s())",a,n)):Hs.basic[n]===void 0?e(i.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",a,r):e("%s=r.%s()",a,n),e("break")("}");}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var o=t._fieldsArray[r];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",KMe(o));}return e("return m")}});var EM=T((jut,KQ)=>{KQ.exports=JMe;var ZMe=Bi(),SM=ur();function ai(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function yM(t,e,r,i){if(e.resolvedType)if(e.resolvedType instanceof ZMe){t("switch(%s){",i)("default:")("return%j",ai(e,"enum value"));for(var n=Object.keys(e.resolvedType.values),a=0;a<n.length;++a)t("case %i:",e.resolvedType.values[n[a]]);t("break")("}");}else t("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":t("if(!util.isInteger(%s))",i)("return%j",ai(e,"integer"));break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",ai(e,"integer|Long"));break;case "float":case "double":t('if(typeof %s!=="number")',i)("return%j",ai(e,"number"));break;case "bool":t('if(typeof %s!=="boolean")',i)("return%j",ai(e,"boolean"));break;case "string":t("if(!util.isString(%s))",i)("return%j",ai(e,"string"));break;case "bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",ai(e,"buffer"));break}return t}function XMe(t,e,r){switch(e.keyType){case "int32":case "uint32":case "sint32":case "fixed32":case "sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",ai(e,"integer key"));break;case "int64":case "uint64":case "sint64":case "fixed64":case "sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",ai(e,"integer|Long key"));break;case "bool":t("if(!util.key2Re.test(%s))",r)("return%j",ai(e,"boolean key"));break}return t}function JMe(t){var e=SM.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,i={};r.length&&e("var p={}");for(var n=0;n<t.fieldsArray.length;++n){var a=t._fieldsArray[n].resolve(),o="m"+SM.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,a.name),a.map)e("if(!util.isObject(%s))",o)("return%j",ai(a,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),XMe(e,a,"k[i]"),yM(e,a,n,o+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",o)("return%j",ai(a,"array"))("for(var i=0;i<%s.length;++i){",o),yM(e,a,n,o+"[i]")("}");else {if(a.partOf){var s=SM.safeProp(a.partOf.name);i[a.partOf.name]===1&&e("if(p%s===1)",s)("return%j",a.partOf.name+": multiple values"),i[a.partOf.name]=1,e("p%s=1",s);}yM(e,a,n,o);}a.optional&&e("}");}return e("return null")}});var bM=T(ZQ=>{var YQ=ZQ,Sg=Bi(),Co=ur();function TM(t,e,r,i){var n=false;if(e.resolvedType)if(e.resolvedType instanceof Sg){t("switch(d%s){",i);for(var a=e.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]===e.typeDefault&&!n&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),e.repeated||t("break"),n=true),t("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",i,a[o[s]])("break");t("}");}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i);else {var c=false;switch(e.type){case "double":case "float":t("m%s=Number(d%s)",i,i);break;case "uint32":case "fixed32":t("m%s=d%s>>>0",i,i);break;case "int32":case "sint32":case "sfixed32":t("m%s=d%s|0",i,i);break;case "uint64":c=true;case "int64":case "sint64":case "fixed64":case "sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case "bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case "string":t("m%s=String(d%s)",i,i);break;case "bool":t("m%s=Boolean(d%s)",i,i);break}}return t}YQ.fromObject=function(e){var r=e.fieldsArray,i=Co.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return i("return new this.ctor");i("var m=new this.ctor");for(var n=0;n<r.length;++n){var a=r[n].resolve(),o=Co.safeProp(a.name);a.map?(i("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),TM(i,a,n,o+"[ks[i]]")("}")("}")):a.repeated?(i("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),TM(i,a,n,o+"[i]")("}")("}")):(a.resolvedType instanceof Sg||i("if(d%s!=null){",o),TM(i,a,n,o),a.resolvedType instanceof Sg||i("}"));}return i("return m")};function vM(t,e,r,i){if(e.resolvedType)e.resolvedType instanceof Sg?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,r,i,i,r,i,i):t("d%s=types[%i].toObject(m%s,o)",i,r,i);else {var n=false;switch(e.type){case "double":case "float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case "uint64":n=true;case "int64":case "sint64":case "fixed64":case "sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,n?"true":"",i);break;case "bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i);break}}return t}YQ.toObject=function(e){var r=e.fieldsArray.slice().sort(Co.compareFieldsById);if(!r.length)return Co.codegen()("return {}");for(var i=Co.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],o=[],s=0;s<r.length;++s)r[s].partOf||(r[s].resolve().repeated?n:r[s].map?a:o).push(r[s]);if(n.length){for(i("if(o.arrays||o.defaults){"),s=0;s<n.length;++s)i("d%s=[]",Co.safeProp(n[s].name));i("}");}if(a.length){for(i("if(o.objects||o.defaults){"),s=0;s<a.length;++s)i("d%s={}",Co.safeProp(a[s].name));i("}");}if(o.length){for(i("if(o.defaults){"),s=0;s<o.length;++s){var c=o[s],u=Co.safeProp(c.name);if(c.resolvedType instanceof Sg)i("d%s=o.enums===String?%j:%j",u,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var l="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";i("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",u,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}");}else i("d%s=%j",u,c.typeDefault);}i("}");}var d=false;for(s=0;s<r.length;++s){var c=r[s],p=e._fieldsArray.indexOf(c),u=Co.safeProp(c.name);c.map?(d||(d=true,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),vM(i,c,p,u+"[ks2[j]]")("}")):c.repeated?(i("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),vM(i,c,p,u+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",u,c.name),vM(i,c,p,u),c.partOf&&i("if(o.oneofs)")("d%s=%j",Co.safeProp(c.partOf.name),c.name)),i("}");}return i("return d")};});var RM=T(XQ=>{var QMe=XQ,eLe=qv();QMe[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var i=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return i.indexOf("/")===-1&&(i="/"+i),this.create({type_url:i,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",i="",n="";if(e&&e.json&&t.type_url&&t.value){n=t.type_url.substring(t.type_url.lastIndexOf("/")+1),i=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var a=this.lookup(n);a&&(t=a.decode(t.value));}if(!(t instanceof this.ctor)&&t instanceof eLe){var o=t.$type.toObject(t,e),s=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return i===""&&(i=r),n=i+s,o["@type"]=n,o}return this.toObject(t,e)}};});var Yv=T((Kut,QQ)=>{QQ.exports=dt;var ci=ep();((dt.prototype=Object.create(ci.prototype)).constructor=dt).className="Type";var tLe=Bi(),xM=Du(),Wv=Ha(),rLe=Hv(),nLe=jv(),AM=qv(),OM=ev(),iLe=JT(),Lr=ur(),oLe=CM(),sLe=_M(),aLe=EM(),JQ=bM(),cLe=RM();function dt(t,e){ci.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null;}Object.defineProperties(dt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r;}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Lr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Lr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=dt.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof AM||((t.prototype=new AM).constructor=t,Lr.merge(t.prototype,e)),t.$type=t.prototype.$type=this,Lr.merge(t,AM,true),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:Lr.oneOfGetter(this._oneofsArray[r].oneof),set:Lr.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,i);}}});dt.generateConstructor=function(e){for(var r=Lr.codegen(["p"],e.name),i=0,n;i<e.fieldsArray.length;++i)(n=e._fieldsArray[i]).map?r("this%s={}",Lr.safeProp(n.name)):n.repeated&&r("this%s=[]",Lr.safeProp(n.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Kv(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}dt.fromJSON=function(e,r){var i=new dt(e,r.options);i.extensions=r.extensions,i.reserved=r.reserved;for(var n=Object.keys(r.fields),a=0;a<n.length;++a)i.add((typeof r.fields[n[a]].keyType<"u"?rLe.fromJSON:Wv.fromJSON)(n[a],r.fields[n[a]]));if(r.oneofs)for(n=Object.keys(r.oneofs),a=0;a<n.length;++a)i.add(xM.fromJSON(n[a],r.oneofs[n[a]]));if(r.nested)for(n=Object.keys(r.nested),a=0;a<n.length;++a){var o=r.nested[n[a]];i.add((o.id!==void 0?Wv.fromJSON:o.fields!==void 0?dt.fromJSON:o.values!==void 0?tLe.fromJSON:o.methods!==void 0?nLe.fromJSON:ci.fromJSON)(n[a],o));}return r.extensions&&r.extensions.length&&(i.extensions=r.extensions),r.reserved&&r.reserved.length&&(i.reserved=r.reserved),r.group&&(i.group=true),r.comment&&(i.comment=r.comment),r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};dt.prototype.toJSON=function(e){var r=ci.prototype.toJSON.call(this,e),i=e?!!e.keepComments:false;return Lr.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"oneofs",ci.arrayToJSON(this.oneofsArray,e),"fields",ci.arrayToJSON(this.fieldsArray.filter(function(n){return !n.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",i?this.comment:void 0])};dt.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;ci.prototype.resolveAll.call(this);var e=this.oneofsArray;for(i=0;i<e.length;)e[i++].resolve();for(var r=this.fieldsArray,i=0;i<r.length;)r[i++].resolve();return this};dt.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,ci.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(r=>{r._resolveFeatures(e);}),this.fieldsArray.forEach(r=>{r._resolveFeatures(e);}),this):this};dt.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};dt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof Wv&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),Kv(this)}return e instanceof xM?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),Kv(this)):ci.prototype.add.call(this,e)};dt.prototype.remove=function(e){if(e instanceof Wv&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),Kv(this)}if(e instanceof xM){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),Kv(this)}return ci.prototype.remove.call(this,e)};dt.prototype.isReservedId=function(e){return ci.isReservedId(this.reserved,e)};dt.prototype.isReservedName=function(e){return ci.isReservedName(this.reserved,e)};dt.prototype.create=function(e){return new this.ctor(e)};dt.prototype.setup=function(){for(var e=this.fullName,r=[],i=0;i<this.fieldsArray.length;++i)r.push(this._fieldsArray[i].resolve().resolvedType);this.encode=oLe(this)({Writer:iLe,types:r,util:Lr}),this.decode=sLe(this)({Reader:OM,types:r,util:Lr}),this.verify=aLe(this)({types:r,util:Lr}),this.fromObject=JQ.fromObject(this)({types:r,util:Lr}),this.toObject=JQ.toObject(this)({types:r,util:Lr});var n=cLe[e];if(n){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(a),a.toObject=this.toObject,this.toObject=n.toObject.bind(a);}return this};dt.prototype.encode=function(e,r){return this.setup().encode(e,r)};dt.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};dt.prototype.decode=function(e,r){return this.setup().decode(e,r)};dt.prototype.decodeDelimited=function(e){return e instanceof OM||(e=OM.create(e)),this.decode(e,e.uint32())};dt.prototype.verify=function(e){return this.setup().verify(e)};dt.prototype.fromObject=function(e){return this.setup().fromObject(e)};dt.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};dt.d=function(e){return function(i){Lr.decorateType(i,e);}};});var Qv=T((Yut,ree)=>{ree.exports=Un;var Jv=ep();((Un.prototype=Object.create(Jv.prototype)).constructor=Un).className="Root";var Zv=Ha(),NM=Bi(),uLe=Du(),ja=ur(),PM,IM,yg;function Un(t){Jv.call(this,"",t),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={};}Un.fromJSON=function(e,r){return r||(r=new Un),e.options&&r.setOptions(e.options),r.addJSON(e.nested).resolveAll()};Un.prototype.resolvePath=ja.path.resolve;Un.prototype.fetch=ja.fetch;function tee(){}Un.prototype.load=function t(e,r,i){typeof r=="function"&&(i=r,r=void 0);var n=this;if(!i)return ja.asPromise(t,n,e,r);var a=i===tee;function o(f,_){if(i){if(a)throw f;_&&_.resolveAll();var y=i;i=null,y(f,_);}}function s(f){var _=f.lastIndexOf("google/protobuf/");if(_>-1){var y=f.substring(_);if(y in yg)return y}return null}function c(f,_){try{if(ja.isString(_)&&_.charAt(0)==="{"&&(_=JSON.parse(_)),!ja.isString(_))n.setOptions(_.options).addJSON(_.nested);else {IM.filename=f;var y=IM(_,n,r),v,O=0;if(y.imports)for(;O<y.imports.length;++O)(v=s(y.imports[O])||n.resolvePath(f,y.imports[O]))&&u(v);if(y.weakImports)for(O=0;O<y.weakImports.length;++O)(v=s(y.weakImports[O])||n.resolvePath(f,y.weakImports[O]))&&u(v,!0);}}catch(x){o(x);}!a&&!l&&o(null,n);}function u(f,_){if(f=s(f)||f,!(n.files.indexOf(f)>-1)){if(n.files.push(f),f in yg){a?c(f,yg[f]):(++l,setTimeout(function(){--l,c(f,yg[f]);}));return}if(a){var y;try{y=ja.fs.readFileSync(f).toString("utf8");}catch(v){_||o(v);return}c(f,y);}else ++l,n.fetch(f,function(v,O){if(--l,!!i){if(v){_?l||o(null,n):o(v);return}c(f,O);}});}}var l=0;ja.isString(e)&&(e=[e]);for(var d=0,p;d<e.length;++d)(p=n.resolvePath("",e[d]))&&u(p);return a?(n.resolveAll(),n):(l||o(null,n),n)};Un.prototype.loadSync=function(e,r){if(!ja.isNode)throw Error("not supported");return this.load(e,r,tee)};Un.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return "'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Jv.prototype.resolveAll.call(this)};var Xv=/^[A-Z]/;function eee(t,e){var r=e.parent.lookup(e.extend);if(r){var i=new Zv(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(i.name)||(i.declaringField=e,e.extensionField=i,r.add(i)),true}return  false}Un.prototype._handleAdd=function(e){if(e instanceof Zv)e.extend!==void 0&&!e.extensionField&&(eee(this,e)||this.deferred.push(e));else if(e instanceof NM)Xv.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof uLe)){if(e instanceof PM)for(var r=0;r<this.deferred.length;)eee(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var i=0;i<e.nestedArray.length;++i)this._handleAdd(e._nestedArray[i]);Xv.test(e.name)&&(e.parent[e.name]=e);}(e instanceof PM||e instanceof NM||e instanceof Zv)&&(this._fullyQualifiedObjects[e.fullName]=e);};Un.prototype._handleRemove=function(e){if(e instanceof Zv){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else {var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1);}}else if(e instanceof NM)Xv.test(e.name)&&delete e.parent[e.name];else if(e instanceof Jv){for(var i=0;i<e.nestedArray.length;++i)this._handleRemove(e._nestedArray[i]);Xv.test(e.name)&&delete e.parent[e.name];}delete this._fullyQualifiedObjects[e.fullName];};Un._configure=function(t,e,r){PM=t,IM=e,yg=r;};});var ur=T((Zut,iee)=>{var Vt=iee.exports=vo(),nee=t0(),wM,MM;Vt.codegen=wQ();Vt.fetch=LQ();Vt.path=UQ();Vt.fs=Vt.inquire("fs");Vt.toArray=function(e){if(e){for(var r=Object.keys(e),i=new Array(r.length),n=0;n<r.length;)i[n]=e[r[n++]];return i}return []};Vt.toObject=function(e){for(var r={},i=0;i<e.length;){var n=e[i++],a=e[i++];a!==void 0&&(r[n]=a);}return r};var lLe=/\\/g,dLe=/"/g;Vt.isReserved=function(e){return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Vt.safeProp=function(e){return !/^[$\w_]+$/.test(e)||Vt.isReserved(e)?'["'+e.replace(lLe,"\\\\").replace(dLe,'\\"')+'"]':"."+e};Vt.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var pLe=/_([a-z])/g;Vt.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(pLe,function(r,i){return i.toUpperCase()})};Vt.compareFieldsById=function(e,r){return e.id-r.id};Vt.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(Vt.decorateRoot.remove(e.$type),e.$type.name=r,Vt.decorateRoot.add(e.$type)),e.$type;wM||(wM=Yv());var i=new wM(r||e.name);return Vt.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:false}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:false}),i};var fLe=0;Vt.decorateEnum=function(e){if(e.$type)return e.$type;MM||(MM=Bi());var r=new MM("Enum"+fLe++,e);return Vt.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:false}),r};Vt.setProperty=function(e,r,i,n){function a(o,s,c){var u=s.shift();if(u==="__proto__"||u==="prototype")return o;if(s.length>0)o[u]=a(o[u]||{},s,c);else {var l=o[u];if(l&&n)return o;l&&(c=[].concat(l).concat(c)),o[u]=c;}return o}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),a(e,r,i)};Object.defineProperty(Vt,"decorateRoot",{get:function(){return nee.decorated||(nee.decorated=new(Qv()))}});});var ku=T(oee=>{var Eg=oee,hLe=ur(),mLe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Tg(t,e){var r=0,i={};for(e|=0;r<t.length;)i[mLe[r+e]]=t[r++];return i}Eg.basic=Tg([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Eg.defaults=Tg([0,0,0,0,0,0,0,0,0,0,0,0,false,"",hLe.emptyArray,null]);Eg.long=Tg([0,0,0,1,1],7);Eg.mapKey=Tg([0,0,0,5,5,0,0,0,1,1,0,2],2);Eg.packed=Tg([1,5,0,0,0,5,5,0,0,0,1,1,0]);});var Ha=T((Jut,aee)=>{aee.exports=lr;var bg=Ga();((lr.prototype=Object.create(bg.prototype)).constructor=lr).className="Field";var see=Bi(),LM=ku(),Kt=ur(),vg,gLe=/^required|optional|repeated$/;lr.fromJSON=function(e,r){var i=new lr(e,r.id,r.type,r.rule,r.extend,r.options,r.comment);return r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};function lr(t,e,r,i,n,a,o){if(Kt.isObject(i)?(o=n,a=i,i=n=void 0):Kt.isObject(n)&&(o=a,a=n,n=void 0),bg.call(this,t,a),!Kt.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Kt.isString(r))throw TypeError("type must be a string");if(i!==void 0&&!gLe.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(n!==void 0&&!Kt.isString(n))throw TypeError("extend must be a string");i==="proto3_optional"&&(i="optional"),this.rule=i&&i!=="optional"?i:void 0,this.type=r,this.id=e,this.extend=n||void 0,this.repeated=i==="repeated",this.map=false,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Kt.Long?LM.long[r]!==void 0:false,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=o;}Object.defineProperty(lr.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(lr.prototype,"optional",{get:function(){return !this.required}});Object.defineProperty(lr.prototype,"delimited",{get:function(){return this.resolvedType instanceof vg&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(lr.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(lr.prototype,"hasPresence",{get:function(){return this.repeated||this.map?false:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});lr.prototype.setOption=function(e,r,i){return bg.prototype.setOption.call(this,e,r,i)};lr.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return Kt.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};lr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=LM.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof vg?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof see&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof see)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Kt.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Kt.base64.test(this.typeDefault)?Kt.base64.decode(this.typeDefault,e=Kt.newBuffer(Kt.base64.length(this.typeDefault)),0):Kt.utf8.write(this.typeDefault,e=Kt.newBuffer(Kt.utf8.length(this.typeDefault)),0),this.typeDefault=e;}return this.map?this.defaultValue=Kt.emptyObject:this.repeated?this.defaultValue=Kt.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof vg&&(this.parent.ctor.prototype[this.name]=this.defaultValue),bg.prototype.resolve.call(this)};lr.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return {};var r={};if(this.rule==="required"&&(r.field_presence="LEGACY_REQUIRED"),this.parent&&LM.defaults[this.type]===void 0){var i=this.parent.get(this.type.split(".").pop());i&&i instanceof vg&&i.group&&(r.message_encoding="DELIMITED");}return this.getOption("packed")===true?r.repeated_field_encoding="PACKED":this.getOption("packed")===false&&(r.repeated_field_encoding="EXPANDED"),r};lr.prototype._resolveFeatures=function(e){return bg.prototype._resolveFeatures.call(this,this._edition||e)};lr.d=function(e,r,i,n){return typeof r=="function"?r=Kt.decorateType(r).name:r&&typeof r=="object"&&(r=Kt.decorateEnum(r).name),function(o,s){Kt.decorateType(o.constructor).add(new lr(s,e,r,i,{default:n}));}};lr._configure=function(e){vg=e;};});var Du=T((Qut,lee)=>{lee.exports=$n;var tb=Ga();(($n.prototype=Object.create(tb.prototype)).constructor=$n).className="OneOf";var cee=Ha(),eb=ur();function $n(t,e,r,i){if(Array.isArray(e)||(r=e,e=void 0),tb.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=i;}$n.fromJSON=function(e,r){return new $n(e,r.oneof,r.options,r.comment)};$n.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return eb.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function uee(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e]);}$n.prototype.add=function(e){if(!(e instanceof cee))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,uee(this),this};$n.prototype.remove=function(e){if(!(e instanceof cee))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};$n.prototype.onAdd=function(e){tb.prototype.onAdd.call(this,e);for(var r=this,i=0;i<this.oneof.length;++i){var n=e.get(this.oneof[i]);n&&!n.partOf&&(n.partOf=r,r.fieldsArray.push(n));}uee(this);};$n.prototype.onRemove=function(e){for(var r=0,i;r<this.fieldsArray.length;++r)(i=this.fieldsArray[r]).parent&&i.parent.remove(i);tb.prototype.onRemove.call(this,e);};Object.defineProperty($n.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return  false;var t=this.fieldsArray[0];return t.options!=null&&t.options.proto3_optional===true}});$n.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(n,a){eb.decorateType(n.constructor).add(new $n(a,e)),Object.defineProperty(n,a,{get:eb.oneOfGetter(e),set:eb.oneOfSetter(e)});}};});var Ga=T((elt,dee)=>{dee.exports=Sr;Sr.className="ReflectionObject";var _Le=Du(),Rg=ur(),rb,SLe={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},yLe={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},ELe={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function Sr(t,e){if(!Rg.isString(t))throw TypeError("name must be a string");if(e&&!Rg.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=false,this.parent=null,this.resolved=false,this.comment=null,this.filename=null;}Object.defineProperties(Sr.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});Sr.prototype.toJSON=function(){throw Error()};Sr.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=false;var r=e.root;r instanceof rb&&r._handleAdd(this);};Sr.prototype.onRemove=function(e){var r=e.root;r instanceof rb&&r._handleRemove(this),this.parent=null,this.resolved=false;};Sr.prototype.resolve=function(){return this.resolved?this:(this.root instanceof rb&&(this.resolved=true),this)};Sr.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};Sr.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var r={};if(!e)throw new Error("Unknown edition for "+this.fullName);var i=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")r=Object.assign({},yLe);else if(e==="proto3")r=Object.assign({},ELe);else if(e==="2023")r=Object.assign({},SLe);else throw new Error("Unknown edition: "+e);this._features=Object.assign(r,i||{}),this._featuresResolved=true;return}if(this.partOf instanceof _Le){var n=Object.assign({},this.partOf._features);this._features=Object.assign(n,i||{});}else if(!this.declaringField)if(this.parent){var a=Object.assign({},this.parent._features);this._features=Object.assign(a,i||{});}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=true;}};Sr.prototype._inferLegacyProtoFeatures=function(){return {}};Sr.prototype.getOption=function(e){if(this.options)return this.options[e]};Sr.prototype.setOption=function(e,r,i){return this.options||(this.options={}),/^features\./.test(e)?Rg.setProperty(this.options,e,r,i):(!i||this.options[e]===void 0)&&(this.getOption(e)!==r&&(this.resolved=false),this.options[e]=r),this};Sr.prototype.setParsedOption=function(e,r,i){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(i){var a=n.find(function(c){return Object.prototype.hasOwnProperty.call(c,e)});if(a){var o=a[e];Rg.setProperty(o,i,r);}else a={},a[e]=Rg.setProperty({},i,r),n.push(a);}else {var s={};s[e]=r,n.push(s);}return this};Sr.prototype.setOptions=function(e,r){if(e)for(var i=Object.keys(e),n=0;n<i.length;++n)this.setOption(i[n],e[i[n]],r);return this};Sr.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};Sr.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};Sr._configure=function(t){rb=t;};});var Bi=T((tlt,fee)=>{fee.exports=Fi;var DM=Ga();((Fi.prototype=Object.create(DM.prototype)).constructor=Fi).className="Enum";var pee=ep(),nb=ur();function Fi(t,e,r,i,n,a){if(DM.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=n||{},this.valuesOptions=a,this._valuesFeatures={},this.reserved=void 0,e)for(var o=Object.keys(e),s=0;s<o.length;++s)typeof e[o[s]]=="number"&&(this.valuesById[this.values[o[s]]=e[o[s]]]=o[s]);}Fi.prototype._resolveFeatures=function(e){return e=this._edition||e,DM.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(r=>{var i=Object.assign({},this._features);this._valuesFeatures[r]=Object.assign(i,this.valuesOptions&&this.valuesOptions[r]&&this.valuesOptions[r].features);}),this};Fi.fromJSON=function(e,r){var i=new Fi(e,r.values,r.options,r.comment,r.comments);return i.reserved=r.reserved,r.edition&&(i._edition=r.edition),i._defaultEdition="proto3",i};Fi.prototype.toJSON=function(e){var r=e?!!e.keepComments:false;return nb.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};Fi.prototype.add=function(e,r,i,n){if(!nb.isString(e))throw TypeError("name must be a string");if(!nb.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r;}else this.valuesById[this.values[e]=r]=e;return n&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=i||null,this};Fi.prototype.remove=function(e){if(!nb.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Fi.prototype.isReservedId=function(e){return pee.isReservedId(this.reserved,e)};Fi.prototype.isReservedName=function(e){return pee.isReservedName(this.reserved,e)};});var CM=T((rlt,mee)=>{mee.exports=vLe;var TLe=Bi(),kM=ku(),UM=ur();function hee(t,e,r,i){return e.delimited?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(e.id<<3|2)>>>0)}function vLe(t){for(var e=UM.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,i,n=t.fieldsArray.slice().sort(UM.compareFieldsById),r=0;r<n.length;++r){var a=n[r].resolve(),o=t._fieldsArray.indexOf(a),s=a.resolvedType instanceof TLe?"int32":a.type,c=kM.basic[s];i="m"+UM.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",i,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",i)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|kM.mapKey[a.keyType],a.keyType),c===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,i):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,s,i),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",i,i),a.packed&&kM.packed[s]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",i)("w.%s(%s[i])",s,i)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",i),c===void 0?hee(e,a,o,i+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|c)>>>0,s,i)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",i,a.name),c===void 0?hee(e,a,o,i):e("w.uint32(%i).%s(%s)",(a.id<<3|c)>>>0,s,i));}return e("return w")}});var _ee=T((nlt,gee)=>{var We=gee.exports=r0();We.build="light";function bLe(t,e,r){return typeof e=="function"?(r=e,e=new We.Root):e||(e=new We.Root),e.load(t,r)}We.load=bLe;function RLe(t,e){return e||(e=new We.Root),e.loadSync(t)}We.loadSync=RLe;We.encoder=CM();We.decoder=_M();We.verifier=EM();We.converter=bM();We.ReflectionObject=Ga();We.Namespace=ep();We.Root=Qv();We.Enum=Bi();We.Type=Yv();We.Field=Ha();We.OneOf=Du();We.MapField=Hv();We.Service=jv();We.Method=Gv();We.Message=qv();We.wrappers=RM();We.types=ku();We.util=ur();We.ReflectionObject._configure(We.Root);We.Namespace._configure(We.Type,We.Service,We.Enum);We.Root._configure(We.Type);We.Field._configure(We.Type);});var zM=T((ilt,Eee)=>{Eee.exports=yee;var $M=/[\s{}=;:[\],'"()<>]/g,ALe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,OLe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,xLe=/^ *[*/]+ */,CLe=/^\s*\*?\/*/,NLe=/\n/g,PLe=/\s/,ILe=/\\(.?)/g,wLe={0:"\0",r:"\r",n:`
`,t:"	"};function See(t){return t.replace(ILe,function(e,r){switch(r){case "\\":case "":return r;default:return wLe[r]||""}})}yee.unescape=See;function yee(t,e){t=t.toString();var r=0,i=t.length,n=1,a=0,o={},s=[],c=null;function u(R){return Error("illegal "+R+" (line "+n+")")}function l(){var R=c==="'"?OLe:ALe;R.lastIndex=r-1;var F=R.exec(t);if(!F)throw u("string");return r=R.lastIndex,v(c),c=null,See(F[1])}function d(R){return t.charAt(R)}function p(R,F,$){var G={type:t.charAt(R++),lineEmpty:false,leading:$},ee;e?ee=2:ee=3;var re=R-ee,pe;do if(--re<0||(pe=t.charAt(re))===`
`){G.lineEmpty=true;break}while(pe===" "||pe==="	");for(var C=t.substring(R,F).split(NLe),me=0;me<C.length;++me)C[me]=C[me].replace(e?CLe:xLe,"").trim();G.text=C.join(`
`).trim(),o[n]=G,a=n;}function f(R){var F=_(R),$=t.substring(R,F),G=/^\s*\/\//.test($);return G}function _(R){for(var F=R;F<i&&d(F)!==`
`;)F++;return F}function y(){if(s.length>0)return s.shift();if(c)return l();var R,F,$,G,ee,re=r===0;do{if(r===i)return null;for(R=false;PLe.test($=d(r));)if($===`
`&&(re=true,++n),++r===i)return null;if(d(r)==="/"){if(++r===i)throw u("comment");if(d(r)==="/")if(e){if(G=r,ee=false,f(r-1)){ee=true;do if(r=_(r),r===i||(r++,!re))break;while(f(r))}else r=Math.min(i,_(r)+1);ee&&(p(G,r,re),re=true),n++,R=true;}else {for(ee=d(G=r+1)==="/";d(++r)!==`
`;)if(r===i)return null;++r,ee&&(p(G,r-1,re),re=true),++n,R=true;}else if(($=d(r))==="*"){G=r+1,ee=e||d(G)==="*";do{if($===`
`&&++n,++r===i)throw u("comment");F=$,$=d(r);}while(F!=="*"||$!=="/");++r,ee&&(p(G,r-2,re),re=true),R=true;}else return "/"}}while(R);var pe=r;$M.lastIndex=0;var C=$M.test(d(pe++));if(!C)for(;pe<i&&!$M.test(d(pe));)++pe;var me=t.substring(r,r=pe);return (me==='"'||me==="'")&&(c=me),me}function v(R){s.push(R);}function O(){if(!s.length){var R=y();if(R===null)return null;v(R);}return s[0]}function x(R,F){var $=O(),G=$===R;if(G)return y(),true;if(!F)throw u("token '"+$+"', '"+R+"' expected");return  false}function I(R){var F=null,$;return R===void 0?($=o[n-1],delete o[n-1],$&&(e||$.type==="*"||$.lineEmpty)&&(F=$.leading?$.text:null)):(a<R&&O(),$=o[R],delete o[R],$&&!$.lineEmpty&&(e||$.type==="/")&&(F=$.leading?null:$.text)),F}return Object.defineProperty({next:y,peek:O,push:v,skip:x,cmnt:I},"line",{get:function(){return n}})}});var Oee=T((olt,Aee)=>{Aee.exports=Gs;Gs.filename=null;Gs.defaults={keepCase:false};var MLe=zM(),Tee=Qv(),vee=Yv(),bee=Ha(),LLe=Hv(),Ree=Du(),DLe=Bi(),kLe=jv(),ULe=Gv(),$Le=Ga(),zLe=ku(),VM=ur(),VLe=/^[1-9][0-9]*$/,BLe=/^-?[1-9][0-9]*$/,FLe=/^0[x][0-9a-fA-F]+$/,HLe=/^-?0[x][0-9a-fA-F]+$/,GLe=/^0[0-7]+$/,jLe=/^-?0[0-7]+$/,qLe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,No=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Po=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Gs(t,e,r){e instanceof Tee||(r=e,e=new Tee),r||(r=Gs.defaults);var i=r.preferTrailingComment||false,n=MLe(t,r.alternateCommentMode||false),a=n.next,o=n.push,s=n.peek,c=n.skip,u=n.cmnt,l=true,d,p,f,_="proto2",y=e,v=[],O={},x=r.keepCase?function(k){return k}:VM.camelCase;function I(){v.forEach(k=>{k._edition=_,Object.keys(O).forEach(D=>{k.getOption(D)===void 0&&k.setOption(D,O[D],true);});});}function R(k,D,z){var ne=Gs.filename;return z||(Gs.filename=null),Error("illegal "+(D||"token")+" '"+k+"' ("+(ne?ne+", ":"")+"line "+n.line+")")}function F(){var k=[],D;do{if((D=a())!=='"'&&D!=="'")throw R(D);k.push(a()),c(D),D=s();}while(D==='"'||D==="'");return k.join("")}function $(k){var D=a();switch(D){case "'":case '"':return o(D),F();case "true":case "TRUE":return  true;case "false":case "FALSE":return  false}try{return ee(D,!0)}catch{if(Po.test(D))return D;throw R(D,"value")}}function G(k,D){var z,ne;do if(D&&((z=s())==='"'||z==="'")){var te=F();if(k.push(te),_>=2023)throw R(te,"id")}else try{k.push([ne=re(a()),c("to",!0)?re(a()):ne]);}catch(Et){if(D&&Po.test(z)&&_>=2023)k.push(z);else throw Et}while(c(",",true));var xe={options:void 0};xe.setOption=function(Et,Or){this.options===void 0&&(this.options={}),this.options[Et]=Or;},M(xe,function(Or){if(Or==="option")ye(xe,Or),c(";");else throw R(Or)},function(){Xt(xe);});}function ee(k,D){var z=1;switch(k.charAt(0)==="-"&&(z=-1,k=k.substring(1)),k){case "inf":case "INF":case "Inf":return z*(1/0);case "nan":case "NAN":case "Nan":case "NaN":return NaN;case "0":return 0}if(VLe.test(k))return z*parseInt(k,10);if(FLe.test(k))return z*parseInt(k,16);if(GLe.test(k))return z*parseInt(k,8);if(qLe.test(k))return z*parseFloat(k);throw R(k,"number",D)}function re(k,D){switch(k){case "max":case "MAX":case "Max":return 536870911;case "0":return 0}if(!D&&k.charAt(0)==="-")throw R(k,"id");if(BLe.test(k))return parseInt(k,10);if(HLe.test(k))return parseInt(k,16);if(jLe.test(k))return parseInt(k,8);throw R(k,"id")}function pe(){if(d!==void 0)throw R("package");if(d=a(),!Po.test(d))throw R(d,"name");y=y.define(d),c(";");}function C(){var k=s(),D;switch(k){case "weak":D=f||(f=[]),a();break;case "public":a();default:D=p||(p=[]);break}k=F(),c(";"),D.push(k);}function me(){if(c("="),_=F(),_<2023)throw R(_,"syntax");c(";");}function w(){if(c("="),_=F(),!["2023"].includes(_))throw R(_,"edition");c(";");}function S(k,D){switch(D){case "option":return ye(k,D),c(";"),true;case "message":return Se(k,D),true;case "enum":return vt(k,D),true;case "service":return Gl(k,D),true;case "extend":return Kc(k,D),true}return  false}function M(k,D,z){var ne=n.line;if(k&&(typeof k.comment!="string"&&(k.comment=u()),k.filename=Gs.filename),c("{",true)){for(var te;(te=a())!=="}";)D(te);c(";",true);}else z&&z(),c(";"),k&&(typeof k.comment!="string"||i)&&(k.comment=u(ne)||k.comment);}function Se(k,D){if(!No.test(D=a()))throw R(D,"type name");var z=new vee(D);M(z,function(te){if(!S(z,te))switch(te){case "map":Fe(z);break;case "required":if(_!=="proto2")throw R(te);case "repeated":se(z,te);break;case "optional":if(_==="proto3")se(z,"proto3_optional");else {if(_!=="proto2")throw R(te);se(z,"optional");}break;case "oneof":ht(z,te);break;case "extensions":G(z.extensions||(z.extensions=[]));break;case "reserved":G(z.reserved||(z.reserved=[]),true);break;default:if(_==="proto2"||!Po.test(te))throw R(te);o(te),se(z,"optional");break}}),k.add(z),k===y&&v.push(z);}function se(k,D,z){var ne=a();if(ne==="group"){_e(k,D);return}for(;ne.endsWith(".")||s().startsWith(".");)ne+=a();if(!Po.test(ne))throw R(ne,"type");var te=a();if(!No.test(te))throw R(te,"name");te=x(te),c("=");var xe=new bee(te,re(a()),ne,D,z);if(M(xe,function(Ur){if(Ur==="option")ye(xe,Ur),c(";");else throw R(Ur)},function(){Xt(xe);}),D==="proto3_optional"){var Et=new Ree("_"+te);xe.setOption("proto3_optional",true),Et.add(xe),k.add(Et);}else k.add(xe);k===y&&v.push(xe);}function _e(k,D){if(_>=2023)throw R("group");var z=a();if(!No.test(z))throw R(z,"name");var ne=VM.lcFirst(z);z===ne&&(z=VM.ucFirst(z)),c("=");var te=re(a()),xe=new vee(z);xe.group=true;var Et=new bee(ne,te,z,D);Et.filename=Gs.filename,M(xe,function(Ur){switch(Ur){case "option":ye(xe,Ur),c(";");break;case "required":case "repeated":se(xe,Ur);break;case "optional":_==="proto3"?se(xe,"proto3_optional"):se(xe,"optional");break;case "message":Se(xe,Ur);break;case "enum":vt(xe,Ur);break;case "reserved":G(xe.reserved||(xe.reserved=[]),true);break;default:throw R(Ur)}}),k.add(xe).add(Et);}function Fe(k){c("<");var D=a();if(zLe.mapKey[D]===void 0)throw R(D,"type");c(",");var z=a();if(!Po.test(z))throw R(z,"type");c(">");var ne=a();if(!No.test(ne))throw R(ne,"name");c("=");var te=new LLe(x(ne),re(a()),D,z);M(te,function(Et){if(Et==="option")ye(te,Et),c(";");else throw R(Et)},function(){Xt(te);}),k.add(te);}function ht(k,D){if(!No.test(D=a()))throw R(D,"name");var z=new Ree(x(D));M(z,function(te){te==="option"?(ye(z,te),c(";")):(o(te),se(z,"optional"));}),k.add(z);}function vt(k,D){if(!No.test(D=a()))throw R(D,"name");var z=new DLe(D);M(z,function(te){switch(te){case "option":ye(z,te),c(";");break;case "reserved":G(z.reserved||(z.reserved=[]),true),z.reserved===void 0&&(z.reserved=[]);break;default:rt(z,te);}}),k.add(z),k===y&&v.push(z);}function rt(k,D){if(!No.test(D))throw R(D,"name");c("=");var z=re(a(),true),ne={options:void 0};ne.getOption=function(te){return this.options[te]},ne.setOption=function(te,xe){$Le.prototype.setOption.call(ne,te,xe);},ne.setParsedOption=function(){},M(ne,function(xe){if(xe==="option")ye(ne,xe),c(";");else throw R(xe)},function(){Xt(ne);}),k.add(D,z,ne.comment,ne.parsedOptions||ne.options);}function ye(k,D){var z,ne,te=true;for(D==="option"&&(D=a());D!=="=";){if(D==="("){var xe=a();c(")"),D="("+xe+")";}if(te){if(te=false,D.includes(".")&&!D.includes("(")){var Et=D.split(".");z=Et[0]+".",D=Et[1];continue}z=D;}else ne=ne?ne+=D:D;D=a();}var Or=ne?z.concat(ne):z,Ur=Gt(k,Or);ne=ne&&ne[0]==="."?ne.slice(1):ne,z=z&&z[z.length-1]==="."?z.slice(0,-1):z,Ct(k,z,Ur,ne);}function Gt(k,D){if(c("{",true)){for(var z={};!c("}",true);){if(!No.test(jt=a()))throw R(jt,"name");if(jt===null)throw R(jt,"end of input");var ne,te=jt;if(c(":",true),s()==="{")ne=Gt(k,D+"."+jt);else if(s()==="["){ne=[];var xe;if(c("[",true)){do xe=$(),ne.push(xe);while(c(",",true));c("]"),typeof xe<"u"&&Je(k,D+"."+jt,xe);}}else ne=$(),Je(k,D+"."+jt,ne);var Et=z[te];Et&&(ne=[].concat(Et).concat(ne)),z[te]=ne,c(",",true),c(";",true);}return z}var Or=$();return Je(k,D,Or),Or}function Je(k,D,z){if(y===k&&/^features\./.test(D)){O[D]=z;return}k.setOption&&k.setOption(D,z);}function Ct(k,D,z,ne){k.setParsedOption&&k.setParsedOption(D,z,ne);}function Xt(k){if(c("[",true)){do ye(k,"option");while(c(",",true));c("]");}return k}function Gl(k,D){if(!No.test(D=a()))throw R(D,"service name");var z=new kLe(D);M(z,function(te){if(!S(z,te))if(te==="rpc")jl(z,te);else throw R(te)}),k.add(z),k===y&&v.push(z);}function jl(k,D){var z=u(),ne=D;if(!No.test(D=a()))throw R(D,"name");var te=D,xe,Et,Or,Ur;if(c("("),c("stream",true)&&(Et=true),!Po.test(D=a())||(xe=D,c(")"),c("returns"),c("("),c("stream",true)&&(Ur=true),!Po.test(D=a())))throw R(D);Or=D,c(")");var Sy=new ULe(te,ne,xe,Or,Et,Ur);Sy.comment=z,M(Sy,function(fP){if(fP==="option")ye(Sy,fP),c(";");else throw R(fP)}),k.add(Sy);}function Kc(k,D){if(!Po.test(D=a()))throw R(D,"reference");var z=D;M(null,function(te){switch(te){case "required":case "repeated":se(k,te,z);break;case "optional":_==="proto3"?se(k,"proto3_optional",z):se(k,"optional",z);break;default:if(_==="proto2"||!Po.test(te))throw R(te);o(te),se(k,"optional",z);break}});}for(var jt;(jt=a())!==null;)switch(jt){case "package":if(!l)throw R(jt);pe();break;case "import":if(!l)throw R(jt);C();break;case "syntax":if(!l)throw R(jt);me();break;case "edition":if(!l)throw R(jt);w();break;case "option":ye(y,jt),c(";",true);break;default:if(S(y,jt)){l=false;continue}throw R(jt)}return I(),Gs.filename=null,{package:d,imports:p,weakImports:f,root:e}}});var Nee=T((slt,Cee)=>{Cee.exports=Hi;var WLe=/\/|\./;function Hi(t,e){WLe.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Hi[t]=e;}Hi("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var xee;Hi("duration",{Duration:xee={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Hi("timestamp",{Timestamp:xee});Hi("empty",{Empty:{fields:{}}});Hi("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Hi("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Hi("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Hi.get=function(e){return Hi[e]||null};});var Iee=T((alt,Pee)=>{var qa=Pee.exports=_ee();qa.build="full";qa.tokenize=zM();qa.parse=Oee();qa.common=Nee();qa.Root._configure(qa.Type,qa.parse,qa.common);});var ib=T((clt,wee)=>{wee.exports=Iee();});var BM=T((ult,KLe)=>{KLe.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:true,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536e6,536e6]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:true}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:true}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38],"php_generic_services"],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:true}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:true}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:true}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1e3,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536e6,536e6]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:true}},span:{rule:"repeated",type:"int32",id:2,options:{packed:true}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:true}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}};});var zee=T((Me,$ee)=>{var zn=ib();$ee.exports=Me=zn.descriptor=zn.Root.fromJSON(BM()).lookup(".google.protobuf");var Mee=zn.Namespace,Ag=zn.Root,js=zn.Enum,Io=zn.Type,Wa=zn.Field,YLe=zn.MapField,ob=zn.OneOf,Og=zn.Service,sb=zn.Method;Ag.fromDescriptor=function(e){typeof e.length=="number"&&(e=Me.FileDescriptorSet.decode(e));var r=new Ag;if(e.file)for(var i,n,a=0,o;a<e.file.length;++a){n=r,(i=e.file[a]).package&&i.package.length&&(n=r.define(i.package));var s=oDe(i);if(i.name&&i.name.length&&r.files.push(n.filename=i.name),i.messageType)for(o=0;o<i.messageType.length;++o)n.add(Io.fromDescriptor(i.messageType[o],s));if(i.enumType)for(o=0;o<i.enumType.length;++o)n.add(js.fromDescriptor(i.enumType[o],s));if(i.extension)for(o=0;o<i.extension.length;++o)n.add(Wa.fromDescriptor(i.extension[o],s));if(i.service)for(o=0;o<i.service.length;++o)n.add(Og.fromDescriptor(i.service[o],s));var c=rp(i.options,Me.FileOptions);if(c){var u=Object.keys(c);for(o=0;o<u.length;++o)n.setOption(u[o],c[u[o]]);}}return r.resolveAll()};Ag.prototype.toDescriptor=function(e){var r=Me.FileDescriptorSet.create();return Lee(this,r.file,e),r};function Lee(t,e,r){var i=Me.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});sDe(r,i),t instanceof Ag||(i.package=t.fullName.substring(1));for(var n=0,a;n<t.nestedArray.length;++n)(a=t._nestedArray[n])instanceof Io?i.messageType.push(a.toDescriptor(r)):a instanceof js?i.enumType.push(a.toDescriptor()):a instanceof Wa?i.extension.push(a.toDescriptor(r)):a instanceof Og?i.service.push(a.toDescriptor()):a instanceof Mee&&Lee(a,e,r);i.options=np(t.options,Me.FileOptions),i.messageType.length+i.enumType.length+i.extension.length+i.service.length&&e.push(i);}var ZLe=0;Io.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=Me.DescriptorProto.decode(e));var n=new Io(e.name.length?e.name:"Type"+ZLe++,rp(e.options,Me.MessageOptions)),a;if(i||(n._edition=r),e.oneofDecl)for(a=0;a<e.oneofDecl.length;++a)n.add(ob.fromDescriptor(e.oneofDecl[a]));if(e.field)for(a=0;a<e.field.length;++a){var o=Wa.fromDescriptor(e.field[a],r,true);n.add(o),e.field[a].hasOwnProperty("oneofIndex")&&n.oneofsArray[e.field[a].oneofIndex].add(o);}if(e.extension)for(a=0;a<e.extension.length;++a)n.add(Wa.fromDescriptor(e.extension[a],r,true));if(e.nestedType)for(a=0;a<e.nestedType.length;++a)n.add(Io.fromDescriptor(e.nestedType[a],r,true)),e.nestedType[a].options&&e.nestedType[a].options.mapEntry&&n.setOption("map_entry",true);if(e.enumType)for(a=0;a<e.enumType.length;++a)n.add(js.fromDescriptor(e.enumType[a],r,true));if(e.extensionRange&&e.extensionRange.length)for(n.extensions=[],a=0;a<e.extensionRange.length;++a)n.extensions.push([e.extensionRange[a].start,e.extensionRange[a].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(n.reserved=[],e.reservedRange)for(a=0;a<e.reservedRange.length;++a)n.reserved.push([e.reservedRange[a].start,e.reservedRange[a].end]);if(e.reservedName)for(a=0;a<e.reservedName.length;++a)n.reserved.push(e.reservedName[a]);}return n};Io.prototype.toDescriptor=function(e){var r=Me.DescriptorProto.create({name:this.name}),i;for(i=0;i<this.fieldsArray.length;++i){var n;if(r.field.push(n=this._fieldsArray[i].toDescriptor(e)),this._fieldsArray[i]instanceof YLe){var a=FM(this._fieldsArray[i].keyType,this._fieldsArray[i].resolvedKeyType,false),o=FM(this._fieldsArray[i].type,this._fieldsArray[i].resolvedType,false),s=o===11||o===14?this._fieldsArray[i].resolvedType&&Uee(this.parent,this._fieldsArray[i].resolvedType)||this._fieldsArray[i].type:void 0;r.nestedType.push(Me.DescriptorProto.create({name:n.typeName,field:[Me.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),Me.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:s})],options:Me.MessageOptions.create({mapEntry:true})}));}}for(i=0;i<this.oneofsArray.length;++i)r.oneofDecl.push(this._oneofsArray[i].toDescriptor());for(i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof Wa?r.field.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof Io?r.nestedType.push(this._nestedArray[i].toDescriptor(e)):this._nestedArray[i]instanceof js&&r.enumType.push(this._nestedArray[i].toDescriptor());if(this.extensions)for(i=0;i<this.extensions.length;++i)r.extensionRange.push(Me.DescriptorProto.ExtensionRange.create({start:this.extensions[i][0],end:this.extensions[i][1]}));if(this.reserved)for(i=0;i<this.reserved.length;++i)typeof this.reserved[i]=="string"?r.reservedName.push(this.reserved[i]):r.reservedRange.push(Me.DescriptorProto.ReservedRange.create({start:this.reserved[i][0],end:this.reserved[i][1]}));return r.options=np(this.options,Me.MessageOptions),r};var XLe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Wa.fromDescriptor=function(e,r,i){if(typeof e.length=="number"&&(e=Me.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var n;e.typeName&&e.typeName.length?n=e.typeName:n=rDe(e.type);var a;switch(e.label){case 1:a=void 0;break;case 2:a="required";break;case 3:a="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;e.extendee!==void 0&&(o=o.length?o:void 0);var s=new Wa(e.name.length?e.name:"field"+e.number,e.number,n,a,o);if(i||(s._edition=r),s.options=rp(e.options,Me.FieldOptions),e.proto3_optional&&(s.options.proto3_optional=true),e.defaultValue&&e.defaultValue.length){var c=e.defaultValue;switch(c){case "true":case "TRUE":c=true;break;case "false":case "FALSE":c=false;break;default:var u=XLe.exec(c);u&&(c=parseInt(c));break}s.setOption("default",c);}return nDe(e.type)&&(r==="proto3"?e.options&&!e.options.packed&&s.setOption("packed",false):(!r||r==="proto2")&&e.options&&e.options.packed&&s.setOption("packed",true)),s};Wa.prototype.toDescriptor=function(e){var r=Me.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=zn.util.ucFirst(this.name),r.label=3;else {switch(r.type=FM(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:r.typeName=this.resolvedType?Uee(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?r.label=3:this.required&&e==="proto2"?r.label=2:r.label=1;}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=np(this.options,Me.FieldOptions),this.options.default!=null&&(r.defaultValue=String(this.options.default)),this.options.proto3_optional&&(r.proto3_optional=true)),e==="proto3"?this.packed||((r.options||(r.options=Me.FieldOptions.create())).packed=false):(!e||e==="proto2")&&this.packed&&((r.options||(r.options=Me.FieldOptions.create())).packed=true),r};var JLe=0;js.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=Me.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var a=0;a<e.value.length;++a){var o=e.value[a].name,s=e.value[a].number||0;n[o&&o.length?o:"NAME"+s]=s;}var c=new js(e.name&&e.name.length?e.name:"Enum"+JLe++,n,rp(e.options,Me.EnumOptions));return i||(c._edition=r),c};js.prototype.toDescriptor=function(){for(var e=[],r=0,i=Object.keys(this.values);r<i.length;++r)e.push(Me.EnumValueDescriptorProto.create({name:i[r],number:this.values[i[r]]}));return Me.EnumDescriptorProto.create({name:this.name,value:e,options:np(this.options,Me.EnumOptions)})};var QLe=0;ob.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Me.OneofDescriptorProto.decode(e)),new ob(e.name&&e.name.length?e.name:"oneof"+QLe++)};ob.prototype.toDescriptor=function(){return Me.OneofDescriptorProto.create({name:this.name})};var eDe=0;Og.fromDescriptor=function(e,r,i){typeof e.length=="number"&&(e=Me.ServiceDescriptorProto.decode(e));var n=new Og(e.name&&e.name.length?e.name:"Service"+eDe++,rp(e.options,Me.ServiceOptions));if(i||(n._edition=r),e.method)for(var a=0;a<e.method.length;++a)n.add(sb.fromDescriptor(e.method[a]));return n};Og.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return Me.ServiceDescriptorProto.create({name:this.name,method:e,options:np(this.options,Me.ServiceOptions)})};var tDe=0;sb.fromDescriptor=function(e){return typeof e.length=="number"&&(e=Me.MethodDescriptorProto.decode(e)),new sb(e.name&&e.name.length?e.name:"Method"+tDe++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,rp(e.options,Me.MethodOptions))};sb.prototype.toDescriptor=function(){return Me.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:np(this.options,Me.MethodOptions)})};function rDe(t){switch(t){case 1:return "double";case 2:return "float";case 3:return "int64";case 4:return "uint64";case 5:return "int32";case 6:return "fixed64";case 7:return "fixed32";case 8:return "bool";case 9:return "string";case 12:return "bytes";case 13:return "uint32";case 15:return "sfixed32";case 16:return "sfixed64";case 17:return "sint32";case 18:return "sint64"}throw Error("illegal type: "+t)}function nDe(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return  true}return  false}function FM(t,e,r){switch(t){case "double":return 1;case "float":return 2;case "int64":return 3;case "uint64":return 4;case "int32":return 5;case "fixed64":return 6;case "fixed32":return 7;case "bool":return 8;case "string":return 9;case "bytes":return 12;case "uint32":return 13;case "sfixed32":return 15;case "sfixed64":return 16;case "sint32":return 17;case "sint64":return 18}if(e instanceof js)return 14;if(e instanceof Io)return r?10:11;throw Error("illegal type: "+t)}function Dee(t,e){for(var r={},i=0,n,a;i<e.fieldsArray.length;++i)if((a=(n=e._fieldsArray[i]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(t,a)){var o=iDe(a);n.resolvedType instanceof Io?r[o]=Dee(t[a],n.resolvedType):n.resolvedType instanceof js?r[o]=n.resolvedType.valuesById[t[a]]:r[o]=t[a];}return r}function rp(t,e){if(t)return Dee(e.toObject(t),e)}function kee(t,e){for(var r={},i=Object.keys(t),n=0;n<i.length;++n){var a=i[n],o=zn.util.camelCase(a);if(Object.prototype.hasOwnProperty.call(e.fields,o)){var s=e.fields[o];s.resolvedType instanceof Io?r[o]=kee(t[a],s.resolvedType):r[o]=t[a],s.repeated&&!Array.isArray(r[o])&&(r[o]=[r[o]]);}}return r}function np(t,e){if(t)return e.fromObject(kee(t,e))}function Uee(t,e){var r=t.fullName.split("."),i=e.fullName.split("."),n=0,a=0,o=i.length-1;if(!(t instanceof Ag)&&e instanceof Mee)for(;n<r.length&&a<o&&r[n]===i[a];){var s=e.lookup(r[n++],true);if(s!==null&&s!==e)break;++a;}else for(;n<r.length&&a<o&&r[n]===i[a];++n,++a);return i.slice(a).join(".")}function iDe(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,r){return "_"+r.toLowerCase()})}function oDe(t){if(t.syntax==="editions")switch(t.edition){case Me.Edition.EDITION_2023:return "2023";default:throw new Error("Unsupported edition "+t.edition)}return t.syntax==="proto3"?"proto3":"proto2"}function sDe(t,e){if(t)if(t==="proto2"||t==="proto3")e.syntax=t;else switch(e.syntax="editions",t){case "2023":e.edition=Me.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+t)}}});var Vee=T((llt,aDe)=>{aDe.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}};});var Bee=T((dlt,cDe)=>{cDe.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}};});var Fee=T((plt,uDe)=>{uDe.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}};});var qee=T(Ka=>{Object.defineProperty(Ka,"__esModule",{value:true});Ka.addCommonProtos=Ka.loadProtosWithOptionsSync=Ka.loadProtosWithOptions=void 0;var Hee=L("fs"),Gee=L("path"),ip=ib();function jee(t,e){let r=t.resolvePath;t.resolvePath=(i,n)=>{if(Gee.isAbsolute(n))return n;for(let a of e){let o=Gee.join(a,n);try{return Hee.accessSync(o,Hee.constants.R_OK),o}catch{continue}}return process.emitWarning(`${n} not found in any of the include paths ${e}`),r(i,n)};}async function lDe(t,e){let r=new ip.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));jee(r,e.includeDirs);}let i=await r.load(t,e);return i.resolveAll(),i}Ka.loadProtosWithOptions=lDe;function dDe(t,e){let r=new ip.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");jee(r,e.includeDirs);}let i=r.loadSync(t,e);return i.resolveAll(),i}Ka.loadProtosWithOptionsSync=dDe;function pDe(){let t=Vee(),e=BM(),r=Bee(),i=Fee();ip.common("api",t.nested.google.nested.protobuf.nested),ip.common("descriptor",e.nested.google.nested.protobuf.nested),ip.common("source_context",r.nested.google.nested.protobuf.nested),ip.common("type",i.nested.google.nested.protobuf.nested);}Ka.addCommonProtos=pDe;});var Wee=T((xg,HM)=>{(function(t,e){function r(i){return i.default||i}typeof define=="function"&&define.amd?define([],function(){var i={};return e(i),r(i)}):typeof xg=="object"?(e(xg),typeof HM=="object"&&(HM.exports=r(xg))):(function(){var i={};e(i),t.Long=r(i);})();})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:xg,function(t){Object.defineProperty(t,"__esModule",{value:true}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports;}catch{}function r(w,S,M){this.low=w|0,this.high=S|0,this.unsigned=!!M;}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:true});function i(w){return (w&&w.__isLong__)===true}function n(w){var S=Math.clz32(w&-w);return w?31-S:S}r.isLong=i;var a={},o={};function s(w,S){var M,Se,se;return S?(w>>>=0,(se=0<=w&&w<256)&&(Se=o[w],Se)?Se:(M=u(w,0,true),se&&(o[w]=M),M)):(w|=0,(se=-128<=w&&w<128)&&(Se=a[w],Se)?Se:(M=u(w,w<0?-1:0,false),se&&(a[w]=M),M))}r.fromInt=s;function c(w,S){if(isNaN(w))return S?R:I;if(S){if(w<0)return R;if(w>=v)return re}else {if(w<=-9223372036854776e3)return pe;if(w+1>=O)return ee}return w<0?c(-w,S).neg():u(w%y|0,w/y|0,S)}r.fromNumber=c;function u(w,S,M){return new r(w,S,M)}r.fromBits=u;var l=Math.pow;function d(w,S,M){if(w.length===0)throw Error("empty string");if(typeof S=="number"?(M=S,S=false):S=!!S,w==="NaN"||w==="Infinity"||w==="+Infinity"||w==="-Infinity")return S?R:I;if(M=M||10,M<2||36<M)throw RangeError("radix");var Se;if((Se=w.indexOf("-"))>0)throw Error("interior hyphen");if(Se===0)return d(w.substring(1),S,M).neg();for(var se=c(l(M,8)),_e=I,Fe=0;Fe<w.length;Fe+=8){var ht=Math.min(8,w.length-Fe),vt=parseInt(w.substring(Fe,Fe+ht),M);if(ht<8){var rt=c(l(M,ht));_e=_e.mul(rt).add(c(vt));}else _e=_e.mul(se),_e=_e.add(c(vt));}return _e.unsigned=S,_e}r.fromString=d;function p(w,S){return typeof w=="number"?c(w,S):typeof w=="string"?d(w,S):u(w.low,w.high,typeof S=="boolean"?S:w.unsigned)}r.fromValue=p;var f=65536,_=1<<24,y=f*f,v=y*y,O=v/2,x=s(_),I=s(0);r.ZERO=I;var R=s(0,true);r.UZERO=R;var F=s(1);r.ONE=F;var $=s(1,true);r.UONE=$;var G=s(-1);r.NEG_ONE=G;var ee=u(-1,2147483647,false);r.MAX_VALUE=ee;var re=u(-1,-1,true);r.MAX_UNSIGNED_VALUE=re;var pe=u(0,-2147483648,false);r.MIN_VALUE=pe;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*y+(this.low>>>0):this.high*y+(this.low>>>0)},C.toString=function(S){if(S=S||10,S<2||36<S)throw RangeError("radix");if(this.isZero())return "0";if(this.isNegative())if(this.eq(pe)){var M=c(S),Se=this.div(M),se=Se.mul(M).sub(this);return Se.toString(S)+se.toInt().toString(S)}else return "-"+this.neg().toString(S);for(var _e=c(l(S,6),this.unsigned),Fe=this,ht="";;){var vt=Fe.div(_e),rt=Fe.sub(vt.mul(_e)).toInt()>>>0,ye=rt.toString(S);if(Fe=vt,Fe.isZero())return ye+ht;for(;ye.length<6;)ye="0"+ye;ht=""+ye+ht;}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pe)?64:this.neg().getNumBitsAbs();for(var S=this.high!=0?this.high:this.low,M=31;M>0&&(S&1<<M)==0;M--);return this.high!=0?M+33:M+1},C.isSafeInteger=function(){var S=this.high>>21;return S?this.unsigned?false:S===-1&&!(this.low===0&&this.high===-2097152):true},C.isZero=function(){return this.high===0&&this.low===0},C.eqz=C.isZero,C.isNegative=function(){return !this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return (this.low&1)===1},C.isEven=function(){return (this.low&1)===0},C.equals=function(S){return i(S)||(S=p(S)),this.unsigned!==S.unsigned&&this.high>>>31===1&&S.high>>>31===1?false:this.high===S.high&&this.low===S.low},C.eq=C.equals,C.notEquals=function(S){return !this.eq(S)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(S){return this.comp(S)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(S){return this.comp(S)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(S){return this.comp(S)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(S){return this.comp(S)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(S){if(i(S)||(S=p(S)),this.eq(S))return 0;var M=this.isNegative(),Se=S.isNegative();return M&&!Se?-1:!M&&Se?1:this.unsigned?S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1:this.sub(S).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return !this.unsigned&&this.eq(pe)?pe:this.not().add(F)},C.neg=C.negate,C.add=function(S){i(S)||(S=p(S));var M=this.high>>>16,Se=this.high&65535,se=this.low>>>16,_e=this.low&65535,Fe=S.high>>>16,ht=S.high&65535,vt=S.low>>>16,rt=S.low&65535,ye=0,Gt=0,Je=0,Ct=0;return Ct+=_e+rt,Je+=Ct>>>16,Ct&=65535,Je+=se+vt,Gt+=Je>>>16,Je&=65535,Gt+=Se+ht,ye+=Gt>>>16,Gt&=65535,ye+=M+Fe,ye&=65535,u(Je<<16|Ct,ye<<16|Gt,this.unsigned)},C.subtract=function(S){return i(S)||(S=p(S)),this.add(S.neg())},C.sub=C.subtract,C.multiply=function(S){if(this.isZero())return this;if(i(S)||(S=p(S)),e){var M=e.mul(this.low,this.high,S.low,S.high);return u(M,e.get_high(),this.unsigned)}if(S.isZero())return this.unsigned?R:I;if(this.eq(pe))return S.isOdd()?pe:I;if(S.eq(pe))return this.isOdd()?pe:I;if(this.isNegative())return S.isNegative()?this.neg().mul(S.neg()):this.neg().mul(S).neg();if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(x)&&S.lt(x))return c(this.toNumber()*S.toNumber(),this.unsigned);var Se=this.high>>>16,se=this.high&65535,_e=this.low>>>16,Fe=this.low&65535,ht=S.high>>>16,vt=S.high&65535,rt=S.low>>>16,ye=S.low&65535,Gt=0,Je=0,Ct=0,Xt=0;return Xt+=Fe*ye,Ct+=Xt>>>16,Xt&=65535,Ct+=_e*ye,Je+=Ct>>>16,Ct&=65535,Ct+=Fe*rt,Je+=Ct>>>16,Ct&=65535,Je+=se*ye,Gt+=Je>>>16,Je&=65535,Je+=_e*rt,Gt+=Je>>>16,Je&=65535,Je+=Fe*vt,Gt+=Je>>>16,Je&=65535,Gt+=Se*ye+se*rt+_e*vt+Fe*ht,Gt&=65535,u(Ct<<16|Xt,Gt<<16|Je,this.unsigned)},C.mul=C.multiply,C.divide=function(S){if(i(S)||(S=p(S)),S.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&S.low===-1&&S.high===-1)return this;var M=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,S.low,S.high);return u(M,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?R:I;var Se,se,_e;if(this.unsigned){if(S.unsigned||(S=S.toUnsigned()),S.gt(this))return R;if(S.gt(this.shru(1)))return $;_e=R;}else {if(this.eq(pe)){if(S.eq(F)||S.eq(G))return pe;if(S.eq(pe))return F;var Fe=this.shr(1);return Se=Fe.div(S).shl(1),Se.eq(I)?S.isNegative()?F:G:(se=this.sub(S.mul(Se)),_e=Se.add(se.div(S)),_e)}else if(S.eq(pe))return this.unsigned?R:I;if(this.isNegative())return S.isNegative()?this.neg().div(S.neg()):this.neg().div(S).neg();if(S.isNegative())return this.div(S.neg()).neg();_e=I;}for(se=this;se.gte(S);){Se=Math.max(1,Math.floor(se.toNumber()/S.toNumber()));for(var ht=Math.ceil(Math.log(Se)/Math.LN2),vt=ht<=48?1:l(2,ht-48),rt=c(Se),ye=rt.mul(S);ye.isNegative()||ye.gt(se);)Se-=vt,rt=c(Se,this.unsigned),ye=rt.mul(S);rt.isZero()&&(rt=F),_e=_e.add(rt),se=se.sub(ye);}return _e},C.div=C.divide,C.modulo=function(S){if(i(S)||(S=p(S)),e){var M=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,S.low,S.high);return u(M,e.get_high(),this.unsigned)}return this.sub(this.div(S).mul(S))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?n(this.low):n(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(S){return i(S)||(S=p(S)),u(this.low&S.low,this.high&S.high,this.unsigned)},C.or=function(S){return i(S)||(S=p(S)),u(this.low|S.low,this.high|S.high,this.unsigned)},C.xor=function(S){return i(S)||(S=p(S)),u(this.low^S.low,this.high^S.high,this.unsigned)},C.shiftLeft=function(S){return i(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?u(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned):u(0,this.low<<S-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(S){return i(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?u(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned):u(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(S){return i(S)&&(S=S.toInt()),(S&=63)===0?this:S<32?u(this.low>>>S|this.high<<32-S,this.high>>>S,this.unsigned):S===32?u(this.high,0,this.unsigned):u(this.high>>>S-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(S){var M;return i(S)&&(S=S.toInt()),(S&=63)===0?this:S===32?u(this.high,this.low,this.unsigned):S<32?(M=32-S,u(this.low<<S|this.high>>>M,this.high<<S|this.low>>>M,this.unsigned)):(S-=32,M=32-S,u(this.high<<S|this.low>>>M,this.low<<S|this.high>>>M,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(S){var M;return i(S)&&(S=S.toInt()),(S&=63)===0?this:S===32?u(this.high,this.low,this.unsigned):S<32?(M=32-S,u(this.high<<M|this.low>>>S,this.low<<M|this.high>>>S,this.unsigned)):(S-=32,M=32-S,u(this.low<<M|this.high>>>S,this.high<<M|this.low>>>S,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?u(this.low,this.high,false):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,true)},C.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var S=this.high,M=this.low;return [M&255,M>>>8&255,M>>>16&255,M>>>24,S&255,S>>>8&255,S>>>16&255,S>>>24]},C.toBytesBE=function(){var S=this.high,M=this.low;return [S>>>24,S>>>16&255,S>>>8&255,S&255,M>>>24,M>>>16&255,M>>>8&255,M&255]},r.fromBytes=function(S,M,Se){return Se?r.fromBytesLE(S,M):r.fromBytesBE(S,M)},r.fromBytesLE=function(S,M){return new r(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,M)},r.fromBytesBE=function(S,M){return new r(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],M)},typeof BigInt=="function"&&(r.fromBigInt=function(S,M){var Se=Number(BigInt.asIntN(32,S)),se=Number(BigInt.asIntN(32,S>>BigInt(32)));return u(Se,se,M)},r.fromValue=function(S,M){return typeof S=="bigint"?r.fromBigInt(S,M):p(S,M)},C.toBigInt=function(){var S=BigInt(this.low>>>0),M=BigInt(this.unsigned?this.high>>>0:this.high);return M<<BigInt(32)|S});t.default=r;});});var YM=T(Qt=>{Object.defineProperty(Qt,"__esModule",{value:true});Qt.loadFileDescriptorSetFromObject=Qt.loadFileDescriptorSetFromBuffer=Qt.fromJSON=Qt.loadSync=Qt.load=Qt.IdempotencyLevel=Qt.isAnyExtension=Qt.Long=void 0;var fDe=PQ(),wo=ib(),WM=zee(),KM=qee(),hDe=Wee();Qt.Long=hDe;function mDe(t){return "@type"in t&&typeof t["@type"]=="string"}Qt.isAnyExtension=mDe;var Kee;(function(t){t.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",t.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",t.IDEMPOTENT="IDEMPOTENT";})(Kee=Qt.IdempotencyLevel||(Qt.IdempotencyLevel={}));var Yee={longs:String,enums:String,bytes:String,defaults:true,oneofs:true,json:true};function gDe(t,e){return t===""?e:t+"."+e}function _De(t){return t instanceof wo.Service||t instanceof wo.Type||t instanceof wo.Enum}function SDe(t){return t instanceof wo.Namespace||t instanceof wo.Root}function Zee(t,e){let r=gDe(e,t.name);return _De(t)?[[r,t]]:SDe(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(i=>Zee(t.nested[i],r)).reduce((i,n)=>i.concat(n),[]):[]}function GM(t,e){return function(i){return t.toObject(t.decode(i),e)}}function jM(t){return function(r){if(Array.isArray(r))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let i=t.fromObject(r);return t.encode(i).finish()}}function yDe(t){return (t||[]).reduce((e,r)=>{for(let[i,n]of Object.entries(r))switch(i){case "uninterpreted_option":e.uninterpreted_option.push(r.uninterpreted_option);break;default:e[i]=n;}return e},{deprecated:false,idempotency_level:Kee.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function EDe(t,e,r,i){let n=t.resolvedRequestType,a=t.resolvedResponseType;return {path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:jM(n),requestDeserialize:GM(n,r),responseSerialize:jM(a),responseDeserialize:GM(a,r),originalName:fDe(t.name),requestType:qM(n,r,i),responseType:qM(a,r,i),options:yDe(t.parsedOptions)}}function TDe(t,e,r,i){let n={};for(let a of t.methodsArray)n[a.name]=EDe(a,e,r,i);return n}function qM(t,e,r){let i=t.toDescriptor("proto3");return {format:"Protocol Buffer 3 DescriptorProto",type:i.$type.toObject(i,Yee),fileDescriptorProtos:r,serialize:jM(t),deserialize:GM(t,e)}}function vDe(t,e){let r=t.toDescriptor("proto3");return {format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,Yee),fileDescriptorProtos:e}}function bDe(t,e,r,i){if(t instanceof wo.Service)return TDe(t,e,r,i);if(t instanceof wo.Type)return qM(t,r,i);if(t instanceof wo.Enum)return vDe(t,i);throw new Error("Type mismatch in reflection object handling")}function ab(t,e){let r={};t.resolveAll();let n=t.toDescriptor("proto3").file.map(a=>Buffer.from(WM.FileDescriptorProto.encode(a).finish()));for(let[a,o]of Zee(t,""))r[a]=bDe(o,a,e,n);return r}function Xee(t,e){e=e||{};let r=wo.Root.fromDescriptor(t);return r.resolveAll(),ab(r,e)}function RDe(t,e){return (0, KM.loadProtosWithOptions)(t,e).then(r=>ab(r,e))}Qt.load=RDe;function ADe(t,e){let r=(0, KM.loadProtosWithOptionsSync)(t,e);return ab(r,e)}Qt.loadSync=ADe;function ODe(t,e){e=e||{};let r=wo.Root.fromJSON(t);return r.resolveAll(),ab(r,e)}Qt.fromJSON=ODe;function xDe(t,e){let r=WM.FileDescriptorSet.decode(t);return Xee(r,e)}Qt.loadFileDescriptorSetFromBuffer=xDe;function CDe(t,e){let r=WM.FileDescriptorSet.fromObject(t);return Xee(r,e)}Qt.loadFileDescriptorSetFromObject=CDe;(0, KM.addCommonProtos)();});var Ya=T(mt=>{Object.defineProperty(mt,"__esModule",{value:true});mt.registerChannelzSocket=mt.registerChannelzServer=mt.registerChannelzSubchannel=mt.registerChannelzChannel=mt.ChannelzCallTrackerStub=mt.ChannelzCallTracker=mt.ChannelzChildrenTrackerStub=mt.ChannelzChildrenTracker=mt.ChannelzTrace=mt.ChannelzTraceStub=void 0;mt.unregisterChannelzRef=MDe;mt.getChannelzHandlers=ote;mt.getChannelzServiceDefinition=ste;mt.setup=GDe;var ub=L("net"),$u=(Q7(),U(J7)),Cg=Fr(),Ng=ke(),NDe=fn(),PDe=wv(),IDe=Uv();function ZM(t){return {channel_id:t.id,name:t.name}}function tL(t){return {subchannel_id:t.id,name:t.name}}function wDe(t){return {server_id:t.id}}function pb(t){return {socket_id:t.id,name:t.name}}var Jee=32,rL=100,XM=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0;}addTrace(){}getTraceMessage(){return {creation_timestamp:Mo(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};mt.ChannelzTraceStub=XM;var JM=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date;}addTrace(e,r,i){let n=new Date;this.events.push({description:r,severity:e,timestamp:n,childChannel:i?.kind==="channel"?i:void 0,childSubchannel:i?.kind==="subchannel"?i:void 0}),this.events.length>=Jee*2&&(this.events=this.events.slice(Jee)),this.eventsLogged+=1;}getTraceMessage(){return {creation_timestamp:Mo(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Mo(e.timestamp),channel_ref:e.childChannel?ZM(e.childChannel):null,subchannel_ref:e.childSubchannel?tL(e.childSubchannel):null}))}}};mt.ChannelzTrace=JM;var lb=class{constructor(){this.channelChildren=new $u.OrderedMap,this.subchannelChildren=new $u.OrderedMap,this.socketChildren=new $u.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren};}refChild(e){let r=this.trackerMap[e.kind],i=r.find(e.id);i.equals(r.end())?r.setElement(e.id,{ref:e,count:1},i):i.pointer[1].count+=1;}unrefChild(e){let r=this.trackerMap[e.kind],i=r.getElementByKey(e.id);i!==void 0&&(i.count-=1,i.count===0&&r.eraseElementByKey(e.id));}getChildLists(){return {channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};mt.ChannelzChildrenTracker=lb;var QM=class extends lb{refChild(){}unrefChild(){}};mt.ChannelzChildrenTrackerStub=QM;var db=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null;}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date;}addCallSucceeded(){this.callsSucceeded+=1;}addCallFailed(){this.callsFailed+=1;}};mt.ChannelzCallTracker=db;var eL=class extends db{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};mt.ChannelzCallTrackerStub=eL;var qs={channel:new $u.OrderedMap,subchannel:new $u.OrderedMap,server:new $u.OrderedMap,socket:new $u.OrderedMap},fb=t=>{let e=1;function r(){return e++}let i=qs[t];return (n,a,o)=>{let s=r(),c={id:s,name:n,kind:t};return o&&i.setElement(s,{ref:c,getInfo:a}),c}};mt.registerChannelzChannel=fb("channel");mt.registerChannelzSubchannel=fb("subchannel");mt.registerChannelzServer=fb("server");mt.registerChannelzSocket=fb("socket");function MDe(t){qs[t.kind].eraseElementByKey(t.id);}function LDe(t){let e=Number.parseInt(t,16);return [e/256|0,e%256]}function Qee(t){if(t==="")return [];let e=t.split(":").map(i=>LDe(i));return [].concat(...e)}function DDe(t){return (0, ub.isIPv6)(t)&&t.toLowerCase().startsWith("::ffff:")&&(0, ub.isIPv4)(t.substring(7))}function ete(t){return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))))}function kDe(t){if((0, ub.isIPv4)(t))return ete(t);if(DDe(t))return ete(t.substring(7));if((0, ub.isIPv6)(t)){let e,r,i=t.indexOf("::");i===-1?(e=t,r=""):(e=t.substring(0,i),r=t.substring(i+2));let n=Buffer.from(Qee(e)),a=Buffer.from(Qee(r)),o=Buffer.alloc(16-n.length-a.length,0);return Buffer.concat([n,o,a])}else return null}function rte(t){switch(t){case Cg.ConnectivityState.CONNECTING:return {state:"CONNECTING"};case Cg.ConnectivityState.IDLE:return {state:"IDLE"};case Cg.ConnectivityState.READY:return {state:"READY"};case Cg.ConnectivityState.SHUTDOWN:return {state:"SHUTDOWN"};case Cg.ConnectivityState.TRANSIENT_FAILURE:return {state:"TRANSIENT_FAILURE"};default:return {state:"UNKNOWN"}}}function Mo(t){if(!t)return null;let e=t.getTime();return {seconds:e/1e3|0,nanos:e%1e3*1e6}}function nte(t){let e=t.getInfo(),r=[],i=[];return e.children.channels.forEach(n=>{r.push(ZM(n[1].ref));}),e.children.subchannels.forEach(n=>{i.push(tL(n[1].ref));}),{ref:ZM(t.ref),data:{target:e.target,state:rte(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Mo(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:r,subchannel_ref:i}}function UDe(t,e){let r=parseInt(t.request.channel_id,10),i=qs.channel.getElementByKey(r);if(i===void 0){e({code:Ng.Status.NOT_FOUND,details:"No channel data found for id "+r});return}e(null,{channel:nte(i)});}function $De(t,e){let r=parseInt(t.request.max_results,10)||rL,i=[],n=parseInt(t.request.start_channel_id,10),a=qs.channel,o;for(o=a.lowerBound(n);!o.equals(a.end())&&i.length<r;o=o.next())i.push(nte(o.pointer[1]));e(null,{channel:i,end:o.equals(a.end())});}function ite(t){let e=t.getInfo(),r=[];return e.listenerChildren.sockets.forEach(i=>{r.push(pb(i[1].ref));}),{ref:wDe(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Mo(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:r}}function zDe(t,e){let r=parseInt(t.request.server_id,10),n=qs.server.getElementByKey(r);if(n===void 0){e({code:Ng.Status.NOT_FOUND,details:"No server data found for id "+r});return}e(null,{server:ite(n)});}function VDe(t,e){let r=parseInt(t.request.max_results,10)||rL,i=parseInt(t.request.start_server_id,10),n=qs.server,a=[],o;for(o=n.lowerBound(i);!o.equals(n.end())&&a.length<r;o=o.next())a.push(ite(o.pointer[1]));e(null,{server:a,end:o.equals(n.end())});}function BDe(t,e){let r=parseInt(t.request.subchannel_id,10),i=qs.subchannel.getElementByKey(r);if(i===void 0){e({code:Ng.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let n=i.getInfo(),a=[];n.children.sockets.forEach(s=>{a.push(pb(s[1].ref));});let o={ref:tL(i.ref),data:{target:n.target,state:rte(n.state),calls_started:n.callTracker.callsStarted,calls_succeeded:n.callTracker.callsSucceeded,calls_failed:n.callTracker.callsFailed,last_call_started_timestamp:Mo(n.callTracker.lastCallStartedTimestamp),trace:n.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:o});}function tte(t){var e;return (0, NDe.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=kDe(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function FDe(t,e){var r,i,n,a,o;let s=parseInt(t.request.socket_id,10),c=qs.socket.getElementByKey(s);if(c===void 0){e({code:Ng.Status.NOT_FOUND,details:"No socket data found for id "+s});return}let u=c.getInfo(),l=u.security?{model:"tls",tls:{cipher_suite:u.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(r=u.security.cipherSuiteStandardName)!==null&&r!==void 0?r:void 0,other_name:(i=u.security.cipherSuiteOtherName)!==null&&i!==void 0?i:void 0,local_certificate:(n=u.security.localCertificate)!==null&&n!==void 0?n:void 0,remote_certificate:(a=u.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,d={ref:pb(c.ref),local:u.localAddress?tte(u.localAddress):null,remote:u.remoteAddress?tte(u.remoteAddress):null,remote_name:(o=u.remoteName)!==null&&o!==void 0?o:void 0,security:l,data:{keep_alives_sent:u.keepAlivesSent,streams_started:u.streamsStarted,streams_succeeded:u.streamsSucceeded,streams_failed:u.streamsFailed,last_local_stream_created_timestamp:Mo(u.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Mo(u.lastRemoteStreamCreatedTimestamp),messages_received:u.messagesReceived,messages_sent:u.messagesSent,last_message_received_timestamp:Mo(u.lastMessageReceivedTimestamp),last_message_sent_timestamp:Mo(u.lastMessageSentTimestamp),local_flow_control_window:u.localFlowControlWindow?{value:u.localFlowControlWindow}:null,remote_flow_control_window:u.remoteFlowControlWindow?{value:u.remoteFlowControlWindow}:null}};e(null,{socket:d});}function HDe(t,e){let r=parseInt(t.request.server_id,10),i=qs.server.getElementByKey(r);if(i===void 0){e({code:Ng.Status.NOT_FOUND,details:"No server data found for id "+r});return}let n=parseInt(t.request.start_socket_id,10),a=parseInt(t.request.max_results,10)||rL,s=i.getInfo().sessionChildren.sockets,c=[],u;for(u=s.lowerBound(n);!u.equals(s.end())&&c.length<a;u=u.next())c.push(pb(u.pointer[1].ref));e(null,{socket_ref:c,end:u.equals(s.end())});}function ote(){return {GetChannel:UDe,GetTopChannels:$De,GetServer:zDe,GetServers:VDe,GetSubchannel:BDe,GetSocket:FDe,GetServerSockets:HDe}}var cb=null;function ste(){if(cb)return cb;let t=YM().loadSync,e=t("channelz.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto`]});return cb=(0, IDe.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,cb}function GDe(){(0, PDe.registerAdminService)(ste,ote);}});var hb=T(nL=>{Object.defineProperty(nL,"__esModule",{value:true});nL.getNextCallNumber=qDe;var jDe=0;function qDe(){return jDe++}});var iL=T(mb=>{Object.defineProperty(mb,"__esModule",{value:true});mb.CompressionAlgorithms=void 0;var ate;(function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip";})(ate||(mb.CompressionAlgorithms=ate={}));});var sL=T(gb=>{Object.defineProperty(gb,"__esModule",{value:true});gb.BaseFilter=void 0;var oL=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};gb.BaseFilter=oL;});var dL=T(ap=>{Object.defineProperty(ap,"__esModule",{value:true});ap.CompressionFilterFactory=ap.CompressionFilter=void 0;var _b=L("zlib"),ute=iL(),op=ke(),WDe=sL(),KDe=lt(),YDe=t=>typeof t=="number"&&typeof ute.CompressionAlgorithms[t]=="string",sp=class{async writeMessage(e,r){let i=e;r&&(i=await this.compressMessage(i));let n=Buffer.allocUnsafe(i.length+5);return n.writeUInt8(r?1:0,0),n.writeUInt32BE(i.length,1),i.copy(n,5),n}async readMessage(e){let r=e.readUInt8(0)===1,i=e.slice(5);return r&&(i=await this.decompressMessage(i)),i}},zu=class extends sp{async compressMessage(e){return e}async writeMessage(e,r){let i=Buffer.allocUnsafe(e.length+5);return i.writeUInt8(0,0),i.writeUInt32BE(e.length,1),e.copy(i,5),i}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},aL=class extends sp{constructor(e){super(),this.maxRecvMessageLength=e;}compressMessage(e){return new Promise((r,i)=>{_b.deflate(e,(n,a)=>{n?i(n):r(a);});})}decompressMessage(e){return new Promise((r,i)=>{let n=0,a=[],o=_b.createInflate();o.on("data",s=>{a.push(s),n+=s.byteLength,this.maxRecvMessageLength!==-1&&n>this.maxRecvMessageLength&&(o.destroy(),i({code:op.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}));}),o.on("end",()=>{r(Buffer.concat(a));}),o.write(e),o.end();})}},cL=class extends sp{constructor(e){super(),this.maxRecvMessageLength=e;}compressMessage(e){return new Promise((r,i)=>{_b.gzip(e,(n,a)=>{n?i(n):r(a);});})}decompressMessage(e){return new Promise((r,i)=>{let n=0,a=[],o=_b.createGunzip();o.on("data",s=>{a.push(s),n+=s.byteLength,this.maxRecvMessageLength!==-1&&n>this.maxRecvMessageLength&&(o.destroy(),i({code:op.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}));}),o.on("end",()=>{r(Buffer.concat(a));}),o.write(e),o.end();})}},uL=class extends sp{constructor(e){super(),this.compressionName=e;}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function cte(t,e){switch(t){case "identity":return new zu;case "deflate":return new aL(e);case "gzip":return new cL(e);default:return new uL(t)}}var Sb=class extends WDe.BaseFilter{constructor(e,r){var i,n,a;super(),this.sharedFilterConfig=r,this.sendCompression=new zu,this.receiveCompression=new zu,this.currentCompressionAlgorithm="identity";let o=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(i=e["grpc.max_receive_message_length"])!==null&&i!==void 0?i:op.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(n=e["grpc.max_send_message_length"])!==null&&n!==void 0?n:op.DEFAULT_MAX_SEND_MESSAGE_LENGTH,o!==void 0)if(YDe(o)){let s=ute.CompressionAlgorithms[o],c=(a=r.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!c||c.includes(s))&&(this.currentCompressionAlgorithm=s,this.sendCompression=cte(this.currentCompressionAlgorithm,-1));}else KDe.log(op.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`);}async sendMetadata(e){let r=await e;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?r.remove("grpc-encoding"):r.set("grpc-encoding",this.currentCompressionAlgorithm),r}receiveMetadata(e){let r=e.get("grpc-encoding");if(r.length>0){let n=r[0];typeof n=="string"&&(this.receiveCompression=cte(n,this.maxReceiveMessageLength));}e.remove("grpc-encoding");let i=e.get("grpc-accept-encoding")[0];return i&&(this.sharedFilterConfig.serverSupportedEncodingHeader=i,i.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new zu,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var r;let i=await e;if(this.maxSendMessageLength!==-1&&i.message.length>this.maxSendMessageLength)throw {code:op.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let n;return this.sendCompression instanceof zu?n=false:n=(((r=i.flags)!==null&&r!==void 0?r:0)&2)===0,{message:await this.sendCompression.writeMessage(i.message,n),flags:i.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};ap.CompressionFilter=Sb;var lL=class{constructor(e,r){this.options=r,this.sharedFilterConfig={};}createFilter(){return new Sb(this.options,this.sharedFilterConfig)}};ap.CompressionFilterFactory=lL;});var Pg=T(pL=>{Object.defineProperty(pL,"__esModule",{value:true});pL.restrictControlPlaneStatusCode=XDe;var Lo=ke(),ZDe=[Lo.Status.OK,Lo.Status.INVALID_ARGUMENT,Lo.Status.NOT_FOUND,Lo.Status.ALREADY_EXISTS,Lo.Status.FAILED_PRECONDITION,Lo.Status.ABORTED,Lo.Status.OUT_OF_RANGE,Lo.Status.DATA_LOSS];function XDe(t,e){return ZDe.includes(t)?{code:Lo.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${Lo.Status[t]} ${e}`}:{code:t,details:e}}});var cp=T(Vu=>{Object.defineProperty(Vu,"__esModule",{value:true});Vu.minDeadline=JDe;Vu.getDeadlineTimeoutString=eke;Vu.getRelativeTimeout=rke;Vu.deadlineToString=nke;Vu.formatDateDifference=ike;function JDe(...t){let e=1/0;for(let r of t){let i=r instanceof Date?r.getTime():r;i<e&&(e=i);}return e}var QDe=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function eke(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let r=Math.max(t-e,0);for(let[i,n]of QDe){let a=r/n;if(a<1e8)return String(Math.ceil(a))+i}throw new Error("Deadline is too far in the future")}var tke=2147483647;function rke(t){let e=t instanceof Date?t.getTime():t,r=new Date().getTime(),i=e-r;return i<0?0:i>tke?1/0:i}function nke(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}function ike(t,e){return ((e.getTime()-t.getTime())/1e3).toFixed(3)+"s"}});var Eb=T(up=>{Object.defineProperty(up,"__esModule",{value:true});up.FilterStackFactory=up.FilterStack=void 0;var yb=class{constructor(e){this.filters=e;}sendMetadata(e){let r=e;for(let i=0;i<this.filters.length;i++)r=this.filters[i].sendMetadata(r);return r}receiveMetadata(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveMetadata(r);return r}sendMessage(e){let r=e;for(let i=0;i<this.filters.length;i++)r=this.filters[i].sendMessage(r);return r}receiveMessage(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveMessage(r);return r}receiveTrailers(e){let r=e;for(let i=this.filters.length-1;i>=0;i--)r=this.filters[i].receiveTrailers(r);return r}push(e){this.filters.unshift(...e);}getFilters(){return this.filters}};up.FilterStack=yb;var fL=class t{constructor(e){this.factories=e;}push(e){this.factories.unshift(...e);}clone(){return new t([...this.factories])}createFilter(){return new yb(this.factories.map(e=>e.createFilter()))}};up.FilterStackFactory=fL;});var lte=T(vb=>{Object.defineProperty(vb,"__esModule",{value:true});vb.SingleSubchannelChannel=void 0;var oke=hb(),Ig=Ya(),ske=dL(),ake=Fr(),wg=ke(),cke=Pg(),uke=cp(),lke=Eb(),hL=cr(),dke=ki(),Tb=Br(),mL=class{constructor(e,r,i,n,a){var o,s;this.subchannel=e,this.method=r,this.options=n,this.callNumber=a,this.childCall=null,this.pendingMessage=null,this.readPending=false,this.halfClosePending=false,this.pendingStatus=null,this.readFilterPending=false,this.writeFilterPending=false;let c=this.method.split("/"),u="";c.length>=2&&(u=c[1]);let l=(s=(o=(0, Tb.splitHostPort)(this.options.host))===null||o===void 0?void 0:o.host)!==null&&s!==void 0?s:"localhost";this.serviceUrl=`https://${l}/${u}`;let d=(0, uke.getRelativeTimeout)(n.deadline);d!==1/0&&(d<=0?this.cancelWithStatus(wg.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(wg.Status.DEADLINE_EXCEEDED,"Deadline exceeded");},d)),this.filterStack=i.createFilter();}cancelWithStatus(e,r){this.childCall?this.childCall.cancelWithStatus(e,r):this.pendingStatus={code:e,details:r,metadata:new hL.Metadata};}getPeer(){var e,r;return (r=(e=this.childCall)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.subchannel.getAddress()}async start(e,r){if(this.pendingStatus){r.onReceiveStatus(this.pendingStatus);return}if(this.subchannel.getConnectivityState()!==ake.ConnectivityState.READY){r.onReceiveStatus({code:wg.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new hL.Metadata});return}let i=await this.filterStack.sendMetadata(Promise.resolve(e)),n;try{n=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl});}catch(o){let s=o,{code:c,details:u}=(0, cke.restrictControlPlaneStatusCode)(typeof s.code=="number"?s.code:wg.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${s.message}`);r.onReceiveStatus({code:c,details:u,metadata:new hL.Metadata});return}n.merge(i);let a={onReceiveMetadata:async o=>{r.onReceiveMetadata(await this.filterStack.receiveMetadata(o));},onReceiveMessage:async o=>{this.readFilterPending=true;let s=await this.filterStack.receiveMessage(o);this.readFilterPending=false,r.onReceiveMessage(s),this.pendingStatus&&r.onReceiveStatus(this.pendingStatus);},onReceiveStatus:async o=>{let s=await this.filterStack.receiveTrailers(o);this.readFilterPending?this.pendingStatus=s:r.onReceiveStatus(s);}};this.childCall=this.subchannel.createCall(n,this.options.host,this.method,a),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose();}async sendMessageWithContext(e,r){this.writeFilterPending=true;let i=await this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags}));this.writeFilterPending=false,this.childCall?(this.childCall.sendMessageWithContext(e,i.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:e,message:i.message};}startRead(){this.childCall?this.childCall.startRead():this.readPending=true;}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=true;}getCallNumber(){return this.callNumber}setCredentials(e){throw new Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}},gL=class{constructor(e,r,i){this.subchannel=e,this.target=r,this.channelzEnabled=false,this.channelzTrace=new Ig.ChannelzTrace,this.callTracker=new Ig.ChannelzCallTracker,this.childrenTracker=new Ig.ChannelzChildrenTracker,this.channelzEnabled=i["grpc.enable_channelz"]!==0,this.channelzRef=(0, Ig.registerChannelzChannel)((0, Tb.uriToString)(r),()=>({target:`${(0, Tb.uriToString)(r)} (${e.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),this.filterStackFactory=new lke.FilterStackFactory([new ske.CompressionFilterFactory(this,i)]);}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0, Ig.unregisterChannelzRef)(this.channelzRef);}getTarget(){return (0, Tb.uriToString)(this.target)}getConnectivityState(e){throw new Error("Method not implemented.")}watchConnectivityState(e,r,i){throw new Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(e,r){let i={deadline:r,host:(0, dke.getDefaultAuthority)(this.target),flags:wg.Propagate.DEFAULTS,parentCall:null};return new mL(this.subchannel,e,this.filterStackFactory,i,(0, oke.getNextCallNumber)())}};vb.SingleSubchannelChannel=gL;});var dte=T(Rb=>{Object.defineProperty(Rb,"__esModule",{value:true});Rb.Subchannel=void 0;var it=Fr(),pke=qd(),_L=lt(),bb=ke(),fke=Br(),hke=fn(),Do=Ya(),mke=lte(),gke="subchannel",_ke=2147483647,SL=class{constructor(e,r,i,n,a){var o;this.channelTarget=e,this.subchannelAddress=r,this.options=i,this.connector=a,this.connectivityState=it.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=false,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=true,this.dataProducers=new Map,this.subchannelChannel=null;let s={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new pke.BackoffTimeout(()=>{this.handleBackoffTimer();},s),this.backoffTimeout.unref(),this.subchannelAddressString=(0, hke.subchannelAddressToString)(r),this.keepaliveTime=(o=i["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,i["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.channelzTrace=new Do.ChannelzTraceStub,this.callTracker=new Do.ChannelzCallTrackerStub,this.childrenTracker=new Do.ChannelzChildrenTrackerStub,this.streamTracker=new Do.ChannelzCallTrackerStub):(this.channelzTrace=new Do.ChannelzTrace,this.callTracker=new Do.ChannelzCallTracker,this.childrenTracker=new Do.ChannelzChildrenTracker,this.streamTracker=new Do.ChannelzCallTracker),this.channelzRef=(0, Do.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(i,void 0,2)),this.secureConnector=n._createSecureConnector(e,i);}getChannelzInfo(){return {state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){_L.trace(bb.LogVerbosity.DEBUG,gke,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}refTrace(e){_L.trace(bb.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}handleBackoffTimer(){this.continueConnecting?this.transitionToState([it.ConnectivityState.TRANSIENT_FAILURE],it.ConnectivityState.CONNECTING):this.transitionToState([it.ConnectivityState.TRANSIENT_FAILURE],it.ConnectivityState.IDLE);}startBackoff(){this.backoffTimeout.runOnce();}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset();}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let r=Math.min(this.keepaliveTime,_ke);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":r});}this.connector.connect(this.subchannelAddress,this.secureConnector,e).then(r=>{this.transitionToState([it.ConnectivityState.CONNECTING],it.ConnectivityState.READY)?(this.transport=r,this.channelzEnabled&&this.childrenTracker.refChild(r.getChannelzRef()),r.addDisconnectListener(i=>{this.transitionToState([it.ConnectivityState.READY],it.ConnectivityState.IDLE),i&&this.keepaliveTime>0&&(this.keepaliveTime*=2,_L.log(bb.LogVerbosity.ERROR,`Connection to ${(0, fke.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`));})):r.shutdown();},r=>{this.transitionToState([it.ConnectivityState.CONNECTING],it.ConnectivityState.TRANSIENT_FAILURE,`${r}`);});}transitionToState(e,r,i){var n,a;if(e.indexOf(this.connectivityState)===-1)return  false;i?this.trace(it.ConnectivityState[this.connectivityState]+" -> "+it.ConnectivityState[r]+' with error "'+i+'"'):this.trace(it.ConnectivityState[this.connectivityState]+" -> "+it.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+it.ConnectivityState[r]);let o=this.connectivityState;switch(this.connectivityState=r,r){case it.ConnectivityState.READY:this.stopBackoff();break;case it.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=false;break;case it.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(n=this.transport)===null||n===void 0||n.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer();});break;case it.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let s of this.stateListeners)s(this,o,r,this.keepaliveTime,i);return  true}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1;}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0, Do.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([it.ConnectivityState.CONNECTING,it.ConnectivityState.READY],it.ConnectivityState.IDLE);}));}unrefIfOneRef(){return this.refcount===1?(this.unref(),true):false}createCall(e,r,i,n){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:o=>{o.code===bb.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed();}}):a={},this.transport.createCall(e,r,i,n,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([it.ConnectivityState.IDLE],it.ConnectivityState.CONNECTING)||this.connectivityState===it.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=true);});}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e);}removeConnectivityStateListener(e){this.stateListeners.delete(e);}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([it.ConnectivityState.TRANSIENT_FAILURE],it.ConnectivityState.CONNECTING);});}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return  true}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e);}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new mke.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(e){throw new Error("Not implemented")}getOrCreateDataProducer(e,r){let i=this.dataProducers.get(e);if(i)return i;let n=r(this);return this.dataProducers.set(e,n),n}removeDataProducer(e){this.dataProducers.delete(e);}};Rb.Subchannel=SL;});var pte=T(Ab=>{var yL;Object.defineProperty(Ab,"__esModule",{value:true});Ab.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;Ab.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((yL=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&yL!==void 0?yL:"false")==="true";});var bL=T(Bu=>{Object.defineProperty(Bu,"__esModule",{value:true});Bu.DEFAULT_PORT=void 0;Bu.setup=Ake;var fte=ki(),EL=L("dns"),Ske=M0(),TL=ke(),lp=wu(),yke=cr(),Eke=lt(),Tke=ke(),Za=Br(),hte=L("net"),vke=qd(),mte=pte(),bke="dns_resolver";function ko(t){Eke.trace(Tke.LogVerbosity.DEBUG,bke,t);}Bu.DEFAULT_PORT=443;var Rke=3e4,vL=class{constructor(e,r,i){var n,a,o;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=false,this.isNextResolutionTimerRunning=false,this.isServiceConfigEnabled=true,this.returnedIpResult=false,this.alternativeResolver=new EL.promises.Resolver,ko("Resolver constructed for target "+(0, Za.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);let s=(0, Za.splitHostPort)(e.path);s===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0, hte.isIPv4)(s.host)||(0, hte.isIPv6)(s.host)?(this.ipResult=[{addresses:[{host:s.host,port:(n=s.port)!==null&&n!==void 0?n:Bu.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=s.host,this.port=(a=s.port)!==null&&a!==void 0?a:Bu.DEFAULT_PORT),this.percentage=Math.random()*100,i["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=false),this.defaultResolutionError={code:TL.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0, Za.uriToString)(this.target)}`,metadata:new yke.Metadata};let c={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoff=new vke.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff();},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=i["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:Rke,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer);}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(ko("Returning IP address for target "+(0, Za.uriToString)(this.target)),setImmediate(()=>{this.listener((0, lp.statusOrFromValue)(this.ipResult),{},null,"");}),this.returnedIpResult=true),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)ko("Failed to parse DNS address "+(0, Za.uriToString)(this.target)),setImmediate(()=>{this.listener((0, lp.statusOrFromError)({code:TL.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0, Za.uriToString)(this.target)}`}),{},null,"");}),this.stopNextResolutionTimer();else {if(this.pendingLookupPromise!==null)return;ko("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(r=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.latestLookupResult=(0, lp.statusOrFromValue)(r.map(a=>({addresses:[a]})));let i="["+r.map(a=>a.host+":"+a.port).join(",")+"]";ko("Resolved addresses for target "+(0, Za.uriToString)(this.target)+": "+i);let n=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(n);},r=>{this.pendingLookupPromise!==null&&(ko("Resolution error for target "+(0, Za.uriToString)(this.target)+": "+r.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0, lp.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""));}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(r=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;let i;try{i=(0,Ske.extractAndSelectServiceConfig)(r,this.percentage),i?this.latestServiceConfigResult=(0,lp.statusOrFromValue)(i):this.latestServiceConfigResult=null;}catch(n){this.latestServiceConfigResult=(0, lp.statusOrFromError)({code:TL.Status.UNAVAILABLE,details:`Parsing service config failed with error ${n.message}`});}this.latestLookupResult!==null&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");},r=>{}));}}handleHealthStatus(e){e?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=true;}async lookup(e){if(mte.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){ko("Using alternative DNS resolver.");let i=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(i.every(n=>n.status==="rejected"))throw new Error(i[0].reason);return i.reduce((n,a)=>a.status==="fulfilled"?[...n,...a.value]:n,[]).map(n=>({host:n,port:+this.port}))}return (await EL.promises.lookup(e,{all:true})).map(i=>({host:i.address,port:+this.port}))}async resolveTxt(e){return mte.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(ko("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):EL.promises.resolveTxt(e)}startNextResolutionTimer(){var e,r;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff();},this.minTimeBetweenResolutionsMs),(r=(e=this.nextResolutionTimer).unref)===null||r===void 0||r.call(e),this.isNextResolutionTimerRunning=true;}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=false;}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=false,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution());}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?ko('resolution update delayed by "min time between resolutions" rate limit'):ko("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=true):this.startResolutionWithBackoff());}destroy(){this.continueResolving=false,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=false;}static getDefaultAuthority(e){return e.path}};function Ake(){(0, fte.registerResolver)("dns",vL),(0, fte.registerDefaultScheme)("dns");}});var RL=T(Dg=>{Object.defineProperty(Dg,"__esModule",{value:true});Dg.parseCIDR=Ste;Dg.mapProxyName=Dke;Dg.getProxiedConnection=kke;var Mg=lt(),dp=ke(),_te=L("net"),Oke=L("http"),xke=lt(),gte=fn(),Lg=Br(),Cke=L("url"),Nke=bL(),Pke="proxy";function pp(t){xke.trace(dp.LogVerbosity.DEBUG,Pke,t);}function Ike(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return {};let r;try{r=new Cke.URL(t);}catch{return (0, Mg.log)(dp.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(r.protocol!=="http:")return (0, Mg.log)(dp.LogVerbosity.ERROR,`"${r.protocol}" scheme not supported in proxy URI`),{};let i=null;r.username&&(r.password?((0, Mg.log)(dp.LogVerbosity.INFO,"userinfo found in proxy URI"),i=decodeURIComponent(`${r.username}:${r.password}`)):i=r.username);let n=r.hostname,a=r.port;a===""&&(a="80");let o={address:`${n}:${a}`};return i&&(o.creds=i),pp("Proxy server "+o.address+" set by environment variable "+e),o}function wke(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(pp("No proxy server list set by environment variable "+e),t.split(",")):[]}function Ste(t){let e=t.split("/");if(e.length!==2)return null;let r=parseInt(e[1],10);return !(0, _te.isIPv4)(e[0])||Number.isNaN(r)||r<0||r>32?null:{ip:yte(e[0]),prefixLength:r}}function yte(t){return t.split(".").reduce((e,r)=>(e<<8)+parseInt(r,10),0)}function Mke(t,e){let r=t.ip,i=-1<<32-t.prefixLength;return (yte(e)&i)===(r&i)}function Lke(t){for(let e of wke()){let r=Ste(e);if((0, _te.isIPv4)(t)&&r&&Mke(r,t))return  true;if(t.endsWith(e))return  true}return  false}function Dke(t,e){var r;let i={target:t,extraOptions:{}};if(((r=e["grpc.enable_http_proxy"])!==null&&r!==void 0?r:1)===0||t.scheme==="unix")return i;let n=Ike();if(!n.address)return i;let a=(0, Lg.splitHostPort)(t.path);if(!a)return i;let o=a.host;if(Lke(o))return pp("Not using proxy for target in no_proxy list: "+(0, Lg.uriToString)(t)),i;let s={"grpc.http_connect_target":(0, Lg.uriToString)(t)};return n.creds&&(s["grpc.http_connect_creds"]=n.creds),{target:{scheme:"dns",path:n.address},extraOptions:s}}function kke(t,e){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve(null);let i=e["grpc.http_connect_target"],n=(0, Lg.parseUri)(i);if(n===null)return Promise.resolve(null);let a=(0, Lg.splitHostPort)(n.path);if(a===null)return Promise.resolve(null);let o=`${a.host}:${(r=a.port)!==null&&r!==void 0?r:Nke.DEFAULT_PORT}`,s={method:"CONNECT",path:o},c={Host:o};(0, gte.isTcpSubchannelAddress)(t)?(s.host=t.host,s.port=t.port):s.socketPath=t.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),s.headers=c;let u=(0, gte.subchannelAddressToString)(t);return pp("Using proxy "+u+" to connect to "+s.path),new Promise((l,d)=>{let p=Oke.request(s);p.once("connect",(f,_,y)=>{p.removeAllListeners(),_.removeAllListeners(),f.statusCode===200?(pp("Successfully connected to "+s.path+" through proxy "+u),y.length>0&&_.unshift(y),pp("Successfully established a plaintext connection to "+s.path+" through proxy "+u),l(_)):((0, Mg.log)(dp.LogVerbosity.ERROR,"Failed to connect to "+s.path+" through proxy "+u+" with status "+f.statusCode),d());}),p.once("error",f=>{p.removeAllListeners(),(0, Mg.log)(dp.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+f.message),d();}),p.end();})}});var OL=T(Ob=>{Object.defineProperty(Ob,"__esModule",{value:true});Ob.StreamDecoder=void 0;var Uo;(function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE";})(Uo||(Uo={}));var AL=class{constructor(e){this.maxReadMessageLength=e,this.readState=Uo.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0;}write(e){let r=0,i,n=[];for(;r<e.length;)switch(this.readState){case Uo.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=Uo.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case Uo.READING_SIZE:if(i=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+i),this.readSizeRemaining-=i,r+=i,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=Uo.READING_MESSAGE;else {let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=Uo.NO_DATA,n.push(a);}}break;case Uo.READING_MESSAGE:if(i=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+i)),this.readMessageRemaining-=i,r+=i,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(a,this.readMessageSize+5);this.readState=Uo.NO_DATA,n.push(o);}break;default:throw new Error("Unexpected read state")}return n}};Ob.StreamDecoder=AL;});var Ete=T(xb=>{Object.defineProperty(xb,"__esModule",{value:true});xb.Http2SubchannelCall=void 0;var Ws=L("http2"),Uke=L("os"),ot=ke(),Ks=cr(),$ke=OL(),zke=lt(),Vke=ke(),Bke="subchannel_call";function Fke(t){for(let[e,r]of Object.entries(Uke.constants.errno))if(r===t)return e;return "Unknown system error "+t}function xL(t){let e=`Received HTTP status code ${t}`,r;switch(t){case 400:r=ot.Status.INTERNAL;break;case 401:r=ot.Status.UNAUTHENTICATED;break;case 403:r=ot.Status.PERMISSION_DENIED;break;case 404:r=ot.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:r=ot.Status.UNAVAILABLE;break;default:r=ot.Status.UNKNOWN;}return {code:r,details:e,metadata:new Ks.Metadata}}var CL=class{constructor(e,r,i,n,a){var o;this.http2Stream=e,this.callEventTracker=r,this.listener=i,this.transport=n,this.callId=a,this.isReadFilterPending=false,this.isPushPending=false,this.canPush=false,this.readsClosed=false,this.statusOutput=false,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=false,this.connectionDropped=false;let s=(o=n.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:ot.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new $ke.StreamDecoder(s),e.on("response",(c,u)=>{let l="";for(let d of Object.keys(c))l+="		"+d+": "+c[d]+`
`;if(this.trace(`Received server headers:
`+l),this.httpStatusCode=c[":status"],u&Ws.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(c);else {let d;try{d=Ks.Metadata.fromHttp2Headers(c);}catch(p){this.endCall({code:ot.Status.UNKNOWN,details:p.message,metadata:new Ks.Metadata});return}this.listener.onReceiveMetadata(d);}}),e.on("trailers",c=>{this.handleTrailers(c);}),e.on("data",c=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+c.length);let u;try{u=this.decoder.write(c);}catch(l){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let d=xL(this.httpStatusCode);this.cancelWithStatus(d.code,d.details);}else this.cancelWithStatus(ot.Status.RESOURCE_EXHAUSTED,l.message);return}for(let l of u)this.trace("parsed message of length "+l.length),this.callEventTracker.addMessageReceived(),this.tryPush(l);}),e.on("end",()=>{this.readsClosed=true,this.maybeOutputStatus();}),e.on("close",()=>{this.serverEndedCall=true,process.nextTick(()=>{var c;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((c=this.finalStatus)===null||c===void 0?void 0:c.code)===ot.Status.OK)return;let u,l="";switch(e.rstCode){case Ws.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let d=xL(this.httpStatusCode);u=d.code,l=d.details;}else u=ot.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case Ws.constants.NGHTTP2_REFUSED_STREAM:u=ot.Status.UNAVAILABLE,l="Stream refused by server";break;case Ws.constants.NGHTTP2_CANCEL:this.connectionDropped?(u=ot.Status.UNAVAILABLE,l="Connection dropped"):(u=ot.Status.CANCELLED,l="Call cancelled");break;case Ws.constants.NGHTTP2_ENHANCE_YOUR_CALM:u=ot.Status.RESOURCE_EXHAUSTED,l="Bandwidth exhausted or memory limit exceeded";break;case Ws.constants.NGHTTP2_INADEQUATE_SECURITY:u=ot.Status.PERMISSION_DENIED,l="Protocol not secure enough";break;case Ws.constants.NGHTTP2_INTERNAL_ERROR:u=ot.Status.INTERNAL,this.internalError===null?l=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(u=ot.Status.UNAVAILABLE,l=this.internalError.message):l=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:u=ot.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode}`;}this.endCall({code:u,details:l,metadata:new Ks.Metadata,rstCode:e.rstCode});});}),e.on("error",c=>{c.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+c.message+" code="+c.code+" errno="+Fke(c.errno)+" syscall="+c.syscall),this.internalError=c),this.callEventTracker.onStreamEnd(false);});}getDeadlineInfo(){return [`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=true,setImmediate(()=>{this.endCall({code:ot.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Ks.Metadata});});}outputStatus(){this.statusOutput||(this.statusOutput=true,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus);}),this.http2Stream.resume());}trace(e){zke.trace(Vke.LogVerbosity.DEBUG,Bke,"["+this.callId+"] "+e);}endCall(e){(this.finalStatus===null||this.finalStatus.code===ot.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream();}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==ot.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus();}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=false,this.isPushPending=true,process.nextTick(()=>{this.isPushPending=false,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus());});}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e));}handleTrailers(e){this.serverEndedCall=true,this.callEventTracker.onStreamEnd(true);let r="";for(let o of Object.keys(e))r+="		"+o+": "+e[o]+`
`;this.trace(`Received server trailers:
`+r);let i;try{i=Ks.Metadata.fromHttp2Headers(e);}catch{i=new Ks.Metadata;}let n=i.getMap(),a;if(typeof n["grpc-status"]=="string"){let o=Number(n["grpc-status"]);this.trace("received status code "+o+" from server"),i.remove("grpc-status");let s="";if(typeof n["grpc-message"]=="string"){try{s=decodeURI(n["grpc-message"]);}catch{s=n["grpc-message"];}i.remove("grpc-message"),this.trace('received status details string "'+s+'" from server');}a={code:o,details:s,metadata:i};}else this.httpStatusCode?(a=xL(this.httpStatusCode),a.metadata=i):a={code:ot.Status.UNKNOWN,details:"No status information received",metadata:i};this.endCall(a);}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else {let r;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===ot.Status.OK?r=Ws.constants.NGHTTP2_NO_ERROR:r=Ws.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r);}}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.endCall({code:e,details:r,metadata:new Ks.Metadata});}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==ot.Status.OK){this.readsClosed=true,this.maybeOutputStatus();return}if(this.canPush=true,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length);let i=n=>{process.nextTick(()=>{var a;let o=ot.Status.UNAVAILABLE;n?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=ot.Status.INTERNAL),n&&this.cancelWithStatus(o,`Write error: ${n.message}`),(a=e.callback)===null||a===void 0||a.call(e);});};this.trace("sending data chunk of length "+r.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(r,i);}catch(n){this.endCall({code:ot.Status.UNAVAILABLE,details:`Write failed with error ${n.message}`,metadata:new Ks.Metadata});}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end();}};xb.Http2SubchannelCall=CL;});var Tte=T(Pb=>{Object.defineProperty(Pb,"__esModule",{value:true});Pb.Http2SubchannelConnector=void 0;var Fu=L("http2"),Hke=L("tls"),Cb=Ya(),kg=ke(),Gke=RL(),fp=lt(),jke=ki(),Nb=fn(),NL=Br(),qke=L("net"),Wke=Ete(),Kke=hb(),PL="transport",Yke="transport_flowctrl",Zke=f0().version,{HTTP2_HEADER_AUTHORITY:Xke,HTTP2_HEADER_CONTENT_TYPE:Jke,HTTP2_HEADER_METHOD:Qke,HTTP2_HEADER_PATH:eUe,HTTP2_HEADER_TE:tUe,HTTP2_HEADER_USER_AGENT:rUe}=Fu.constants,nUe=2e4,iUe=Buffer.from("too_many_pings","ascii"),IL=class{constructor(e,r,i,n){this.session=e,this.options=i,this.remoteName=n,this.keepaliveTimer=null,this.pendingSendKeepalivePing=false,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=false,this.channelzEnabled=true,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0, Nb.subchannelAddressToString)(r),i["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.streamTracker=new Cb.ChannelzCallTrackerStub):this.streamTracker=new Cb.ChannelzCallTracker,this.channelzRef=(0, Cb.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[i["grpc.primary_user_agent"],`grpc-node-js/${Zke}`,i["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in i?this.keepaliveTimeMs=i["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in i?this.keepaliveTimeoutMs=i["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=nUe,"grpc.keepalive_permit_without_calls"in i?this.keepaliveWithoutCalls=i["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=false,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect();}),e.once("goaway",(a,o,s)=>{let c=false;a===Fu.constants.NGHTTP2_ENHANCE_YOUR_CALM&&s&&s.equals(iUe)&&(c=true),this.trace("connection closed by GOAWAY with code "+a+" and data "+s?.toString()),this.reportDisconnectToOwner(c);}),e.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect();}),e.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect();}),fp.isTracerEnabled(PL)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a));}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a));})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),e.socket instanceof Hke.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:e.socket.getPeerCertificate()}:this.authContext={};}getChannelzInfo(){var e,r,i;let n=this.session.socket,a=n.remoteAddress?(0, Nb.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,o=n.localAddress?(0, Nb.stringToSubchannelAddress)(n.localAddress,n.localPort):null,s;if(this.session.encrypted){let u=n,l=u.getCipher(),d=u.getCertificate(),p=u.getPeerCertificate();s={cipherSuiteStandardName:(e=l.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:l.standardName?null:l.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:p&&"raw"in p?p.raw:null};}else s=null;return {remoteAddress:a,localAddress:o,security:s,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(r=this.session.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=this.session.state.remoteWindowSize)!==null&&i!==void 0?i:null}}trace(e){fp.trace(kg.LogVerbosity.DEBUG,PL,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}keepaliveTrace(e){fp.trace(kg.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}flowControlTrace(e){fp.trace(kg.LogVerbosity.DEBUG,Yke,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}internalsTrace(e){fp.trace(kg.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e);}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=true,this.disconnectListeners.forEach(r=>r(e)));}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(false);for(let e of this.activeCalls)e.onDisconnect();setImmediate(()=>{this.session.destroy();});}addDisconnectListener(e){this.disconnectListeners.push(e);}canSendPing(){return !this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,r;if(!this.canSendPing()){this.pendingSendKeepalivePing=true;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect();},this.keepaliveTimeoutMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e);let i="";try{this.session.ping((a,o,s)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer());})||(i="Ping returned false");}catch(n){i=(n instanceof Error?n.message:"")||"Unknown error";}i&&(this.keepaliveTrace("Ping send failed: "+i),this.handleDisconnect());}maybeStartKeepalivePingTimer(){var e,r;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=false,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing();},this.keepaliveTimeMs),(r=(e=this.keepaliveTimer).unref)===null||r===void 0||r.call(e)));}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null);}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref();}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer());}createCall(e,r,i,n,a){let o=e.toHttp2Headers();o[Xke]=r,o[rUe]=this.userAgent,o[Jke]="application/grpc",o[Qke]="POST",o[eUe]=i,o[tUe]="trailers";let s;try{s=this.session.request(o);}catch(l){throw this.handleDisconnect(),l}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let c,u;return this.channelzEnabled?(this.streamTracker.addCallStarted(),c={addMessageSent:()=>{var l;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(l=a.addMessageSent)===null||l===void 0||l.call(a);},addMessageReceived:()=>{var l;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(l=a.addMessageReceived)===null||l===void 0||l.call(a);},onCallEnd:l=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,l),this.removeActiveCall(u);},onStreamEnd:l=>{var d;l?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=a.onStreamEnd)===null||d===void 0||d.call(a,l);}}):c={addMessageSent:()=>{var l;(l=a.addMessageSent)===null||l===void 0||l.call(a);},addMessageReceived:()=>{var l;(l=a.addMessageReceived)===null||l===void 0||l.call(a);},onCallEnd:l=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,l),this.removeActiveCall(u);},onStreamEnd:l=>{var d;(d=a.onStreamEnd)===null||d===void 0||d.call(a,l);}},u=new Wke.Http2SubchannelCall(s,c,n,this,(0, Kke.getNextCallNumber)()),this.addActiveCall(u),u}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0, Cb.unregisterChannelzRef)(this.channelzRef);}},wL=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=false;}trace(e){fp.trace(kg.LogVerbosity.DEBUG,PL,(0, NL.uriToString)(this.channelTarget)+" "+e);}createSession(e,r,i){return this.isShutdown?Promise.reject():e.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((n,a)=>{var o,s,c,u,l,d,p,f;let _=null,y=this.channelTarget;if("grpc.http_connect_target"in i){let pe=(0, NL.parseUri)(i["grpc.http_connect_target"]);pe&&(y=pe,_=(0, NL.uriToString)(pe));}let v=e.secure?"https":"http",O=(0, jke.getDefaultAuthority)(y),x=()=>{var pe;(pe=this.session)===null||pe===void 0||pe.destroy(),this.session=null,setImmediate(()=>{re||(re=true,a(`${ee.trim()} (${new Date().toISOString()})`));});},I=pe=>{var C;(C=this.session)===null||C===void 0||C.destroy(),ee=pe.message,this.trace("connection failed with error "+ee),re||(re=true,a(`${ee} (${new Date().toISOString()})`));},R={createConnection:(pe,C)=>e.socket,settings:{initialWindowSize:(u=(o=i["grpc-node.flow_control_window"])!==null&&o!==void 0?o:(c=(s=Fu.getDefaultSettings)===null||s===void 0?void 0:s.call(Fu))===null||c===void 0?void 0:c.initialWindowSize)!==null&&u!==void 0?u:65535},maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER,maxSessionMemory:(l=i["grpc-node.max_session_memory"])!==null&&l!==void 0?l:Number.MAX_SAFE_INTEGER},F=Fu.connect(`${v}://${O}`,R),$=(f=(p=(d=Fu.getDefaultSettings)===null||d===void 0?void 0:d.call(Fu))===null||p===void 0?void 0:p.initialWindowSize)!==null&&f!==void 0?f:65535,G=i["grpc-node.flow_control_window"];this.session=F;let ee="Failed to connect",re=false;F.unref(),F.once("remoteSettings",()=>{var pe;if(G&&G>$)try{F.setLocalWindowSize(G);}catch{let me=G-((pe=F.state.localWindowSize)!==null&&pe!==void 0?pe:$);me>0&&F.incrementWindowSize(me);}F.removeAllListeners(),e.socket.removeListener("close",x),e.socket.removeListener("error",I),n(new IL(F,r,i,_)),this.session=null;}),F.once("close",x),F.once("error",I),e.socket.once("close",x),e.socket.once("error",I);})}tcpConnect(e,r){return (0, Gke.getProxiedConnection)(e,r).then(i=>i||new Promise((n,a)=>{let o=()=>{a(new Error("Socket closed"));},s=u=>{a(u);},c=qke.connect(e,()=>{c.removeListener("close",o),c.removeListener("error",s),n(c);});c.once("close",o),c.once("error",s);}))}async connect(e,r,i){if(this.isShutdown)return Promise.reject();let n=null,a=null,o=(0, Nb.subchannelAddressToString)(e);try{return this.trace(o+" Waiting for secureConnector to be ready"),await r.waitForReady(),this.trace(o+" secureConnector is ready"),n=await this.tcpConnect(e,i),n.setNoDelay(),this.trace(o+" Established TCP connection"),a=await r.connect(n),this.trace(o+" Established secure connection"),this.createSession(a,e,i)}catch(s){throw n?.destroy(),a?.socket.destroy(),s}}shutdown(){var e;this.isShutdown=true,(e=this.session)===null||e===void 0||e.close(),this.session=null;}};Pb.Http2SubchannelConnector=wL;});var vte=T($g=>{Object.defineProperty($g,"__esModule",{value:true});$g.SubchannelPool=void 0;$g.getSubchannelPool=pUe;var oUe=W7(),sUe=dte(),aUe=fn(),cUe=Br(),uUe=Tte(),lUe=1e4,Ug=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null;}unrefUnusedSubchannels(){let e=true;for(let r in this.pool){let n=this.pool[r].filter(a=>!a.subchannel.unrefIfOneRef());n.length>0&&(e=false),this.pool[r]=n;}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null);}ensureCleanupTask(){var e,r;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels();},lUe),(r=(e=this.cleanupTimer).unref)===null||r===void 0||r.call(e));}getOrCreateSubchannel(e,r,i,n){this.ensureCleanupTask();let a=(0, cUe.uriToString)(e);if(a in this.pool){let s=this.pool[a];for(let c of s)if((0, aUe.subchannelAddressEqual)(r,c.subchannelAddress)&&(0, oUe.channelOptionsEqual)(i,c.channelArguments)&&n._equals(c.channelCredentials))return c.subchannel}let o=new sUe.Subchannel(e,r,i,n,new uUe.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:r,channelArguments:i,channelCredentials:n,subchannel:o}),o.ref(),o}};$g.SubchannelPool=Ug;var dUe=new Ug;function pUe(t){return t?dUe:new Ug}});var Ate=T(Mb=>{Object.defineProperty(Mb,"__esModule",{value:true});Mb.LoadBalancingCall=void 0;var bte=Fr(),Ib=ke(),Rte=cp(),wb=cr(),zg=$s(),fUe=Br(),hUe=lt(),ML=Pg(),mUe=L("http2"),gUe="load_balancing_call",LL=class{constructor(e,r,i,n,a,o,s){var c,u;this.channel=e,this.callConfig=r,this.methodName=i,this.host=n,this.credentials=a,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=false,this.pendingMessage=null,this.pendingHalfClose=false,this.ended=false,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let l=this.methodName.split("/"),d="";l.length>=2&&(d=l[1]);let p=(u=(c=(0, fUe.splitHostPort)(this.host))===null||c===void 0?void 0:c.host)!==null&&u!==void 0?u:"localhost";this.serviceUrl=`https://${p}/${d}`,this.startTime=new Date;}getDeadlineInfo(){var e,r;let i=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&i.push("wait_for_ready"),i.push(`LB pick: ${(0, Rte.formatDateDifference)(this.startTime,this.childStartTime)}`)),i.push(...this.child.getDeadlineInfo()),i):(!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady&&i.push("wait_for_ready"),i.push("Waiting for LB pick"),i)}trace(e){hUe.trace(Ib.LogVerbosity.DEBUG,gUe,"["+this.callNumber+"] "+e);}outputStatus(e,r){var i,n;if(!this.ended){this.ended=true,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:r});(i=this.listener)===null||i===void 0||i.onReceiveStatus(a),(n=this.onCallEnded)===null||n===void 0||n.call(this,a.code,a.details,a.metadata);}}doPick(){var e,r;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let i=this.metadata.clone(),n=this.channel.doPick(i,this.callConfig.pickInformation),a=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;switch(this.trace("Pick result: "+zg.PickResultType[n.pickResultType]+" subchannel: "+a+" status: "+((e=n.status)===null||e===void 0?void 0:e.code)+" "+((r=n.status)===null||r===void 0?void 0:r.details)),n.pickResultType){case zg.PickResultType.COMPLETE:this.credentials.compose(n.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(u=>{var l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(i.merge(u),i.get("authorization").length>1&&this.outputStatus({code:Ib.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new wb.Metadata},"PROCESSED"),n.subchannel.getConnectivityState()!==bte.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+bte.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&i.set("grpc-timeout",(0, Rte.getDeadlineTimeoutString)(this.deadline));try{this.child=n.subchannel.getRealSubchannel().createCall(i,this.host,this.methodName,{onReceiveMetadata:d=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(d);},onReceiveMessage:d=>{this.trace("Received message"),this.listener.onReceiveMessage(d);},onReceiveStatus:d=>{this.trace("Received status"),d.rstCode===mUe.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(d,"REFUSED"):this.outputStatus(d,"PROCESSED");}}),this.childStartTime=new Date;}catch(d){this.trace("Failed to start call on picked subchannel "+a+" with error "+d.message),this.outputStatus({code:Ib.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+d.message,metadata:new wb.Metadata},"NOT_STARTED");return}(l=n.onCallStarted)===null||l===void 0||l.call(n),this.onCallEnded=n.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose();},u=>{let{code:l,details:d}=(0, ML.restrictControlPlaneStatusCode)(typeof u.code=="number"?u.code:Ib.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${u.message}`);this.outputStatus({code:l,details:d,metadata:new wb.Metadata},"PROCESSED");});break;case zg.PickResultType.DROP:let{code:s,details:c}=(0, ML.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:s,details:c,metadata:n.status.metadata},"DROP");});break;case zg.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else {let{code:u,details:l}=(0, ML.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:u,details:l,metadata:n.status.metadata},"PROCESSED");});}break;case zg.PickResultType.QUEUE:this.channel.queueCallForPick(this);}}cancelWithStatus(e,r){var i;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new wb.Metadata},"PROCESSED");}getPeer(){var e,r;return (r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.listener=r,this.metadata=e,this.doPick();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.child.sendMessageWithContext(e,r):this.pendingMessage={context:e,message:r};}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=true;}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=true;}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}};Mb.LoadBalancingCall=LL;});var xte=T(Lb=>{Object.defineProperty(Lb,"__esModule",{value:true});Lb.ResolvingCall=void 0;var _Ue=_v(),Hu=ke(),Gu=cp(),Ote=cr(),SUe=lt(),yUe=Pg(),EUe="resolving_call",DL=class{constructor(e,r,i,n,a){this.channel=e,this.method=r,this.filterStackFactory=n,this.callNumber=a,this.child=null,this.readPending=false,this.pendingMessage=null,this.pendingHalfClose=false,this.ended=false,this.readFilterPending=false,this.writeFilterPending=false,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=_Ue.CallCredentials.createEmpty(),this.deadline=i.deadline,this.host=i.host,i.parentCall&&(i.flags&Hu.Propagate.CANCELLATION&&i.parentCall.on("cancelled",()=>{this.cancelWithStatus(Hu.Status.CANCELLED,"Cancelled by parent call");}),i.flags&Hu.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+i.parentCall.getDeadline()),this.deadline=(0, Gu.minDeadline)(this.deadline,i.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer();}trace(e){SUe.trace(Hu.LogVerbosity.DEBUG,EUe,"["+this.callNumber+"] "+e);}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0, Gu.deadlineToString)(this.deadline));let e=(0, Gu.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let r=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(Hu.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let i=[],n=new Date;i.push(`Deadline exceeded after ${(0, Gu.formatDateDifference)(this.deadlineStartTime,n)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&i.push(`name resolution: ${(0, Gu.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&i.push(`metadata filters: ${(0, Gu.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):i.push("waiting for metadata filters")):i.push("waiting for name resolution"),this.child&&i.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(Hu.Status.DEADLINE_EXCEEDED,i.join(","));};e<=0?process.nextTick(r):this.deadlineTimer=setTimeout(r,e);}}outputStatus(e){if(!this.ended){this.ended=true,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let r=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+r.code+' details="'+r.details+'"'),this.statusWatchers.forEach(i=>i(r)),process.nextTick(()=>{var i;(i=this.listener)===null||i===void 0||i.onReceiveStatus(r);});}}sendMessageOnChild(e,r){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let i=this.child;this.writeFilterPending=true,this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags})).then(n=>{this.writeFilterPending=false,i.sendMessageWithContext(e,n.message),this.pendingHalfClose&&i.halfClose();},n=>{this.cancelWithStatus(n.code,n.details);});}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let r=e.config;if(r.status!==Hu.Status.OK){let{code:i,details:n}=(0, yUe.restrictControlPlaneStatusCode)(r.status,"Failed to route call to method "+this.method);this.outputStatus({code:i,details:n,metadata:new Ote.Metadata});return}if(r.methodConfig.timeout){let i=new Date;i.setSeconds(i.getSeconds()+r.methodConfig.timeout.seconds),i.setMilliseconds(i.getMilliseconds()+r.methodConfig.timeout.nanos/1e6),this.deadline=(0, Gu.minDeadline)(this.deadline,i),this.runDeadlineTimer();}this.filterStackFactory.push(r.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(i=>{this.child=this.channel.createRetryingCall(r,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(i,{onReceiveMetadata:n=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(n));},onReceiveMessage:n=>{this.trace("Received message"),this.readFilterPending=true,this.filterStack.receiveMessage(n).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=false,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus);},a=>{this.cancelWithStatus(a.code,a.details);});},onReceiveStatus:n=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=n:this.outputStatus(n);}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose();},i=>{this.outputStatus(i);});}reportResolverError(e){var r;!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e);}cancelWithStatus(e,r){var i;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(i=this.child)===null||i===void 0||i.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new Ote.Metadata});}getPeer(){var e,r;return (r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.metadata=e.clone(),this.listener=r,this.getConfig();}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.sendMessageOnChild(e,r):this.pendingMessage={context:e,message:r};}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=true;}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=true;}setCredentials(e){this.credentials=e;}addStatusWatcher(e){this.statusWatchers.push(e);}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}};Lb.ResolvingCall=DL;});var Cte=T(Xa=>{Object.defineProperty(Xa,"__esModule",{value:true});Xa.RetryingCall=Xa.MessageBufferTracker=Xa.RetryThrottler=void 0;var Db=ke(),TUe=cp(),vUe=cr(),bUe=lt(),RUe="retrying_call",UL=class{constructor(e,r,i){this.maxTokens=e,this.tokenRatio=r,i?this.tokens=i.tokens*(e/i.maxTokens):this.tokens=e;}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens);}addCallFailed(){this.tokens=Math.max(this.tokens-1,0);}canRetryCall(){return this.tokens>this.maxTokens/2}};Xa.RetryThrottler=UL;var $L=class{constructor(e,r){this.totalLimit=e,this.limitPerCall=r,this.totalAllocated=0,this.allocatedPerCall=new Map;}allocate(e,r){var i;let n=(i=this.allocatedPerCall.get(r))!==null&&i!==void 0?i:0;return this.limitPerCall-n<e||this.totalLimit-this.totalAllocated<e?false:(this.allocatedPerCall.set(r,n+e),this.totalAllocated+=e,true)}free(e,r){var i;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=(i=this.allocatedPerCall.get(r))!==null&&i!==void 0?i:0;if(n<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(r,n-e);}freeAll(e){var r;let i=(r=this.allocatedPerCall.get(e))!==null&&r!==void 0?r:0;if(this.totalAllocated<i)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${i} > total allocated ${this.totalAllocated}`);this.totalAllocated-=i,this.allocatedPerCall.delete(e);}};Xa.MessageBufferTracker=$L;var kL="grpc-previous-rpc-attempts",AUe=5,zL=class{constructor(e,r,i,n,a,o,s,c,u){var l;this.channel=e,this.callConfig=r,this.methodName=i,this.host=n,this.credentials=a,this.deadline=o,this.callNumber=s,this.bufferTracker=c,this.retryThrottler=u,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=false,this.transparentRetryUsed=false,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let d=(l=e.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&l!==void 0?l:AUe;if(e.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(r.methodConfig.retryPolicy){this.state="RETRY";let p=r.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(p.initialBackoff.substring(0,p.initialBackoff.length-1)),this.maxAttempts=Math.min(p.maxAttempts,d);}else r.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(r.methodConfig.hedgingPolicy.maxAttempts,d)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date;}getDeadlineInfo(){if(this.underlyingCalls.length===0)return [];let e=[],r=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),r.startTime>this.startTime&&e.push(`time to current attempt start: ${(0, TUe.formatDateDifference)(this.startTime,r.startTime)}`),e.push(...r.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){bUe.trace(Db.LogVerbosity.DEBUG,RUe,"["+this.callNumber+"] "+e);}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata});});}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.reportStatus({code:e,details:r,metadata:new vUe.Metadata});for(let{call:i}of this.underlyingCalls)i.cancelWithStatus(e,r);}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var r;return (r=this.writeBuffer[e-this.writeBufferOffset])!==null&&r!==void 0?r:{entryType:"FREED",allocated:false}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?e=this.getNextBufferIndex():e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let r=this.writeBufferOffset;r<e;r++){let i=this.getBufferEntry(r);i.allocated&&this.bufferTracker.free(i.message.message.length,this.callNumber);}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e;}commitCall(e){var r,i;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",(i=(r=this.callConfig).onCommitted)===null||i===void 0||i.call(r),this.committedCallIndex=e;for(let n=0;n<this.underlyingCalls.length;n++)n!==e&&this.underlyingCalls[n].state!=="COMPLETED"&&(this.underlyingCalls[n].state="COMPLETED",this.underlyingCalls[n].call.cancelWithStatus(Db.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages();}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,r=-1;for(let[i,n]of this.underlyingCalls.entries())n.state==="ACTIVE"&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,r=i);r===-1?this.state="TRANSPARENT_ONLY":this.commitCall(r);}isStatusCodeInList(e,r){return e.some(i=>{var n;return i===r||i.toString().toLowerCase()===((n=Db.Status[r])===null||n===void 0?void 0:n.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var e;let r=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!r)return 0;let n=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,a=Number(r.maxBackoff.substring(0,r.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*r.backoffMultiplier,a),n}maybeRetryCall(e,r){if(this.state!=="RETRY"){r(false);return}if(this.attempts>=this.maxAttempts){r(false);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",r(false);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var n,a;if(this.state!=="RETRY"){r(false);return}!((a=(n=this.retryThrottler)===null||n===void 0?void 0:n.canRetryCall())!==null&&a!==void 0)||a?(r(true),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),r(false));},i);}countActiveCalls(){let e=0;for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,r,i){var n,a,o;switch(this.state){case "COMMITTED":case "NO_RETRY":case "TRANSPARENT_ONLY":this.commitCall(r),this.reportStatus(e);break;case "HEDGING":if(this.isStatusCodeInList((n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&n!==void 0?n:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let s;if(i===null)s=0;else if(i<0){this.state="TRANSPARENT_ONLY",this.commitCall(r),this.reportStatus(e);return}else s=i;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(r),this.reportStatus(e));},s);}else this.commitCall(r),this.reportStatus(e);break;case "RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(i,s=>{s||(this.commitCall(r),this.reportStatus(e));})):(this.commitCall(r),this.reportStatus(e));break}}getPushback(e){let r=e.get("grpc-retry-pushback-ms");if(r.length===0)return null;try{return parseInt(r[0])}catch{return  -1}}handleChildStatus(e,r){var i;if(this.underlyingCalls[r].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[r].call.getCallNumber()+"] in state "+this.underlyingCalls[r].state),this.underlyingCalls[r].state="COMPLETED",e.code===Db.Status.OK){(i=this.retryThrottler)===null||i===void 0||i.addCallSucceeded(),this.commitCall(r),this.reportStatus(e);return}if(this.state==="NO_RETRY"){this.commitCall(r),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let n=this.getPushback(e.metadata);switch(e.progress){case "NOT_STARTED":this.startNewAttempt();break;case "REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,r,n):(this.transparentRetryUsed=true,this.startNewAttempt());break;case "DROP":this.commitCall(r),this.reportStatus(e);break;case "PROCESSED":this.handleProcessedStatus(e,r,n);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()));}maybeStartHedgingTimer(){var e,r,i;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let a=(e=n.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt();},o*1e3),(i=(r=this.hedgingTimer).unref)===null||i===void 0||i.call(r);}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let r=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let i=this.attempts-1,n=this.initialMetadata.clone();i>0&&n.set(kL,`${i}`);let a=false;e.start(n,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(r),a=true,i>0&&o.set(kL,`${i}`),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMetadata(o);},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(r),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMessage(o);},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&i>0&&o.metadata.set(kL,`${i}`),this.handleChildStatus(o,r);}}),this.sendNextChildMessage(r),this.readStarted&&e.startRead();}start(e,r){this.trace("start called"),this.listener=r,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer();}handleChildWriteCompleted(e){var r,i;let n=this.underlyingCalls[e],a=n.nextMessageToSend;(i=(r=this.getBufferEntry(a)).callback)===null||i===void 0||i.call(r),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e);}sendNextChildMessage(e){let r=this.underlyingCalls[e];if(r.state!=="COMPLETED"&&this.getBufferEntry(r.nextMessageToSend)){let i=this.getBufferEntry(r.nextMessageToSend);switch(i.entryType){case "MESSAGE":r.call.sendMessageWithContext({callback:n=>{this.handleChildWriteCompleted(e);}},i.message.message);break;case "HALF_CLOSE":r.nextMessageToSend+=1,r.call.halfClose();break;}}}sendMessageWithContext(e,r){var i;this.trace("write() called with message of length "+r.length);let n={message:r,flags:e.flags},a=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(r.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(i=e.callback)===null||i===void 0||i.call(e);for(let[s,c]of this.underlyingCalls.entries())c.state==="ACTIVE"&&c.nextMessageToSend===a&&c.call.sendMessageWithContext({callback:u=>{this.handleChildWriteCompleted(s);}},r);}else {if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let s=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,s.state==="ACTIVE"&&s.nextMessageToSend===a&&s.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(this.committedCallIndex);}},r);}}startRead(){this.trace("startRead called"),this.readStarted=true;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead();}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:false});for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&r.nextMessageToSend===e&&(r.nextMessageToSend+=1,r.call.halfClose());}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}};Xa.RetryingCall=zL;});var Vg=T(kb=>{Object.defineProperty(kb,"__esModule",{value:true});kb.BaseSubchannelWrapper=void 0;var VL=class{constructor(e){this.child=e,this.healthy=true,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,e.addHealthStateWatcher(r=>{this.healthy&&this.updateHealthListeners();});}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy());}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e);}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e);}startConnecting(){this.child.startConnecting();}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e);}ref(){this.child.ref(),this.refcount+=1;}unref(){this.child.unref(),this.refcount-=1,this.refcount===0&&this.destroy();}destroy(){for(let e of this.dataWatchers)e.destroy();}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e);}removeHealthStateWatcher(e){this.healthListeners.delete(e);}addDataWatcher(e){e.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(e);}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners());}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}};kb.BaseSubchannelWrapper=VL;});var KL=T(ju=>{Object.defineProperty(ju,"__esModule",{value:true});ju.InternalChannel=ju.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var OUe=jd(),xUe=q7(),CUe=vte(),HL=$s(),NUe=cr(),Ja=ke(),PUe=Eb(),IUe=dL(),Nte=ki(),Ub=lt(),wUe=RL(),$b=Br(),ui=Fr(),Bg=Ya(),MUe=Ate(),LUe=cp(),DUe=xte(),BL=hb(),kUe=Pg(),FL=Cte(),UUe=Vg(),$Ue=2147483647,zUe=1e3,VUe=1800*1e3,zb=new Map,BUe=1<<24,FUe=1<<20,GL=class extends UUe.BaseSubchannelWrapper{constructor(e,r){super(e),this.channel=r,this.refCount=0,this.subchannelStateListener=(i,n,a,o)=>{r.throttleKeepalive(o);};}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1;}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this));}},jL=class{pick(e){return {pickResultType:HL.PickResultType.DROP,status:{code:Ja.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new NUe.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}};ju.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";var qL=class{constructor(e){this.target=e,this.trace=new Bg.ChannelzTrace,this.callTracker=new Bg.ChannelzCallTracker,this.childrenTracker=new Bg.ChannelzChildrenTracker,this.state=ui.ConnectivityState.IDLE;}getChannelzInfoCallback(){return ()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}},WL=class{constructor(e,r,i){var n,a,o,s,c,u;if(this.credentials=r,this.options=i,this.connectivityState=ui.ConnectivityState.IDLE,this.currentPicker=new HL.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=true,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof OUe.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new qL(e);let l=(0, $b.parseUri)(e);if(l===null)throw new Error(`Could not parse target name "${e}"`);let d=(0, Nte.mapUriDefaultScheme)(l);if(d===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=false),this.channelzRef=(0, Bg.registerChannelzChannel)(e,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0, Nte.getDefaultAuthority)(d);let p=(0, wUe.mapProxyName)(d,i);this.target=p.target,this.options=Object.assign({},this.options,p.extraOptions),this.subchannelPool=(0, CUe.getSubchannelPool)(((n=this.options["grpc.use_local_subchannel_pool"])!==null&&n!==void 0?n:0)===0),this.retryBufferTracker=new FL.MessageBufferTracker((a=this.options["grpc.retry_buffer_size"])!==null&&a!==void 0?a:BUe,(o=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&o!==void 0?o:FUe),this.keepaliveTime=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:-1,this.idleTimeoutMs=Math.max((c=this.options["grpc.client_idle_timeout_ms"])!==null&&c!==void 0?c:VUe,zUe);let f={createSubchannel:(y,v)=>{let O={};for(let[R,F]of Object.entries(v))R.startsWith(ju.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(O[R]=F);let x=this.subchannelPool.getOrCreateSubchannel(this.target,y,O,this.credentials);return x.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",x.getChannelzRef()),new GL(x,this)},updateState:(y,v)=>{this.currentPicker=v;let O=this.pickQueue.slice();this.pickQueue=[],O.length>0&&this.callRefTimerUnref();for(let x of O)x.doPick();this.updateState(y);},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(y);},removeChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(y);}};this.resolvingLoadBalancer=new xUe.ResolvingLoadBalancer(this.target,f,this.options,(y,v)=>{var O;y.retryThrottling?zb.set(this.getTarget(),new FL.RetryThrottler(y.retryThrottling.maxTokens,y.retryThrottling.tokenRatio,zb.get(this.getTarget()))):zb.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(O=this.configSelector)===null||O===void 0||O.unref(),this.configSelector=v,this.currentResolutionError=null,process.nextTick(()=>{let x=this.configSelectionQueue;this.configSelectionQueue=[],x.length>0&&this.callRefTimerUnref();for(let I of x)I.getConfig();});},y=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+y.code+' and details "'+y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0, kUe.restrictControlPlaneStatusCode)(y.code,y.details)),{metadata:y.metadata}));let v=this.configSelectionQueue;this.configSelectionQueue=[],v.length>0&&this.callRefTimerUnref();for(let O of v)O.reportResolverError(y);}),this.filterStackFactory=new PUe.FilterStackFactory([new IUe.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(i,void 0,2));let _=new Error;(0, Ub.isTracerEnabled)("channel_stacktrace")&&(0, Ub.trace)(Ja.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((u=_.stack)===null||u===void 0?void 0:u.substring(_.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date;}trace(e,r){(0, Ub.trace)(r??Ja.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0, $b.uriToString)(this.target)+" "+e);}callRefTimerRef(){var e,r,i,n;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},$Ue)),!((r=(e=this.callRefTimer).hasRef)===null||r===void 0)&&r.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(n=(i=this.callRefTimer).ref)===null||n===void 0||n.call(i));}callRefTimerUnref(){var e,r,i;(!(!((e=this.callRefTimer)===null||e===void 0)&&e.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer)===null||r===void 0?void 0:r.unref)===null||i===void 0||i.call(r));}removeConnectivityStateWatcher(e){let r=this.connectivityStateWatchers.findIndex(i=>i===e);r>=0&&this.connectivityStateWatchers.splice(r,1);}updateState(e){(0, Ub.trace)(Ja.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0, $b.uriToString)(this.target)+" "+ui.ConnectivityState[this.connectivityState]+" -> "+ui.ConnectivityState[e]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+ui.ConnectivityState[e]),this.connectivityState=e,this.channelzInfoTracker.state=e;let r=this.connectivityStateWatchers.slice();for(let i of r)e!==i.currentState&&(i.timer&&clearTimeout(i.timer),this.removeConnectivityStateWatcher(i),i.callback());e!==ui.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null);}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let r of this.wrappedSubchannels)r.throttleKeepalive(e);}}addWrappedSubchannel(e){this.wrappedSubchannels.add(e);}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e);}doPick(e,r){return this.currentPicker.pick({metadata:e,extraPickInfo:r})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef();}getConfig(e,r){return this.connectivityState!==ui.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(e,r,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef();}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(ui.ConnectivityState.IDLE),this.currentPicker=new HL.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null);}startIdleTimeout(e){var r,i;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a);},e),(i=(r=this.idleTimer).unref)===null||i===void 0||i.call(r);}maybeStartIdleTimer(){this.connectivityState!==ui.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs);}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1;}onCallEnd(e){this.channelzEnabled&&(e.code===Ja.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer();}createLoadBalancingCall(e,r,i,n,a){let o=(0, BL.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+r+'"'),new MUe.LoadBalancingCall(this,e,r,i,n,a,o)}createRetryingCall(e,r,i,n,a){let o=(0, BL.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+r+'"'),new FL.RetryingCall(this,e,r,i,n,a,o,this.retryBufferTracker,zb.get(this.getTarget()))}createResolvingCall(e,r,i,n,a){let o=(0, BL.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0, LUe.deadlineToString)(r));let s={deadline:r,flags:a??Ja.Propagate.DEFAULTS,host:i??this.defaultAuthority,parentCall:n},c=new DUe.ResolvingCall(this,e,s,this.filterStackFactory.clone(),o);return this.onCallStart(),c.addStatusWatcher(u=>{this.onCallEnd(u);}),c}close(){var e;this.resolvingLoadBalancer.destroy(),this.updateState(ui.ConnectivityState.SHUTDOWN),this.currentPicker=new jL;for(let r of this.configSelectionQueue)r.cancelWithStatus(Ja.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let r of this.pickQueue)r.cancelWithStatus(Ja.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0, Bg.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(e=this.configSelector)===null||e===void 0||e.unref(),this.configSelector=null;}getTarget(){return (0, $b.uriToString)(this.target)}getConnectivityState(e){let r=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),r}watchConnectivityState(e,r,i){if(this.connectivityState===ui.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(r!==1/0){let o=r instanceof Date?r:new Date(r),s=new Date;if(r===-1/0||o<=s){process.nextTick(i,new Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(a),i(new Error("Deadline passed without connectivity state change"));},o.getTime()-s.getTime());}let a={currentState:e,callback:i,timer:n};this.connectivityStateWatchers.push(a);}getChannelzRef(){return this.channelzRef}createCall(e,r,i,n,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===ui.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,r,i,n,a)}getOptions(){return this.options}};ju.InternalChannel=WL;});var nM=T(Vb=>{Object.defineProperty(Vb,"__esModule",{value:true});Vb.ChannelImplementation=void 0;var HUe=jd(),GUe=KL(),YL=class{constructor(e,r,i){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof HUe.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(i&&typeof i!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new GUe.InternalChannel(e,r,i);}close(){this.internalChannel.close();}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,r,i){this.internalChannel.watchConnectivityState(e,r,i);}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,r,i,n,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,r,i,n,a)}};Vb.ChannelImplementation=YL;});var Ite=T(Gi=>{Object.defineProperty(Gi,"__esModule",{value:true});Gi.ServerDuplexStreamImpl=Gi.ServerWritableStreamImpl=Gi.ServerReadableStreamImpl=Gi.ServerUnaryCallImpl=void 0;Gi.serverErrorToStatus=rD;var jUe=L("events"),eD=L("stream"),tD=ke(),Pte=cr();function rD(t,e){var r;let i={code:tD.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:(r=e??t.metadata)!==null&&r!==void 0?r:null};return "code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(i.code=t.code,"details"in t&&typeof t.details=="string"&&(i.details=t.details)),i}var ZL=class extends jUe.EventEmitter{constructor(e,r,i,n){super(),this.path=e,this.call=r,this.metadata=i,this.request=n,this.cancelled=false;}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}};Gi.ServerUnaryCallImpl=ZL;var XL=class extends eD.Readable{constructor(e,r,i){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.cancelled=false;}_read(e){this.call.startRead();}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}};Gi.ServerReadableStreamImpl=XL;var JL=class extends eD.Writable{constructor(e,r,i,n){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.request=n,this.pendingStatus={code:tD.Status.OK,details:"OK"},this.cancelled=false,this.trailingMetadata=new Pte.Metadata,this.on("error",a=>{this.pendingStatus=rD(a),this.end();});}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(e,r,i){this.call.sendMessage(e,i);}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}));}end(e){return e&&(this.trailingMetadata=e),super.end()}};Gi.ServerWritableStreamImpl=JL;var QL=class extends eD.Duplex{constructor(e,r,i){super({objectMode:true}),this.path=e,this.call=r,this.metadata=i,this.pendingStatus={code:tD.Status.OK,details:"OK"},this.cancelled=false,this.trailingMetadata=new Pte.Metadata,this.on("error",n=>{this.pendingStatus=rD(n),this.end();});}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e);}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(e){this.call.startRead();}_write(e,r,i){this.call.sendMessage(e,i);}_final(e){var r;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata}));}end(e){return e&&(this.trailingMetadata=e),super.end()}};Gi.ServerDuplexStreamImpl=QL;});var Bb=T(hp=>{Object.defineProperty(hp,"__esModule",{value:true});hp.ServerCredentials=void 0;hp.createCertificateProviderServerCredentials=qUe;hp.createServerCredentialsWithInterceptors=WUe;var nD=A0(),qu=class{constructor(e,r){this.serverConstructorOptions=e,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=r??null;}_addWatcher(e){this.watchers.add(e);}_removeWatcher(e){this.watchers.delete(e);}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(e){this.latestContextOptions=e;for(let r of this.watchers)r(this.latestContextOptions);}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return []}static createInsecure(){return new iD}static createSsl(e,r,i=false){var n;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if(typeof i!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],o=[];for(let s=0;s<r.length;s++){let c=r[s];if(c===null||typeof c!="object")throw new TypeError(`keyCertPair[${s}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw new TypeError(`keyCertPair[${s}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw new TypeError(`keyCertPair[${s}].cert_chain must be a Buffer`);a.push(c.cert_chain),o.push(c.private_key);}return new oD({requestCert:i,ciphers:nD.CIPHER_SUITES},{ca:(n=e??(0, nD.getDefaultRootsData)())!==null&&n!==void 0?n:void 0,cert:a,key:o})}};hp.ServerCredentials=qu;var iD=class t extends qu{constructor(){super(null);}_getSettings(){return null}_equals(e){return e instanceof t}},oD=class t extends qu{constructor(e,r){super(e,r),this.options=Object.assign(Object.assign({},e),r);}_equals(e){if(this===e)return  true;if(!(e instanceof t))return  false;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return  false}else if(this.options.ca!==e.options.ca)return  false;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return  false;for(let r=0;r<this.options.cert.length;r++){let i=this.options.cert[r],n=e.options.cert[r];if(Buffer.isBuffer(i)&&Buffer.isBuffer(n)){if(!i.equals(n))return  false}else if(i!==n)return  false}}else if(this.options.cert!==e.options.cert)return  false;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return  false;for(let r=0;r<this.options.key.length;r++){let i=this.options.key[r],n=e.options.key[r];if(Buffer.isBuffer(i)&&Buffer.isBuffer(n)){if(!i.equals(n))return  false}else if(i!==n)return  false}}else if(this.options.key!==e.options.key)return  false;return this.options.requestCert===e.options.requestCert}},sD=class t extends qu{constructor(e,r,i){super({requestCert:r!==null,rejectUnauthorized:i,ciphers:nD.CIPHER_SUITES}),this.identityCertificateProvider=e,this.caCertificateProvider=r,this.requireClientCertificate=i,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this);}_addWatcher(e){var r;this.getWatcherCount()===0&&((r=this.caCertificateProvider)===null||r===void 0||r.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(e);}_removeWatcher(e){var r;super._removeWatcher(e),this.getWatcherCount()===0&&((r=this.caCertificateProvider)===null||r===void 0||r.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener));}_equals(e){return this===e?true:e instanceof t?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&this.requireClientCertificate===e.requireClientCertificate:false}calculateSecureContextOptions(){var e;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(e=this.latestCaUpdate)===null||e===void 0?void 0:e.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let e=this.calculateSecureContextOptions();this.updateSecureContextOptions(e);}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.finalizeUpdate();}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.finalizeUpdate();}};function qUe(t,e,r){return new sD(t,e,r)}var aD=class t extends qu{constructor(e,r){super({}),this.childCredentials=e,this.interceptors=r;}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof t)||!this.childCredentials._equals(e.childCredentials)||this.interceptors.length!==e.interceptors.length)return  false;for(let r=0;r<this.interceptors.length;r++)if(this.interceptors[r]!==e.interceptors[r])return  false;return  true}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e);}_removeWatcher(e){this.childCredentials._removeWatcher(e);}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}};function WUe(t,e){return new aD(t,e)}});var Fg=T(Ys=>{Object.defineProperty(Ys,"__esModule",{value:true});Ys.durationMessageToDuration=KUe;Ys.msToDuration=YUe;Ys.durationToMs=ZUe;Ys.isDuration=XUe;Ys.isDurationMessage=JUe;Ys.parseDuration=e1e;Ys.durationToString=t1e;function KUe(t){return {seconds:Number.parseInt(t.seconds),nanos:t.nanos}}function YUe(t){return {seconds:t/1e3|0,nanos:t%1e3*1e6|0}}function ZUe(t){return t.seconds*1e3+t.nanos/1e6|0}function XUe(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}function JUe(t){return typeof t.seconds=="string"&&typeof t.nanos=="number"}var QUe=/^(\d+)(?:\.(\d+))?s$/;function e1e(t){let e=t.match(QUe);return e?{seconds:Number.parseInt(e[1],10),nanos:e[2]?Number.parseInt(e[2].padEnd(9,"0"),10):0}:null}function t1e(t){if(t.nanos===0)return `${t.seconds}s`;let e;return t.nanos%1e6===0?e=1e6:t.nanos%1e3===0?e=1e3:e=1,`${t.seconds}.${t.nanos/e}s`}});var Hb=T(Vn=>{Object.defineProperty(Vn,"__esModule",{value:true});Vn.OrcaOobMetricsSubchannelWrapper=Vn.GRPC_METRICS_HEADER=Vn.ServerMetricRecorder=Vn.PerRequestMetricRecorder=void 0;Vn.createOrcaClient=Dte;Vn.createMetricsReader=c1e;var r1e=Uv(),cD=Fg(),n1e=jd(),i1e=Vg(),wte=ke(),o1e=qd(),s1e=Fr();function Fb(){let t=YM().loadSync,e=t("xds/service/orca/v3/orca.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return (0, r1e.loadPackageDefinition)(e)}var uD=class{constructor(){this.message={};}recordRequestCostMetric(e,r){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[e]=r;}recordUtilizationMetric(e,r){this.message.utilization||(this.message.utilization={}),this.message.utilization[e]=r;}recordNamedMetric(e,r){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[e]=r;}recordCPUUtilizationMetric(e){this.message.cpu_utilization=e;}recordMemoryUtilizationMetric(e){this.message.mem_utilization=e;}recordApplicationUtilizationMetric(e){this.message.application_utilization=e;}recordQpsMetric(e){this.message.rps_fractional=e;}recordEpsMetric(e){this.message.eps=e;}serialize(){return Fb().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}};Vn.PerRequestMetricRecorder=uD;var a1e=3e4,lD=class{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:e=>{let r=e.request.report_interval?(0, cD.durationToMs)((0, cD.durationMessageToDuration)(e.request.report_interval)):a1e,i=setInterval(()=>{e.write(this.message);},r);e.on("cancelled",()=>{clearInterval(i);});}};}putUtilizationMetric(e,r){this.message.utilization||(this.message.utilization={}),this.message.utilization[e]=r;}setAllUtilizationMetrics(e){this.message.utilization=Object.assign({},e);}deleteUtilizationMetric(e){var r;(r=this.message.utilization)===null||r===void 0||delete r[e];}setCpuUtilizationMetric(e){this.message.cpu_utilization=e;}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization;}setApplicationUtilizationMetric(e){this.message.application_utilization=e;}deleteApplicationUtilizationMetric(){delete this.message.application_utilization;}setQpsMetric(e){this.message.rps_fractional=e;}deleteQpsMetric(){delete this.message.rps_fractional;}setEpsMetric(e){this.message.eps=e;}deleteEpsMetric(){delete this.message.eps;}addToServer(e){let r=Fb().xds.service.orca.v3.OpenRcaService.service;e.addService(r,this.serviceImplementation);}};Vn.ServerMetricRecorder=lD;function Dte(t){let e=Fb().xds.service.orca.v3.OpenRcaService;return new e("unused",n1e.ChannelCredentials.createInsecure(),{channelOverride:t})}Vn.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";var Lte="grpc_orca_load_report";function c1e(t,e){return (r,i,n)=>{let a=n.getOpaque(Lte);if(a)t(a);else {let o=n.get(Vn.GRPC_METRICS_HEADER);o.length>0&&(a=Fb().xds.data.orca.v3.OrcaLoadReport.deserialize(o[0]),t(a),n.setOpaque(Lte,a));}e&&e(r,i,n);}}var kte="orca_oob_metrics",dD=class{constructor(e,r){this.metricsListener=e,this.intervalMs=r,this.dataProducer=null;}setSubchannel(e){let r=e.getOrCreateDataProducer(kte,u1e);this.dataProducer=r,r.addDataWatcher(this);}destroy(){var e;(e=this.dataProducer)===null||e===void 0||e.removeDataWatcher(this);}getInterval(){return this.intervalMs}onMetricsUpdate(e){this.metricsListener(e);}},pD=class{constructor(e){this.subchannel=e,this.dataWatchers=new Set,this.orcaSupported=true,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new o1e.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();let r=e.getChannel();this.client=Dte(r),e.addConnectivityStateListener(this.subchannelStateListener);}addDataWatcher(e){this.dataWatchers.add(e),this.updateMetricsSubscription();}removeDataWatcher(e){var r;this.dataWatchers.delete(e),this.dataWatchers.size===0?(this.subchannel.removeDataProducer(kte),(r=this.metricsCall)===null||r===void 0||r.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription();}updateMetricsSubscription(){var e;if(this.dataWatchers.size===0||!this.orcaSupported||this.subchannel.getConnectivityState()!==s1e.ConnectivityState.READY)return;let r=Math.min(...Array.from(this.dataWatchers).map(i=>i.getInterval()));if(!this.metricsCall||r!==this.currentInterval){(e=this.metricsCall)===null||e===void 0||e.cancel(),this.currentInterval=r;let i=this.client.streamCoreMetrics({report_interval:(0, cD.msToDuration)(r)});this.metricsCall=i,i.on("data",n=>{this.dataWatchers.forEach(a=>{a.onMetricsUpdate(n);});}),i.on("error",n=>{if(this.metricsCall=null,n.code===wte.Status.UNIMPLEMENTED){this.orcaSupported=false;return}n.code!==wte.Status.CANCELLED&&this.backoffTimer.runOnce();});}}},fD=class extends i1e.BaseSubchannelWrapper{constructor(e,r,i){super(e),this.addDataWatcher(new dD(r,i));}getWrappedSubchannel(){return this.child}};Vn.OrcaOobMetricsSubchannelWrapper=fD;function u1e(t){return new pD(t)}});var ED=T(li=>{Object.defineProperty(li,"__esModule",{value:true});li.BaseServerInterceptingCall=li.ServerInterceptingCall=li.ResponderBuilder=li.ServerListenerBuilder=void 0;li.isInterceptingServerListener=p1e;li.getServerInterceptingCall=_1e;var qb=cr(),hn=ke(),mp=L("http2"),Ute=fv(),$te=L("zlib"),l1e=OL(),Hte=lt(),d1e=L("tls"),zte=Hb(),Gte="server_call";function Wu(t){Hte.trace(hn.LogVerbosity.DEBUG,Gte,t);}var mD=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0;}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return {onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};li.ServerListenerBuilder=mD;function p1e(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}var gD=class{constructor(e,r){this.listener=e,this.nextListener=r,this.cancelled=false,this.processingMetadata=false,this.hasPendingMessage=false,this.pendingMessage=null,this.processingMessage=false,this.hasPendingHalfClose=false;}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=false);}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=false);}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=true,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=false,!this.cancelled&&(this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingHalfClose());}));}onReceiveMessage(e){this.cancelled||(this.processingMessage=true,this.listener.onReceiveMessage(e,r=>{this.processingMessage=false,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=true):(this.nextListener.onReceiveMessage(r),this.processPendingHalfClose()));}));}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=true:this.nextListener.onReceiveHalfClose());});}onCancel(){this.cancelled=true,this.listener.onCancel(),this.nextListener.onCancel();}},_D=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0;}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return {start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};li.ResponderBuilder=_D;var Gb={onReceiveMetadata:(t,e)=>{e(t);},onReceiveMessage:(t,e)=>{e(t);},onReceiveHalfClose:t=>{t();},onCancel:()=>{}},jb={start:t=>{t();},sendMetadata:(t,e)=>{e(t);},sendMessage:(t,e)=>{e(t);},sendStatus:(t,e)=>{e(t);}},SD=class{constructor(e,r){var i,n,a,o;this.nextCall=e,this.processingMetadata=false,this.sentMetadata=false,this.processingMessage=false,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(i=r?.start)!==null&&i!==void 0?i:jb.start,sendMetadata:(n=r?.sendMetadata)!==null&&n!==void 0?n:jb.sendMetadata,sendMessage:(a=r?.sendMessage)!==null&&a!==void 0?a:jb.sendMessage,sendStatus:(o=r?.sendStatus)!==null&&o!==void 0?o:jb.sendStatus};}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null);}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null);}start(e){this.responder.start(r=>{var i,n,a,o;let s={onReceiveMetadata:(i=r?.onReceiveMetadata)!==null&&i!==void 0?i:Gb.onReceiveMetadata,onReceiveMessage:(n=r?.onReceiveMessage)!==null&&n!==void 0?n:Gb.onReceiveMessage,onReceiveHalfClose:(a=r?.onReceiveHalfClose)!==null&&a!==void 0?a:Gb.onReceiveHalfClose,onCancel:(o=r?.onCancel)!==null&&o!==void 0?o:Gb.onCancel},c=new gD(s,e);this.nextCall.start(c);});}sendMetadata(e){this.processingMetadata=true,this.sentMetadata=true,this.responder.sendMetadata(e,r=>{this.processingMetadata=false,this.nextCall.sendMetadata(r),this.processPendingMessage(),this.processPendingStatus();});}sendMessage(e,r){this.processingMessage=true,this.sentMetadata||this.sendMetadata(new qb.Metadata),this.responder.sendMessage(e,i=>{this.processingMessage=false,this.processingMetadata?(this.pendingMessage=i,this.pendingMessageCallback=r):this.nextCall.sendMessage(i,r);});}sendStatus(e){this.responder.sendStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextCall.sendStatus(r);});}startRead(){this.nextCall.startRead();}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}};li.ServerInterceptingCall=SD;var jte="grpc-accept-encoding",yD="grpc-encoding",Vte="grpc-message",Bte="grpc-status",hD="grpc-timeout",f1e=/(\d{1,8})\s*([HMSmun])/,h1e={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},m1e={[jte]:"identity,deflate,gzip",[yD]:"identity"},Fte={[mp.constants.HTTP2_HEADER_STATUS]:mp.constants.HTTP_STATUS_OK,[mp.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},g1e={waitForTrailers:true},Wb=class{constructor(e,r,i,n,a){var o,s;this.stream=e,this.callEventTracker=i,this.handler=n,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=hn.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=hn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=false,this.metadataSent=false,this.wantTrailers=false,this.cancelNotified=false,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=false,this.receivedHalfClose=false,this.streamEnded=false,this.metricsRecorder=new zte.PerRequestMetricRecorder,this.stream.once("error",p=>{}),this.stream.once("close",()=>{var p;Wu("Request to method "+((p=this.handler)===null||p===void 0?void 0:p.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(false),this.callEventTracker.onCallEnd({code:hn.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel();}),this.stream.on("data",p=>{this.handleDataFrame(p);}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent();}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=(o=r[":authority"])!==null&&o!==void 0?o:r.host,this.decoder=new l1e.StreamDecoder(this.maxReceiveMessageSize);let c=qb.Metadata.fromHttp2Headers(r);Hte.isTracerEnabled(Gte)&&Wu("Request to "+this.handler.path+" received headers "+JSON.stringify(c.toJSON()));let u=c.get(hD);u.length>0&&this.handleTimeoutHeader(u[0]);let l=c.get(yD);l.length>0&&(this.incomingEncoding=l[0]),c.remove(hD),c.remove(yD),c.remove(jte),c.remove(mp.constants.HTTP2_HEADER_ACCEPT_ENCODING),c.remove(mp.constants.HTTP2_HEADER_TE),c.remove(mp.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=c;let d=(s=e.session)===null||s===void 0?void 0:s.socket;this.connectionInfo={localAddress:d?.localAddress,localPort:d?.localPort,remoteAddress:d?.remoteAddress,remotePort:d?.remotePort},this.shouldSendMetrics=!!a["grpc.server_call_metric_recording"];}handleTimeoutHeader(e){let r=e.toString().match(f1e);if(r===null){let a={code:hn.Status.INTERNAL,details:`Invalid ${hD} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a);});return}let i=+r[1]*h1e[r[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+i),this.deadlineTimer=setTimeout(()=>{let a={code:hn.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a);},i);}checkCancelled(){return !this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=true),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=true,this.cancelled=true,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel();}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume());}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new qb.Metadata);}serializeMessage(e){let r=this.handler.serialize(e),i=r.byteLength,n=Buffer.allocUnsafe(i+5);return n.writeUInt8(0,0),n.writeUInt32BE(i,1),r.copy(n,5),n}decompressMessage(e,r){let i=e.subarray(5);if(r==="identity")return i;if(r==="deflate"||r==="gzip"){let n;return r==="deflate"?n=$te.createInflate():n=$te.createGunzip(),new Promise((a,o)=>{let s=0,c=[];n.on("data",u=>{c.push(u),s+=u.byteLength,this.maxReceiveMessageSize!==-1&&s>this.maxReceiveMessageSize&&(n.destroy(),o({code:hn.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}));}),n.on("end",()=>{a(Buffer.concat(c));}),n.write(i),n.end();})}else return Promise.reject({code:hn.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${r}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let i=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",n;try{n=await this.decompressMessage(e.compressedMessage,i);}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(n);}catch(a){this.sendStatus({code:hn.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage();}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=false;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose();}}handleDataFrame(e){var r;if(this.checkCancelled())return;Wu("Request to "+this.handler.path+" received data frame of size "+e.length);let i;try{i=this.decoder.write(e);}catch(n){this.sendStatus({code:hn.Status.RESOURCE_EXHAUSTED,details:n.message});return}for(let n of i){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:n,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(r=this.callEventTracker)===null||r===void 0||r.addMessageReceived();}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=true,this.maybePushNextMessage();}start(e){Wu("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata));}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=true;let r=e?e.toHttp2Headers():null,i=Object.assign(Object.assign(Object.assign({},Fte),m1e),r);this.stream.respond(i,g1e);}sendMessage(e,r){if(this.checkCancelled())return;let i;try{i=this.serializeMessage(e);}catch(n){this.sendStatus({code:hn.Status.INTERNAL,details:`Error serializing response: ${(0, Ute.getErrorMessage)(n)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&i.length-5>this.maxSendMessageSize){this.sendStatus({code:hn.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${i.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Wu("Request to "+this.handler.path+" sent data frame of size "+i.length),this.stream.write(i,n=>{var a;if(n){this.sendStatus({code:hn.Status.INTERNAL,details:`Error writing message: ${(0, Ute.getErrorMessage)(n)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),r();});}sendStatus(e){var r,i,n;if(this.checkCancelled())return;Wu("Request to method "+((r=this.handler)===null||r===void 0?void 0:r.path)+" ended with status code: "+hn.Status[e.code]+" details: "+e.details);let a=(n=(i=e.metadata)===null||i===void 0?void 0:i.clone())!==null&&n!==void 0?n:new qb.Metadata;if(this.shouldSendMetrics&&a.set(zte.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=true,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(true),this.callEventTracker.onCallEnd(e));let o=Object.assign({[Bte]:e.code,[Vte]:encodeURI(e.details)},a.toHttp2Headers());this.stream.sendTrailers(o),this.notifyOnCancel();}),this.stream.end());else {this.callEventTracker&&!this.streamEnded&&(this.streamEnded=true,this.callEventTracker.onStreamEnd(true),this.callEventTracker.onCallEnd(e));let o=Object.assign(Object.assign({[Bte]:e.code,[Vte]:encodeURI(e.details)},Fte),a.toHttp2Headers());this.stream.respond(o,{endStream:true}),this.notifyOnCancel();}}startRead(){Wu("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=true,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage());}getPeer(){var e;let r=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return r?.remoteAddress?r.remotePort?`${r.remoteAddress}:${r.remotePort}`:r.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var e;if(((e=this.stream.session)===null||e===void 0?void 0:e.socket)instanceof d1e.TLSSocket){let r=this.stream.session.socket.getPeerCertificate();return {transportSecurityType:"ssl",sslPeerCertificate:r.raw?r:void 0}}else return {}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}};li.BaseServerInterceptingCall=Wb;function _1e(t,e,r,i,n,a){let o={path:n.path,requestStream:n.type==="clientStream"||n.type==="bidi",responseStream:n.type==="serverStream"||n.type==="bidi",requestDeserialize:n.deserialize,responseSerialize:n.serialize},s=new Wb(e,r,i,n,a);return t.reduce((c,u)=>u(o,c),s)}});var Jte=T(ec=>{var S1e=ec&&ec.__runInitializers||function(t,e,r){for(var i=arguments.length>2,n=0;n<e.length;n++)r=i?e[n].call(t,r):e[n].call(t);return i?r:void 0},y1e=ec&&ec.__esDecorate||function(t,e,r,i,n,a){function o(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var s=i.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?i.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),d,p=false,f=r.length-1;f>=0;f--){var _={};for(var y in i)_[y]=y==="access"?{}:i[y];for(var y in i.access)_.access[y]=i.access[y];_.addInitializer=function(O){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(O||null));};var v=(0, r[f])(s==="accessor"?{get:l.get,set:l.set}:l[c],_);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(l.get=d),(d=o(v.set))&&(l.set=d),(d=o(v.init))&&n.unshift(d);}else (d=o(v))&&(s==="field"?n.unshift(d):l[c]=d);}u&&Object.defineProperty(u,i.name,l),p=true;};Object.defineProperty(ec,"__esModule",{value:true});ec.Server=void 0;var mn=L("http2"),E1e=L("util"),Bt=ke(),Sp=Ite(),TD=Bb(),qte=ki(),_p=lt(),Qa=fn(),ji=Br(),er=Ya(),Wte=ED(),gp=2147483647,vD=2147483647,T1e=2e4,Kte=2147483647,{HTTP2_HEADER_PATH:Yte}=mn.constants,v1e="server",Zte=Buffer.from("max_age");function Xte(t){_p.trace(Bt.LogVerbosity.DEBUG,"server_call",t);}function b1e(){}function R1e(t){return function(e,r){return E1e.deprecate(e,t)}}function bD(t){return {code:Bt.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function A1e(t,e){let r=bD(e);switch(t){case "unary":return (i,n)=>{n(r,null);};case "clientStream":return (i,n)=>{n(r,null);};case "serverStream":return i=>{i.emit("error",r);};case "bidi":return i=>{i.emit("error",r);};default:throw new Error(`Invalid handlerType ${t}`)}}var O1e=(()=>{var t;let e=[],r;return t=class{constructor(n){var a,o,s,c,u,l;this.boundPorts=(S1e(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=false,this.shutdown=false,this.serverAddressString="null",this.channelzEnabled=true,this.options=n??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=false,this.channelzTrace=new er.ChannelzTraceStub,this.callTracker=new er.ChannelzCallTrackerStub,this.listenerChildrenTracker=new er.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new er.ChannelzChildrenTrackerStub):(this.channelzTrace=new er.ChannelzTrace,this.callTracker=new er.ChannelzCallTracker,this.listenerChildrenTracker=new er.ChannelzChildrenTracker,this.sessionChildrenTracker=new er.ChannelzChildrenTracker),this.channelzRef=(0, er.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:gp,this.maxConnectionAgeGraceMs=(o=this.options["grpc.max_connection_age_grace_ms"])!==null&&o!==void 0?o:gp,this.keepaliveTimeMs=(s=this.options["grpc.keepalive_time_ms"])!==null&&s!==void 0?s:vD,this.keepaliveTimeoutMs=(c=this.options["grpc.keepalive_timeout_ms"])!==null&&c!==void 0?c:T1e,this.sessionIdleTimeout=(u=this.options["grpc.max_connection_idle_ms"])!==null&&u!==void 0?u:Kte,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(l=this.options.interceptors)!==null&&l!==void 0?l:[],this.trace("Server constructed");}getChannelzInfo(){return {trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(n){var a,o,s;let c=this.sessions.get(n),u=n.socket,l=u.remoteAddress?(0, Qa.stringToSubchannelAddress)(u.remoteAddress,u.remotePort):null,d=u.localAddress?(0, Qa.stringToSubchannelAddress)(u.localAddress,u.localPort):null,p;if(n.encrypted){let _=u,y=_.getCipher(),v=_.getCertificate(),O=_.getPeerCertificate();p={cipherSuiteStandardName:(a=y.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:y.standardName?null:y.name,localCertificate:v&&"raw"in v?v.raw:null,remoteCertificate:O&&"raw"in O?O.raw:null};}else p=null;return {remoteAddress:l,localAddress:d,security:p,remoteName:null,streamsStarted:c.streamTracker.callsStarted,streamsSucceeded:c.streamTracker.callsSucceeded,streamsFailed:c.streamTracker.callsFailed,messagesSent:c.messagesSent,messagesReceived:c.messagesReceived,keepAlivesSent:c.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:c.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:c.lastMessageSentTimestamp,lastMessageReceivedTimestamp:c.lastMessageReceivedTimestamp,localFlowControlWindow:(o=n.state.localWindowSize)!==null&&o!==void 0?o:null,remoteFlowControlWindow:(s=n.state.remoteWindowSize)!==null&&s!==void 0?s:null}}trace(n){_p.trace(Bt.LogVerbosity.DEBUG,v1e,"("+this.channelzRef.id+") "+n);}keepaliveTrace(n){_p.trace(Bt.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+n);}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(n,a){if(n===null||typeof n!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let o=Object.keys(n);if(o.length===0)throw new Error("Cannot add an empty service to a server");o.forEach(s=>{let c=n[s],u;c.requestStream?c.responseStream?u="bidi":u="clientStream":c.responseStream?u="serverStream":u="unary";let l=a[s],d;if(l===void 0&&typeof c.originalName=="string"&&(l=a[c.originalName]),l!==void 0?d=l.bind(a):d=A1e(u,s),this.register(c.path,d,c.responseSerialize,c.requestDeserialize,u)===false)throw new Error(`Method handler for ${c.path} already provided.`)});}removeService(n){if(n===null||typeof n!="object")throw new Error("removeService() requires object as argument");Object.keys(n).forEach(o=>{let s=n[o];this.unregister(s.path);});}bind(n,a){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(n){return (0, er.registerChannelzSocket)((0, Qa.subchannelAddressToString)(n),()=>({localAddress:n,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(n){(0, er.unregisterChannelzRef)(n);}createHttp2Server(n){let a;if(n._isSecure()){let o=n._getConstructorOptions(),s=n._getSecureContextOptions(),c=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),o),s),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),u=s!==null;this.trace("Initial credentials valid: "+u),a=mn.createSecureServer(c),a.prependListener("connection",d=>{u||(this.trace("Dropped connection from "+JSON.stringify(d.address())+" due to unloaded credentials"),d.destroy());}),a.on("secureConnection",d=>{d.on("error",p=>{this.trace("An incoming TLS connection closed with error: "+p.message);});});let l=d=>{if(d){let p=a;try{p.setSecureContext(d);}catch(f){_p.log(Bt.LogVerbosity.ERROR,"Failed to set secure context with error "+f.message),d=null;}}u=d!==null,this.trace("Post-update credentials valid: "+u);};n._addWatcher(l),a.on("close",()=>{n._removeWatcher(l);});}else a=mn.createServer(this.commonServerOptions);return a.setTimeout(0,b1e),this._setupHandlers(a,n._getInterceptors()),a}bindOneAddress(n,a){this.trace("Attempting to bind "+(0, Qa.subchannelAddressToString)(n));let o=this.createHttp2Server(a.credentials);return new Promise((s,c)=>{let u=l=>{this.trace("Failed to bind "+(0, Qa.subchannelAddressToString)(n)+" with error "+l.message),s({port:"port"in n?n.port:1,error:l.message});};o.once("error",u),o.listen(n,()=>{let l=o.address(),d;typeof l=="string"?d={path:l}:d={host:l.address,port:l.port};let p=this.experimentalRegisterListenerToChannelz(d);this.listenerChildrenTracker.refChild(p),this.http2Servers.set(o,{channelzRef:p,sessions:new Set,ownsChannelzRef:true}),a.listeningServers.add(o),this.trace("Successfully bound "+(0, Qa.subchannelAddressToString)(d)),s({port:"port"in d?d.port:1}),o.removeListener("error",u);});})}async bindManyPorts(n,a){if(n.length===0)return {count:0,port:0,errors:[]};if((0, Qa.isTcpSubchannelAddress)(n[0])&&n[0].port===0){let o=await this.bindOneAddress(n[0],a);if(o.error){let s=await this.bindManyPorts(n.slice(1),a);return Object.assign(Object.assign({},s),{errors:[o.error,...s.errors]})}else {let s=n.slice(1).map(l=>(0, Qa.isTcpSubchannelAddress)(l)?{host:l.host,port:o.port}:l),c=await Promise.all(s.map(l=>this.bindOneAddress(l,a))),u=[o,...c];return {count:u.filter(l=>l.error===void 0).length,port:o.port,errors:u.filter(l=>l.error).map(l=>l.error)}}}else {let o=await Promise.all(n.map(s=>this.bindOneAddress(s,a)));return {count:o.filter(s=>s.error===void 0).length,port:o[0].port,errors:o.filter(s=>s.error).map(s=>s.error)}}}async bindAddressList(n,a){let o=await this.bindManyPorts(n,a);if(o.count>0)return o.count<n.length&&_p.log(Bt.LogVerbosity.INFO,`WARNING Only ${o.count} addresses added out of total ${n.length} resolved`),o.port;{let s=`No address added out of total ${n.length} resolved`;throw _p.log(Bt.LogVerbosity.ERROR,s),new Error(`${s} errors: [${o.errors.join(",")}]`)}}resolvePort(n){return new Promise((a,o)=>{let s=false,c=(l,d,p,f)=>{if(s)return  true;if(s=true,!l.ok)return o(new Error(l.error.details)),true;let _=[].concat(...l.value.map(y=>y.addresses));return _.length===0?(o(new Error(`No addresses resolved for port ${n}`)),true):(a(_),true)};(0, qte.createResolver)(n,c,this.options).updateResolution();})}async bindPort(n,a){let o=await this.resolvePort(n);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let s=await this.bindAddressList(o,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return s}normalizePort(n){let a=(0, ji.parseUri)(n);if(a===null)throw new Error(`Could not parse port "${n}"`);let o=(0, qte.mapUriDefaultScheme)(a);if(o===null)throw new Error(`Could not get a default scheme for port "${n}"`);return o}bindAsync(n,a,o){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof n!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof TD.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof o!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+n);let s=this.normalizePort(n),c=(p,f)=>{process.nextTick(()=>o(p,f));},u=this.boundPorts.get((0, ji.uriToString)(s));if(u){if(!a._equals(u.credentials)){c(new Error(`${n} already bound with incompatible credentials`),0);return}u.cancelled=false,u.completionPromise?u.completionPromise.then(p=>o(null,p),p=>o(p,0)):c(null,u.portNumber);return}u={mapKey:(0, ji.uriToString)(s),originalUri:s,completionPromise:null,cancelled:false,portNumber:0,credentials:a,listeningServers:new Set};let l=(0, ji.splitHostPort)(s.path),d=this.bindPort(s,u);u.completionPromise=d,l?.port===0?d.then(p=>{let f={scheme:s.scheme,authority:s.authority,path:(0, ji.combineHostPort)({host:l.host,port:p})};u.mapKey=(0, ji.uriToString)(f),u.completionPromise=null,u.portNumber=p,this.boundPorts.set(u.mapKey,u),o(null,p);},p=>{o(p,0);}):(this.boundPorts.set(u.mapKey,u),d.then(p=>{u.completionPromise=null,u.portNumber=p,o(null,p);},p=>{o(p,0);}));}registerInjectorToChannelz(){return (0, er.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(n,a,o=false){if(n===null||!(n instanceof TD.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(a);let s=this.createHttp2Server(n),c=new Set;return this.http2Servers.set(s,{channelzRef:a,sessions:c,ownsChannelzRef:o}),{injectConnection:u=>{s.emit("connection",u);},drain:u=>{var l,d;for(let p of c)this.closeSession(p);(d=(l=setTimeout(()=>{for(let p of c)p.destroy(mn.constants.NGHTTP2_CANCEL);},u)).unref)===null||d===void 0||d.call(l);},destroy:()=>{this.closeServer(s);for(let u of c)this.closeSession(u);}}}createConnectionInjector(n){if(n===null||!(n instanceof TD.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");let a=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(n,a,true)}closeServer(n,a){this.trace("Closing server with address "+JSON.stringify(n.address()));let o=this.http2Servers.get(n);n.close(()=>{o&&o.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(o.channelzRef),(0, er.unregisterChannelzRef)(o.channelzRef)),this.http2Servers.delete(n),a?.();});}closeSession(n,a){var o;this.trace("Closing session initiated by "+((o=n.socket)===null||o===void 0?void 0:o.remoteAddress));let s=this.sessions.get(n),c=()=>{s&&(this.sessionChildrenTracker.unrefChild(s.ref),(0, er.unregisterChannelzRef)(s.ref)),a?.();};n.closed?queueMicrotask(c):n.close(c);}completeUnbind(n){for(let a of n.listeningServers){let o=this.http2Servers.get(a);if(this.closeServer(a,()=>{n.listeningServers.delete(a);}),o)for(let s of o.sessions)this.closeSession(s);}this.boundPorts.delete(n.mapKey);}unbind(n){this.trace("unbind port="+n);let a=this.normalizePort(n),o=(0, ji.splitHostPort)(a.path);if(o?.port===0)throw new Error("Cannot unbind port 0");let s=this.boundPorts.get((0, ji.uriToString)(a));s&&(this.trace("unbinding "+s.mapKey+" originally bound as "+(0, ji.uriToString)(s.originalUri)),s.completionPromise?s.cancelled=true:this.completeUnbind(s));}drain(n,a){var o,s;this.trace("drain port="+n+" graceTimeMs="+a);let c=this.normalizePort(n),u=(0, ji.splitHostPort)(c.path);if(u?.port===0)throw new Error("Cannot drain port 0");let l=this.boundPorts.get((0, ji.uriToString)(c));if(!l)return;let d=new Set;for(let p of l.listeningServers){let f=this.http2Servers.get(p);if(f)for(let _ of f.sessions)d.add(_),this.closeSession(_,()=>{d.delete(_);});}(s=(o=setTimeout(()=>{for(let p of d)p.destroy(mn.constants.NGHTTP2_CANCEL);},a)).unref)===null||s===void 0||s.call(o);}forceShutdown(){for(let n of this.boundPorts.values())n.cancelled=true;this.boundPorts.clear();for(let n of this.http2Servers.keys())this.closeServer(n);this.sessions.forEach((n,a)=>{this.closeSession(a),a.destroy(mn.constants.NGHTTP2_CANCEL);}),this.sessions.clear(),(0, er.unregisterChannelzRef)(this.channelzRef),this.shutdown=true;}register(n,a,o,s,c){return this.handlers.has(n)?false:(this.handlers.set(n,{func:a,serialize:o,deserialize:s,type:c,path:n}),true)}unregister(n){return this.handlers.delete(n)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(n=>!n.listening))throw new Error("server must be bound in order to start");if(this.started===true)throw new Error("server is already started");this.started=true;}tryShutdown(n){var a;let o=u=>{(0, er.unregisterChannelzRef)(this.channelzRef),n(u);},s=0;function c(){s--,s===0&&o();}this.shutdown=true;for(let[u,l]of this.http2Servers.entries()){s++;let d=l.channelzRef.name;this.trace("Waiting for server "+d+" to close"),this.closeServer(u,()=>{this.trace("Server "+d+" finished closing"),c();});for(let p of l.sessions.keys()){s++;let f=(a=p.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+f+" to close"),this.closeSession(p,()=>{this.trace("Session "+f+" finished closing"),c();});}}s===0&&o();}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(n,a){let o=a[mn.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof o!="string"||!o.startsWith("application/grpc")?(n.respond({[mn.constants.HTTP2_HEADER_STATUS]:mn.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:true}),false):true}_retrieveHandler(n){Xte("Received call to method "+n+" at address "+this.serverAddressString);let a=this.handlers.get(n);return a===void 0?(Xte("No handler registered for method "+n+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(n,a,o=null){var s,c;let u=Object.assign({"grpc-status":(s=n.code)!==null&&s!==void 0?s:Bt.Status.INTERNAL,"grpc-message":n.details,[mn.constants.HTTP2_HEADER_STATUS]:mn.constants.HTTP_STATUS_OK,[mn.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(c=n.metadata)===null||c===void 0?void 0:c.toHttp2Headers());a.respond(u,{endStream:true}),this.callTracker.addCallFailed(),o?.streamTracker.addCallFailed();}_channelzHandler(n,a,o){this.onStreamOpened(a);let s=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),s?.streamTracker.addCallStarted(),!this._verifyContentType(a,o)){this.callTracker.addCallFailed(),s?.streamTracker.addCallFailed();return}let c=o[Yte],u=this._retrieveHandler(c);if(!u){this._respondWithError(bD(c),a,s);return}let l={addMessageSent:()=>{s&&(s.messagesSent+=1,s.lastMessageSentTimestamp=new Date);},addMessageReceived:()=>{s&&(s.messagesReceived+=1,s.lastMessageReceivedTimestamp=new Date);},onCallEnd:p=>{p.code===Bt.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed();},onStreamEnd:p=>{s&&(p?s.streamTracker.addCallSucceeded():s.streamTracker.addCallFailed());}},d=(0, Wte.getServerInterceptingCall)([...n,...this.interceptors],a,o,l,u,this.options);this._runHandlerForCall(d,u)||(this.callTracker.addCallFailed(),s?.streamTracker.addCallFailed(),d.sendStatus({code:Bt.Status.INTERNAL,details:`Unknown handler type: ${u.type}`}));}_streamHandler(n,a,o){if(this.onStreamOpened(a),this._verifyContentType(a,o)!==true)return;let s=o[Yte],c=this._retrieveHandler(s);if(!c){this._respondWithError(bD(s),a,null);return}let u=(0, Wte.getServerInterceptingCall)([...n,...this.interceptors],a,o,null,c,this.options);this._runHandlerForCall(u,c)||u.sendStatus({code:Bt.Status.INTERNAL,details:`Unknown handler type: ${c.type}`});}_runHandlerForCall(n,a){let{type:o}=a;if(o==="unary")x1e(n,a);else if(o==="clientStream")C1e(n,a);else if(o==="serverStream")N1e(n,a);else if(o==="bidi")P1e(n,a);else return  false;return  true}_setupHandlers(n,a){if(n===null)return;let o=n.address(),s="null";o&&(typeof o=="string"?s=o:s=o.address+":"+o.port),this.serverAddressString=s;let c=this.channelzEnabled?this._channelzHandler:this._streamHandler,u=this.channelzEnabled?this._channelzSessionHandler(n):this._sessionHandler(n);n.on("stream",c.bind(this,a)),n.on("session",u);}_sessionHandler(n){return a=>{var o,s;(o=this.http2Servers.get(n))===null||o===void 0||o.sessions.add(a);let c=null,u=null,l=null,d=false,p=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==gp){let O=this.maxConnectionAgeMs/10,x=Math.random()*O*2-O;c=setTimeout(()=>{var I,R;d=true,this.trace("Connection dropped by max connection age: "+((I=a.socket)===null||I===void 0?void 0:I.remoteAddress));try{a.goaway(mn.constants.NGHTTP2_NO_ERROR,~(1<<31),Zte);}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==gp&&(u=setTimeout(()=>{a.destroy();},this.maxConnectionAgeGraceMs),(R=u.unref)===null||R===void 0||R.call(u));},this.maxConnectionAgeMs+x),(s=c.unref)===null||s===void 0||s.call(c);}let f=()=>{l&&(clearTimeout(l),l=null);},_=()=>!a.destroyed&&this.keepaliveTimeMs<vD&&this.keepaliveTimeMs>0,y,v=()=>{var O;_()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),l=setTimeout(()=>{f(),y();},this.keepaliveTimeMs),(O=l.unref)===null||O===void 0||O.call(l));};y=()=>{var O;if(!_())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let x="";try{a.ping((R,F,$)=>{f(),R?(this.keepaliveTrace("Ping failed with error: "+R.message),d=!0,a.destroy()):(this.keepaliveTrace("Received ping response"),v());})||(x="Ping returned false");}catch(I){x=(I instanceof Error?I.message:"")||"Unknown error";}if(x){this.keepaliveTrace("Ping send failed: "+x),this.trace("Connection dropped due to ping send error: "+x),d=true,a.destroy();return}l=setTimeout(()=>{f(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),d=true,a.destroy();},this.keepaliveTimeoutMs),(O=l.unref)===null||O===void 0||O.call(l);},v(),a.on("close",()=>{var O,x;d||this.trace(`Connection dropped by client ${(O=a.socket)===null||O===void 0?void 0:O.remoteAddress}`),c&&clearTimeout(c),u&&clearTimeout(u),f(),p!==null&&(clearTimeout(p.timeout),this.sessionIdleTimeouts.delete(a)),(x=this.http2Servers.get(n))===null||x===void 0||x.sessions.delete(a);});}}_channelzSessionHandler(n){return a=>{var o,s,c,u;let l=(0, er.registerChannelzSocket)((s=(o=a.socket)===null||o===void 0?void 0:o.remoteAddress)!==null&&s!==void 0?s:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),d={ref:l,streamTracker:new er.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(c=this.http2Servers.get(n))===null||c===void 0||c.sessions.add(a),this.sessions.set(a,d);let p=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+p),this.trace("Connection established by client "+p),this.sessionChildrenTracker.refChild(l);let f=null,_=null,y=null,v=false,O=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==gp){let $=this.maxConnectionAgeMs/10,G=Math.random()*$*2-$;f=setTimeout(()=>{var ee;v=true,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+p);try{a.goaway(mn.constants.NGHTTP2_NO_ERROR,~(1<<31),Zte);}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==gp&&(_=setTimeout(()=>{a.destroy();},this.maxConnectionAgeGraceMs),(ee=_.unref)===null||ee===void 0||ee.call(_));},this.maxConnectionAgeMs+G),(u=f.unref)===null||u===void 0||u.call(f);}let x=()=>{y&&(clearTimeout(y),y=null);},I=()=>!a.destroyed&&this.keepaliveTimeMs<vD&&this.keepaliveTimeMs>0,R,F=()=>{var $;I()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),y=setTimeout(()=>{x(),R();},this.keepaliveTimeMs),($=y.unref)===null||$===void 0||$.call(y));};R=()=>{var $;if(!I())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let G="";try{a.ping((re,pe,C)=>{x(),re?(this.keepaliveTrace("Ping failed with error: "+re.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+re.message+" return in "+pe),v=!0,a.destroy()):(this.keepaliveTrace("Received ping response"),F());})||(G="Ping returned false");}catch(ee){G=(ee instanceof Error?ee.message:"")||"Unknown error";}if(G){this.keepaliveTrace("Ping send failed: "+G),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+G),v=true,a.destroy();return}d.keepAlivesSent+=1,y=setTimeout(()=>{x(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+p),v=true,a.destroy();},this.keepaliveTimeoutMs),($=y.unref)===null||$===void 0||$.call(y);},F(),a.on("close",()=>{var $;v||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+p),this.sessionChildrenTracker.unrefChild(l),(0, er.unregisterChannelzRef)(l),f&&clearTimeout(f),_&&clearTimeout(_),x(),O!==null&&(clearTimeout(O.timeout),this.sessionIdleTimeouts.delete(a)),($=this.http2Servers.get(n))===null||$===void 0||$.sessions.delete(a),this.sessions.delete(a);});}}enableIdleTimeout(n){var a,o;if(this.sessionIdleTimeout>=Kte)return null;let s={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,n),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,n)};(o=(a=s.timeout).unref)===null||o===void 0||o.call(a),this.sessionIdleTimeouts.set(n,s);let{socket:c}=n;return this.trace("Enable idle timeout for "+c.remoteAddress+":"+c.remotePort),s}onIdleTimeout(n,a){let{socket:o}=a,s=n.sessionIdleTimeouts.get(a);s!==void 0&&s.activeStreams===0&&(Date.now()-s.lastIdle>=n.sessionIdleTimeout?(n.trace("Session idle timeout triggered for "+o?.remoteAddress+":"+o?.remotePort+" last idle at "+s.lastIdle),n.closeSession(a)):s.timeout.refresh());}onStreamOpened(n){let a=n.session,o=this.sessionIdleTimeouts.get(a);o&&(o.activeStreams+=1,n.once("close",o.onClose));}onStreamClose(n){var a,o;let s=this.sessionIdleTimeouts.get(n);s&&(s.activeStreams-=1,s.activeStreams===0&&(s.lastIdle=Date.now(),s.timeout.refresh(),this.trace("Session onStreamClose"+((a=n.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((o=n.socket)===null||o===void 0?void 0:o.remotePort)+" at "+s.lastIdle)));}},(()=>{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;r=[R1e("Calling start() is no longer necessary. It can be safely omitted.")],y1e(t,null,r,{kind:"method",name:"start",static:false,private:false,access:{has:n=>"start"in n,get:n=>n.start},metadata:i},null,e),i&&Object.defineProperty(t,Symbol.metadata,{enumerable:true,configurable:true,writable:true,value:i});})(),t})();ec.Server=O1e;async function x1e(t,e){let r;function i(o,s,c,u){if(o){t.sendStatus((0, Sp.serverErrorToStatus)(o,c));return}t.sendMessage(s,()=>{t.sendStatus({code:Bt.Status.OK,details:"OK",metadata:c??null});});}let n,a=null;t.start({onReceiveMetadata(o){n=o,t.startRead();},onReceiveMessage(o){if(a){t.sendStatus({code:Bt.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=o,t.startRead();},onReceiveHalfClose(){if(!a){t.sendStatus({code:Bt.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new Sp.ServerWritableStreamImpl(e.path,t,n,a);try{e.func(r,i);}catch(o){t.sendStatus({code:Bt.Status.UNKNOWN,details:`Server method handler threw error ${o.message}`,metadata:null});}},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"));}});}function C1e(t,e){let r;function i(n,a,o,s){if(n){t.sendStatus((0, Sp.serverErrorToStatus)(n,o));return}t.sendMessage(a,()=>{t.sendStatus({code:Bt.Status.OK,details:"OK",metadata:o??null});});}t.start({onReceiveMetadata(n){r=new Sp.ServerDuplexStreamImpl(e.path,t,n);try{e.func(r,i);}catch(a){t.sendStatus({code:Bt.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null});}},onReceiveMessage(n){r.push(n);},onReceiveHalfClose(){r.push(null);},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}function N1e(t,e){let r,i,n=null;t.start({onReceiveMetadata(a){i=a,t.startRead();},onReceiveMessage(a){if(n){t.sendStatus({code:Bt.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}n=a,t.startRead();},onReceiveHalfClose(){if(!n){t.sendStatus({code:Bt.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new Sp.ServerWritableStreamImpl(e.path,t,i,n);try{e.func(r);}catch(a){t.sendStatus({code:Bt.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null});}},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}function P1e(t,e){let r;t.start({onReceiveMetadata(i){r=new Sp.ServerDuplexStreamImpl(e.path,t,i);try{e.func(r);}catch(n){t.sendStatus({code:Bt.Status.UNKNOWN,details:`Server method handler threw error ${n.message}`,metadata:null});}},onReceiveMessage(i){r.push(i);},onReceiveHalfClose(){r.push(null);},onCancel(){r&&(r.cancelled=true,r.emit("cancelled","cancelled"),r.destroy());}});}});var Qte=T(Kb=>{Object.defineProperty(Kb,"__esModule",{value:true});Kb.StatusBuilder=void 0;var RD=class{constructor(){this.code=null,this.details=null,this.metadata=null;}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};Kb.StatusBuilder=RD;});var qg=T($o=>{Object.defineProperty($o,"__esModule",{value:true});$o.LeafLoadBalancer=$o.PickFirstLoadBalancer=$o.PickFirstLoadBalancingConfig=void 0;$o.shuffled=nre;$o.setup=$1e;var AD=Va(),Ft=Fr(),tc=$s(),ere=fn(),I1e=lt(),w1e=ke(),tre=fn(),rre=L("net"),M1e=wu(),L1e="pick_first";function Hg(t){I1e.trace(w1e.LogVerbosity.DEBUG,L1e,t);}var Gg="pick_first",D1e=250,yp=class t{constructor(e){this.shuffleAddressList=e;}getLoadBalancerName(){return Gg}toJsonObject(){return {[Gg]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new t(e.shuffleAddressList===true)}};$o.PickFirstLoadBalancingConfig=yp;var OD=class{constructor(e){this.subchannel=e;}pick(e){return {pickResultType:tc.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function nre(t){let e=t.slice();for(let r=e.length-1;r>1;r--){let i=Math.floor(Math.random()*(r+1)),n=e[r];e[r]=e[i],e[i]=n;}return e}function k1e(t){if(t.length===0)return [];let e=[],r=[],i=[],n=(0, tre.isTcpSubchannelAddress)(t[0])&&(0, rre.isIPv6)(t[0].host);for(let s of t)(0, tre.isTcpSubchannelAddress)(s)&&(0, rre.isIPv6)(s.host)?r.push(s):i.push(s);let a=n?r:i,o=n?i:r;for(let s=0;s<Math.max(a.length,o.length);s++)s<a.length&&e.push(a[s]),s<o.length&&e.push(o[s]);return e}var ire="grpc-node.internal.pick-first.report_health_status",jg=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=Ft.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(r,i,n,a,o)=>{this.onSubchannelStateUpdate(r,i,n,o);},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=false,this.reportHealthStatus=false,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout);}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(e=>e.hasReportedTransientFailure=false);}calculateAndReportNewState(){var e;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let r=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(Ft.ConnectivityState.TRANSIENT_FAILURE,new tc.UnavailablePicker({details:r}),r);}else this.updateState(Ft.ConnectivityState.READY,new OD(this.currentPick),null);else if(((e=this.latestAddressList)===null||e===void 0?void 0:e.length)===0){let r=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(Ft.ConnectivityState.TRANSIENT_FAILURE,new tc.UnavailablePicker({details:r}),r);}else if(this.children.length===0)this.updateState(Ft.ConnectivityState.IDLE,new tc.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let r=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(Ft.ConnectivityState.TRANSIENT_FAILURE,new tc.UnavailablePicker({details:r}),r);}else this.updateState(Ft.ConnectivityState.CONNECTING,new tc.QueuePicker(this),null);}requestReresolution(){this.channelControlHelper.requestReresolution();}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=true;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState();}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null);}onSubchannelStateUpdate(e,r,i,n){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){i!==Ft.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[o,s]of this.children.entries())if(e.realSubchannelEquals(s.subchannel)){i===Ft.ConnectivityState.READY&&this.pickSubchannel(s.subchannel),i===Ft.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=true,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),s.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);for(let[r,i]of this.children.entries())if(r>=e){let n=i.subchannel.getConnectivityState();if(n===Ft.ConnectivityState.IDLE||n===Ft.ConnectivityState.CONNECTING){this.startConnecting(r);return}}this.maybeEnterStickyTransientFailureMode();}startConnecting(e){var r,i;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Ft.ConnectivityState.IDLE&&(Hg("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var n;(n=this.children[e])===null||n===void 0||n.subchannel.startConnecting();})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1);},D1e),(i=(r=this.connectionDelayTimeout).unref)===null||i===void 0||i.call(r);}pickSubchannel(e){Hg("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=false,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),e.addConnectivityStateListener(this.subchannelStateListener),e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=e,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState();}updateState(e,r,i){Hg(Ft.ConnectivityState[this.currentState]+" -> "+Ft.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}resetSubchannelList(){for(let e of this.children)e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[];}connectToAddressList(e,r){Hg("connectToAddressList(["+e.map(n=>(0, ere.subchannelAddressToString)(n))+"])");let i=e.map(n=>({subchannel:this.channelControlHelper.createSubchannel(n,r),hasReportedTransientFailure:false}));for(let{subchannel:n}of i)if(n.getConnectivityState()===Ft.ConnectivityState.READY){this.pickSubchannel(n);return}for(let{subchannel:n}of i)n.ref(),this.channelControlHelper.addChannelzChild(n.getChannelzRef());this.resetSubchannelList(),this.children=i;for(let{subchannel:n}of this.children)n.addConnectivityStateListener(this.subchannelStateListener);for(let n of this.children)n.subchannel.getConnectivityState()===Ft.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=true);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState();}updateAddressList(e,r,i,n){if(!(r instanceof yp))return  false;if(!e.ok)return this.children.length===0&&this.currentPick===null&&this.channelControlHelper.updateState(Ft.ConnectivityState.TRANSIENT_FAILURE,new tc.UnavailablePicker(e.error),e.error.details),true;let a=e.value;this.reportHealthStatus=i[ire],r.getShuffleAddressList()&&(a=nre(a));let o=[].concat(...a.map(c=>c.addresses));Hg("updateAddressList(["+o.map(c=>(0, ere.subchannelAddressToString)(c))+"])");let s=k1e(o);return this.latestAddressList=s,this.latestOptions=i,this.connectToAddressList(s,i),this.latestResolutionNote=n,o.length>0?true:(this.lastError="No addresses resolved",false)}exitIdle(){this.currentState===Ft.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions);}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick();}getTypeName(){return Gg}};$o.PickFirstLoadBalancer=jg;var U1e=new yp(false),xD=class{constructor(e,r,i,n){this.endpoint=e,this.options=i,this.resolutionNote=n,this.latestState=Ft.ConnectivityState.IDLE;let a=(0, AD.createChildChannelControlHelper)(r,{updateState:(o,s,c)=>{this.latestState=o,this.latestPicker=s,r.updateState(o,s,c);}});this.pickFirstBalancer=new jg(a),this.latestPicker=new tc.QueuePicker(this.pickFirstBalancer);}startConnecting(){this.pickFirstBalancer.updateAddressList((0, M1e.statusOrFromValue)([this.endpoint]),U1e,Object.assign(Object.assign({},this.options),{[ire]:true}),this.resolutionNote);}updateEndpoint(e,r){this.options=r,this.endpoint=e,this.latestState!==Ft.ConnectivityState.IDLE&&this.startConnecting();}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle();}destroy(){this.pickFirstBalancer.destroy();}};$o.LeafLoadBalancer=xD;function $1e(){(0, AD.registerLoadBalancerType)(Gg,jg,yp),(0, AD.registerDefaultLoadBalancerType)(Gg);}});var ore=T(Zb=>{Object.defineProperty(Zb,"__esModule",{value:true});Zb.FileWatcherCertificateProvider=void 0;var z1e=L("fs"),V1e=lt(),B1e=ke(),F1e=L("util"),H1e="certificate_provider";function Yb(t){V1e.trace(B1e.LogVerbosity.DEBUG,H1e,t);}var CD=(0, F1e.promisify)(z1e.readFile),ND=class{constructor(e){if(this.config=e,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,e.certificateFile===void 0!=(e.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(e.certificateFile===void 0&&e.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");Yb("File watcher constructed with config "+JSON.stringify(e));}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?CD(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?CD(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?CD(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([e,r,i])=>{if(this.refreshTimer){Yb("File watcher read certificates certificate "+e.status+", privateKey "+r.status+", CA certificate "+i.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,e.status==="fulfilled"&&r.status==="fulfilled"?this.latestIdentityUpdate={certificate:e.value,privateKey:r.value}:this.latestIdentityUpdate=null,i.status==="fulfilled"?this.latestCaUpdate={caCertificate:i.value}:this.latestCaUpdate=null;for(let n of this.identityListeners)n(this.latestIdentityUpdate);for(let n of this.caListeners)n(this.latestCaUpdate);}}),Yb("File watcher initiated certificate update"));}maybeStartWatchingFiles(){if(!this.refreshTimer){let e=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;e>this.config.refreshIntervalMs&&this.updateCertificates(),e>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),Yb("File watcher started watching");}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null));}addCaCertificateListener(e){this.caListeners.add(e),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(e,this.latestCaUpdate);}removeCaCertificateListener(e){this.caListeners.delete(e),this.maybeStopWatchingFiles();}addIdentityCertificateListener(e){this.identityListeners.add(e),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(e,this.latestIdentityUpdate);}removeIdentityCertificateListener(e){this.identityListeners.delete(e),this.maybeStopWatchingFiles();}};Zb.FileWatcherCertificateProvider=ND;});var wD=T(X=>{Object.defineProperty(X,"__esModule",{value:true});X.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=X.createCertificateProviderChannelCredentials=X.FileWatcherCertificateProvider=X.createCertificateProviderServerCredentials=X.createServerCredentialsWithInterceptors=X.BaseSubchannelWrapper=X.registerAdminService=X.FilterStackFactory=X.BaseFilter=X.statusOrFromError=X.statusOrFromValue=X.PickResultType=X.QueuePicker=X.UnavailablePicker=X.ChildLoadBalancerHandler=X.EndpointMap=X.endpointHasAddress=X.endpointToString=X.subchannelAddressToString=X.LeafLoadBalancer=X.isLoadBalancerNameRegistered=X.parseLoadBalancingConfig=X.selectLbConfigFromList=X.registerLoadBalancerType=X.createChildChannelControlHelper=X.BackoffTimeout=X.parseDuration=X.durationToMs=X.splitHostPort=X.uriToString=X.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=X.createResolver=X.registerResolver=X.log=X.trace=void 0;var sre=lt();Object.defineProperty(X,"trace",{enumerable:true,get:function(){return sre.trace}});Object.defineProperty(X,"log",{enumerable:true,get:function(){return sre.log}});var PD=ki();Object.defineProperty(X,"registerResolver",{enumerable:true,get:function(){return PD.registerResolver}});Object.defineProperty(X,"createResolver",{enumerable:true,get:function(){return PD.createResolver}});Object.defineProperty(X,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:true,get:function(){return PD.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var are=Br();Object.defineProperty(X,"uriToString",{enumerable:true,get:function(){return are.uriToString}});Object.defineProperty(X,"splitHostPort",{enumerable:true,get:function(){return are.splitHostPort}});var cre=Fg();Object.defineProperty(X,"durationToMs",{enumerable:true,get:function(){return cre.durationToMs}});Object.defineProperty(X,"parseDuration",{enumerable:true,get:function(){return cre.parseDuration}});var G1e=qd();Object.defineProperty(X,"BackoffTimeout",{enumerable:true,get:function(){return G1e.BackoffTimeout}});var Wg=Va();Object.defineProperty(X,"createChildChannelControlHelper",{enumerable:true,get:function(){return Wg.createChildChannelControlHelper}});Object.defineProperty(X,"registerLoadBalancerType",{enumerable:true,get:function(){return Wg.registerLoadBalancerType}});Object.defineProperty(X,"selectLbConfigFromList",{enumerable:true,get:function(){return Wg.selectLbConfigFromList}});Object.defineProperty(X,"parseLoadBalancingConfig",{enumerable:true,get:function(){return Wg.parseLoadBalancingConfig}});Object.defineProperty(X,"isLoadBalancerNameRegistered",{enumerable:true,get:function(){return Wg.isLoadBalancerNameRegistered}});var j1e=qg();Object.defineProperty(X,"LeafLoadBalancer",{enumerable:true,get:function(){return j1e.LeafLoadBalancer}});var Xb=fn();Object.defineProperty(X,"subchannelAddressToString",{enumerable:true,get:function(){return Xb.subchannelAddressToString}});Object.defineProperty(X,"endpointToString",{enumerable:true,get:function(){return Xb.endpointToString}});Object.defineProperty(X,"endpointHasAddress",{enumerable:true,get:function(){return Xb.endpointHasAddress}});Object.defineProperty(X,"EndpointMap",{enumerable:true,get:function(){return Xb.EndpointMap}});var q1e=Cv();Object.defineProperty(X,"ChildLoadBalancerHandler",{enumerable:true,get:function(){return q1e.ChildLoadBalancerHandler}});var ID=$s();Object.defineProperty(X,"UnavailablePicker",{enumerable:true,get:function(){return ID.UnavailablePicker}});Object.defineProperty(X,"QueuePicker",{enumerable:true,get:function(){return ID.QueuePicker}});Object.defineProperty(X,"PickResultType",{enumerable:true,get:function(){return ID.PickResultType}});var ure=wu();Object.defineProperty(X,"statusOrFromValue",{enumerable:true,get:function(){return ure.statusOrFromValue}});Object.defineProperty(X,"statusOrFromError",{enumerable:true,get:function(){return ure.statusOrFromError}});var W1e=sL();Object.defineProperty(X,"BaseFilter",{enumerable:true,get:function(){return W1e.BaseFilter}});var K1e=Eb();Object.defineProperty(X,"FilterStackFactory",{enumerable:true,get:function(){return K1e.FilterStackFactory}});var Y1e=wv();Object.defineProperty(X,"registerAdminService",{enumerable:true,get:function(){return Y1e.registerAdminService}});var Z1e=Vg();Object.defineProperty(X,"BaseSubchannelWrapper",{enumerable:true,get:function(){return Z1e.BaseSubchannelWrapper}});var lre=Bb();Object.defineProperty(X,"createServerCredentialsWithInterceptors",{enumerable:true,get:function(){return lre.createServerCredentialsWithInterceptors}});Object.defineProperty(X,"createCertificateProviderServerCredentials",{enumerable:true,get:function(){return lre.createCertificateProviderServerCredentials}});var X1e=ore();Object.defineProperty(X,"FileWatcherCertificateProvider",{enumerable:true,get:function(){return X1e.FileWatcherCertificateProvider}});var J1e=jd();Object.defineProperty(X,"createCertificateProviderChannelCredentials",{enumerable:true,get:function(){return J1e.createCertificateProviderChannelCredentials}});var Q1e=KL();Object.defineProperty(X,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:true,get:function(){return Q1e.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}});});var dre=T(LD=>{Object.defineProperty(LD,"__esModule",{value:true});LD.setup=r$e;var e$e=ki(),t$e=wu(),MD=class{constructor(e,r,i){this.listener=r,this.hasReturnedResult=false,this.endpoints=[];let n;e.authority===""?n="/"+e.path:n=e.path,this.endpoints=[{addresses:[{path:n}]}];}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=true,process.nextTick(this.listener,(0, t$e.statusOrFromValue)(this.endpoints),{},null,""));}destroy(){this.hasReturnedResult=false;}static getDefaultAuthority(e){return "localhost"}};function r$e(){(0, e$e.registerResolver)("unix",MD);}});var _re=T($D=>{Object.defineProperty($D,"__esModule",{value:true});$D.setup=a$e;var pre=L("net"),fre=wu(),Jb=ke(),DD=cr(),hre=ki(),n$e=fn(),mre=Br(),i$e=lt(),o$e="ip_resolver";function gre(t){i$e.trace(Jb.LogVerbosity.DEBUG,o$e,t);}var kD="ipv4",UD="ipv6",s$e=443,Qb=class{constructor(e,r,i){var n;this.listener=r,this.endpoints=[],this.error=null,this.hasReturnedResult=false,gre("Resolver constructed for target "+(0, mre.uriToString)(e));let a=[];if(!(e.scheme===kD||e.scheme===UD)){this.error={code:Jb.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new DD.Metadata};return}let o=e.path.split(",");for(let s of o){let c=(0, mre.splitHostPort)(s);if(c===null){this.error={code:Jb.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new DD.Metadata};return}if(e.scheme===kD&&!(0, pre.isIPv4)(c.host)||e.scheme===UD&&!(0, pre.isIPv6)(c.host)){this.error={code:Jb.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${s}`,metadata:new DD.Metadata};return}a.push({host:c.host,port:(n=c.port)!==null&&n!==void 0?n:s$e});}this.endpoints=a.map(s=>({addresses:[s]})),gre("Parsed "+e.scheme+" address list "+a.map(n$e.subchannelAddressToString));}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=true,process.nextTick(()=>{this.error?this.listener((0, fre.statusOrFromError)(this.error),{},null,""):this.listener((0, fre.statusOrFromValue)(this.endpoints),{},null,"");}));}destroy(){this.hasReturnedResult=false;}static getDefaultAuthority(e){return e.path.split(",")[0]}};function a$e(){(0, hre.registerResolver)(kD,Qb),(0, hre.registerResolver)(UD,Qb);}});var Tre=T(Yg=>{Object.defineProperty(Yg,"__esModule",{value:true});Yg.RoundRobinLoadBalancer=void 0;Yg.setup=f$e;var Ere=Va(),yr=Fr(),Kg=$s(),c$e=lt(),u$e=ke(),Sre=fn(),l$e=qg(),d$e="round_robin";function yre(t){c$e.trace(u$e.LogVerbosity.DEBUG,d$e,t);}var eR="round_robin",tR=class t{getLoadBalancerName(){return eR}constructor(){}toJsonObject(){return {[eR]:{}}}static createFromJson(e){return new t}},zD=class{constructor(e,r=0){this.children=e,this.nextIndex=r;}pick(e){let r=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,r.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}};function p$e(t,e){return [...t.slice(e),...t.slice(0,e)]}var rR=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=yr.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=false,this.lastError=null,this.childChannelControlHelper=(0, Ere.createChildChannelControlHelper)(e,{updateState:(r,i,n)=>{this.currentState===yr.ConnectivityState.READY&&r!==yr.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),n&&(this.lastError=n),this.calculateAndUpdateState();}});}countChildrenWithState(e){return this.children.filter(r=>r.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(yr.ConnectivityState.READY)>0){let e=this.children.filter(i=>i.getConnectivityState()===yr.ConnectivityState.READY),r=0;if(this.currentReadyPicker!==null){let i=this.currentReadyPicker.peekNextEndpoint();r=e.findIndex(n=>(0, Sre.endpointEqual)(n.getEndpoint(),i)),r<0&&(r=0);}this.updateState(yr.ConnectivityState.READY,new zD(e.map(i=>({endpoint:i.getEndpoint(),picker:i.getPicker()})),r),null);}else if(this.countChildrenWithState(yr.ConnectivityState.CONNECTING)>0)this.updateState(yr.ConnectivityState.CONNECTING,new Kg.QueuePicker(this),null);else if(this.countChildrenWithState(yr.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(yr.ConnectivityState.TRANSIENT_FAILURE,new Kg.UnavailablePicker({details:e}),e);}else this.updateState(yr.ConnectivityState.IDLE,new Kg.QueuePicker(this),null);for(let e of this.children)e.getConnectivityState()===yr.ConnectivityState.IDLE&&e.exitIdle();}}updateState(e,r,i){yre(yr.ConnectivityState[this.currentState]+" -> "+yr.ConnectivityState[e]),e===yr.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,r,i);}resetSubchannelList(){for(let e of this.children)e.destroy();this.children=[];}updateAddressList(e,r,i,n){if(!(r instanceof tR))return  false;if(!e.ok)return this.children.length===0&&this.updateState(yr.ConnectivityState.TRANSIENT_FAILURE,new Kg.UnavailablePicker(e.error),e.error.details),true;let a=Math.random()*e.value.length|0,o=p$e(e.value,a);if(this.resetSubchannelList(),o.length===0){let s=`No addresses resolved. Resolution note: ${n}`;this.updateState(yr.ConnectivityState.TRANSIENT_FAILURE,new Kg.UnavailablePicker({details:s}),s);}yre("Connect to endpoint list "+o.map(Sre.endpointToString)),this.updatesPaused=true,this.children=o.map(s=>new l$e.LeafLoadBalancer(s,this.childChannelControlHelper,i,n));for(let s of this.children)s.startConnecting();return this.updatesPaused=false,this.calculateAndUpdateState(),true}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList();}getTypeName(){return eR}};Yg.RoundRobinLoadBalancer=rR;function f$e(){(0, Ere.registerLoadBalancerType)(eR,rR,tR);}});var Rre=T(Yu=>{var VD;Object.defineProperty(Yu,"__esModule",{value:true});Yu.OutlierDetectionLoadBalancer=Yu.OutlierDetectionLoadBalancingConfig=void 0;Yu.setup=R$e;var h$e=Fr(),vre=ke(),Ku=Fg(),bre=wD(),m$e=Va(),g$e=Cv(),_$e=$s(),BD=fn(),S$e=Vg(),y$e=lt(),E$e="outlier_detection";function dr(t){y$e.trace(vre.LogVerbosity.DEBUG,E$e,t);}var WD="outlier_detection",T$e=((VD=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&VD!==void 0?VD:"true")==="true",v$e={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},b$e={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Ep(t,e,r,i){if(e in t&&t[e]!==void 0&&typeof t[e]!==r){let n=i?`${i}.${e}`:e;throw new Error(`outlier detection config ${n} parse error: expected ${r}, got ${typeof t[e]}`)}}function FD(t,e,r){let i=e;if(e in t&&t[e]!==void 0){if(!(0, Ku.isDuration)(t[e]))throw new Error(`outlier detection config ${i} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${i} parse error: values out of range for non-negative Duaration`)}}function nR(t,e,r){let i=r?`${r}.${e}`:e;if(Ep(t,e,"number",r),e in t&&t[e]!==void 0&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${i} parse error: value out of range for percentage (0-100)`)}var Zg=class t{constructor(e,r,i,n,a,o,s){if(this.childPolicy=s,s.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=r??3e4,this.maxEjectionTimeMs=i??3e5,this.maxEjectionPercent=n??10,this.successRateEjection=a?Object.assign(Object.assign({},v$e),a):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},b$e),o):null;}getLoadBalancerName(){return WD}toJsonObject(){var e,r;return {outlier_detection:{interval:(0, Ku.msToDuration)(this.intervalMs),base_ejection_time:(0, Ku.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0, Ku.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(r=this.failurePercentageEjection)!==null&&r!==void 0?r:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var r;if(FD(e,"interval"),FD(e,"base_ejection_time"),FD(e,"max_ejection_time"),nR(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Ep(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),nR(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Ep(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Ep(e.success_rate_ejection,"request_volume","number","success_rate_ejection");}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");nR(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),nR(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Ep(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Ep(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection");}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let i=(0, m$e.selectLbConfigFromList)(e.child_policy);if(!i)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new t(e.interval?(0, Ku.durationToMs)(e.interval):null,e.base_ejection_time?(0, Ku.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0, Ku.durationToMs)(e.max_ejection_time):null,(r=e.max_ejection_percent)!==null&&r!==void 0?r:null,e.success_rate_ejection,e.failure_percentage_ejection,i)}};Yu.OutlierDetectionLoadBalancingConfig=Zg;var GD=class extends S$e.BaseSubchannelWrapper{constructor(e,r){super(e),this.mapEntry=r,this.refCount=0;}ref(){this.child.ref(),this.refCount+=1;}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1);}}eject(){this.setHealthy(false);}uneject(){this.setHealthy(true);}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function HD(){return {success:0,failure:0}}var jD=class{constructor(){this.activeBucket=HD(),this.inactiveBucket=HD();}addSuccess(){this.activeBucket.success+=1;}addFailure(){this.activeBucket.failure+=1;}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=HD();}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},qD=class{constructor(e,r){this.wrappedPicker=e,this.countCalls=r;}pick(e){let r=this.wrappedPicker.pick(e);if(r.pickResultType===_$e.PickResultType.COMPLETE){let i=r.subchannel,n=i.getMapEntry();if(n){let a=r.onCallEnded;return this.countCalls&&(a=(o,s,c)=>{var u;o===vre.Status.OK?n.counter.addSuccess():n.counter.addFailure(),(u=r.onCallEnded)===null||u===void 0||u.call(r,o,s,c);}),Object.assign(Object.assign({},r),{subchannel:i.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},r),{subchannel:i.getWrappedSubchannel()})}else return r}},iR=class{constructor(e){this.entryMap=new BD.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new g$e.ChildLoadBalancerHandler((0, bre.createChildChannelControlHelper)(e,{createSubchannel:(r,i)=>{let n=e.createSubchannel(r,i),a=this.entryMap.getForSubchannelAddress(r),o=new GD(n,a);return a?.currentEjectionTimestamp!==null&&o.eject(),a?.subchannelWrappers.push(o),o},updateState:(r,i,n)=>{r===h$e.ConnectivityState.READY?e.updateState(r,new qD(i,this.isCountingEnabled()),n):e.updateState(r,i,n);}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer);}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let r of this.entryMap.values())r.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getSuccessRateEjectionConfig();if(!r)return;dr("Running success rate check");let i=r.request_volume,n=0,a=[];for(let[d,p]of this.entryMap.entries()){let f=p.counter.getLastSuccesses(),_=p.counter.getLastFailures();dr("Stats for "+(0, BD.endpointToString)(d)+": successes="+f+" failures="+_+" targetRequestVolume="+i),f+_>=i&&(n+=1,a.push(f/(f+_)));}if(dr("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),n<r.minimum_hosts)return;let o=a.reduce((d,p)=>d+p)/a.length,s=0;for(let d of a){let p=d-o;s+=p*p;}let c=s/a.length,u=Math.sqrt(c),l=o-u*(r.stdev_factor/1e3);dr("stdev="+u+" ejectionThreshold="+l);for(let[d,p]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=p.counter.getLastSuccesses(),_=p.counter.getLastFailures();if(f+_<i)continue;let y=f/(f+_);if(dr("Checking candidate "+d+" successRate="+y),y<l){let v=Math.random()*100;dr("Candidate "+d+" randomNumber="+v+" enforcement_percentage="+r.enforcement_percentage),v<r.enforcement_percentage&&(dr("Ejecting candidate "+d),this.eject(p,e));}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getFailurePercentageEjectionConfig();if(!r)return;dr("Running failure percentage check. threshold="+r.threshold+" request volume threshold="+r.request_volume);let i=0;for(let n of this.entryMap.values()){let a=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();a+o>=r.request_volume&&(i+=1);}if(!(i<r.minimum_hosts))for(let[n,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=a.counter.getLastSuccesses(),s=a.counter.getLastFailures();if(dr("Candidate successes="+o+" failures="+s),o+s<r.request_volume)continue;if(s*100/(s+o)>r.threshold){let u=Math.random()*100;dr("Candidate "+n+" randomNumber="+u+" enforcement_percentage="+r.enforcement_percentage),u<r.enforcement_percentage&&(dr("Ejecting candidate "+n),this.eject(a,e));}}}eject(e,r){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let i of e.subchannelWrappers)i.eject();}uneject(e){e.currentEjectionTimestamp=null;for(let r of e.subchannelWrappers)r.uneject();}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets();}startTimer(e){var r,i;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(i=(r=this.ejectionTimer).unref)===null||i===void 0||i.call(r);}runChecks(){let e=new Date;if(dr("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[r,i]of this.entryMap.entries())if(i.currentEjectionTimestamp===null)i.ejectionTimeMultiplier>0&&(i.ejectionTimeMultiplier-=1);else {let n=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(i.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(n*i.ejectionTimeMultiplier,Math.max(n,a))),o<new Date&&(dr("Unejecting "+r),this.uneject(i));}}}updateAddressList(e,r,i,n){if(!(r instanceof Zg))return  false;if(dr("Received update with config: "+JSON.stringify(r.toJsonObject(),void 0,2)),e.ok){for(let o of e.value)this.entryMap.has(o)||(dr("Adding map entry for "+(0, BD.endpointToString)(o)),this.entryMap.set(o,{counter:new jD,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e.value);}let a=r.getChildPolicy();if(this.childBalancer.updateAddressList(e,a,i,n),r.getSuccessRateEjectionConfig()||r.getFailurePercentageEjectionConfig())if(this.timerStartTime){dr("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=r.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o);}else dr("Starting new timer"),this.timerStartTime=new Date,this.startTimer(r.getIntervalMs()),this.switchAllBuckets();else {dr("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.entryMap.values())this.uneject(o),o.ejectionTimeMultiplier=0;}return this.latestConfig=r,true}exitIdle(){this.childBalancer.exitIdle();}resetBackoff(){this.childBalancer.resetBackoff();}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy();}getTypeName(){return WD}};Yu.OutlierDetectionLoadBalancer=iR;function R$e(){T$e&&(0, bre.registerLoadBalancerType)(WD,iR,Zg);}});var Are=T(sR=>{Object.defineProperty(sR,"__esModule",{value:true});sR.PriorityQueue=void 0;var Tp=0,KD=t=>Math.floor(t/2),oR=t=>t*2+1,Xg=t=>t*2+2,YD=class{constructor(e=(r,i)=>r>i){this.comparator=e,this.heap=[];}size(){return this.heap.length}isEmpty(){return this.size()==0}peek(){return this.heap[Tp]}push(...e){return e.forEach(r=>{this.heap.push(r),this.siftUp();}),this.size()}pop(){let e=this.peek(),r=this.size()-1;return r>Tp&&this.swap(Tp,r),this.heap.pop(),this.siftDown(),e}replace(e){let r=this.peek();return this.heap[Tp]=e,this.siftDown(),r}greater(e,r){return this.comparator(this.heap[e],this.heap[r])}swap(e,r){[this.heap[e],this.heap[r]]=[this.heap[r],this.heap[e]];}siftUp(){let e=this.size()-1;for(;e>Tp&&this.greater(e,KD(e));)this.swap(e,KD(e)),e=KD(e);}siftDown(){let e=Tp;for(;oR(e)<this.size()&&this.greater(oR(e),e)||Xg(e)<this.size()&&this.greater(Xg(e),e);){let r=Xg(e)<this.size()&&this.greater(Xg(e),oR(e))?Xg(e):oR(e);this.swap(e,r),e=r;}}};sR.PriorityQueue=YD;});var Pre=T(Qg=>{Object.defineProperty(Qg,"__esModule",{value:true});Qg.WeightedRoundRobinLoadBalancingConfig=void 0;Qg.setup=D$e;var pr=Fr(),A$e=ke(),Bn=Fg(),Cre=Va(),O$e=qg(),x$e=lt(),Nre=Hb(),vp=$s(),C$e=Are(),Ore=fn(),N$e="weighted_round_robin";function ZD(t){x$e.trace(A$e.LogVerbosity.DEBUG,N$e,t);}var QD="weighted_round_robin",P$e=1e4,I$e=1e4,w$e=3*6e4,M$e=1e3,L$e=1;function xre(t,e,r){if(e in t&&t[e]!==void 0&&typeof t[e]!==r)throw new Error(`weighted round robin config ${e} parse error: expected ${r}, got ${typeof t[e]}`)}function aR(t,e){if(e in t&&t[e]!==void 0&&t[e]!==null){let r;if((0, Bn.isDuration)(t[e]))r=t[e];else if((0, Bn.isDurationMessage)(t[e]))r=(0, Bn.durationMessageToDuration)(t[e]);else if(typeof t[e]=="string"){let i=(0, Bn.parseDuration)(t[e]);if(!i)throw new Error(`weighted round robin config ${e}: failed to parse duration string ${t[e]}`);r=i;}else throw new Error(`weighted round robin config ${e}: expected duration, got ${typeof t[e]}`);return (0, Bn.durationToMs)(r)}return null}var Jg=class t{constructor(e,r,i,n,a,o){this.enableOobLoadReport=e??false,this.oobLoadReportingPeriodMs=r??P$e,this.blackoutPeriodMs=i??I$e,this.weightExpirationPeriodMs=n??w$e,this.weightUpdatePeriodMs=Math.max(a??M$e,100),this.errorUtilizationPenalty=o??L$e;}getLoadBalancerName(){return QD}toJsonObject(){return {enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0, Bn.durationToString)((0, Bn.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0, Bn.durationToString)((0, Bn.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0, Bn.durationToString)((0, Bn.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0, Bn.durationToString)((0, Bn.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(e){if(xre(e,"enable_oob_load_report","boolean"),xre(e,"error_utilization_penalty","number"),e.error_utilization_penalty<0)throw new Error("weighted round robin config error_utilization_penalty < 0");return new t(e.enable_oob_load_report,aR(e,"oob_load_reporting_period"),aR(e,"blackout_period"),aR(e,"weight_expiration_period"),aR(e,"weight_update_period"),e.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}};Qg.WeightedRoundRobinLoadBalancingConfig=Jg;var XD=class{constructor(e,r){this.metricsHandler=r,this.queue=new C$e.PriorityQueue((a,o)=>a.deadline<o.deadline);let i=e.filter(a=>a.weight>0),n;if(i.length<2)n=1;else {let a=0;for(let{weight:o}of i)a+=o;n=a/i.length;}for(let a of e){let o=a.weight>0?1/a.weight:n;this.queue.push({endpointName:a.endpointName,picker:a.picker,period:o,deadline:Math.random()*o});}}pick(e){let r=this.queue.pop();this.queue.push(Object.assign(Object.assign({},r),{deadline:r.deadline+r.period}));let i=r.picker.pick(e);if(i.pickResultType===vp.PickResultType.COMPLETE){if(this.metricsHandler)return Object.assign(Object.assign({},i),{onCallEnded:(0, Nre.createMetricsReader)(n=>this.metricsHandler(n,r.endpointName),i.onCallEnded)});{let n=i.subchannel;return Object.assign(Object.assign({},i),{subchannel:n.getWrappedSubchannel()})}}else return i}},JD=class{constructor(e){this.channelControlHelper=e,this.latestConfig=null,this.children=new Map,this.currentState=pr.ConnectivityState.IDLE,this.updatesPaused=false,this.lastError=null,this.weightUpdateTimer=null;}countChildrenWithState(e){let r=0;for(let i of this.children.values())i.child.getConnectivityState()===e&&(r+=1);return r}updateWeight(e,r){var i,n;let a=r.rps_fractional,o=r.application_utilization;o>0&&a>0&&(o+=r.eps/a*((n=(i=this.latestConfig)===null||i===void 0?void 0:i.getErrorUtilizationPenalty())!==null&&n!==void 0?n:0));let s=o===0?0:a/o;if(s===0)return;let c=new Date;e.nonEmptySince===null&&(e.nonEmptySince=c),e.lastUpdated=c,e.weight=s;}getWeight(e){if(!this.latestConfig)return 0;let r=new Date().getTime();if(r-e.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return e.nonEmptySince=null,0;let i=this.latestConfig.getBlackoutPeriodMs();return i>0&&(e.nonEmptySince===null||r-e.nonEmptySince.getTime()<i)?0:e.weight}calculateAndUpdateState(){if(!(this.updatesPaused||!this.latestConfig)){if(this.countChildrenWithState(pr.ConnectivityState.READY)>0){let e=[];for(let[i,n]of this.children)n.child.getConnectivityState()===pr.ConnectivityState.READY&&e.push({endpointName:i,picker:n.child.getPicker(),weight:this.getWeight(n)});ZD("Created picker with weights: "+e.map(i=>i.endpointName+":"+i.weight).join(","));let r;this.latestConfig.getEnableOobLoadReport()?r=null:r=(i,n)=>{let a=this.children.get(n);a&&this.updateWeight(a,i);},this.updateState(pr.ConnectivityState.READY,new XD(e,r),null);}else if(this.countChildrenWithState(pr.ConnectivityState.CONNECTING)>0)this.updateState(pr.ConnectivityState.CONNECTING,new vp.QueuePicker(this),null);else if(this.countChildrenWithState(pr.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(pr.ConnectivityState.TRANSIENT_FAILURE,new vp.UnavailablePicker({details:e}),e);}else this.updateState(pr.ConnectivityState.IDLE,new vp.QueuePicker(this),null);for(let{child:e}of this.children.values())e.getConnectivityState()===pr.ConnectivityState.IDLE&&e.exitIdle();}}updateState(e,r,i){ZD(pr.ConnectivityState[this.currentState]+" -> "+pr.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r,i);}updateAddressList(e,r,i,n){var a,o;if(!(r instanceof Jg))return  false;if(!e.ok)return this.children.size===0&&this.updateState(pr.ConnectivityState.TRANSIENT_FAILURE,new vp.UnavailablePicker(e.error),e.error.details),true;if(e.value.length===0){let u=`No addresses resolved. Resolution note: ${n}`;return this.updateState(pr.ConnectivityState.TRANSIENT_FAILURE,new vp.UnavailablePicker({details:u}),u),false}ZD("Connect to endpoint list "+e.value.map(Ore.endpointToString));let s=new Date,c=new Set;this.updatesPaused=true,this.latestConfig=r;for(let u of e.value){let l=(0, Ore.endpointToString)(u);c.add(l);let d=this.children.get(l);d||(d={child:new O$e.LeafLoadBalancer(u,(0, Cre.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(p,f,_)=>{this.currentState===pr.ConnectivityState.READY&&p!==pr.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),p===pr.ConnectivityState.READY&&(d.nonEmptySince=null),_&&(this.lastError=_),this.calculateAndUpdateState();},createSubchannel:(p,f)=>{let _=this.channelControlHelper.createSubchannel(p,f);return d?.oobMetricsListener?new Nre.OrcaOobMetricsSubchannelWrapper(_,d.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):_}}),i,n),lastUpdated:s,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(l,d)),r.getEnableOobLoadReport()?d.oobMetricsListener=p=>{this.updateWeight(d,p);}:d.oobMetricsListener=null;}for(let[u,l]of this.children)c.has(u)?l.child.startConnecting():(l.child.destroy(),this.children.delete(u));return this.updatesPaused=false,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=(o=(a=setInterval(()=>{this.currentState===pr.ConnectivityState.READY&&this.calculateAndUpdateState();},r.getWeightUpdatePeriodMs())).unref)===null||o===void 0?void 0:o.call(a),true}exitIdle(){}resetBackoff(){}destroy(){for(let e of this.children.values())e.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer);}getTypeName(){return QD}};function D$e(){(0, Cre.registerLoadBalancerType)(QD,JD,Jg);}});var e_=T(Y=>{Object.defineProperty(Y,"__esModule",{value:true});Y.experimental=Y.ServerMetricRecorder=Y.ServerInterceptingCall=Y.ResponderBuilder=Y.ServerListenerBuilder=Y.addAdminServicesToServer=Y.getChannelzHandlers=Y.getChannelzServiceDefinition=Y.InterceptorConfigurationError=Y.InterceptingCall=Y.RequesterBuilder=Y.ListenerBuilder=Y.StatusBuilder=Y.getClientChannel=Y.ServerCredentials=Y.Server=Y.setLogVerbosity=Y.setLogger=Y.load=Y.loadObject=Y.CallCredentials=Y.ChannelCredentials=Y.waitForClientReady=Y.closeClient=Y.Channel=Y.makeGenericClientConstructor=Y.makeClientConstructor=Y.loadPackageDefinition=Y.Client=Y.compressionAlgorithms=Y.propagate=Y.connectivityState=Y.status=Y.logVerbosity=Y.Metadata=Y.credentials=void 0;var cR=_v();Object.defineProperty(Y,"CallCredentials",{enumerable:true,get:function(){return cR.CallCredentials}});var k$e=nM();Object.defineProperty(Y,"Channel",{enumerable:true,get:function(){return k$e.ChannelImplementation}});var U$e=iL();Object.defineProperty(Y,"compressionAlgorithms",{enumerable:true,get:function(){return U$e.CompressionAlgorithms}});var $$e=Fr();Object.defineProperty(Y,"connectivityState",{enumerable:true,get:function(){return $$e.ConnectivityState}});var uR=jd();Object.defineProperty(Y,"ChannelCredentials",{enumerable:true,get:function(){return uR.ChannelCredentials}});var Ire=rM();Object.defineProperty(Y,"Client",{enumerable:true,get:function(){return Ire.Client}});var ek=ke();Object.defineProperty(Y,"logVerbosity",{enumerable:true,get:function(){return ek.LogVerbosity}});Object.defineProperty(Y,"status",{enumerable:true,get:function(){return ek.Status}});Object.defineProperty(Y,"propagate",{enumerable:true,get:function(){return ek.Propagate}});var wre=lt(),tk=Uv();Object.defineProperty(Y,"loadPackageDefinition",{enumerable:true,get:function(){return tk.loadPackageDefinition}});Object.defineProperty(Y,"makeClientConstructor",{enumerable:true,get:function(){return tk.makeClientConstructor}});Object.defineProperty(Y,"makeGenericClientConstructor",{enumerable:true,get:function(){return tk.makeClientConstructor}});var z$e=cr();Object.defineProperty(Y,"Metadata",{enumerable:true,get:function(){return z$e.Metadata}});var V$e=Jte();Object.defineProperty(Y,"Server",{enumerable:true,get:function(){return V$e.Server}});var B$e=Bb();Object.defineProperty(Y,"ServerCredentials",{enumerable:true,get:function(){return B$e.ServerCredentials}});var F$e=Qte();Object.defineProperty(Y,"StatusBuilder",{enumerable:true,get:function(){return F$e.StatusBuilder}});Y.credentials={combineChannelCredentials:(t,...e)=>e.reduce((r,i)=>r.compose(i),t),combineCallCredentials:(t,...e)=>e.reduce((r,i)=>r.compose(i),t),createInsecure:uR.ChannelCredentials.createInsecure,createSsl:uR.ChannelCredentials.createSsl,createFromSecureContext:uR.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:cR.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:cR.CallCredentials.createFromGoogleCredential,createEmpty:cR.CallCredentials.createEmpty};var H$e=t=>t.close();Y.closeClient=H$e;var G$e=(t,e,r)=>t.waitForReady(e,r);Y.waitForClientReady=G$e;var j$e=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.loadObject=j$e;var q$e=(t,e,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Y.load=q$e;var W$e=t=>{wre.setLogger(t);};Y.setLogger=W$e;var K$e=t=>{wre.setLoggerVerbosity(t);};Y.setLogVerbosity=K$e;var Y$e=t=>Ire.Client.prototype.getChannel.call(t);Y.getClientChannel=Y$e;var lR=Q0();Object.defineProperty(Y,"ListenerBuilder",{enumerable:true,get:function(){return lR.ListenerBuilder}});Object.defineProperty(Y,"RequesterBuilder",{enumerable:true,get:function(){return lR.RequesterBuilder}});Object.defineProperty(Y,"InterceptingCall",{enumerable:true,get:function(){return lR.InterceptingCall}});Object.defineProperty(Y,"InterceptorConfigurationError",{enumerable:true,get:function(){return lR.InterceptorConfigurationError}});var Mre=Ya();Object.defineProperty(Y,"getChannelzServiceDefinition",{enumerable:true,get:function(){return Mre.getChannelzServiceDefinition}});Object.defineProperty(Y,"getChannelzHandlers",{enumerable:true,get:function(){return Mre.getChannelzHandlers}});var Z$e=wv();Object.defineProperty(Y,"addAdminServicesToServer",{enumerable:true,get:function(){return Z$e.addAdminServicesToServer}});var rk=ED();Object.defineProperty(Y,"ServerListenerBuilder",{enumerable:true,get:function(){return rk.ServerListenerBuilder}});Object.defineProperty(Y,"ResponderBuilder",{enumerable:true,get:function(){return rk.ResponderBuilder}});Object.defineProperty(Y,"ServerInterceptingCall",{enumerable:true,get:function(){return rk.ServerInterceptingCall}});var X$e=Hb();Object.defineProperty(Y,"ServerMetricRecorder",{enumerable:true,get:function(){return X$e.ServerMetricRecorder}});var J$e=wD();Y.experimental=J$e;var Q$e=bL(),eze=dre(),tze=_re(),rze=qg(),nze=Tre(),ize=Rre(),oze=Pre(),sze=Ya();Q$e.setup(),eze.setup(),tze.setup(),rze.setup(),nze.setup(),ize.setup(),oze.setup(),sze.setup();});var Lre=T(dR=>{Object.defineProperty(dR,"__esModule",{value:true});dR.createServiceClientConstructor=void 0;var aze=e_();function cze(t,e){let r={export:{path:t,requestStream:false,responseStream:false,requestSerialize:i=>i,requestDeserialize:i=>i,responseSerialize:i=>i,responseDeserialize:i=>i}};return aze.makeGenericClientConstructor(r,e)}dR.createServiceClientConstructor=cze;});var t_=T(di=>{Object.defineProperty(di,"__esModule",{value:true});di.createOtlpGrpcExporterTransport=di.GrpcExporterTransport=di.createEmptyMetadata=di.createSslCredentials=di.createInsecureCredentials=void 0;var uze=0,lze=2;function dze(t){return t==="gzip"?lze:uze}function pze(){let{credentials:t}=e_();return t.createInsecure()}di.createInsecureCredentials=pze;function fze(t,e,r){let{credentials:i}=e_();return i.createSsl(t,e,r)}di.createSslCredentials=fze;function hze(){let{Metadata:t}=e_();return new t}di.createEmptyMetadata=hze;var pR=class{_parameters;_client;_metadata;constructor(e){this._parameters=e;}shutdown(){this._client?.close();}send(e,r){let i=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:n}=Lre();try{this._metadata=this._parameters.metadata();}catch(o){return Promise.resolve({status:"failure",error:o})}let a=n(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new a(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":dze(this._parameters.compression)});}catch(o){return Promise.resolve({status:"failure",error:o})}}return new Promise(n=>{let a=Date.now()+r;if(this._metadata==null)return n({error:new Error("metadata was null"),status:"failure"});this._client.export(i,this._metadata,{deadline:a},(o,s)=>{n(o?{status:"failure",error:o}:{data:s,status:"success"});});})}};di.GrpcExporterTransport=pR;function mze(t){return new pR(t)}di.createOtlpGrpcExporterTransport=mze;});var Dre=T(fR=>{Object.defineProperty(fR,"__esModule",{value:true});fR.VERSION=void 0;fR.VERSION="0.204.0";});var Vre=T(rc=>{Object.defineProperty(rc,"__esModule",{value:true});rc.getOtlpGrpcDefaultConfiguration=rc.mergeOtlpGrpcConfigurationWithDefaults=rc.validateAndNormalizeUrl=void 0;var $re=(To(),U(Gm)),r_=t_(),gze=Dre(),_ze=L("url"),kre=(P(),U(je));function zre(t){t=t.trim(),t.match(/^([\w]{1,8}):\/\//)||(t=`https://${t}`);let r=new _ze.URL(t);return r.protocol==="unix:"?t:(r.pathname&&r.pathname!=="/"&&kre.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),r.protocol!==""&&!r.protocol?.match(/^(http)s?:$/)&&kre.diag.warn("URL protocol should be http(s)://. Using http://."),r.host)}rc.validateAndNormalizeUrl=zre;function Ure(t,e){for(let[r,i]of Object.entries(e.getMap()))t.get(r).length<1&&t.set(r,i);}function Sze(t,e,r){let i=t.url??e.url??r.url;return {...(0, $re.mergeOtlpSharedConfigurationWithDefaults)(t,e,r),metadata:()=>{let n=r.metadata();return Ure(n,t.metadata?.().clone()??(0, r_.createEmptyMetadata)()),Ure(n,e.metadata?.()??(0, r_.createEmptyMetadata)()),n},url:zre(i),credentials:t.credentials??e.credentials?.(i)??r.credentials(i)}}rc.mergeOtlpGrpcConfigurationWithDefaults=Sze;function yze(){return {...(0, $re.getSharedConfigurationDefaults)(),metadata:()=>{let t=(0, r_.createEmptyMetadata)();return t.set("User-Agent",`OTel-OTLP-Exporter-JavaScript/${gze.VERSION}`),t},url:"http://localhost:4317",credentials:t=>t.startsWith("http://")?()=>(0, r_.createInsecureCredentials)():()=>(0, r_.createSslCredentials)()}}rc.getOtlpGrpcDefaultConfiguration=yze;});var jre=T(hR=>{Object.defineProperty(hR,"__esModule",{value:true});hR.getOtlpGrpcConfigurationFromEnv=void 0;var Bre=(Q(),U(Mn)),n_=t_(),Eze=(Ua(),U(b7)),Tze=L("fs"),vze=L("path"),Hre=(P(),U(je));function nk(t,e){if(t!=null&&t!=="")return t;if(e!=null&&e!=="")return e}function bze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_HEADERS`]?.trim(),r=process.env.OTEL_EXPORTER_OTLP_HEADERS?.trim(),i=(0, Bre.parseKeyPairsIntoRecord)(e),n=(0, Bre.parseKeyPairsIntoRecord)(r);if(Object.keys(i).length===0&&Object.keys(n).length===0)return;let a=Object.assign({},n,i),o=(0, n_.createEmptyMetadata)();for(let[s,c]of Object.entries(a))o.set(s,c);return o}function Rze(t){let e=bze(t);if(e!=null)return ()=>e}function Aze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_ENDPOINT`]?.trim(),r=process.env.OTEL_EXPORTER_OTLP_ENDPOINT?.trim();return nk(e,r)}function Oze(t){let e=process.env[`OTEL_EXPORTER_OTLP_${t}_INSECURE`]?.toLowerCase().trim(),r=process.env.OTEL_EXPORTER_OTLP_INSECURE?.toLowerCase().trim();return nk(e,r)==="true"}function ik(t,e,r){let i=process.env[t]?.trim(),n=process.env[e]?.trim(),a=nk(i,n);if(a!=null)try{return Tze.readFileSync(vze.resolve(process.cwd(),a))}catch{Hre.diag.warn(r);return}else return}function xze(t){return ik(`OTEL_EXPORTER_OTLP_${t}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function Cze(t){return ik(`OTEL_EXPORTER_OTLP_${t}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function Fre(t){return ik(`OTEL_EXPORTER_OTLP_${t}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function Gre(t){let e=Cze(t),r=xze(t),i=Fre(t),n=e!=null&&r!=null;return i!=null&&!n?(Hre.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0, n_.createSslCredentials)(Fre(t))):(0, n_.createSslCredentials)(i,e,r)}function Nze(t){return Oze(t)?(0, n_.createInsecureCredentials)():Gre(t)}function Pze(t){return {...(0, Eze.getSharedConfigurationFromEnvironment)(t),metadata:Rze(t),url:Aze(t),credentials:e=>e.startsWith("http://")?()=>(0, n_.createInsecureCredentials)():e.startsWith("https://")?()=>Gre(t):()=>Nze(t)}}hR.getOtlpGrpcConfigurationFromEnv=Pze;});var Wre=T(mR=>{Object.defineProperty(mR,"__esModule",{value:true});mR.convertLegacyOtlpGrpcOptions=void 0;var Ize=(P(),U(je)),qre=Vre(),wze=t_(),Mze=jre();function Lze(t,e){t.headers&&Ize.diag.warn("Headers cannot be set when using grpc");let r=t.credentials;return (0, qre.mergeOtlpGrpcConfigurationWithDefaults)({url:t.url,metadata:()=>t.metadata??(0, wze.createEmptyMetadata)(),compression:t.compression,timeoutMillis:t.timeoutMillis,concurrencyLimit:t.concurrencyLimit,credentials:r!=null?()=>r:void 0},(0, Mze.getOtlpGrpcConfigurationFromEnv)(e),(0, qre.getOtlpGrpcDefaultConfiguration)())}mR.convertLegacyOtlpGrpcOptions=Lze;});var Kre=T(gR=>{Object.defineProperty(gR,"__esModule",{value:true});gR.createOtlpGrpcExportDelegate=void 0;var Dze=(To(),U(Gm)),kze=t_();function Uze(t,e,r,i){return (0, Dze.createOtlpNetworkExportDelegate)(t,e,(0, kze.createOtlpGrpcExporterTransport)({address:t.url,compression:t.compression,credentials:t.credentials,metadata:t.metadata,grpcName:r,grpcPath:i}))}gR.createOtlpGrpcExportDelegate=Uze;});var _R=T(bp=>{Object.defineProperty(bp,"__esModule",{value:true});bp.createOtlpGrpcExportDelegate=bp.convertLegacyOtlpGrpcOptions=void 0;var $ze=Wre();Object.defineProperty(bp,"convertLegacyOtlpGrpcOptions",{enumerable:true,get:function(){return $ze.convertLegacyOtlpGrpcOptions}});var zze=Kre();Object.defineProperty(bp,"createOtlpGrpcExportDelegate",{enumerable:true,get:function(){return zze.createOtlpGrpcExportDelegate}});});var Zre=T(SR=>{Object.defineProperty(SR,"__esModule",{value:true});SR.OTLPLogExporter=void 0;var Yre=_R(),Vze=(Ro(),U(lv)),Bze=(To(),U(Gm)),ok=class extends Bze.OTLPExporterBase{constructor(e={}){super((0, Yre.createOtlpGrpcExportDelegate)((0, Yre.convertLegacyOtlpGrpcOptions)(e,"LOGS"),Vze.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"));}};SR.OTLPLogExporter=ok;});var Xre=T(yR=>{Object.defineProperty(yR,"__esModule",{value:true});yR.OTLPLogExporter=void 0;var Fze=Zre();Object.defineProperty(yR,"OTLPLogExporter",{enumerable:true,get:function(){return Fze.OTLPLogExporter}});});var Jre,Qre=g(()=>{Jre="0.204.0";});var Rp,ene=g(()=>{To();Ro();Ua();Qre();Rp=class extends cn{constructor(e={}){super(ln(dn(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Jre}`,"Content-Type":"application/x-protobuf"}),Km));}};});var tne=g(()=>{ene();});var rne=g(()=>{tne();});var nne={};Pe(nne,{OTLPLogExporter:()=>Rp});var ine=g(()=>{rne();});var Zu,sk=g(()=>{(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE",t[t.LOWMEMORY=2]="LOWMEMORY";})(Zu||(Zu={}));});function Hze(){let t=(Jt("OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE")??"cumulative").toLowerCase();return t==="cumulative"?i_:t==="delta"?ER:t==="lowmemory"?TR:(E.warn(`OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE is set to '${t}', but only 'cumulative' and 'delta' are allowed. Using default ('cumulative') instead.`),i_)}function Gze(t){return t!=null?t===Zu.DELTA?ER:t===Zu.LOWMEMORY?TR:i_:Hze()}function qze(t){return t?.aggregationPreference??(()=>jze)}var i_,ER,TR,jze,nc,ak=g(()=>{Q();ir();sk();To();P();i_=()=>Rt.CUMULATIVE,ER=t=>{switch(t){case fe.COUNTER:case fe.OBSERVABLE_COUNTER:case fe.GAUGE:case fe.HISTOGRAM:case fe.OBSERVABLE_GAUGE:return Rt.DELTA;case fe.UP_DOWN_COUNTER:case fe.OBSERVABLE_UP_DOWN_COUNTER:return Rt.CUMULATIVE}},TR=t=>{switch(t){case fe.COUNTER:case fe.HISTOGRAM:return Rt.DELTA;case fe.GAUGE:case fe.UP_DOWN_COUNTER:case fe.OBSERVABLE_UP_DOWN_COUNTER:case fe.OBSERVABLE_COUNTER:case fe.OBSERVABLE_GAUGE:return Rt.CUMULATIVE}};jze=Object.freeze({type:Ir.DEFAULT});nc=class extends cn{_aggregationTemporalitySelector;_aggregationSelector;constructor(e,r){super(e),this._aggregationSelector=qze(r),this._aggregationTemporalitySelector=Gze(r?.temporalityPreference);}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}};});var one,sne=g(()=>{one="0.204.0";});var Wze,Ap,ane=g(()=>{ak();Ro();sne();Ua();Wze={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${one}`},Ap=class extends nc{constructor(e){super(ln(dn(e??{},"METRICS","v1/metrics",{...Wze,"Content-Type":"application/json"}),Qm),e);}};});var cne=g(()=>{ane();});var une=g(()=>{cne();});var ck={};Pe(ck,{AggregationTemporalityPreference:()=>Zu,CumulativeTemporalitySelector:()=>i_,DeltaTemporalitySelector:()=>ER,LowMemoryTemporalitySelector:()=>TR,OTLPMetricExporter:()=>Ap,OTLPMetricExporterBase:()=>nc});var vR=g(()=>{une();sk();ak();});var dne=T(bR=>{Object.defineProperty(bR,"__esModule",{value:true});bR.OTLPMetricExporter=void 0;var Kze=(vR(),U(ck)),lne=_R(),Yze=(Ro(),U(lv)),uk=class extends Kze.OTLPMetricExporterBase{constructor(e){super((0, lne.createOtlpGrpcExportDelegate)((0, lne.convertLegacyOtlpGrpcOptions)(e??{},"METRICS"),Yze.ProtobufMetricsSerializer,"MetricsExportService","/opentelemetry.proto.collector.metrics.v1.MetricsService/Export"),e);}};bR.OTLPMetricExporter=uk;});var pne=T(RR=>{Object.defineProperty(RR,"__esModule",{value:true});RR.OTLPMetricExporter=void 0;var Zze=dne();Object.defineProperty(RR,"OTLPMetricExporter",{enumerable:true,get:function(){return Zze.OTLPMetricExporter}});});var fne,hne=g(()=>{fne="0.204.0";});var Op,mne=g(()=>{vR();Ro();hne();Ua();Op=class extends nc{constructor(e){super(ln(dn(e??{},"METRICS","v1/metrics",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${fne}`,"Content-Type":"application/x-protobuf"}),Zm),e);}};});var gne=g(()=>{mne();});var _ne=g(()=>{gne();});var Sne={};Pe(Sne,{OTLPMetricExporter:()=>Op});var yne=g(()=>{_ne();});var fk=T(xR=>{Object.defineProperty(xR,"__esModule",{value:true});xR.PrometheusSerializer=void 0;var Xze=(P(),U(je)),Xu=(ir(),U(Nm)),Ene=(Q(),U(Mn));function OR(t){return t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}function Tne(t=""){return typeof t!="string"&&(t=JSON.stringify(t)),OR(t).replace(/"/g,'\\"')}var Jze=/[^a-z0-9_]/gi,Qze=/_{2,}/g;function dk(t){return t.replace(Jze,"_").replace(Qze,"_")}function lk(t,e){return !t.endsWith("_total")&&e.dataPointType===Xu.DataPointType.SUM&&e.isMonotonic&&(t=t+"_total"),t}function eVe(t){return t===1/0?"+Inf":t===-1/0?"-Inf":`${t}`}function tVe(t){switch(t.dataPointType){case Xu.DataPointType.SUM:return t.isMonotonic?"counter":"gauge";case Xu.DataPointType.GAUGE:return "gauge";case Xu.DataPointType.HISTOGRAM:return "histogram";default:return "untyped"}}function AR(t,e,r,i,n){let a=false,o="";for(let[s,c]of Object.entries(e)){let u=dk(s);a=true,o+=`${o.length>0?",":""}${u}="${Tne(c)}"`;}if(n)for(let[s,c]of Object.entries(n)){let u=dk(s);a=true,o+=`${o.length>0?",":""}${u}="${Tne(c)}"`;}return a&&(t+=`{${o}}`),`${t} ${eVe(r)}${i!==void 0?" "+String(i):""}
`}var rVe="# no registered metrics",pk=class{_prefix;_appendTimestamp;_additionalAttributes;_withResourceConstantLabels;constructor(e,r=false,i){e&&(this._prefix=e+"_"),this._appendTimestamp=r,this._withResourceConstantLabels=i;}serialize(e){let r="";this._additionalAttributes=this._filterResourceConstantLabels(e.resource.attributes,this._withResourceConstantLabels);for(let i of e.scopeMetrics)r+=this._serializeScopeMetrics(i);return r===""&&(r+=rVe),this._serializeResource(e.resource)+r}_filterResourceConstantLabels(e,r){if(r){let i={};for(let[n,a]of Object.entries(e))n.match(r)&&(i[n]=a);return i}}_serializeScopeMetrics(e){let r="";for(let i of e.metrics)r+=this._serializeMetricData(i)+`
`;return r}_serializeMetricData(e){let r=dk(OR(e.descriptor.name));this._prefix&&(r=`${this._prefix}${r}`);let i=e.dataPointType;r=lk(r,e);let n=`# HELP ${r} ${OR(e.descriptor.description||"description missing")}`,a=e.descriptor.unit?`
# UNIT ${r} ${OR(e.descriptor.unit)}`:"",o=`# TYPE ${r} ${tVe(e)}`,s="";switch(i){case Xu.DataPointType.SUM:case Xu.DataPointType.GAUGE:{s=e.dataPoints.map(c=>this._serializeSingularDataPoint(r,e,c)).join("");break}case Xu.DataPointType.HISTOGRAM:{s=e.dataPoints.map(c=>this._serializeHistogramDataPoint(r,e,c)).join("");break}default:Xze.diag.error(`Unrecognizable DataPointType: ${i} for metric "${r}"`);}return `${n}${a}
${o}
${s}`.trim()}_serializeSingularDataPoint(e,r,i){let n="";e=lk(e,r);let{value:a,attributes:o}=i,s=(0, Ene.hrTimeToMilliseconds)(i.endTime);return n+=AR(e,o,a,this._appendTimestamp?s:void 0,this._additionalAttributes),n}_serializeHistogramDataPoint(e,r,i){let n="";e=lk(e,r);let a=i.attributes,o=i.value,s=(0, Ene.hrTimeToMilliseconds)(i.endTime);for(let d of ["count","sum"]){let p=o[d];p!=null&&(n+=AR(e+"_"+d,a,p,this._appendTimestamp?s:void 0,this._additionalAttributes));}let c=0,u=o.buckets.counts.entries(),l=false;for(let[d,p]of u){c+=p;let f=o.buckets.boundaries[d];if(f===void 0&&l)break;f===1/0&&(l=true),n+=AR(e+"_bucket",a,c,this._appendTimestamp?s:void 0,Object.assign({},this._additionalAttributes??{},{le:f===void 0||f===1/0?"+Inf":String(f)}));}return n}_serializeResource(e){let r="target_info",i=`# HELP ${r} Target metadata`,n=`# TYPE ${r} gauge`,a=AR(r,e.attributes,1).trim();return `${i}
${n}
${a}
`}};xR.PrometheusSerializer=pk;});var vne=T(CR=>{Object.defineProperty(CR,"__esModule",{value:true});CR.PrometheusExporter=void 0;var o_=(P(),U(je)),nVe=(Q(),U(Mn)),hk=(ir(),U(Nm)),iVe=L("http"),oVe=fk(),sVe=L("url"),mk=class t extends hk.MetricReader{static DEFAULT_OPTIONS={host:void 0,port:9464,endpoint:"/metrics",prefix:"",appendTimestamp:false,withResourceConstantLabels:void 0};_host;_port;_baseUrl;_endpoint;_server;_prefix;_appendTimestamp;_serializer;_startServerPromise;constructor(e={},r=()=>{}){super({aggregationSelector:n=>({type:hk.AggregationType.DEFAULT}),aggregationTemporalitySelector:n=>hk.AggregationTemporality.CUMULATIVE,metricProducers:e.metricProducers}),this._host=e.host||process.env.OTEL_EXPORTER_PROMETHEUS_HOST||t.DEFAULT_OPTIONS.host,this._port=e.port||Number(process.env.OTEL_EXPORTER_PROMETHEUS_PORT)||t.DEFAULT_OPTIONS.port,this._prefix=e.prefix||t.DEFAULT_OPTIONS.prefix,this._appendTimestamp=typeof e.appendTimestamp=="boolean"?e.appendTimestamp:t.DEFAULT_OPTIONS.appendTimestamp;let i=e.withResourceConstantLabels||t.DEFAULT_OPTIONS.withResourceConstantLabels;this._server=(0, iVe.createServer)(this._requestHandler).unref(),this._serializer=new oVe.PrometheusSerializer(this._prefix,this._appendTimestamp,i),this._baseUrl=`http://${this._host}:${this._port}/`,this._endpoint=(e.endpoint||t.DEFAULT_OPTIONS.endpoint).replace(/^([^/])/,"/$1"),e.preventServerStart!==true?this.startServer().then(r,n=>{o_.diag.error(n),r(n);}):r&&queueMicrotask(r);}async onForceFlush(){}onShutdown(){return this.stopServer()}stopServer(){return this._server?new Promise(e=>{this._server.close(r=>{r?r.code!=="ERR_SERVER_NOT_RUNNING"&&(0, nVe.globalErrorHandler)(r):o_.diag.debug("Prometheus exporter was stopped"),e();});}):(o_.diag.debug("Prometheus stopServer() was called but server was never started."),Promise.resolve())}startServer(){return this._startServerPromise??=new Promise((e,r)=>{this._server.once("error",r),this._server.listen({port:this._port,host:this._host},()=>{o_.diag.debug(`Prometheus exporter server started: ${this._host}:${this._port}/${this._endpoint}`),e();});}),this._startServerPromise}getMetricsRequestHandler(e,r){this._exportMetrics(r);}_requestHandler=(e,r)=>{e.url!=null&&new sVe.URL(e.url,this._baseUrl).pathname===this._endpoint?this._exportMetrics(r):this._notFound(r);};_exportMetrics=e=>{e.statusCode=200,e.setHeader("content-type","text/plain"),this.collect().then(r=>{let{resourceMetrics:i,errors:n}=r;n.length&&o_.diag.error("PrometheusExporter: metrics collection errors",...n),e.end(this._serializer.serialize(i));},r=>{e.end(`# failed to export metrics: ${r}`);});};_notFound=e=>{e.statusCode=404,e.end();}};CR.PrometheusExporter=mk;});var bne=T(xp=>{Object.defineProperty(xp,"__esModule",{value:true});xp.PrometheusSerializer=xp.PrometheusExporter=void 0;var aVe=vne();Object.defineProperty(xp,"PrometheusExporter",{enumerable:true,get:function(){return aVe.PrometheusExporter}});var cVe=fk();Object.defineProperty(xp,"PrometheusSerializer",{enumerable:true,get:function(){return cVe.PrometheusSerializer}});});var Rne,Ane=g(()=>{Rne="0.204.0";});var Cp,One=g(()=>{To();Ro();Ane();Ua();Cp=class extends cn{constructor(e={}){super(ln(dn(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Rne}`,"Content-Type":"application/x-protobuf"}),Xm));}};});var xne=g(()=>{One();});var Cne=g(()=>{xne();});var Nne={};Pe(Nne,{OTLPTraceExporter:()=>Cp});var Pne=g(()=>{Cne();});var Ine,wne=g(()=>{Ine="0.204.0";});var Np,Mne=g(()=>{To();wne();Ro();Ua();Np=class extends cn{constructor(e={}){super(ln(dn(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Ine}`,"Content-Type":"application/json"}),eg));}};});var Lne=g(()=>{Mne();});var Dne=g(()=>{Lne();});var kne={};Pe(kne,{OTLPTraceExporter:()=>Np});var Une=g(()=>{Dne();});var zne=T(NR=>{Object.defineProperty(NR,"__esModule",{value:true});NR.OTLPTraceExporter=void 0;var $ne=_R(),uVe=(Ro(),U(lv)),lVe=(To(),U(Gm)),gk=class extends lVe.OTLPExporterBase{constructor(e={}){super((0, $ne.createOtlpGrpcExportDelegate)((0, $ne.convertLegacyOtlpGrpcOptions)(e,"TRACES"),uVe.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"));}};NR.OTLPTraceExporter=gk;});var Vne=T(PR=>{Object.defineProperty(PR,"__esModule",{value:true});PR.OTLPTraceExporter=void 0;var dVe=zne();Object.defineProperty(PR,"OTLPTraceExporter",{enumerable:true,get:function(){return dVe.OTLPTraceExporter}});});function Ju(t,e){let r=new URL(t),i=Object.assign({method:"POST",headers:{"Content-Type":"application/json",...e}});return function(a,o){if(a.length===0)return E.debug("Zipkin send with empty spans"),o({code:Z.SUCCESS});let{request:s}=r.protocol==="http:"?fU__namespace:hU__namespace,c=s(r,i,l=>{let d="";l.on("data",p=>{d+=p;}),l.on("end",()=>{let p=l.statusCode||0;return E.debug(`Zipkin response status code: ${p}, body: ${d}`),p<400?o({code:Z.SUCCESS}):o({code:Z.FAILED,error:new Error(`Got unexpected status code from zipkin: ${p}`)})});});c.on("error",l=>o({code:Z.FAILED,error:l}));let u=JSON.stringify(a);E.debug(`Zipkin request payload: ${u}`),c.write(u,"utf8"),c.end();}}var Bne=g(()=>{P();Q();});var Fne=g(()=>{Bne();});var _k=g(()=>{Fne();});var Qu,Hne=g(()=>{(function(t){t.CLIENT="CLIENT",t.SERVER="SERVER",t.CONSUMER="CONSUMER",t.PRODUCER="PRODUCER";})(Qu||(Qu={}));});function qne(t,e,r,i){return {traceId:t.spanContext().traceId,parentId:t.parentSpanContext?.spanId,name:t.name,id:t.spanContext().spanId,kind:mVe[t.kind],timestamp:Pr(t.startTime),duration:Math.round(Pr(t.duration)),localEndpoint:{serviceName:e},tags:gVe(t,r,i),annotations:t.events.length?_Ve(t.events):void 0}}function gVe({attributes:t,resource:e,status:r,droppedAttributesCount:i,droppedEventsCount:n,droppedLinksCount:a},o,s){let c={};for(let u of Object.keys(t))c[u]=String(t[u]);return r.code!==ut.UNSET&&(c[o]=String(ut[r.code])),r.code===ut.ERROR&&r.message&&(c[s]=r.message),i&&(c["otel.dropped_attributes_count"]=String(i)),n&&(c["otel.dropped_events_count"]=String(n)),a&&(c["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(u=>c[u]=String(e.attributes[u])),c}function _Ve(t){return t.map(e=>({timestamp:Math.round(Pr(e.time)),value:e.name}))}var mVe,Gne,jne,Wne=g(()=>{P();Q();Hne();mVe={[be.CLIENT]:Qu.CLIENT,[be.SERVER]:Qu.SERVER,[be.CONSUMER]:Qu.CONSUMER,[be.PRODUCER]:Qu.PRODUCER,[be.INTERNAL]:void 0},Gne="otel.status_code",jne="error";});function Kne(t){return function(){return t()}}var Yne=g(()=>{});var IR,Zne=g(()=>{P();Q();_k();Wne();Ye();Yne();IR=class{DEFAULT_SERVICE_NAME="OpenTelemetry Service";_statusCodeTagName;_statusDescriptionTagName;_urlStr;_send;_getHeaders;_serviceName;_isShutdown;_sendingPromises=[];constructor(e={}){this._urlStr=e.url||(Jt("OTEL_EXPORTER_ZIPKIN_ENDPOINT")??"http://localhost:9411/api/v2/spans"),this._send=Ju(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||Gne,this._statusDescriptionTagName=e.statusDescriptionTagName||jne,this._isShutdown=false,typeof e.getExportRequestHeaders=="function"?this._getHeaders=Kne(e.getExportRequestHeaders):this._beforeSend=function(){};}export(e,r){let i=String(this._serviceName||e[0].resource.attributes[xs]||this.DEFAULT_SERVICE_NAME);if(E.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>r({code:Z.FAILED,error:new Error("Exporter has been shutdown")}));return}let n=new Promise(o=>{this._sendSpans(e,i,s=>{o(),r(s);});});this._sendingPromises.push(n);let a=()=>{let o=this._sendingPromises.indexOf(n);this._sendingPromises.splice(o,1);};n.then(a,a);}shutdown(){return E.debug("Zipkin exporter shutdown"),this._isShutdown=true,this.forceFlush()}forceFlush(){return new Promise((e,r)=>{Promise.all(this._sendingPromises).then(()=>{e();},r);})}_beforeSend(){this._getHeaders&&(this._send=Ju(this._urlStr,this._getHeaders()));}_sendSpans(e,r,i){let n=e.map(a=>qne(a,String(a.attributes[xs]||a.resource.attributes[xs]||r),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(n,a=>{if(i)return i(a)})}};});var Xne={};Pe(Xne,{ZipkinExporter:()=>IR,prepareSend:()=>Ju});var Jne=g(()=>{_k();Zne();});var Pp,Sk=g(()=>{P();Pp=Kn("OpenTelemetry Context Key B3 Debug Flag");});var Ip,wp,Mp,Lp,wR,Dp,yk=g(()=>{Ip="b3",wp="x-b3-traceid",Mp="x-b3-spanid",Lp="x-b3-sampled",wR="x-b3-parentspanid",Dp="x-b3-flags";});function EVe(t){return t===Ve.SAMPLED||t===Ve.NONE}function TVe(t){return Array.isArray(t)?t[0]:t}function LR(t,e,r){let i=e.get(t,r);return TVe(i)}function vVe(t,e){let r=LR(t,e,wp);return typeof r=="string"?r.padStart(32,"0"):""}function bVe(t,e){let r=LR(t,e,Mp);return typeof r=="string"?r:""}function Qne(t,e){return LR(t,e,Dp)==="1"?"1":void 0}function RVe(t,e){let r=LR(t,e,Lp);if(Qne(t,e)==="1"||SVe.has(r))return Ve.SAMPLED;if(r===void 0||yVe.has(r))return Ve.NONE}var SVe,yVe,MR,eie=g(()=>{P();Q();Sk();yk();SVe=new Set([true,"true","True","1",1]),yVe=new Set([false,"false","False","0",0]);MR=class{inject(e,r,i){let n=ce.getSpanContext(e);if(!n||!Cr(n)||Nr(e))return;let a=e.getValue(Pp);i.set(r,wp,n.traceId),i.set(r,Mp,n.spanId),a==="1"?i.set(r,Dp,a):n.traceFlags!==void 0&&i.set(r,Lp,(Ve.SAMPLED&n.traceFlags)===Ve.SAMPLED?"1":"0");}extract(e,r,i){let n=vVe(r,i),a=bVe(r,i),o=RVe(r,i),s=Qne(r,i);return cs(n)&&Jc(a)&&EVe(o)?(e=e.setValue(Pp,s),ce.setSpanContext(e,{traceId:n,spanId:a,isRemote:true,traceFlags:o})):e}fields(){return [wp,Mp,Dp,Lp,wR]}};});function NVe(t){return t.length===32?t:`${OVe}${t}`}function PVe(t){return t&&xVe.has(t)?Ve.SAMPLED:Ve.NONE}var AVe,OVe,xVe,CVe,DR,tie=g(()=>{P();Q();Sk();AVe=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,OVe="0".repeat(16),xVe=new Set(["d","1"]),CVe="d";DR=class{inject(e,r,i){let n=ce.getSpanContext(e);if(!n||!Cr(n)||Nr(e))return;let a=e.getValue(Pp)||n.traceFlags&1,o=`${n.traceId}-${n.spanId}-${a}`;i.set(r,"b3",o);}extract(e,r,i){let n=i.get(r,"b3"),a=Array.isArray(n)?n[0]:n;if(typeof a!="string")return e;let o=a.match(AVe);if(!o)return e;let[,s,c,u]=o,l=NVe(s);if(!cs(l)||!Jc(c))return e;let d=PVe(u);return u===CVe&&(e=e.setValue(Pp,u)),ce.setSpanContext(e,{traceId:l,spanId:c,isRemote:true,traceFlags:d})}fields(){return ["b3"]}};});var kp,Ek=g(()=>{(function(t){t[t.SINGLE_HEADER=0]="SINGLE_HEADER",t[t.MULTI_HEADER=1]="MULTI_HEADER";})(kp||(kp={}));});var kR,rie=g(()=>{Q();eie();tie();Ek();kR=class{_b3MultiPropagator=new MR;_b3SinglePropagator=new DR;_inject;_fields;constructor(e={}){e.injectEncoding===kp.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields());}inject(e,r,i){Nr(e)||this._inject(e,r,i);}extract(e,r,i){let n=i.get(r,"b3");return (Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(e,r,i):this._b3MultiPropagator.extract(e,r,i)}fields(){return this._fields}};});var nie={};Pe(nie,{B3InjectEncoding:()=>kp,B3Propagator:()=>kR,B3_CONTEXT_HEADER:()=>Ip,X_B3_FLAGS:()=>Dp,X_B3_PARENT_SPAN_ID:()=>wR,X_B3_SAMPLED:()=>Lp,X_B3_SPAN_ID:()=>Mp,X_B3_TRACE_ID:()=>wp});var iie=g(()=>{rie();yk();Ek();});function wVe(t){let e=decodeURIComponent(t).split(":");if(e.length!==4)return null;let[r,i,,n]=e,a=r.padStart(32,"0"),o=i.padStart(16,"0"),s=IVe.test(n)?parseInt(n,16)&1:1;return {traceId:a,spanId:o,isRemote:true,traceFlags:s}}var Tk,UR,$R,IVe,oie=g(()=>{P();Q();Tk="uber-trace-id",UR="uberctx",$R=class{_jaegerTraceHeader;_jaegerBaggageHeaderPrefix;constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=UR):(this._jaegerTraceHeader=e?.customTraceHeader||Tk,this._jaegerBaggageHeaderPrefix=e?.customBaggageHeaderPrefix||UR);}inject(e,r,i){let n=ce.getSpanContext(e),a=rn.getBaggage(e);if(n&&Nr(e)===false){let o=`0${(n.traceFlags||Ve.NONE).toString(16)}`;i.set(r,this._jaegerTraceHeader,`${n.traceId}:${n.spanId}:0:${o}`);}if(a)for(let[o,s]of a.getAllEntries())i.set(r,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(s.value));}extract(e,r,i){let n=i.get(r,this._jaegerTraceHeader),a=Array.isArray(n)?n[0]:n,o=i.keys(r).filter(u=>u.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(u=>{let l=i.get(r,u);return {key:u.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(l)?l[0]:l}}),s=e;if(typeof a=="string"){let u=wVe(a);u&&(s=ce.setSpanContext(s,u));}if(o.length===0)return s;let c=rn.getBaggage(e)??rn.createBaggage();for(let u of o)u.value!==void 0&&(c=c.setEntry(u.key,{value:decodeURIComponent(u.value)}));return s=rn.setBaggage(s,c),s}fields(){return [this._jaegerTraceHeader]}},IVe=/^[0-9a-f]{1,2}$/i;});var sie={};Pe(sie,{JaegerPropagator:()=>$R,UBER_BAGGAGE_HEADER_PREFIX:()=>UR,UBER_TRACE_ID_HEADER:()=>Tk});var aie=g(()=>{oie();});var die=T(pi=>{Object.defineProperty(pi,"__esModule",{value:true});pi.getPropagatorFromEnv=pi.getSpanProcessorsFromEnv=pi.getOtlpProtocolFromEnv=pi.filterBlanksAndNulls=pi.getResourceDetectorsFromEnv=void 0;var ic=(P(),U(je)),oc=(Q(),U(Mn)),cie=(Pne(),U(Nne)),MVe=(Une(),U(kne)),LVe=Vne(),DVe=(Jne(),U(Xne)),s_=(ho(),U(uE)),zR=(Eo(),U(xd)),vk=(iie(),U(nie)),kVe=(aie(),U(sie)),UVe="env",$Ve="host",zVe="os",VVe="process",BVe="serviceinstance";function FVe(){let t=new Map([[UVe,s_.envDetector],[$Ve,s_.hostDetector],[zVe,s_.osDetector],[BVe,s_.serviceInstanceIdDetector],[VVe,s_.processDetector]]),e=(0, oc.getStringListFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")??["all"];return e.includes("all")?[...t.values()].flat():e.includes("none")?[]:e.flatMap(r=>{let i=t.get(r);return i||ic.diag.warn(`Invalid resource detector "${r}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),i||[]})}pi.getResourceDetectorsFromEnv=FVe;function uie(t){return t.map(e=>e.trim()).filter(e=>e!=="null"&&e!=="")}pi.filterBlanksAndNulls=uie;function lie(){return (0, oc.getStringFromEnv)("OTEL_EXPORTER_OTLP_TRACES_PROTOCOL")??(0, oc.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL")??"http/protobuf"}pi.getOtlpProtocolFromEnv=lie;function HVe(){let t=lie();switch(t){case "grpc":return new LVe.OTLPTraceExporter;case "http/json":return new MVe.OTLPTraceExporter;case "http/protobuf":return new cie.OTLPTraceExporter;default:return ic.diag.warn(`Unsupported OTLP traces protocol: ${t}. Using http/protobuf.`),new cie.OTLPTraceExporter}}function GVe(){try{let{JaegerExporter:t}=L("@opentelemetry/exporter-jaeger");return new t}catch(t){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${t}`)}}function jVe(){let t=new Map([["otlp",()=>HVe()],["zipkin",()=>new DVe.ZipkinExporter],["console",()=>new zR.ConsoleSpanExporter],["jaeger",()=>GVe()]]),e=[],r=[],i=uie(Array.from(new Set((0, oc.getStringListFromEnv)("OTEL_TRACES_EXPORTER"))));if(i[0]==="none")return ic.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];i.length===0?(ic.diag.debug("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),i=["otlp"]):i.length>1&&i.includes("none")&&(ic.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),i=["otlp"]);for(let n of i){let a=t.get(n)?.();a?e.push(a):ic.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${n}.`);}for(let n of e)n instanceof zR.ConsoleSpanExporter?r.push(new zR.SimpleSpanProcessor(n)):r.push(new zR.BatchSpanProcessor(n));return e.length===0&&ic.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."),r}pi.getSpanProcessorsFromEnv=jVe;function qVe(){let t=(0, oc.getStringListFromEnv)("OTEL_PROPAGATORS");if(t==null)return;let e=new Map([["tracecontext",()=>new oc.W3CTraceContextPropagator],["baggage",()=>new oc.W3CBaggagePropagator],["b3",()=>new vk.B3Propagator],["b3multi",()=>new vk.B3Propagator({injectEncoding:vk.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new kVe.JaegerPropagator]]),r=Array.from(new Set(t)),n=r.map(a=>{let o=e.get(a)?.();if(!o){ic.diag.warn(`Propagator "${a}" requested through environment variable is unavailable.`);return}return o}).reduce((a,o)=>(o&&a.push(o),a),[]);return n.length===0?null:r.length===1?n[0]:new oc.CompositePropagator({propagators:n})}pi.getPropagatorFromEnv=qVe;});var hie=T(VR=>{Object.defineProperty(VR,"__esModule",{value:true});VR.NodeSDK=void 0;var Hr=(P(),U(je)),WVe=(ei(),U(gu)),KVe=(an(),U(sn)),Up=(ho(),U(uE)),a_=(bE(),U(TI)),YVe=(C7(),U(x7)),ZVe=Xre(),bk=(ine(),U(nne)),XVe=pne(),pie=(yne(),U(Sne)),JVe=(vR(),U(ck)),QVe=bne(),el=(ir(),U(Nm)),eBe=(Eo(),U(xd)),tBe=cw(),rBe=(Ye(),U($r)),sc=(Q(),U(Mn)),Rk=die();function fie(t,e){return parseInt(process.env[t]||"")||e}function nBe(){let t=[],e=(0, sc.getStringListFromEnv)("OTEL_METRICS_EXPORTER");return e?(e.length===0&&Hr.diag.debug("OTEL_METRICS_EXPORTER is empty. Using default otlp exporter."),e.includes("none")?(Hr.diag.info('OTEL_METRICS_EXPORTER contains "none". Metric provider will not be initialized.'),t):(e.forEach(r=>{if(r==="otlp"){let i=process.env.OTEL_EXPORTER_OTLP_METRICS_PROTOCOL?.trim()||process.env.OTEL_EXPORTER_OTLP_PROTOCOL?.trim(),n=fie("OTEL_METRIC_EXPORT_INTERVAL",6e4),a=fie("OTEL_METRIC_EXPORT_TIMEOUT",3e4);switch(i){case "grpc":t.push(new el.PeriodicExportingMetricReader({exporter:new XVe.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;case "http/json":t.push(new el.PeriodicExportingMetricReader({exporter:new JVe.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;case "http/protobuf":t.push(new el.PeriodicExportingMetricReader({exporter:new pie.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));break;default:Hr.diag.warn(`Unsupported OTLP metrics protocol: "${i}". Using http/protobuf.`),t.push(new el.PeriodicExportingMetricReader({exporter:new pie.OTLPMetricExporter,exportIntervalMillis:n,exportTimeoutMillis:a}));}}else r==="console"?t.push(new el.PeriodicExportingMetricReader({exporter:new el.ConsoleMetricExporter})):r==="prometheus"?t.push(new QVe.PrometheusExporter):Hr.diag.warn(`Unsupported OTEL_METRICS_EXPORTER value: "${r}". Supported values are: otlp, console, prometheus, none.`);}),t)):t}var Ak=class{_tracerProviderConfig;_loggerProviderConfig;_meterProviderConfig;_instrumentations;_resource;_resourceDetectors;_autoDetectResources;_tracerProvider;_loggerProvider;_meterProvider;_serviceName;_configuration;_disabled;constructor(e={}){(0, sc.getBooleanFromEnv)("OTEL_SDK_DISABLED")&&(this._disabled=true);let r=(0, sc.getStringFromEnv)("OTEL_LOG_LEVEL");if(r!=null&&Hr.diag.setLogger(new Hr.DiagConsoleLogger,{logLevel:(0, sc.diagLogLevelFromString)(r)}),this._configuration=e,this._resource=e.resource??(0, Up.defaultResource)(),this._autoDetectResources=e.autoDetectResources??true,this._autoDetectResources?e.resourceDetectors!=null?this._resourceDetectors=e.resourceDetectors:(0, sc.getStringFromEnv)("OTEL_NODE_RESOURCE_DETECTORS")?this._resourceDetectors=(0, Rk.getResourceDetectorsFromEnv)():this._resourceDetectors=[Up.envDetector,Up.processDetector,Up.hostDetector]:this._resourceDetectors=[],this._serviceName=e.serviceName,e.traceExporter||e.spanProcessor||e.spanProcessors){let i={};e.sampler&&(i.sampler=e.sampler),e.spanLimits&&(i.spanLimits=e.spanLimits),e.idGenerator&&(i.idGenerator=e.idGenerator),e.spanProcessor&&Hr.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let n=e.spanProcessor??new eBe.BatchSpanProcessor(e.traceExporter),a=e.spanProcessors??[n];this._tracerProviderConfig={tracerConfig:i,spanProcessors:a,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator};}if(e.logRecordProcessors?this._loggerProviderConfig={logRecordProcessors:e.logRecordProcessors}:e.logRecordProcessor?(this._loggerProviderConfig={logRecordProcessors:[e.logRecordProcessor]},Hr.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.")):this.configureLoggerProviderFromEnv(),e.metricReaders||e.metricReader||e.views){let i={};e.metricReaders?i.readers=e.metricReaders:e.metricReader&&(i.readers=[e.metricReader],Hr.diag.warn("The 'metricReader' option is deprecated. Please use 'metricReaders' instead.")),e.views&&(i.views=e.views),this._meterProviderConfig=i;}this._instrumentations=e.instrumentations?.flat()??[];}start(){if(this._disabled)return;if((0, KVe.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let i={detectors:this._resourceDetectors};this._resource=this._resource.merge((0, Up.detectResources)(i));}this._resource=this._serviceName===void 0?this._resource:this._resource.merge((0, Up.resourceFromAttributes)({[rBe.ATTR_SERVICE_NAME]:this._serviceName}));let e=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0, Rk.getSpanProcessorsFromEnv)();if(this._tracerProvider=new tBe.NodeTracerProvider({...this._configuration,resource:this._resource,spanProcessors:e}),e.length>0&&this._tracerProvider.register({contextManager:this._tracerProviderConfig?.contextManager??this._configuration?.contextManager,propagator:this._tracerProviderConfig?.textMapPropagator??(0, Rk.getPropagatorFromEnv)()}),this._loggerProviderConfig){let i=new a_.LoggerProvider({resource:this._resource,processors:this._loggerProviderConfig.logRecordProcessors});this._loggerProvider=i,WVe.logs.setGlobalLoggerProvider(i);}let r=nBe();if(this._meterProviderConfig||r.length>0){let i=[];this._meterProviderConfig?.readers&&i.push(...this._meterProviderConfig.readers),i.length===0&&r.forEach(a=>i.push(a));let n=new el.MeterProvider({resource:this._resource,views:this._meterProviderConfig?.views??[],readers:i});this._meterProvider=n,Hr.metrics.setGlobalMeterProvider(n);for(let a of this._instrumentations)a.setMeterProvider(Hr.metrics.getMeterProvider());}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}configureLoggerProviderFromEnv(){let e=(0, sc.getStringListFromEnv)("OTEL_LOGS_EXPORTER")??[];if(e.length===0&&(Hr.diag.debug("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),e.push("otlp")),e.includes("none")){Hr.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let r=[];e.forEach(i=>{if(i==="otlp"){let n=((0, sc.getStringFromEnv)("OTEL_EXPORTER_OTLP_LOGS_PROTOCOL")??(0, sc.getStringFromEnv)("OTEL_EXPORTER_OTLP_PROTOCOL"))?.trim();switch(n){case "grpc":r.push(new ZVe.OTLPLogExporter);break;case "http/json":r.push(new YVe.OTLPLogExporter);break;case "http/protobuf":r.push(new bk.OTLPLogExporter);break;case void 0:case "":r.push(new bk.OTLPLogExporter);break;default:Hr.diag.warn(`Unsupported OTLP logs protocol: "${n}". Using http/protobuf.`),r.push(new bk.OTLPLogExporter);}}else i==="console"?r.push(new a_.ConsoleLogRecordExporter):Hr.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${i}". Supported values are: otlp, console, none.`);}),r.length>0&&(this._loggerProviderConfig={logRecordProcessors:r.map(i=>i instanceof a_.ConsoleLogRecordExporter?new a_.SimpleLogRecordProcessor(i):new a_.BatchLogRecordProcessor(i))});}};VR.NodeSDK=Ak;});var mie=T(Yt=>{Object.defineProperty(Yt,"__esModule",{value:true});Yt.NodeSDK=Yt.tracing=Yt.resources=Yt.node=Yt.metrics=Yt.logs=Yt.core=Yt.contextBase=Yt.api=void 0;Yt.api=(P(),U(je));Yt.contextBase=(P(),U(je));Yt.core=(Q(),U(Mn));Yt.logs=(bE(),U(TI));Yt.metrics=(ir(),U(Nm));Yt.node=cw();Yt.resources=(ho(),U(uE));Yt.tracing=(Eo(),U(xd));var iBe=hie();Object.defineProperty(Yt,"NodeSDK",{enumerable:true,get:function(){return iBe.NodeSDK}});});var Qoe=T(yn=>{var _Fe=yn&&yn.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),SFe=yn&&yn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),Xoe=yn&&yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Fe(e,t,r);return SFe(e,t),e};Object.defineProperty(yn,"__esModule",{value:true});yn.req=yn.json=yn.toBuffer=void 0;var yFe=Xoe(L("http")),EFe=Xoe(L("https"));async function Joe(t){let e=0,r=[];for await(let i of t)e+=i.length,r.push(i);return Buffer.concat(r,e)}yn.toBuffer=Joe;async function TFe(t){let r=(await Joe(t)).toString("utf8");try{return JSON.parse(r)}catch(i){let n=i;throw n.message+=` (input: ${r})`,n}}yn.json=TFe;function vFe(t,e={}){let i=((typeof t=="string"?t:t.href).startsWith("https:")?EFe:yFe).request(t,e),n=new Promise((a,o)=>{i.once("response",a).once("error",o).end();});return i.then=n.then.bind(n),i}yn.req=vFe;});var bU=T(Hn=>{var tse=Hn&&Hn.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),bFe=Hn&&Hn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),rse=Hn&&Hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tse(e,t,r);return bFe(e,t),e},RFe=Hn&&Hn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tse(e,t,r);};Object.defineProperty(Hn,"__esModule",{value:true});Hn.Agent=void 0;var AFe=rse(L("net")),ese=rse(L("http")),OFe=L("https");RFe(Qoe(),Hn);var Fo=Symbol("AgentBaseInternalState"),vU=class extends ese.Agent{constructor(e){super(e),this[Fo]={};}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?false:r.split(`
`).some(i=>i.indexOf("(https.js:")!==-1||i.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new AFe.Socket({writable:false});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let i=this.sockets[e],n=i.indexOf(r);n!==-1&&(i.splice(n,1),this.totalSocketCount--,i.length===0&&delete this.sockets[e]);}getName(e){return this.isSecureEndpoint(e)?OFe.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,i){let n={...r,secureEndpoint:this.isSecureEndpoint(r)},a=this.getName(n),o=this.incrementSockets(a);Promise.resolve().then(()=>this.connect(e,n)).then(s=>{if(this.decrementSockets(a,o),s instanceof ese.Agent)try{return s.addRequest(e,n)}catch(c){return i(c)}this[Fo].currentSocket=s,super.createSocket(e,r,i);},s=>{this.decrementSockets(a,o),i(s);});}createConnection(){let e=this[Fo].currentSocket;if(this[Fo].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Fo].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Fo]&&(this[Fo].defaultPort=e);}get protocol(){return this[Fo].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Fo]&&(this[Fo].protocol=e);}};Hn.Agent=vU;});var nse=T(jp=>{var xFe=jp&&jp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jp,"__esModule",{value:true});jp.parseProxyResponse=void 0;var CFe=xFe(Dm()),DA=(0, CFe.default)("https-proxy-agent:parse-proxy-response");function NFe(t){return new Promise((e,r)=>{let i=0,n=[];function a(){let l=t.read();l?u(l):t.once("readable",a);}function o(){t.removeListener("end",s),t.removeListener("error",c),t.removeListener("readable",a);}function s(){o(),DA("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"));}function c(l){o(),DA("onerror %o",l),r(l);}function u(l){n.push(l),i+=l.length;let d=Buffer.concat(n,i),p=d.indexOf(`\r
\r
`);if(p===-1){DA("have not received end of HTTP headers yet..."),a();return}let f=d.slice(0,p).toString("ascii").split(`\r
`),_=f.shift();if(!_)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let y=_.split(" "),v=+y[1],O=y.slice(2).join(" "),x={};for(let I of f){if(!I)continue;let R=I.indexOf(":");if(R===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${I}"`));let F=I.slice(0,R).toLowerCase(),$=I.slice(R+1).trimStart(),G=x[F];typeof G=="string"?x[F]=[G,$]:Array.isArray(G)?G.push($):x[F]=$;}DA("got proxy server response: %o %o",_,x),o(),e({connect:{statusCode:v,statusText:O,headers:x},buffered:d});}t.on("error",c),t.on("end",s),a();})}jp.parseProxyResponse=NFe;});var use=T(mi=>{var PFe=mi&&mi.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),IFe=mi&&mi.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),ase=mi&&mi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PFe(e,t,r);return IFe(e,t),e},cse=mi&&mi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:true});mi.HttpsProxyAgent=void 0;var kA=ase(L("net")),ise=ase(L("tls")),wFe=cse(L("assert")),MFe=cse(Dm()),LFe=bU(),DFe=L("url"),kFe=nse(),T_=(0, MFe.default)("https-proxy-agent"),ose=t=>t.servername===void 0&&t.host&&!kA.isIP(t.host)?{...t,servername:t.host}:t,UA=class extends LFe.Agent{constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new DFe.URL(e):e,this.proxyHeaders=r?.headers??{},T_("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?sse(r,"headers"):null,host:i,port:n};}async connect(e,r){let{proxy:i}=this;if(!r.host)throw new TypeError('No "host" provided');let n;i.protocol==="https:"?(T_("Creating `tls.Socket`: %o",this.connectOpts),n=ise.connect(ose(this.connectOpts))):(T_("Creating `net.Socket`: %o",this.connectOpts),n=kA.connect(this.connectOpts));let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},o=kA.isIPv6(r.host)?`[${r.host}]`:r.host,s=`CONNECT ${o}:${r.port} HTTP/1.1\r
`;if(i.username||i.password){let p=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`;}a.Host=`${o}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(a))s+=`${p}: ${a[p]}\r
`;let c=(0, kFe.parseProxyResponse)(n);n.write(`${s}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200)return e.once("socket",UFe),r.secureEndpoint?(T_("Upgrading socket connection to TLS"),ise.connect({...sse(ose(r),"host","path","port"),socket:n})):n;n.destroy();let d=new kA.Socket({writable:false});return d.readable=true,e.once("socket",p=>{T_("Replaying proxy buffer for failed request"),(0, wFe.default)(p.listenerCount("data")>0),p.push(l),p.push(null);}),d}};UA.protocols=["http","https"];mi.HttpsProxyAgent=UA;function UFe(t){t.resume();}function sse(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var pse=T(gi=>{var $Fe=gi&&gi.__createBinding||(Object.create?(function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:true,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}):(function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];})),zFe=gi&&gi.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e});}):function(t,e){t.default=e;}),dse=gi&&gi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$Fe(e,t,r);return zFe(e,t),e},VFe=gi&&gi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:true});gi.HttpProxyAgent=void 0;var BFe=dse(L("net")),FFe=dse(L("tls")),HFe=VFe(Dm()),GFe=L("events"),jFe=bU(),lse=L("url"),qp=(0, HFe.default)("http-proxy-agent"),$A=class extends jFe.Agent{constructor(e,r){super(r),this.proxy=typeof e=="string"?new lse.URL(e):e,this.proxyHeaders=r?.headers??{},qp("Creating new HttpProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?qFe(r,"headers"):null,host:i,port:n};}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r);}setRequestProps(e,r){let{proxy:i}=this,n=r.secureEndpoint?"https:":"http:",a=e.getHeader("host")||"localhost",o=`${n}//${a}`,s=new lse.URL(e.path,o);r.port!==80&&(s.port=String(r.port)),e.path=String(s);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(i.username||i.password){let u=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`;}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l);}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let i,n;qp("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(qp("Patching connection write() output buffer with updated header"),i=e.outputData[0].data,n=i.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+i.substring(n),qp("Output buffer: %o",e.outputData[0].data));let a;return this.proxy.protocol==="https:"?(qp("Creating `tls.Socket`: %o",this.connectOpts),a=FFe.connect(this.connectOpts)):(qp("Creating `net.Socket`: %o",this.connectOpts),a=BFe.connect(this.connectOpts)),await(0, GFe.once)(a,"connect"),a}};$A.protocols=["http","https"];gi.HttpProxyAgent=$A;function qFe(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var wse=T(YA=>{Object.defineProperty(YA,"__esModule",{value:true});YA.state=void 0;YA.state={instrumenterImplementation:void 0};});var Zse=T(aO=>{Object.defineProperty(aO,"__esModule",{value:true});aO.state=void 0;aO.state={operationRequestMap:new WeakMap};});var K1=T((RNt,Lce)=>{function W1(t){return typeof t=="function"}var Wr=console.error.bind(console);function K_(t,e,r){var i=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}function Y_(t){t&&t.logger&&(W1(t.logger)?Wr=t.logger:Wr("new logger isn't a function, not replacing"));}function wce(t,e,r){if(!t||!t[e]){Wr("no original function "+e+" to wrap");return}if(!r){Wr("no wrapper function"),Wr(new Error().stack);return}if(!W1(t[e])||!W1(r)){Wr("original object and wrapper must be functions");return}var i=t[e],n=r(i,e);return K_(n,"__original",i),K_(n,"__unwrap",function(){t[e]===n&&K_(t,e,i);}),K_(n,"__wrapped",true),K_(t,e,n),n}function mje(t,e,r){if(t)Array.isArray(t)||(t=[t]);else {Wr("must provide one or more modules to patch"),Wr(new Error().stack);return}if(!(e&&Array.isArray(e))){Wr("must provide one or more functions to wrap on modules");return}t.forEach(function(i){e.forEach(function(n){wce(i,n,r);});});}function Mce(t,e){if(!t||!t[e]){Wr("no function to unwrap."),Wr(new Error().stack);return}if(!t[e].__unwrap)Wr("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function gje(t,e){if(t)Array.isArray(t)||(t=[t]);else {Wr("must provide one or more modules to patch"),Wr(new Error().stack);return}if(!(e&&Array.isArray(e))){Wr("must provide one or more functions to unwrap on modules");return}t.forEach(function(r){e.forEach(function(i){Mce(r,i);});});}Y_.wrap=wce;Y_.massWrap=mje;Y_.unwrap=Mce;Y_.massUnwrap=gje;Lce.exports=Y_;});var qce=T(HO=>{Object.defineProperty(HO,"__esModule",{value:true});HO.VERSION=void 0;HO.VERSION="0.204.0";});var Wce=T(le=>{Object.defineProperty(le,"__esModule",{value:true});le.HTTP_FLAVOR_VALUE_HTTP_1_1=le.NET_TRANSPORT_VALUE_IP_UDP=le.NET_TRANSPORT_VALUE_IP_TCP=le.ATTR_NET_TRANSPORT=le.ATTR_NET_PEER_PORT=le.ATTR_NET_PEER_NAME=le.ATTR_NET_PEER_IP=le.ATTR_NET_HOST_PORT=le.ATTR_NET_HOST_NAME=le.ATTR_NET_HOST_IP=le.ATTR_HTTP_USER_AGENT=le.ATTR_HTTP_URL=le.ATTR_HTTP_TARGET=le.ATTR_HTTP_STATUS_CODE=le.ATTR_HTTP_SERVER_NAME=le.ATTR_HTTP_SCHEME=le.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=le.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=le.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=le.ATTR_HTTP_REQUEST_CONTENT_LENGTH=le.ATTR_HTTP_METHOD=le.ATTR_HTTP_HOST=le.ATTR_HTTP_FLAVOR=le.ATTR_HTTP_CLIENT_IP=le.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST=le.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT=le.ATTR_USER_AGENT_SYNTHETIC_TYPE=void 0;le.ATTR_USER_AGENT_SYNTHETIC_TYPE="user_agent.synthetic.type";le.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT="bot";le.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST="test";le.ATTR_HTTP_CLIENT_IP="http.client_ip";le.ATTR_HTTP_FLAVOR="http.flavor";le.ATTR_HTTP_HOST="http.host";le.ATTR_HTTP_METHOD="http.method";le.ATTR_HTTP_REQUEST_CONTENT_LENGTH="http.request_content_length";le.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";le.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";le.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED="http.response_content_length_uncompressed";le.ATTR_HTTP_SCHEME="http.scheme";le.ATTR_HTTP_SERVER_NAME="http.server_name";le.ATTR_HTTP_STATUS_CODE="http.status_code";le.ATTR_HTTP_TARGET="http.target";le.ATTR_HTTP_URL="http.url";le.ATTR_HTTP_USER_AGENT="http.user_agent";le.ATTR_NET_HOST_IP="net.host.ip";le.ATTR_NET_HOST_NAME="net.host.name";le.ATTR_NET_HOST_PORT="net.host.port";le.ATTR_NET_PEER_IP="net.peer.ip";le.ATTR_NET_PEER_NAME="net.peer.name";le.ATTR_NET_PEER_PORT="net.peer.port";le.ATTR_NET_TRANSPORT="net.transport";le.NET_TRANSPORT_VALUE_IP_TCP="ip_tcp";le.NET_TRANSPORT_VALUE_IP_UDP="ip_udp";le.HTTP_FLAVOR_VALUE_HTTP_1_1="1.1";});var Kce=T(J_=>{Object.defineProperty(J_,"__esModule",{value:true});J_.AttributeNames=void 0;(function(t){t.HTTP_ERROR_NAME="http.error_name",t.HTTP_ERROR_MESSAGE="http.error_message",t.HTTP_STATUS_TEXT="http.status_text";})(J_.AttributeNames||(J_.AttributeNames={}));});var Q1=T(Yo=>{Object.defineProperty(Yo,"__esModule",{value:true});Yo.DEFAULT_QUERY_STRINGS_TO_REDACT=Yo.STR_REDACTED=Yo.SYNTHETIC_BOT_NAMES=Yo.SYNTHETIC_TEST_NAMES=void 0;Yo.SYNTHETIC_TEST_NAMES=["alwayson"];Yo.SYNTHETIC_BOT_NAMES=["googlebot","bingbot"];Yo.STR_REDACTED="REDACTED";Yo.DEFAULT_QUERY_STRINGS_TO_REDACT=["sig","Signature","AWSAccessKeyId","X-Goog-Signature"];});var Zce=T((TPt,Yce)=>{var Aje=L("util");function e$(t,e){Error.captureStackTrace(this,e$),this.name=this.constructor.name,this.message=t,this.input=e;}Aje.inherits(e$,Error);Yce.exports=e$;});var Jce=T((vPt,Xce)=>{function Oje(t){return t===34||t===40||t===41||t===44||t===47||t>=58&&t<=64||t>=91&&t<=93||t===123||t===125}function xje(t){return t===33||t>=35&&t<=39||t===42||t===43||t===45||t===46||t>=48&&t<=57||t>=65&&t<=90||t>=94&&t<=122||t===124||t===126}function Cje(t){return t>=32&&t<=126}function Nje(t){return t>=128&&t<=255}Xce.exports={isDelimiter:Oje,isTokenChar:xje,isExtended:Nje,isPrint:Cje};});var nue=T((bPt,rue)=>{var Pje=L("util"),tf=Zce(),GO=Jce(),Ije=GO.isDelimiter,Qce=GO.isTokenChar,eue=GO.isExtended,wje=GO.isPrint;function tue(t){return t.replace(/\\(.)/g,"$1")}function Q_(t,e){return Pje.format("Unexpected character '%s' at index %d",t.charAt(e),e)}function Mje(t){for(var e=false,r=false,i=false,n={},a=[],o=-1,s=-1,c,u,l=0;l<t.length;l++)if(u=t.charCodeAt(l),c===void 0){if(l!==0&&o===-1&&(u===32||u===9))continue;if(Qce(u))o===-1&&(o=l);else if(u===61&&o!==-1)c=t.slice(o,l).toLowerCase(),o=-1;else throw new tf(Q_(t,l),t)}else if(r&&(u===9||wje(u)||eue(u)))r=false;else if(Qce(u)){if(s!==-1)throw new tf(Q_(t,l),t);o===-1&&(o=l);}else if(Ije(u)||eue(u))if(i)u===34?(i=false,s=l):u===92?(o===-1&&(o=l),r=e=true):o===-1&&(o=l);else if(u===34&&t.charCodeAt(l-1)===61)i=true;else if((u===44||u===59)&&(o!==-1||s!==-1))o!==-1?(s===-1&&(s=l),n[c]=e?tue(t.slice(o,s)):t.slice(o,s)):n[c]="",u===44&&(a.push(n),n={}),c=void 0,o=s=-1;else throw new tf(Q_(t,l),t);else if(u===32||u===9){if(s!==-1)continue;if(i)o===-1&&(o=l);else if(o!==-1)s=l;else throw new tf(Q_(t,l),t)}else throw new tf(Q_(t,l),t);if(c===void 0||i||o===-1&&s===-1||u===32||u===9)throw new tf("Unexpected end of input",t);return o!==-1?(s===-1&&(s=l),n[c]=e?tue(t.slice(o,s)):t.slice(o,s)):n[c]="",a.push(n),a}rue.exports=Mje;});var pue=T(de=>{Object.defineProperty(de,"__esModule",{value:true});de.headerCapture=de.getIncomingStableRequestMetricAttributesOnResponse=de.getIncomingRequestMetricAttributesOnResponse=de.getIncomingRequestAttributesOnResponse=de.getIncomingRequestMetricAttributes=de.getIncomingRequestAttributes=de.getRemoteClientAddress=de.getOutgoingStableRequestMetricAttributesOnResponse=de.getOutgoingRequestMetricAttributesOnResponse=de.getOutgoingRequestAttributesOnResponse=de.setAttributesFromHttpKind=de.getOutgoingRequestMetricAttributes=de.getOutgoingRequestAttributes=de.extractHostnameAndPort=de.isValidOptionsType=de.getRequestInfo=de.isCompressed=de.setResponseContentLengthAttribute=de.setRequestContentLengthAttribute=de.setSpanWithError=de.satisfiesPattern=de.parseResponseStatus=de.getAbsoluteUrl=void 0;var eS=(P(),U(je)),we=(Ye(),U($r)),ae=Wce(),iue=(Q(),U(Mn)),Zo=(an(),U(sn)),sue=L("url"),qO=Kce(),oue=Q1(),jO=Q1(),Lje=nue(),Dje=(t,e,r="http:",i=Array.from(jO.DEFAULT_QUERY_STRINGS_TO_REDACT))=>{let n=t||{},a=n.protocol||r,o=(n.port||"").toString(),s=n.path||"/",c=n.host||n.hostname||e.host||"localhost";if(c.indexOf(":")===-1&&o&&o!=="80"&&o!=="443"&&(c+=`:${o}`),s.includes("?")){let l=sue.parse(s),d=l.pathname||"",p=l.query||"",f=new URLSearchParams(p),_=i||[];for(let v of _)f.has(v)&&f.get(v)!==""&&f.set(v,jO.STR_REDACTED);let y=f.toString();s=`${d}?${y}`;}let u=n.auth?`${jO.STR_REDACTED}:${jO.STR_REDACTED}@`:"";return `${a}//${u}${c}${s}`};de.getAbsoluteUrl=Dje;var kje=(t,e)=>{let r=t===eS.SpanKind.CLIENT?400:500;return e&&e>=100&&e<r?eS.SpanStatusCode.UNSET:eS.SpanStatusCode.ERROR};de.parseResponseStatus=kje;var Uje=(t,e)=>{if(typeof e=="string")return e===t;if(e instanceof RegExp)return e.test(t);if(typeof e=="function")return e(t);throw new TypeError("Pattern is in unsupported datatype")};de.satisfiesPattern=Uje;var $je=(t,e,r)=>{let i=e.message;r&Zo.SemconvStability.OLD&&(t.setAttribute(qO.AttributeNames.HTTP_ERROR_NAME,e.name),t.setAttribute(qO.AttributeNames.HTTP_ERROR_MESSAGE,i)),r&Zo.SemconvStability.STABLE&&t.setAttribute(we.ATTR_ERROR_TYPE,e.name),t.setStatus({code:eS.SpanStatusCode.ERROR,message:i}),t.recordException(e);};de.setSpanWithError=$je;var zje=(t,e)=>{let r=aue(t.headers);r!==null&&((0, de.isCompressed)(t.headers)?e[ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH]=r:e[ae.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=r);};de.setRequestContentLengthAttribute=zje;var Vje=(t,e)=>{let r=aue(t.headers);r!==null&&((0, de.isCompressed)(t.headers)?e[ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH]=r:e[ae.ATTR_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=r);};de.setResponseContentLengthAttribute=Vje;function aue(t){let e=t["content-length"];if(e===void 0)return null;let r=parseInt(e,10);return isNaN(r)?null:r}var Bje=t=>{let e=t["content-encoding"];return !!e&&e!=="identity"};de.isCompressed=Bje;function Fje(t){let{hostname:e,pathname:r,port:i,username:n,password:a,search:o,protocol:s,hash:c,href:u,origin:l,host:d}=new URL(t),p={protocol:s,hostname:e&&e[0]==="["?e.slice(1,-1):e,hash:c,search:o,pathname:r,path:`${r||""}${o||""}`,href:u,origin:l,host:d};return i!==""&&(p.port=Number(i)),(n||a)&&(p.auth=`${decodeURIComponent(n)}:${decodeURIComponent(a)}`),p}var Hje=(t,e,r)=>{let i,n,a,o=false;if(typeof e=="string"){try{let c=Fje(e);a=c,i=c.pathname||"/";}catch(c){o=true,t.verbose("Unable to parse URL provided to HTTP request, using fallback to determine path. Original error:",c),a={path:e},i=a.path||"/";}n=`${a.protocol||"http:"}//${a.host}`,r!==void 0&&Object.assign(a,r);}else if(e instanceof sue.URL)a={protocol:e.protocol,hostname:typeof e.hostname=="string"&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,path:`${e.pathname||""}${e.search||""}`},e.port!==""&&(a.port=Number(e.port)),(e.username||e.password)&&(a.auth=`${e.username}:${e.password}`),i=e.pathname,n=e.origin,r!==void 0&&Object.assign(a,r);else {a=Object.assign({protocol:e.host?"http:":void 0},e);let c=a.host||(a.port!=null?`${a.hostname}${a.port}`:a.hostname);if(n=`${a.protocol||"http:"}//${c}`,i=e.pathname,!i&&a.path)try{i=new URL(a.path,n).pathname||"/";}catch{i="/";}}let s=a.method?a.method.toUpperCase():"GET";return {origin:n,pathname:i,method:s,optionsParsed:a,invalidUrl:o}};de.getRequestInfo=Hje;var Gje=t=>{if(!t)return  false;let e=typeof t;return e==="string"||e==="object"&&!Array.isArray(t)};de.isValidOptionsType=Gje;var jje=t=>{if(t.hostname&&t.port)return {hostname:t.hostname,port:t.port};let e=t.host?.match(/^([^:/ ]+)(:\d{1,5})?/)||null,r=t.hostname||(e===null?"localhost":e[1]),i=t.port;return i||(e&&e[2]?i=e[2].substring(1):i=t.protocol==="https:"?"443":"80"),{hostname:r,port:i}};de.extractHostnameAndPort=jje;var qje=(t,e,r,i)=>{let n=e.hostname,a=e.port,o=t.method??"GET",s=lue(o),c=t.headers||{},u=c["user-agent"],l=(0, de.getAbsoluteUrl)(t,c,`${e.component}:`,e.redactedQueryParams),d={[ae.ATTR_HTTP_URL]:l,[ae.ATTR_HTTP_METHOD]:o,[ae.ATTR_HTTP_TARGET]:t.path||"/",[ae.ATTR_NET_PEER_NAME]:n,[ae.ATTR_HTTP_HOST]:c.host??`${n}:${a}`},p={[we.ATTR_HTTP_REQUEST_METHOD]:s,[we.ATTR_SERVER_ADDRESS]:n,[we.ATTR_SERVER_PORT]:Number(a),[we.ATTR_URL_FULL]:l,[we.ATTR_USER_AGENT_ORIGINAL]:u};switch(o!==s&&(p[we.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=o),i&&u&&(p[ae.ATTR_USER_AGENT_SYNTHETIC_TYPE]=cue(u)),u!==void 0&&(d[ae.ATTR_HTTP_USER_AGENT]=u),r){case Zo.SemconvStability.STABLE:return Object.assign(p,e.hookAttributes);case Zo.SemconvStability.OLD:return Object.assign(d,e.hookAttributes)}return Object.assign(d,p,e.hookAttributes)};de.getOutgoingRequestAttributes=qje;var Wje=t=>{let e={};return e[ae.ATTR_HTTP_METHOD]=t[ae.ATTR_HTTP_METHOD],e[ae.ATTR_NET_PEER_NAME]=t[ae.ATTR_NET_PEER_NAME],e};de.getOutgoingRequestMetricAttributes=Wje;var Kje=(t,e)=>{t&&(e[ae.ATTR_HTTP_FLAVOR]=t,t.toUpperCase()!=="QUIC"?e[ae.ATTR_NET_TRANSPORT]=ae.NET_TRANSPORT_VALUE_IP_TCP:e[ae.ATTR_NET_TRANSPORT]=ae.NET_TRANSPORT_VALUE_IP_UDP);};de.setAttributesFromHttpKind=Kje;var cue=t=>{let e=String(t).toLowerCase();for(let r of oue.SYNTHETIC_TEST_NAMES)if(e.includes(r))return ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_TEST;for(let r of oue.SYNTHETIC_BOT_NAMES)if(e.includes(r))return ae.USER_AGENT_SYNTHETIC_TYPE_VALUE_BOT},Yje=(t,e)=>{let{statusCode:r,statusMessage:i,httpVersion:n,socket:a}=t,o={},s={};if(r!=null&&(s[we.ATTR_HTTP_RESPONSE_STATUS_CODE]=r),a){let{remoteAddress:c,remotePort:u}=a;o[ae.ATTR_NET_PEER_IP]=c,o[ae.ATTR_NET_PEER_PORT]=u,s[we.ATTR_NETWORK_PEER_ADDRESS]=c,s[we.ATTR_NETWORK_PEER_PORT]=u,s[we.ATTR_NETWORK_PROTOCOL_VERSION]=t.httpVersion;}switch((0, de.setResponseContentLengthAttribute)(t,o),r&&(o[ae.ATTR_HTTP_STATUS_CODE]=r,o[qO.AttributeNames.HTTP_STATUS_TEXT]=(i||"").toUpperCase()),(0, de.setAttributesFromHttpKind)(n,o),e){case Zo.SemconvStability.STABLE:return s;case Zo.SemconvStability.OLD:return o}return Object.assign(o,s)};de.getOutgoingRequestAttributesOnResponse=Yje;var Zje=t=>{let e={};return e[ae.ATTR_NET_PEER_PORT]=t[ae.ATTR_NET_PEER_PORT],e[ae.ATTR_HTTP_STATUS_CODE]=t[ae.ATTR_HTTP_STATUS_CODE],e[ae.ATTR_HTTP_FLAVOR]=t[ae.ATTR_HTTP_FLAVOR],e};de.getOutgoingRequestMetricAttributesOnResponse=Zje;var Xje=t=>{let e={};return t[we.ATTR_NETWORK_PROTOCOL_VERSION]&&(e[we.ATTR_NETWORK_PROTOCOL_VERSION]=t[we.ATTR_NETWORK_PROTOCOL_VERSION]),t[we.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(e[we.ATTR_HTTP_RESPONSE_STATUS_CODE]=t[we.ATTR_HTTP_RESPONSE_STATUS_CODE]),e};de.getOutgoingStableRequestMetricAttributesOnResponse=Xje;function bc(t,e){let r=t.split(":");if(r.length===1)return e==="http"?{host:r[0],port:"80"}:e==="https"?{host:r[0],port:"443"}:{host:r[0]};if(r.length===2)return {host:r[0],port:r[1]};if(r[0].startsWith("[")){if(r[r.length-1].endsWith("]")){if(e==="http")return {host:t,port:"80"};if(e==="https")return {host:t,port:"443"}}else if(r[r.length-2].endsWith("]"))return {host:r.slice(0,-1).join(":"),port:r[r.length-1]}}return {host:t}}function Jje(t,e){let r=t.headers.forwarded;if(r){for(let a of due(r))if(a.host)return bc(a.host,a.proto)}let i=t.headers["x-forwarded-host"];if(typeof i=="string")return typeof t.headers["x-forwarded-proto"]=="string"?bc(i,t.headers["x-forwarded-proto"]):Array.isArray(t.headers["x-forwarded-proto"])?bc(i,t.headers["x-forwarded-proto"][0]):bc(i);if(Array.isArray(i)&&typeof i[0]=="string"&&i[0].length>0)return typeof t.headers["x-forwarded-proto"]=="string"?bc(i[0],t.headers["x-forwarded-proto"]):Array.isArray(t.headers["x-forwarded-proto"])?bc(i[0],t.headers["x-forwarded-proto"][0]):bc(i[0]);let n=t.headers.host;return typeof n=="string"&&n.length>0?bc(n,e):null}function uue(t){let e=t.headers.forwarded;if(e){for(let n of due(e))if(n.for)return n.for}let r=t.headers["x-forwarded-for"];if(typeof r=="string")return r;if(Array.isArray(r))return r[0];let i=t.socket.remoteAddress;return i||null}de.getRemoteClientAddress=uue;function Qje(t,e,r){try{if(e.headers.host)return new URL(e.url??"/",`${t}://${e.headers.host}`);{let i=new URL(e.url??"/",`${t}://localhost`);return {pathname:i.pathname,search:i.search,toString:function(){return i.pathname+i.search}}}}catch(i){return r.verbose("Unable to get URL from request",i),{}}}var eqe=(t,e,r)=>{let i=t.headers,n=i["user-agent"],a=i["x-forwarded-for"],o=t.httpVersion,s=i.host,c=s?.replace(/^(.*)(:[0-9]{1,5})/,"$1")||"localhost",u=t.method,l=lue(u),d=Jje(t,e.component),p=e.serverName,f=uue(t),_={[we.ATTR_HTTP_REQUEST_METHOD]:l,[we.ATTR_URL_SCHEME]:e.component,[we.ATTR_SERVER_ADDRESS]:d?.host,[we.ATTR_NETWORK_PEER_ADDRESS]:t.socket.remoteAddress,[we.ATTR_NETWORK_PEER_PORT]:t.socket.remotePort,[we.ATTR_NETWORK_PROTOCOL_VERSION]:t.httpVersion,[we.ATTR_USER_AGENT_ORIGINAL]:n},y=Qje(e.component,t,r);y?.pathname!=null&&(_[we.ATTR_URL_PATH]=y.pathname),y.search&&(_[we.ATTR_URL_QUERY]=y.search.slice(1)),f!=null&&(_[we.ATTR_CLIENT_ADDRESS]=f.split(",")[0]),d?.port!=null&&(_[we.ATTR_SERVER_PORT]=Number(d.port)),u!==l&&(_[we.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]=u),e.enableSyntheticSourceDetection&&n&&(_[ae.ATTR_USER_AGENT_SYNTHETIC_TYPE]=cue(n));let v={[ae.ATTR_HTTP_URL]:y.toString(),[ae.ATTR_HTTP_HOST]:s,[ae.ATTR_NET_HOST_NAME]:c,[ae.ATTR_HTTP_METHOD]:u,[ae.ATTR_HTTP_SCHEME]:e.component};switch(typeof a=="string"&&(v[ae.ATTR_HTTP_CLIENT_IP]=a.split(",")[0]),typeof p=="string"&&(v[ae.ATTR_HTTP_SERVER_NAME]=p),y?.pathname&&(v[ae.ATTR_HTTP_TARGET]=y?.pathname+y?.search||"/"),n!==void 0&&(v[ae.ATTR_HTTP_USER_AGENT]=n),(0, de.setRequestContentLengthAttribute)(t,v),(0, de.setAttributesFromHttpKind)(o,v),e.semconvStability){case Zo.SemconvStability.STABLE:return Object.assign(_,e.hookAttributes);case Zo.SemconvStability.OLD:return Object.assign(v,e.hookAttributes)}return Object.assign(v,_,e.hookAttributes)};de.getIncomingRequestAttributes=eqe;var tqe=t=>{let e={};return e[ae.ATTR_HTTP_SCHEME]=t[ae.ATTR_HTTP_SCHEME],e[ae.ATTR_HTTP_METHOD]=t[ae.ATTR_HTTP_METHOD],e[ae.ATTR_NET_HOST_NAME]=t[ae.ATTR_NET_HOST_NAME],e[ae.ATTR_HTTP_FLAVOR]=t[ae.ATTR_HTTP_FLAVOR],e};de.getIncomingRequestMetricAttributes=tqe;var rqe=(t,e,r)=>{let{socket:i}=t,{statusCode:n,statusMessage:a}=e,o={[we.ATTR_HTTP_RESPONSE_STATUS_CODE]:n},s=(0, iue.getRPCMetadata)(eS.context.active()),c={};if(i){let{localAddress:u,localPort:l,remoteAddress:d,remotePort:p}=i;c[ae.ATTR_NET_HOST_IP]=u,c[ae.ATTR_NET_HOST_PORT]=l,c[ae.ATTR_NET_PEER_IP]=d,c[ae.ATTR_NET_PEER_PORT]=p;}switch(c[ae.ATTR_HTTP_STATUS_CODE]=n,c[qO.AttributeNames.HTTP_STATUS_TEXT]=(a||"").toUpperCase(),s?.type===iue.RPCType.HTTP&&s.route!==void 0&&(c[we.ATTR_HTTP_ROUTE]=s.route,o[we.ATTR_HTTP_ROUTE]=s.route),r){case Zo.SemconvStability.STABLE:return o;case Zo.SemconvStability.OLD:return c}return Object.assign(c,o)};de.getIncomingRequestAttributesOnResponse=rqe;var nqe=t=>{let e={};return e[ae.ATTR_HTTP_STATUS_CODE]=t[ae.ATTR_HTTP_STATUS_CODE],e[ae.ATTR_NET_HOST_PORT]=t[ae.ATTR_NET_HOST_PORT],t[we.ATTR_HTTP_ROUTE]!==void 0&&(e[we.ATTR_HTTP_ROUTE]=t[we.ATTR_HTTP_ROUTE]),e};de.getIncomingRequestMetricAttributesOnResponse=nqe;var iqe=t=>{let e={};return t[we.ATTR_HTTP_ROUTE]!==void 0&&(e[we.ATTR_HTTP_ROUTE]=t[we.ATTR_HTTP_ROUTE]),t[we.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(e[we.ATTR_HTTP_RESPONSE_STATUS_CODE]=t[we.ATTR_HTTP_RESPONSE_STATUS_CODE]),e};de.getIncomingStableRequestMetricAttributesOnResponse=iqe;function oqe(t,e){let r=new Map;for(let i=0,n=e.length;i<n;i++){let a=e[i].toLowerCase();r.set(a,a.replace(/-/g,"_"));}return (i,n)=>{for(let a of r.keys()){let o=n(a);if(o===void 0)continue;let s=r.get(a),c=`http.${t}.header.${s}`;typeof o=="string"?i.setAttribute(c,[o]):Array.isArray(o)?i.setAttribute(c,o):i.setAttribute(c,[o]);}}}de.headerCapture=oqe;var sqe=new Set(["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]);function lue(t){if(t==null)return "GET";let e=t.toUpperCase();return sqe.has(e)?e:"_OTHER"}function due(t){try{return Lje(t)}catch{return []}}});var fue=T(WO=>{Object.defineProperty(WO,"__esModule",{value:true});WO.HttpInstrumentation=void 0;var Oe=(P(),U(je)),Rc=(Q(),U(Mn)),aqe=L("url"),cqe=qce(),hr=(an(),U(sn)),t$=L("events"),Tt=(Ye(),U($r)),Ht=pue(),r$=class extends hr.InstrumentationBase{_spanNotEnded=new WeakSet;_headerCapture;_semconvStability=hr.SemconvStability.OLD;constructor(e={}){super("@opentelemetry/instrumentation-http",cqe.VERSION,e),this._headerCapture=this._createHeaderCapture(),this._semconvStability=(0, hr.semconvStabilityFromStr)("http",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}_updateMetricInstruments(){this._oldHttpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:Oe.ValueType.DOUBLE}),this._oldHttpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:Oe.ValueType.DOUBLE}),this._stableHttpServerDurationHistogram=this.meter.createHistogram(Tt.METRIC_HTTP_SERVER_REQUEST_DURATION,{description:"Duration of HTTP server requests.",unit:"s",valueType:Oe.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}}),this._stableHttpClientDurationHistogram=this.meter.createHistogram(Tt.METRIC_HTTP_CLIENT_REQUEST_DURATION,{description:"Duration of HTTP client requests.",unit:"s",valueType:Oe.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}});}_recordServerDuration(e,r,i){this._semconvStability&hr.SemconvStability.OLD&&this._oldHttpServerDurationHistogram.record(e,r),this._semconvStability&hr.SemconvStability.STABLE&&this._stableHttpServerDurationHistogram.record(e/1e3,i);}_recordClientDuration(e,r,i){this._semconvStability&hr.SemconvStability.OLD&&this._oldHttpClientDurationHistogram.record(e,r),this._semconvStability&hr.SemconvStability.STABLE&&this._stableHttpClientDurationHistogram.record(e/1e3,i);}setConfig(e={}){super.setConfig(e),this._headerCapture=this._createHeaderCapture();}init(){return [this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new hr.InstrumentationNodeModuleDefinition("http",["*"],e=>{let r=e[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let i=this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),n=this._wrap(e,"get",this._getPatchOutgoingGetFunction(i));r&&(e.default.request=i,e.default.get=n);}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e},e=>{e!==void 0&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"));})}_getHttpsInstrumentation(){return new hr.InstrumentationNodeModuleDefinition("https",["*"],e=>{let r=e[Symbol.toStringTag]==="Module";if(!this.getConfig().disableOutgoingRequestInstrumentation){let i=this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),n=this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(i));r&&(e.default.request=i,e.default.get=n);}return this.getConfig().disableIncomingRequestInstrumentation||this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e},e=>{e!==void 0&&(this.getConfig().disableOutgoingRequestInstrumentation||(this._unwrap(e,"request"),this._unwrap(e,"get")),this.getConfig().disableIncomingRequestInstrumentation||this._unwrap(e.Server.prototype,"emit"));})}_getPatchIncomingRequestFunction(e){return r=>this._incomingRequestFunction(e,r)}_getPatchOutgoingRequestFunction(e){return r=>this._outgoingRequestFunction(e,r)}_getPatchOutgoingGetFunction(e){return r=>function(n,...a){let o=e(n,...a);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return r=>{let i=this;return function(a,...o){return e==="https"&&typeof a=="object"&&a?.constructor?.name!=="URL"&&(a=Object.assign({},a),i._setDefaultOptions(a)),i._getPatchOutgoingRequestFunction(e)(r)(a,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443;}_getPatchHttpsOutgoingGetFunction(e){return r=>{let i=this;return function(a,...o){return i._getPatchOutgoingGetFunction(e)(r)(a,...o)}}}_traceClientRequest(e,r,i,n,a){this.getConfig().requestHook&&this._callRequestHook(r,e);let o=false;return e.prependListener("response",s=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&s.resume();let c=(0, Ht.getOutgoingRequestAttributesOnResponse)(s,this._semconvStability);r.setAttributes(c),n=Object.assign(n,(0, Ht.getOutgoingRequestMetricAttributesOnResponse)(c)),a=Object.assign(a,(0, Ht.getOutgoingStableRequestMetricAttributesOnResponse)(c)),this.getConfig().responseHook&&this._callResponseHook(r,s),this._headerCapture.client.captureRequestHeaders(r,l=>e.getHeader(l)),this._headerCapture.client.captureResponseHeaders(r,l=>s.headers[l]),Oe.context.bind(Oe.context.active(),s);let u=()=>{if(this._diag.debug("outgoingRequest on end()"),o)return;o=true;let l;s.aborted&&!s.complete?l={code:Oe.SpanStatusCode.ERROR}:l={code:(0, Ht.parseResponseStatus)(Oe.SpanKind.CLIENT,s.statusCode)},r.setStatus(l),this.getConfig().applyCustomAttributesOnSpan&&(0, hr.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(r,e,s),()=>{},true),this._closeHttpSpan(r,Oe.SpanKind.CLIENT,i,n,a);};s.on("end",u),s.on(t$.errorMonitor,l=>{this._diag.debug("outgoingRequest on error()",l),!o&&(o=true,this._onOutgoingRequestError(r,n,a,i,l));});}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),!(e.aborted||o)&&(o=true,this._closeHttpSpan(r,Oe.SpanKind.CLIENT,i,n,a));}),e.on(t$.errorMonitor,s=>{this._diag.debug("outgoingRequest on request error()",s),!o&&(o=true,this._onOutgoingRequestError(r,n,a,i,s));}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,r){let i=this;return function(a,...o){if(a!=="request")return r.apply(this,[a,...o]);let s=o[0],c=o[1],u=s.method||"GET";if(i._diag.debug(`${e} instrumentation incomingRequest`),(0, hr.safeExecuteInTheMiddle)(()=>i.getConfig().ignoreIncomingRequestHook?.(s),I=>{I!=null&&i._diag.error("caught ignoreIncomingRequestHook error: ",I);},true))return Oe.context.with((0, Rc.suppressTracing)(Oe.context.active()),()=>(Oe.context.bind(Oe.context.active(),s),Oe.context.bind(Oe.context.active(),c),r.apply(this,[a,...o])));let l=s.headers,d=(0, Ht.getIncomingRequestAttributes)(s,{component:e,serverName:i.getConfig().serverName,hookAttributes:i._callStartSpanHook(s,i.getConfig().startIncomingSpanHook),semconvStability:i._semconvStability,enableSyntheticSourceDetection:i.getConfig().enableSyntheticSourceDetection||false},i._diag),p={kind:Oe.SpanKind.SERVER,attributes:d},f=(0, Rc.hrTime)(),_=(0, Ht.getIncomingRequestMetricAttributes)(d),y={[Tt.ATTR_HTTP_REQUEST_METHOD]:d[Tt.ATTR_HTTP_REQUEST_METHOD],[Tt.ATTR_URL_SCHEME]:d[Tt.ATTR_URL_SCHEME]};d[Tt.ATTR_NETWORK_PROTOCOL_VERSION]&&(y[Tt.ATTR_NETWORK_PROTOCOL_VERSION]=d[Tt.ATTR_NETWORK_PROTOCOL_VERSION]);let v=Oe.propagation.extract(Oe.ROOT_CONTEXT,l),O=i._startHttpSpan(u,p,v),x={type:Rc.RPCType.HTTP,span:O};return Oe.context.with((0, Rc.setRPCMetadata)(Oe.trace.setSpan(v,O),x),()=>{Oe.context.bind(Oe.context.active(),s),Oe.context.bind(Oe.context.active(),c),i.getConfig().requestHook&&i._callRequestHook(O,s),i.getConfig().responseHook&&i._callResponseHook(O,c),i._headerCapture.server.captureRequestHeaders(O,R=>s.headers[R]);let I=false;return c.on("close",()=>{I||i._onServerResponseFinish(s,c,O,_,y,f);}),c.on(t$.errorMonitor,R=>{I=true,i._onServerResponseError(O,_,y,f,R);}),(0, hr.safeExecuteInTheMiddle)(()=>r.apply(this,[a,...o]),R=>{if(R)throw i._onServerResponseError(O,_,y,f,R),R})})}}_outgoingRequestFunction(e,r){let i=this;return function(a,...o){if(!(0, Ht.isValidOptionsType)(a))return r.apply(this,[a,...o]);let s=typeof o[0]=="object"&&(typeof a=="string"||a instanceof aqe.URL)?o.shift():void 0,{method:c,invalidUrl:u,optionsParsed:l}=(0, Ht.getRequestInfo)(i._diag,a,s);if((0, hr.safeExecuteInTheMiddle)(()=>i.getConfig().ignoreOutgoingRequestHook?.(l),F=>{F!=null&&i._diag.error("caught ignoreOutgoingRequestHook error: ",F);},true))return r.apply(this,[l,...o]);let{hostname:d,port:p}=(0, Ht.extractHostnameAndPort)(l),f=(0, Ht.getOutgoingRequestAttributes)(l,{component:e,port:p,hostname:d,hookAttributes:i._callStartSpanHook(l,i.getConfig().startOutgoingSpanHook),redactedQueryParams:i.getConfig().redactedQueryParams},i._semconvStability,i.getConfig().enableSyntheticSourceDetection||false),_=(0, Rc.hrTime)(),y=(0, Ht.getOutgoingRequestMetricAttributes)(f),v={[Tt.ATTR_HTTP_REQUEST_METHOD]:f[Tt.ATTR_HTTP_REQUEST_METHOD],[Tt.ATTR_SERVER_ADDRESS]:f[Tt.ATTR_SERVER_ADDRESS],[Tt.ATTR_SERVER_PORT]:f[Tt.ATTR_SERVER_PORT]};f[Tt.ATTR_HTTP_RESPONSE_STATUS_CODE]&&(v[Tt.ATTR_HTTP_RESPONSE_STATUS_CODE]=f[Tt.ATTR_HTTP_RESPONSE_STATUS_CODE]),f[Tt.ATTR_NETWORK_PROTOCOL_VERSION]&&(v[Tt.ATTR_NETWORK_PROTOCOL_VERSION]=f[Tt.ATTR_NETWORK_PROTOCOL_VERSION]);let O={kind:Oe.SpanKind.CLIENT,attributes:f},x=i._startHttpSpan(c,O),I=Oe.context.active(),R=Oe.trace.setSpan(I,x);return l.headers?l.headers=Object.assign({},l.headers):l.headers={},Oe.propagation.inject(R,l.headers),Oe.context.with(R,()=>{let F=o[o.length-1];typeof F=="function"&&(o[o.length-1]=Oe.context.bind(I,F));let $=(0, hr.safeExecuteInTheMiddle)(()=>u?r.apply(this,[a,...o]):r.apply(this,[l,...o]),G=>{if(G)throw i._onOutgoingRequestError(x,y,v,_,G),G});return i._diag.debug(`${e} instrumentation outgoingRequest`),Oe.context.bind(I,$),i._traceClientRequest($,x,_,y,v)})}}_onServerResponseFinish(e,r,i,n,a,o){let s=(0, Ht.getIncomingRequestAttributesOnResponse)(e,r,this._semconvStability);n=Object.assign(n,(0, Ht.getIncomingRequestMetricAttributesOnResponse)(s)),a=Object.assign(a,(0, Ht.getIncomingStableRequestMetricAttributesOnResponse)(s)),this._headerCapture.server.captureResponseHeaders(i,u=>r.getHeader(u)),i.setAttributes(s).setStatus({code:(0, Ht.parseResponseStatus)(Oe.SpanKind.SERVER,r.statusCode)});let c=s[Tt.ATTR_HTTP_ROUTE];c&&i.updateName(`${e.method||"GET"} ${c}`),this.getConfig().applyCustomAttributesOnSpan&&(0, hr.safeExecuteInTheMiddle)(()=>this.getConfig().applyCustomAttributesOnSpan(i,e,r),()=>{},true),this._closeHttpSpan(i,Oe.SpanKind.SERVER,o,n,a);}_onOutgoingRequestError(e,r,i,n,a){(0, Ht.setSpanWithError)(e,a,this._semconvStability),i[Tt.ATTR_ERROR_TYPE]=a.name,this._closeHttpSpan(e,Oe.SpanKind.CLIENT,n,r,i);}_onServerResponseError(e,r,i,n,a){(0, Ht.setSpanWithError)(e,a,this._semconvStability),i[Tt.ATTR_ERROR_TYPE]=a.name,this._closeHttpSpan(e,Oe.SpanKind.SERVER,n,r,i);}_startHttpSpan(e,r,i=Oe.context.active()){let n=r.kind===Oe.SpanKind.CLIENT?this.getConfig().requireParentforOutgoingSpans:this.getConfig().requireParentforIncomingSpans,a,o=Oe.trace.getSpan(i);return n===true&&o===void 0?a=Oe.trace.wrapSpanContext(Oe.INVALID_SPAN_CONTEXT):n===true&&o?.spanContext().isRemote?a=o:a=this.tracer.startSpan(e,r,i),this._spanNotEnded.add(a),a}_closeHttpSpan(e,r,i,n,a){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let o=(0, Rc.hrTimeToMilliseconds)((0, Rc.hrTimeDuration)(i,(0, Rc.hrTime)()));r===Oe.SpanKind.SERVER?this._recordServerDuration(o,n,a):r===Oe.SpanKind.CLIENT&&this._recordClientDuration(o,n,a);}_callResponseHook(e,r){(0, hr.safeExecuteInTheMiddle)(()=>this.getConfig().responseHook(e,r),()=>{},true);}_callRequestHook(e,r){(0, hr.safeExecuteInTheMiddle)(()=>this.getConfig().requestHook(e,r),()=>{},true);}_callStartSpanHook(e,r){if(typeof r=="function")return (0, hr.safeExecuteInTheMiddle)(()=>r(e),()=>{},true)}_createHeaderCapture(){let e=this.getConfig();return {client:{captureRequestHeaders:(0, Ht.headerCapture)("request",e.headersToSpanAttributes?.client?.requestHeaders??[]),captureResponseHeaders:(0, Ht.headerCapture)("response",e.headersToSpanAttributes?.client?.responseHeaders??[])},server:{captureRequestHeaders:(0, Ht.headerCapture)("request",e.headersToSpanAttributes?.server?.requestHeaders??[]),captureResponseHeaders:(0, Ht.headerCapture)("response",e.headersToSpanAttributes?.server?.responseHeaders??[])}}}};WO.HttpInstrumentation=r$;});var hue=T(KO=>{Object.defineProperty(KO,"__esModule",{value:true});KO.HttpInstrumentation=void 0;var uqe=fue();Object.defineProperty(KO,"HttpInstrumentation",{enumerable:true,get:function(){return uqe.HttpInstrumentation}});});var mue=T(tS=>{Object.defineProperty(tS,"__esModule",{value:true});tS.MongodbCommandType=void 0;(function(t){t.CREATE_INDEXES="createIndexes",t.FIND_AND_MODIFY="findAndModify",t.IS_MASTER="isMaster",t.COUNT="count",t.AGGREGATE="aggregate",t.UNKNOWN="unknown";})(tS.MongodbCommandType||(tS.MongodbCommandType={}));});var gue=T(rf=>{Object.defineProperty(rf,"__esModule",{value:true});rf.PACKAGE_NAME=rf.PACKAGE_VERSION=void 0;rf.PACKAGE_VERSION="0.57.0";rf.PACKAGE_NAME="@opentelemetry/instrumentation-mongodb";});var yue=T(YO=>{Object.defineProperty(YO,"__esModule",{value:true});YO.MongoDBInstrumentation=void 0;var Ot=(P(),U(je)),gt=(an(),U(sn)),ia=(Ye(),U($r)),Ac=mue(),_ue=gue(),Sue={requireParentSpan:true},n$=class t extends gt.InstrumentationBase{constructor(e={}){super(_ue.PACKAGE_NAME,_ue.PACKAGE_VERSION,{...Sue,...e});}setConfig(e={}){super.setConfig({...Sue,...e});}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"});}init(){let{v3PatchConnection:e,v3UnpatchConnection:r}=this._getV3ConnectionPatches(),{v4PatchConnect:i,v4UnpatchConnect:n}=this._getV4ConnectPatches(),{v4PatchConnectionCallback:a,v4PatchConnectionPromise:o,v4UnpatchConnection:s}=this._getV4ConnectionPatches(),{v4PatchConnectionPool:c,v4UnpatchConnectionPool:u}=this._getV4ConnectionPoolPatches(),{v4PatchSessions:l,v4UnpatchSessions:d}=this._getV4SessionsPatches();return [new gt.InstrumentationNodeModuleDefinition("mongodb",[">=3.3.0 <4"],void 0,void 0,[new gt.InstrumentationNodeModuleFile("mongodb/lib/core/wireprotocol/index.js",[">=3.3.0 <4"],e,r)]),new gt.InstrumentationNodeModuleDefinition("mongodb",[">=4.0.0 <7"],void 0,void 0,[new gt.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=4.0.0 <6.4"],a,s),new gt.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection.js",[">=6.4.0 <7"],o,s),new gt.InstrumentationNodeModuleFile("mongodb/lib/cmap/connection_pool.js",[">=4.0.0 <6.4"],c,u),new gt.InstrumentationNodeModuleFile("mongodb/lib/cmap/connect.js",[">=4.0.0 <7"],i,n),new gt.InstrumentationNodeModuleFile("mongodb/lib/sessions.js",[">=4.0.0 <7"],l,d)])]}_getV3ConnectionPatches(){return {v3PatchConnection:e=>((0, gt.isWrapped)(e.insert)&&this._unwrap(e,"insert"),this._wrap(e,"insert",this._getV3PatchOperation("insert")),(0, gt.isWrapped)(e.remove)&&this._unwrap(e,"remove"),this._wrap(e,"remove",this._getV3PatchOperation("remove")),(0, gt.isWrapped)(e.update)&&this._unwrap(e,"update"),this._wrap(e,"update",this._getV3PatchOperation("update")),(0, gt.isWrapped)(e.command)&&this._unwrap(e,"command"),this._wrap(e,"command",this._getV3PatchCommand()),(0, gt.isWrapped)(e.query)&&this._unwrap(e,"query"),this._wrap(e,"query",this._getV3PatchFind()),(0, gt.isWrapped)(e.getMore)&&this._unwrap(e,"getMore"),this._wrap(e,"getMore",this._getV3PatchCursor()),e),v3UnpatchConnection:e=>{e!==void 0&&(this._unwrap(e,"insert"),this._unwrap(e,"remove"),this._unwrap(e,"update"),this._unwrap(e,"command"),this._unwrap(e,"query"),this._unwrap(e,"getMore"));}}}_getV4SessionsPatches(){return {v4PatchSessions:e=>((0, gt.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),this._wrap(e.ServerSessionPool.prototype,"acquire",this._getV4AcquireCommand()),(0, gt.isWrapped)(e.release)&&this._unwrap(e,"release"),this._wrap(e.ServerSessionPool.prototype,"release",this._getV4ReleaseCommand()),e),v4UnpatchSessions:e=>{e!==void 0&&((0, gt.isWrapped)(e.acquire)&&this._unwrap(e,"acquire"),(0, gt.isWrapped)(e.release)&&this._unwrap(e,"release"));}}}_getV4AcquireCommand(){let e=this;return r=>function(){let n=this.sessions.length,a=r.call(this),o=this.sessions.length;return n===o?e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName}):n-1===o&&(e._connectionsUsage.add(-1,{state:"idle","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"used","pool.name":e._poolName})),a}}_getV4ReleaseCommand(){let e=this;return r=>function(n){let a=r.call(this,n);return e._connectionsUsage.add(-1,{state:"used","pool.name":e._poolName}),e._connectionsUsage.add(1,{state:"idle","pool.name":e._poolName}),a}}_getV4ConnectionPoolPatches(){return {v4PatchConnectionPool:e=>{let r=e.ConnectionPool.prototype;return (0, gt.isWrapped)(r.checkOut)&&this._unwrap(r,"checkOut"),this._wrap(r,"checkOut",this._getV4ConnectionPoolCheckOut()),e},v4UnpatchConnectionPool:e=>{e!==void 0&&this._unwrap(e.ConnectionPool.prototype,"checkOut");}}}_getV4ConnectPatches(){return {v4PatchConnect:e=>((0, gt.isWrapped)(e.connect)&&this._unwrap(e,"connect"),this._wrap(e,"connect",this._getV4ConnectCommand()),e),v4UnpatchConnect:e=>{e!==void 0&&this._unwrap(e,"connect");}}}_getV4ConnectionPoolCheckOut(){return e=>function(i){let n=Ot.context.bind(Ot.context.active(),i);return e.call(this,n)}}_getV4ConnectCommand(){let e=this;return r=>function(n,a){if(r.length===1){let s=r.call(this,n);return s&&typeof s.then=="function"&&s.then(()=>e.setPoolName(n),()=>{}),s}let o=function(s,c){if(s||!c){a(s,c);return}e.setPoolName(n),a(s,c);};return r.call(this,n,o)}}_getV4ConnectionPatches(){return {v4PatchConnectionCallback:e=>((0, gt.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandCallback()),e),v4PatchConnectionPromise:e=>((0, gt.isWrapped)(e.Connection.prototype.command)&&this._unwrap(e.Connection.prototype,"command"),this._wrap(e.Connection.prototype,"command",this._getV4PatchCommandPromise()),e),v4UnpatchConnection:e=>{e!==void 0&&this._unwrap(e.Connection.prototype,"command");}}}_getV3PatchOperation(e){let r=this;return i=>function(a,o,s,c,u){let l=Ot.trace.getSpan(Ot.context.active()),d=r._checkSkipInstrumentation(l),p=typeof c=="function"?c:u;if(d||typeof p!="function"||typeof s!="object")return typeof c=="function"?i.call(this,a,o,s,c):i.call(this,a,o,s,c,u);let f=r.tracer.startSpan(`mongodb.${e}`,{kind:Ot.SpanKind.CLIENT});r._populateV3Attributes(f,o,a,s[0],e);let _=r._patchEnd(f,p);return typeof c=="function"?i.call(this,a,o,s,_):i.call(this,a,o,s,c,_)}}_getV3PatchCommand(){let e=this;return r=>function(n,a,o,s,c){let u=Ot.trace.getSpan(Ot.context.active()),l=e._checkSkipInstrumentation(u),d=typeof s=="function"?s:c;if(l||typeof d!="function"||typeof o!="object")return typeof s=="function"?r.call(this,n,a,o,s):r.call(this,n,a,o,s,c);let p=t._getCommandType(o),f=p===Ac.MongodbCommandType.UNKNOWN?"command":p,_=e.tracer.startSpan(`mongodb.${f}`,{kind:Ot.SpanKind.CLIENT}),y=p===Ac.MongodbCommandType.UNKNOWN?void 0:p;e._populateV3Attributes(_,a,n,o,y);let v=e._patchEnd(_,d);return typeof s=="function"?r.call(this,n,a,o,v):r.call(this,n,a,o,s,v)}}_getV4PatchCommandCallback(){let e=this;return r=>function(n,a,o,s){let c=Ot.trace.getSpan(Ot.context.active()),u=e._checkSkipInstrumentation(c),l=s,d=Object.keys(a)[0];if(typeof a!="object"||a.ismaster||a.hello)return r.call(this,n,a,o,s);let p;u||(p=e.tracer.startSpan(`mongodb.${d}`,{kind:Ot.SpanKind.CLIENT}),e._populateV4Attributes(p,this,n,a,d));let f=e._patchEnd(p,l,this.id,d);return r.call(this,n,a,o,f)}}_getV4PatchCommandPromise(){let e=this;return r=>function(...n){let[a,o]=n,s=Ot.trace.getSpan(Ot.context.active()),c=e._checkSkipInstrumentation(s),u=Object.keys(o)[0],l=()=>{};if(typeof o!="object"||o.ismaster||o.hello)return r.apply(this,n);let d;c||(d=e.tracer.startSpan(`mongodb.${u}`,{kind:Ot.SpanKind.CLIENT}),e._populateV4Attributes(d,this,a,o,u));let p=e._patchEnd(d,l,this.id,u),f=r.apply(this,n);return f.then(_=>p(null,_),_=>p(_)),f}}_getV3PatchFind(){let e=this;return r=>function(n,a,o,s,c,u){let l=Ot.trace.getSpan(Ot.context.active()),d=e._checkSkipInstrumentation(l),p=typeof c=="function"?c:u;if(d||typeof p!="function"||typeof o!="object")return typeof c=="function"?r.call(this,n,a,o,s,c):r.call(this,n,a,o,s,c,u);let f=e.tracer.startSpan("mongodb.find",{kind:Ot.SpanKind.CLIENT});e._populateV3Attributes(f,a,n,o,"find");let _=e._patchEnd(f,p);return typeof c=="function"?r.call(this,n,a,o,s,_):r.call(this,n,a,o,s,c,_)}}_getV3PatchCursor(){let e=this;return r=>function(n,a,o,s,c,u){let l=Ot.trace.getSpan(Ot.context.active()),d=e._checkSkipInstrumentation(l),p=typeof c=="function"?c:u;if(d||typeof p!="function")return typeof c=="function"?r.call(this,n,a,o,s,c):r.call(this,n,a,o,s,c,u);let f=e.tracer.startSpan("mongodb.getMore",{kind:Ot.SpanKind.CLIENT});e._populateV3Attributes(f,a,n,o.cmd,"getMore");let _=e._patchEnd(f,p);return typeof c=="function"?r.call(this,n,a,o,s,_):r.call(this,n,a,o,s,c,_)}}static _getCommandType(e){return e.createIndexes!==void 0?Ac.MongodbCommandType.CREATE_INDEXES:e.findandmodify!==void 0?Ac.MongodbCommandType.FIND_AND_MODIFY:e.ismaster!==void 0?Ac.MongodbCommandType.IS_MASTER:e.count!==void 0?Ac.MongodbCommandType.COUNT:e.aggregate!==void 0?Ac.MongodbCommandType.AGGREGATE:Ac.MongodbCommandType.UNKNOWN}_populateV4Attributes(e,r,i,n,a){let o,s;if(r){let u=typeof r.address=="string"?r.address.split(":"):"";u.length===2&&(o=u[0],s=u[1]);}let c;n?.documents&&n.documents[0]?c=n.documents[0]:n?.cursors?c=n.cursors:c=n,this._addAllSpanAttributes(e,i.db,i.collection,o,s,c,a);}_populateV3Attributes(e,r,i,n,a){let o,s;if(i&&i.s&&(o=i.s.options?.host??i.s.host,s=(i.s.options?.port??i.s.port)?.toString(),o==null||s==null)){let d=i.description?.address;if(d){let p=d.split(":");o=p[0],s=p[1];}}let[c,u]=r.toString().split("."),l=n?.query??n?.q??n;this._addAllSpanAttributes(e,c,u,o,s,l,a);}_addAllSpanAttributes(e,r,i,n,a,o,s){if(e.setAttributes({[ia.SEMATTRS_DB_SYSTEM]:ia.DBSYSTEMVALUES_MONGODB,[ia.SEMATTRS_DB_NAME]:r,[ia.SEMATTRS_DB_MONGODB_COLLECTION]:i,[ia.SEMATTRS_DB_OPERATION]:s,[ia.SEMATTRS_DB_CONNECTION_STRING]:`mongodb://${n}:${a}/${r}`}),n&&a){e.setAttribute(ia.SEMATTRS_NET_PEER_NAME,n);let l=parseInt(a,10);isNaN(l)||e.setAttribute(ia.SEMATTRS_NET_PEER_PORT,l);}if(!o)return;let{dbStatementSerializer:c}=this.getConfig(),u=typeof c=="function"?c:this._defaultDbStatementSerializer.bind(this);(0, gt.safeExecuteInTheMiddle)(()=>{let l=u(o);e.setAttribute(ia.SEMATTRS_DB_STATEMENT,l);},l=>{l&&this._diag.error("Error running dbStatementSerializer hook",l);},true);}_defaultDbStatementSerializer(e){let{enhancedDatabaseReporting:r}=this.getConfig(),i=r?e:this._scrubStatement(e);return JSON.stringify(i)}_scrubStatement(e){return Array.isArray(e)?e.map(r=>this._scrubStatement(r)):typeof e=="object"&&e!==null?Object.fromEntries(Object.entries(e).map(([r,i])=>[r,this._scrubStatement(i)])):"?"}_handleExecutionResult(e,r){let{responseHook:i}=this.getConfig();typeof i=="function"&&(0, gt.safeExecuteInTheMiddle)(()=>{i(e,{data:r});},n=>{n&&this._diag.error("Error running response hook",n);},true);}_patchEnd(e,r,i,n){let a=Ot.context.active(),o=this;return function(...c){let u=c[0];if(e){if(u instanceof Error)e?.setStatus({code:Ot.SpanStatusCode.ERROR,message:u.message});else {let l=c[1];o._handleExecutionResult(e,l);}e.end();}return Ot.context.with(a,()=>(n==="endSessions"&&o._connectionsUsage.add(-1,{state:"idle","pool.name":o._poolName}),r.apply(this,c)))}}setPoolName(e){let r=e.hostAddress?.host,i=e.hostAddress?.port,n=e.dbName,a=`mongodb://${r}:${i}/${n}`;this._poolName=a;}_checkSkipInstrumentation(e){return this.getConfig().requireParentSpan===true&&e===void 0}};YO.MongoDBInstrumentation=n$;});var Eue=T(rS=>{Object.defineProperty(rS,"__esModule",{value:true});rS.MongodbCommandType=void 0;(function(t){t.CREATE_INDEXES="createIndexes",t.FIND_AND_MODIFY="findAndModify",t.IS_MASTER="isMaster",t.COUNT="count",t.UNKNOWN="unknown";})(rS.MongodbCommandType||(rS.MongodbCommandType={}));});var Tue=T(nf=>{Object.defineProperty(nf,"__esModule",{value:true});nf.MongodbCommandType=nf.MongoDBInstrumentation=void 0;var pqe=yue();Object.defineProperty(nf,"MongoDBInstrumentation",{enumerable:true,get:function(){return pqe.MongoDBInstrumentation}});var fqe=Eue();Object.defineProperty(nf,"MongodbCommandType",{enumerable:true,get:function(){return fqe.MongodbCommandType}});});var vue=T(nS=>{Object.defineProperty(nS,"__esModule",{value:true});nS.AttributeNames=void 0;(function(t){t.MYSQL_VALUES="db.mysql.values";})(nS.AttributeNames||(nS.AttributeNames={}));});var Rue=T(vn=>{Object.defineProperty(vn,"__esModule",{value:true});vn.getPoolName=vn.arrayStringifyHelper=vn.getSpanName=vn.getDbValues=vn.getDbStatement=vn.getConnectionAttributes=void 0;var oa=(Ye(),U($r));function mqe(t){let{host:e,port:r,database:i,user:n}=gqe(t),a=parseInt(r,10);return isNaN(a)?{[oa.SEMATTRS_NET_PEER_NAME]:e,[oa.SEMATTRS_DB_CONNECTION_STRING]:bue(e,r,i),[oa.SEMATTRS_DB_NAME]:i,[oa.SEMATTRS_DB_USER]:n}:{[oa.SEMATTRS_NET_PEER_NAME]:e,[oa.SEMATTRS_NET_PEER_PORT]:a,[oa.SEMATTRS_DB_CONNECTION_STRING]:bue(e,r,i),[oa.SEMATTRS_DB_NAME]:i,[oa.SEMATTRS_DB_USER]:n}}vn.getConnectionAttributes=mqe;function gqe(t){let{host:e,port:r,database:i,user:n}=t&&t.connectionConfig||t||{};return {host:e,port:r,database:i,user:n}}function bue(t,e,r){let i=`jdbc:mysql://${t||"localhost"}`;return typeof e=="number"&&(i+=`:${e}`),typeof r=="string"&&(i+=`/${r}`),i}function _qe(t){return typeof t=="string"?t:t.sql}vn.getDbStatement=_qe;function Sqe(t,e){return i$(typeof t=="string"?e:e||t.values)}vn.getDbValues=Sqe;function yqe(t){let e=typeof t=="object"?t.sql:t,r=e?.indexOf(" ");return typeof r=="number"&&r!==-1?e?.substring(0,r):e}vn.getSpanName=yqe;function i$(t){return t?`[${t.toString()}]`:""}vn.arrayStringifyHelper=i$;function Eqe(t){let e=t.config.connectionConfig,r="";return r+=e.host?`host: '${e.host}', `:"",r+=e.port?`port: ${e.port}, `:"",r+=e.database?`database: '${e.database}', `:"",r+=e.user?`user: '${e.user}'`:"",e.user||(r=r.substring(0,r.length-2)),r.trim()}vn.getPoolName=Eqe;});var Aue=T(of=>{Object.defineProperty(of,"__esModule",{value:true});of.PACKAGE_NAME=of.PACKAGE_VERSION=void 0;of.PACKAGE_VERSION="0.50.0";of.PACKAGE_NAME="@opentelemetry/instrumentation-mysql";});var xue=T(ZO=>{Object.defineProperty(ZO,"__esModule",{value:true});ZO.MySQLInstrumentation=void 0;var bn=(P(),U(je)),sf=(an(),U(sn)),o$=(Ye(),U($r)),Tqe=vue(),af=Rue(),Oue=Aue(),s$=class t extends sf.InstrumentationBase{static COMMON_ATTRIBUTES={[o$.SEMATTRS_DB_SYSTEM]:o$.DBSYSTEMVALUES_MYSQL};constructor(e={}){super(Oue.PACKAGE_NAME,Oue.PACKAGE_VERSION,e);}_updateMetricInstruments(){this._connectionsUsage=this.meter.createUpDownCounter("db.client.connections.usage",{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"});}init(){return [new sf.InstrumentationNodeModuleDefinition("mysql",[">=2.0.0 <3"],e=>((0, sf.isWrapped)(e.createConnection)&&this._unwrap(e,"createConnection"),this._wrap(e,"createConnection",this._patchCreateConnection()),(0, sf.isWrapped)(e.createPool)&&this._unwrap(e,"createPool"),this._wrap(e,"createPool",this._patchCreatePool()),(0, sf.isWrapped)(e.createPoolCluster)&&this._unwrap(e,"createPoolCluster"),this._wrap(e,"createPoolCluster",this._patchCreatePoolCluster()),e),e=>{e!==void 0&&(this._unwrap(e,"createConnection"),this._unwrap(e,"createPool"),this._unwrap(e,"createPoolCluster"));})]}_patchCreateConnection(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"query",r._patchQuery(a)),a}}}_patchCreatePool(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"query",r._patchQuery(a)),r._wrap(a,"getConnection",r._patchGetConnection(a)),r._wrap(a,"end",r._patchPoolEnd(a)),r._setPoolcallbacks(a,r,""),a}}}_patchPoolEnd(e){return r=>{let i=this;return function(a){let o=e._allConnections.length,s=e._freeConnections.length,c=o-s,u=(0, af.getPoolName)(e);i._connectionsUsage.add(-c,{state:"used",name:u}),i._connectionsUsage.add(-s,{state:"idle",name:u}),r.apply(e,arguments);}}}_patchCreatePoolCluster(){return e=>{let r=this;return function(n){let a=e(...arguments);return r._wrap(a,"getConnection",r._patchGetConnection(a)),r._wrap(a,"add",r._patchAdd(a)),a}}}_patchAdd(e){return r=>{let i=this;return function(a,o){if(!i._enabled)return i._unwrap(e,"add"),r.apply(e,arguments);r.apply(e,arguments);let s=e._nodes;if(s){let c=typeof a=="object"?"CLUSTER::"+e._lastId:String(a),u=s[c].pool;i._setPoolcallbacks(u,i,a);}}}}_patchGetConnection(e){return r=>{let i=this;return function(a,o,s){if(!i._enabled)return i._unwrap(e,"getConnection"),r.apply(e,arguments);if(arguments.length===1&&typeof a=="function"){let c=i._getConnectionCallbackPatchFn(a);return r.call(e,c)}if(arguments.length===2&&typeof o=="function"){let c=i._getConnectionCallbackPatchFn(o);return r.call(e,a,c)}if(arguments.length===3&&typeof s=="function"){let c=i._getConnectionCallbackPatchFn(s);return r.call(e,a,o,c)}return r.apply(e,arguments)}}}_getConnectionCallbackPatchFn(e){let r=this,i=bn.context.active();return function(n,a){a&&((0, sf.isWrapped)(a.query)||r._wrap(a,"query",r._patchQuery(a))),typeof e=="function"&&bn.context.with(i,e,this,n,a);}}_patchQuery(e){return r=>{let i=this;return function(n,a,o){if(!i._enabled)return i._unwrap(e,"query"),r.apply(e,arguments);let s=i.tracer.startSpan((0, af.getSpanName)(n),{kind:bn.SpanKind.CLIENT,attributes:{...t.COMMON_ATTRIBUTES,...(0, af.getConnectionAttributes)(e.config)}});if(s.setAttribute(o$.SEMATTRS_DB_STATEMENT,(0, af.getDbStatement)(n)),i.getConfig().enhancedDatabaseReporting){let l;Array.isArray(a)?l=a:arguments[2]&&(l=[a]),s.setAttribute(Tqe.AttributeNames.MYSQL_VALUES,(0, af.getDbValues)(n,l));}let c=Array.from(arguments).findIndex(l=>typeof l=="function"),u=bn.context.active();if(c===-1){let l=bn.context.with(bn.trace.setSpan(bn.context.active(),s),()=>r.apply(e,arguments));return bn.context.bind(u,l),l.on("error",d=>s.setStatus({code:bn.SpanStatusCode.ERROR,message:d.message})).on("end",()=>{s.end();})}else return i._wrap(arguments,c,i._patchCallbackQuery(s,u)),bn.context.with(bn.trace.setSpan(bn.context.active(),s),()=>r.apply(e,arguments))}}}_patchCallbackQuery(e,r){return i=>function(n,a,o){return n&&e.setStatus({code:bn.SpanStatusCode.ERROR,message:n.message}),e.end(),bn.context.with(r,()=>i(...arguments))}}_setPoolcallbacks(e,r,i){let n=i||(0, af.getPoolName)(e);e.on("connection",a=>{r._connectionsUsage.add(1,{state:"idle",name:n});}),e.on("acquire",a=>{r._connectionsUsage.add(-1,{state:"idle",name:n}),r._connectionsUsage.add(1,{state:"used",name:n});}),e.on("release",a=>{r._connectionsUsage.add(-1,{state:"used",name:n}),r._connectionsUsage.add(1,{state:"idle",name:n});});}};ZO.MySQLInstrumentation=s$;});var Cue=T(XO=>{Object.defineProperty(XO,"__esModule",{value:true});XO.MySQLInstrumentation=void 0;var vqe=xue();Object.defineProperty(XO,"MySQLInstrumentation",{enumerable:true,get:function(){return vqe.MySQLInstrumentation}});});var Nue=T(JO=>{Object.defineProperty(JO,"__esModule",{value:true});JO.EVENT_LISTENERS_SET=void 0;JO.EVENT_LISTENERS_SET=Symbol("opentelemetry.instrumentation.pg.eventListenersSet");});var a$=T(iS=>{Object.defineProperty(iS,"__esModule",{value:true});iS.AttributeNames=void 0;(function(t){t.PG_VALUES="db.postgresql.values",t.PG_PLAN="db.postgresql.plan",t.IDLE_TIMEOUT_MILLIS="db.postgresql.idle.timeout.millis",t.MAX_CLIENT="db.postgresql.max.client";})(iS.AttributeNames||(iS.AttributeNames={}));});var c$=T(et=>{Object.defineProperty(et,"__esModule",{value:true});et.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS=et.METRIC_DB_CLIENT_CONNECTION_COUNT=et.DB_SYSTEM_VALUE_POSTGRESQL=et.DB_CLIENT_CONNECTION_STATE_VALUE_USED=et.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE=et.ATTR_NET_PEER_PORT=et.ATTR_NET_PEER_NAME=et.ATTR_DB_USER=et.ATTR_DB_SYSTEM=et.ATTR_DB_STATEMENT=et.ATTR_DB_NAME=et.ATTR_DB_CONNECTION_STRING=et.ATTR_DB_CLIENT_CONNECTION_STATE=et.ATTR_DB_CLIENT_CONNECTION_POOL_NAME=void 0;et.ATTR_DB_CLIENT_CONNECTION_POOL_NAME="db.client.connection.pool.name";et.ATTR_DB_CLIENT_CONNECTION_STATE="db.client.connection.state";et.ATTR_DB_CONNECTION_STRING="db.connection_string";et.ATTR_DB_NAME="db.name";et.ATTR_DB_STATEMENT="db.statement";et.ATTR_DB_SYSTEM="db.system";et.ATTR_DB_USER="db.user";et.ATTR_NET_PEER_NAME="net.peer.name";et.ATTR_NET_PEER_PORT="net.peer.port";et.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE="idle";et.DB_CLIENT_CONNECTION_STATE_VALUE_USED="used";et.DB_SYSTEM_VALUE_POSTGRESQL="postgresql";et.METRIC_DB_CLIENT_CONNECTION_COUNT="db.client.connection.count";et.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS="db.client.connection.pending_requests";});var u$=T(oS=>{Object.defineProperty(oS,"__esModule",{value:true});oS.SpanNames=void 0;(function(t){t.QUERY_PREFIX="pg.query",t.CONNECT="pg.connect",t.POOL_CONNECT="pg-pool.connect";})(oS.SpanNames||(oS.SpanNames={}));});var kue=T(Ke=>{Object.defineProperty(Ke,"__esModule",{value:true});Ke.isObjectWithTextString=Ke.getErrorMessage=Ke.patchClientConnectCallback=Ke.patchCallbackPGPool=Ke.updateCounter=Ke.getPoolName=Ke.patchCallback=Ke.handleExecutionResult=Ke.handleConfigQuery=Ke.shouldSkipInstrumentation=Ke.getSemanticAttributesFromPoolConnection=Ke.getSemanticAttributesFromConnection=Ke.getConnectionString=Ke.parseAndMaskConnectionString=Ke.parseNormalizedOperationName=Ke.getQuerySpanName=void 0;var Oc=(P(),U(je)),QO=a$(),yi=(Ye(),U($r)),Mt=c$(),dl=(an(),U(sn)),Pue=u$();function Iue(t,e){if(!e)return Pue.SpanNames.QUERY_PREFIX;let r=typeof e.name=="string"&&e.name?e.name:wue(e.text);return `${Pue.SpanNames.QUERY_PREFIX}:${r}${t?` ${t}`:""}`}Ke.getQuerySpanName=Iue;function wue(t){let e=t.indexOf(" "),r=e===-1?t:t.slice(0,e);return r=r.toUpperCase(),r.endsWith(";")?r.slice(0,-1):r}Ke.parseNormalizedOperationName=wue;function Mue(t){try{let e=new URL(t);return e.username="",e.password="",e.toString()}catch{return "postgresql://localhost:5432/"}}Ke.parseAndMaskConnectionString=Mue;function l$(t){if("connectionString"in t&&t.connectionString)return Mue(t.connectionString);let e=t.host||"localhost",r=t.port||5432,i=t.database||"";return `postgresql://${e}:${r}/${i}`}Ke.getConnectionString=l$;function ex(t){if(Number.isInteger(t))return t}function Lue(t,e){let r={};return e&dl.SemconvStability.OLD&&(r={...r,[Mt.ATTR_DB_SYSTEM]:Mt.DB_SYSTEM_VALUE_POSTGRESQL,[Mt.ATTR_DB_NAME]:t.database,[Mt.ATTR_DB_CONNECTION_STRING]:l$(t),[Mt.ATTR_DB_USER]:t.user,[Mt.ATTR_NET_PEER_NAME]:t.host,[Mt.ATTR_NET_PEER_PORT]:ex(t.port)}),e&dl.SemconvStability.STABLE&&(r={...r,[yi.ATTR_DB_SYSTEM_NAME]:yi.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[yi.ATTR_DB_NAMESPACE]:t.namespace,[yi.ATTR_SERVER_ADDRESS]:t.host,[yi.ATTR_SERVER_PORT]:ex(t.port)}),r}Ke.getSemanticAttributesFromConnection=Lue;function Aqe(t,e){let r;try{r=t.connectionString?new URL(t.connectionString):void 0;}catch{r=void 0;}let i={[QO.AttributeNames.IDLE_TIMEOUT_MILLIS]:t.idleTimeoutMillis,[QO.AttributeNames.MAX_CLIENT]:t.maxClient};return e&dl.SemconvStability.OLD&&(i={...i,[Mt.ATTR_DB_SYSTEM]:Mt.DB_SYSTEM_VALUE_POSTGRESQL,[Mt.ATTR_DB_NAME]:r?.pathname.slice(1)??t.database,[Mt.ATTR_DB_CONNECTION_STRING]:l$(t),[Mt.ATTR_NET_PEER_NAME]:r?.hostname??t.host,[Mt.ATTR_NET_PEER_PORT]:Number(r?.port)||ex(t.port),[Mt.ATTR_DB_USER]:r?.username??t.user}),e&dl.SemconvStability.STABLE&&(i={...i,[yi.ATTR_DB_SYSTEM_NAME]:yi.DB_SYSTEM_NAME_VALUE_POSTGRESQL,[yi.ATTR_DB_NAMESPACE]:t.namespace,[yi.ATTR_SERVER_ADDRESS]:r?.hostname??t.host,[yi.ATTR_SERVER_PORT]:Number(r?.port)||ex(t.port)}),i}Ke.getSemanticAttributesFromPoolConnection=Aqe;function Oqe(t){return t.requireParentSpan===true&&Oc.trace.getSpan(Oc.context.active())===void 0}Ke.shouldSkipInstrumentation=Oqe;function xqe(t,e,r,i){let{connectionParameters:n}=this,a=n.database,o=Iue(a,i),s=t.startSpan(o,{kind:Oc.SpanKind.CLIENT,attributes:Lue(n,r)});if(!i)return s;if(i.text&&(r&dl.SemconvStability.OLD&&s.setAttribute(Mt.ATTR_DB_STATEMENT,i.text),r&dl.SemconvStability.STABLE&&s.setAttribute(yi.ATTR_DB_QUERY_TEXT,i.text)),e.enhancedDatabaseReporting&&Array.isArray(i.values))try{let c=i.values.map(u=>u==null?"null":u instanceof Buffer?u.toString():typeof u=="object"?typeof u.toPostgres=="function"?u.toPostgres():JSON.stringify(u):u.toString());s.setAttribute(QO.AttributeNames.PG_VALUES,c);}catch(c){Oc.diag.error("failed to stringify ",i.values,c);}return typeof i.name=="string"&&s.setAttribute(QO.AttributeNames.PG_PLAN,i.name),s}Ke.handleConfigQuery=xqe;function Due(t,e,r){typeof t.responseHook=="function"&&(0, dl.safeExecuteInTheMiddle)(()=>{t.responseHook(e,{data:r});},i=>{i&&Oc.diag.error("Error running response hook",i);},true);}Ke.handleExecutionResult=Due;function Cqe(t,e,r,i,n){return function(o,s){o?(Object.prototype.hasOwnProperty.call(o,"code")&&(i[yi.ATTR_ERROR_TYPE]=o.code),e.setStatus({code:Oc.SpanStatusCode.ERROR,message:o.message})):Due(t,e,s),n(),e.end(),r.call(this,o,s);}}Ke.patchCallback=Cqe;function Nqe(t){let e="";return e+=(t?.host?`${t.host}`:"unknown_host")+":",e+=(t?.port?`${t.port}`:"unknown_port")+"/",e+=t?.database?`${t.database}`:"unknown_database",e.trim()}Ke.getPoolName=Nqe;function Pqe(t,e,r,i,n){let a=e.totalCount,o=e.waitingCount,s=e.idleCount,c=a-s;return r.add(c-n.used,{[Mt.ATTR_DB_CLIENT_CONNECTION_STATE]:Mt.DB_CLIENT_CONNECTION_STATE_VALUE_USED,[Mt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),r.add(s-n.idle,{[Mt.ATTR_DB_CLIENT_CONNECTION_STATE]:Mt.DB_CLIENT_CONNECTION_STATE_VALUE_IDLE,[Mt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),i.add(o-n.pending,{[Mt.ATTR_DB_CLIENT_CONNECTION_POOL_NAME]:t}),{used:c,idle:s,pending:o}}Ke.updateCounter=Pqe;function Iqe(t,e){return function(i,n,a){i&&t.setStatus({code:Oc.SpanStatusCode.ERROR,message:i.message}),t.end(),e.call(this,i,n,a);}}Ke.patchCallbackPGPool=Iqe;function wqe(t,e){return function(i){i&&t.setStatus({code:Oc.SpanStatusCode.ERROR,message:i.message}),t.end(),e.apply(this,arguments);}}Ke.patchClientConnectCallback=wqe;function Mqe(t){return typeof t=="object"&&t!==null&&"message"in t?String(t.message):void 0}Ke.getErrorMessage=Mqe;function Lqe(t){return typeof t=="object"&&typeof t?.text=="string"}Ke.isObjectWithTextString=Lqe;});var Uue=T(tx=>{Object.defineProperty(tx,"__esModule",{value:true});tx.addSqlCommenterComment=void 0;var d$=(P(),U(je)),Dqe=(Q(),U(Mn));function kqe(t){let e=t.indexOf("--");if(e>=0)return  true;if(t.indexOf("/*")<0)return  false;let i=t.indexOf("*/");return e<i}function Uqe(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)}function $qe(t,e){if(typeof e!="string"||e.length===0||kqe(e))return e;let r=new Dqe.W3CTraceContextPropagator,i={};r.inject(d$.trace.setSpan(d$.ROOT_CONTEXT,t),i,d$.defaultTextMapSetter);let n=Object.keys(i).sort();if(n.length===0)return e;let a=n.map(o=>{let s=Uqe(i[o]);return `${o}='${s}'`}).join(",");return `${e} /*${a}*/`}tx.addSqlCommenterComment=$qe;});var $ue=T(cf=>{Object.defineProperty(cf,"__esModule",{value:true});cf.PACKAGE_NAME=cf.PACKAGE_VERSION=void 0;cf.PACKAGE_VERSION="0.57.0";cf.PACKAGE_NAME="@opentelemetry/instrumentation-pg";});var Gue=T(nx=>{Object.defineProperty(nx,"__esModule",{value:true});nx.PgInstrumentation=void 0;var Kr=(an(),U(sn)),st=(P(),U(je)),zue=Nue(),Zt=kue(),Vue=Uue(),Bue=$ue(),Fue=u$(),rx=(Q(),U(Mn)),Ji=(Ye(),U($r)),sS=c$();function uf(t){return t[Symbol.toStringTag]==="Module"?t.default:t}var p$=class extends Kr.InstrumentationBase{_connectionsCounter={used:0,idle:0,pending:0};_semconvStability;constructor(e={}){super(Bue.PACKAGE_NAME,Bue.PACKAGE_VERSION,e),this._semconvStability=(0, Kr.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}_updateMetricInstruments(){this._operationDuration=this.meter.createHistogram(Ji.METRIC_DB_CLIENT_OPERATION_DURATION,{description:"Duration of database client operations.",unit:"s",valueType:st.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.001,.005,.01,.05,.1,.5,1,5,10]}}),this._connectionsCounter={idle:0,pending:0,used:0},this._connectionsCount=this.meter.createUpDownCounter(sS.METRIC_DB_CLIENT_CONNECTION_COUNT,{description:"The number of connections that are currently in state described by the state attribute.",unit:"{connection}"}),this._connectionPendingRequests=this.meter.createUpDownCounter(sS.METRIC_DB_CLIENT_CONNECTION_PENDING_REQUESTS,{description:"The number of current pending requests for an open connection.",unit:"{connection}"});}init(){let e=[">=8.0.3 <9"],r=[">=2.0.0 <4"],i=new Kr.InstrumentationNodeModuleFile("pg/lib/native/client.js",e,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),n=new Kr.InstrumentationNodeModuleFile("pg/lib/client.js",e,this._patchPgClient.bind(this),this._unpatchPgClient.bind(this)),a=new Kr.InstrumentationNodeModuleDefinition("pg",e,s=>{let c=uf(s);return this._patchPgClient(c.Client),s},s=>{let c=uf(s);return this._unpatchPgClient(c.Client),s},[n,i]),o=new Kr.InstrumentationNodeModuleDefinition("pg-pool",r,s=>{let c=uf(s);return (0, Kr.isWrapped)(c.prototype.connect)&&this._unwrap(c.prototype,"connect"),this._wrap(c.prototype,"connect",this._getPoolConnectPatch()),c},s=>{let c=uf(s);(0, Kr.isWrapped)(c.prototype.connect)&&this._unwrap(c.prototype,"connect");});return [a,o]}_patchPgClient(e){if(!e)return;let r=uf(e);return (0, Kr.isWrapped)(r.prototype.query)&&this._unwrap(r.prototype,"query"),(0, Kr.isWrapped)(r.prototype.connect)&&this._unwrap(r.prototype,"connect"),this._wrap(r.prototype,"query",this._getClientQueryPatch()),this._wrap(r.prototype,"connect",this._getClientConnectPatch()),e}_unpatchPgClient(e){let r=uf(e);return (0, Kr.isWrapped)(r.prototype.query)&&this._unwrap(r.prototype,"query"),(0, Kr.isWrapped)(r.prototype.connect)&&this._unwrap(r.prototype,"connect"),e}_getClientConnectPatch(){let e=this;return r=>function(n){if(Zt.shouldSkipInstrumentation(e.getConfig()))return r.call(this,n);let a=e.tracer.startSpan(Fue.SpanNames.CONNECT,{kind:st.SpanKind.CLIENT,attributes:Zt.getSemanticAttributesFromConnection(this,e._semconvStability)});if(n){let s=st.trace.getSpan(st.context.active());n=Zt.patchClientConnectCallback(a,n),s&&(n=st.context.bind(st.context.active(),n));}let o=st.context.with(st.trace.setSpan(st.context.active(),a),()=>r.call(this,n));return Hue(a,o)}}recordOperationDuration(e,r){let i={},n=[Ji.ATTR_DB_NAMESPACE,Ji.ATTR_ERROR_TYPE,Ji.ATTR_SERVER_PORT,Ji.ATTR_SERVER_ADDRESS,Ji.ATTR_DB_OPERATION_NAME];this._semconvStability&Kr.SemconvStability.OLD&&n.push(sS.ATTR_DB_SYSTEM),this._semconvStability&Kr.SemconvStability.STABLE&&n.push(Ji.ATTR_DB_SYSTEM_NAME),n.forEach(o=>{o in e&&(i[o]=e[o]);});let a=(0, rx.hrTimeToMilliseconds)((0, rx.hrTimeDuration)(r,(0, rx.hrTime)()))/1e3;this._operationDuration.record(a,i);}_getClientQueryPatch(){let e=this;return r=>(this._diag.debug("Patching pg.Client.prototype.query"),function(...n){if(Zt.shouldSkipInstrumentation(e.getConfig()))return r.apply(this,n);let a=(0, rx.hrTime)(),o=n[0],s=typeof o=="string",c=Zt.isObjectWithTextString(o),u=s?{text:o,values:Array.isArray(n[1])?n[1]:void 0}:c?o:void 0,l={[sS.ATTR_DB_SYSTEM]:sS.DB_SYSTEM_VALUE_POSTGRESQL,[Ji.ATTR_DB_NAMESPACE]:this.database,[Ji.ATTR_SERVER_PORT]:this.connectionParameters.port,[Ji.ATTR_SERVER_ADDRESS]:this.connectionParameters.host};u?.text&&(l[Ji.ATTR_DB_OPERATION_NAME]=Zt.parseNormalizedOperationName(u?.text));let d=()=>{e.recordOperationDuration(l,a);},p=e.getConfig(),f=Zt.handleConfigQuery.call(this,e.tracer,p,e._semconvStability,u);if(p.addSqlCommenterCommentToQueries&&(s?n[0]=(0, Vue.addSqlCommenterComment)(f,o):c&&!("name"in o)&&(n[0]={...o,text:(0, Vue.addSqlCommenterComment)(f,o.text)})),n.length>0){let v=st.trace.getSpan(st.context.active());if(typeof n[n.length-1]=="function")n[n.length-1]=Zt.patchCallback(p,f,n[n.length-1],l,d),v&&(n[n.length-1]=st.context.bind(st.context.active(),n[n.length-1]));else if(typeof u?.callback=="function"){let O=Zt.patchCallback(e.getConfig(),f,u.callback,l,d);v&&(O=st.context.bind(st.context.active(),O)),n[0].callback=O;}}let{requestHook:_}=p;typeof _=="function"&&u&&(0, Kr.safeExecuteInTheMiddle)(()=>{let{database:v,host:O,port:x,user:I}=this.connectionParameters;_(f,{connection:{database:v,host:O,port:x,user:I},query:{text:u.text,values:u.values,name:u.name}});},v=>{v&&e._diag.error("Error running query hook",v);},true);let y;try{y=r.apply(this,n);}catch(v){throw f.setStatus({code:st.SpanStatusCode.ERROR,message:Zt.getErrorMessage(v)}),f.end(),v}return y instanceof Promise?y.then(v=>new Promise(O=>{Zt.handleExecutionResult(e.getConfig(),f,v),d(),f.end(),O(v);})).catch(v=>new Promise((O,x)=>{f.setStatus({code:st.SpanStatusCode.ERROR,message:v.message}),d(),f.end(),x(v);})):y})}_setPoolConnectEventListeners(e){if(e[zue.EVENT_LISTENERS_SET])return;let r=Zt.getPoolName(e.options);e.on("connect",()=>{this._connectionsCounter=Zt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("acquire",()=>{this._connectionsCounter=Zt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("remove",()=>{this._connectionsCounter=Zt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e.on("release",()=>{this._connectionsCounter=Zt.updateCounter(r,e,this._connectionsCount,this._connectionPendingRequests,this._connectionsCounter);}),e[zue.EVENT_LISTENERS_SET]=true;}_getPoolConnectPatch(){let e=this;return r=>function(n){if(Zt.shouldSkipInstrumentation(e.getConfig()))return r.call(this,n);let a=e.tracer.startSpan(Fue.SpanNames.POOL_CONNECT,{kind:st.SpanKind.CLIENT,attributes:Zt.getSemanticAttributesFromPoolConnection(this.options,e._semconvStability)});if(e._setPoolConnectEventListeners(this),n){let s=st.trace.getSpan(st.context.active());n=Zt.patchCallbackPGPool(a,n),s&&(n=st.context.bind(st.context.active(),n));}let o=st.context.with(st.trace.setSpan(st.context.active(),a),()=>r.call(this,n));return Hue(a,o)}}};nx.PgInstrumentation=p$;function Hue(t,e){if(!(e instanceof Promise))return e;let r=e;return st.context.bind(st.context.active(),r.then(i=>(t.end(),i)).catch(i=>(t.setStatus({code:st.SpanStatusCode.ERROR,message:Zt.getErrorMessage(i)}),t.end(),Promise.reject(i))))}});var jue=T(lf=>{Object.defineProperty(lf,"__esModule",{value:true});lf.AttributeNames=lf.PgInstrumentation=void 0;var zqe=Gue();Object.defineProperty(lf,"PgInstrumentation",{enumerable:true,get:function(){return zqe.PgInstrumentation}});var Vqe=a$();Object.defineProperty(lf,"AttributeNames",{enumerable:true,get:function(){return Vqe.AttributeNames}});});var ix=T(df=>{Object.defineProperty(df,"__esModule",{value:true});df.PACKAGE_NAME=df.PACKAGE_VERSION=void 0;df.PACKAGE_VERSION="0.53.0";df.PACKAGE_NAME="@opentelemetry/instrumentation-redis";});var que=T(xc=>{Object.defineProperty(xc,"__esModule",{value:true});xc.getTracedCreateStreamTrace=xc.getTracedCreateClient=xc.endSpan=void 0;var aS=(P(),U(je)),Bqe=(t,e)=>{e&&t.setStatus({code:aS.SpanStatusCode.ERROR,message:e.message}),t.end();};xc.endSpan=Bqe;var Fqe=t=>function(){let r=t.apply(this,arguments);return aS.context.bind(aS.context.active(),r)};xc.getTracedCreateClient=Fqe;var Hqe=t=>function(){return Object.prototype.hasOwnProperty.call(this,"stream")||Object.defineProperty(this,"stream",{get(){return this._patched_redis_stream},set(r){aS.context.bind(aS.context.active(),r),this._patched_redis_stream=r;}}),t.apply(this,arguments)};xc.getTracedCreateStreamTrace=Hqe;});var f$=T(ox=>{Object.defineProperty(ox,"__esModule",{value:true});ox.defaultDbStatementSerializer=void 0;var Gqe=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],jqe=(t,e)=>{if(Array.isArray(e)&&e.length){let r=Gqe.find(({regex:n})=>n.test(t))?.args??0,i=r>=0?e.slice(0,r):e;return e.length>i.length&&i.push(`[${e.length-r} other arguments]`),`${t} ${i.join(" ")}`}return t};ox.defaultDbStatementSerializer=jqe;});var Kue=T(ax=>{Object.defineProperty(ax,"__esModule",{value:true});ax.RedisInstrumentationV2_V3=void 0;var Gn=(an(),U(sn)),sx=que(),Wue=ix(),cS=(P(),U(je)),Qi=(Ye(),U($r)),qqe=f$(),h$=class t extends Gn.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(e={}){super(Wue.PACKAGE_NAME,Wue.PACKAGE_VERSION,e),this._semconvStability=e.semconvStability?e.semconvStability:(0, Gn.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}setConfig(e={}){super.setConfig(e),this._semconvStability=e.semconvStability?e.semconvStability:(0, Gn.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}init(){return [new Gn.InstrumentationNodeModuleDefinition("redis",[">=2.6.0 <4"],e=>((0, Gn.isWrapped)(e.RedisClient.prototype.internal_send_command)&&this._unwrap(e.RedisClient.prototype,"internal_send_command"),this._wrap(e.RedisClient.prototype,"internal_send_command",this._getPatchInternalSendCommand()),(0, Gn.isWrapped)(e.RedisClient.prototype.create_stream)&&this._unwrap(e.RedisClient.prototype,"create_stream"),this._wrap(e.RedisClient.prototype,"create_stream",this._getPatchCreateStream()),(0, Gn.isWrapped)(e.createClient)&&this._unwrap(e,"createClient"),this._wrap(e,"createClient",this._getPatchCreateClient()),e),e=>{e!==void 0&&(this._unwrap(e.RedisClient.prototype,"internal_send_command"),this._unwrap(e.RedisClient.prototype,"create_stream"),this._unwrap(e,"createClient"));})]}_getPatchInternalSendCommand(){let e=this;return function(i){return function(a){if(arguments.length!==1||typeof a!="object")return i.apply(this,arguments);let o=e.getConfig(),s=cS.trace.getSpan(cS.context.active())===void 0;if(o.requireParentSpan===true&&s)return i.apply(this,arguments);let c=o?.dbStatementSerializer||qqe.defaultDbStatementSerializer,u={};e._semconvStability&Gn.SemconvStability.OLD&&Object.assign(u,{[Qi.SEMATTRS_DB_SYSTEM]:Qi.DBSYSTEMVALUES_REDIS,[Qi.SEMATTRS_DB_STATEMENT]:c(a.command,a.args)}),e._semconvStability&Gn.SemconvStability.STABLE&&Object.assign(u,{[Qi.ATTR_DB_SYSTEM_NAME]:"redis",[Qi.ATTR_DB_OPERATION_NAME]:a.command,[Qi.ATTR_DB_QUERY_TEXT]:c(a.command,a.args)});let l=e.tracer.startSpan(`${t.COMPONENT}-${a.command}`,{kind:cS.SpanKind.CLIENT,attributes:u});if(this.connection_options){let p={};e._semconvStability&Gn.SemconvStability.OLD&&Object.assign(p,{[Qi.SEMATTRS_NET_PEER_NAME]:this.connection_options.host,[Qi.SEMATTRS_NET_PEER_PORT]:this.connection_options.port}),e._semconvStability&Gn.SemconvStability.STABLE&&Object.assign(p,{[Qi.ATTR_SERVER_ADDRESS]:this.connection_options.host,[Qi.ATTR_SERVER_PORT]:this.connection_options.port}),l.setAttributes(p);}this.address&&e._semconvStability&Gn.SemconvStability.OLD&&l.setAttribute(Qi.SEMATTRS_DB_CONNECTION_STRING,`redis://${this.address}`);let d=arguments[0].callback;if(d){let p=cS.context.active();arguments[0].callback=function(_,y){if(o?.responseHook){let v=o.responseHook;(0, Gn.safeExecuteInTheMiddle)(()=>{v(l,a.command,a.args,y);},O=>{O&&e._diag.error("Error executing responseHook",O);},true);}return (0, sx.endSpan)(l,_),cS.context.with(p,d,this,...arguments)};}try{return i.apply(this,arguments)}catch(p){throw (0, sx.endSpan)(l,p),p}}}}_getPatchCreateClient(){return function(r){return (0, sx.getTracedCreateClient)(r)}}_getPatchCreateStream(){return function(r){return (0, sx.getTracedCreateStreamTrace)(r)}}};ax.RedisInstrumentationV2_V3=h$;});var Zue=T(cx=>{Object.defineProperty(cx,"__esModule",{value:true});cx.getClientAttributes=void 0;var Cc=(Ye(),U($r)),Yue=(an(),U(sn));function Wqe(t,e,r){let i={};return r&Yue.SemconvStability.OLD&&Object.assign(i,{[Cc.SEMATTRS_DB_SYSTEM]:Cc.DBSYSTEMVALUES_REDIS,[Cc.SEMATTRS_NET_PEER_NAME]:e?.socket?.host,[Cc.SEMATTRS_NET_PEER_PORT]:e?.socket?.port,[Cc.SEMATTRS_DB_CONNECTION_STRING]:Kqe(t,e?.url)}),r&Yue.SemconvStability.STABLE&&Object.assign(i,{[Cc.ATTR_DB_SYSTEM_NAME]:"redis",[Cc.ATTR_SERVER_ADDRESS]:e?.socket?.host,[Cc.ATTR_SERVER_PORT]:e?.socket?.port}),i}cx.getClientAttributes=Wqe;function Kqe(t,e){if(!(typeof e!="string"||!e))try{let r=new URL(e);return r.searchParams.delete("user_pwd"),r.username="",r.password="",r.href}catch(r){t.error("failed to sanitize redis connection url",r);}}});var ele=T(ux=>{Object.defineProperty(ux,"__esModule",{value:true});ux.RedisInstrumentationV4_V5=void 0;var Ei=(P(),U(je)),xt=(an(),U(sn)),Xue=Zue(),Yqe=f$(),Jue=ix(),m$=(Ye(),U($r)),uS=Symbol("opentelemetry.instrumentation.redis.open_spans"),Que=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),g$=class t extends xt.InstrumentationBase{static COMPONENT="redis";_semconvStability;constructor(e={}){super(Jue.PACKAGE_NAME,Jue.PACKAGE_VERSION,e),this._semconvStability=e.semconvStability?e.semconvStability:(0, xt.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}setConfig(e={}){super.setConfig(e),this._semconvStability=e.semconvStability?e.semconvStability:(0, xt.semconvStabilityFromStr)("database",process.env.OTEL_SEMCONV_STABILITY_OPT_IN);}init(){return [this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){let r=new xt.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],(a,o)=>{let s=a.transformCommandArguments;if(!s)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),a;let c=o?.startsWith("1.0.")?"extendWithCommands":"attachCommands";return (0, xt.isWrapped)(a?.[c])&&this._unwrap(a,c),this._wrap(a,c,this._getPatchExtendWithCommands(s)),a},a=>{(0, xt.isWrapped)(a?.extendWithCommands)&&this._unwrap(a,"extendWithCommands"),(0, xt.isWrapped)(a?.attachCommands)&&this._unwrap(a,"attachCommands");}),i=new xt.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0","^5.0.0"],a=>{let o=a?.default?.prototype;return (0, xt.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),this._wrap(o,"exec",this._getPatchMultiCommandsExec()),(0, xt.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand"),this._wrap(o,"addCommand",this._getPatchMultiCommandsAddCommand()),a},a=>{let o=a?.default?.prototype;(0, xt.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),(0, xt.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand");}),n=new xt.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0","^5.0.0"],a=>{let o=a?.default?.prototype;return o?.multi&&((0, xt.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),this._wrap(o,"multi",this._getPatchRedisClientMulti())),o?.MULTI&&((0, xt.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),this._wrap(o,"MULTI",this._getPatchRedisClientMulti())),(0, xt.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand"),this._wrap(o,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(o,"connect",this._getPatchedClientConnect()),a},a=>{let o=a?.default?.prototype;(0, xt.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),(0, xt.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),(0, xt.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand");});return new xt.InstrumentationNodeModuleDefinition(e,["^1.0.0","^5.0.0"],a=>a,()=>{},[r,i,n])}_getPatchExtendWithCommands(e){let r=this;return function(n){return function(o){if(o?.BaseClass?.name!=="RedisClient")return n.apply(this,arguments);let s=o.executor;return o.executor=function(c,u){let l=e(c,u).args;return r._traceClientCommand(s,this,arguments,l)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let e=this;return function(i){return function(){let a=i.apply(this,arguments);return typeof a?.then!="function"?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),a):a.then(o=>{let s=this[uS];return e._endSpansWithRedisReplies(s,o),o}).catch(o=>{let s=this[uS];if(!s)e._diag.error("cannot find open spans to end for redis multi command");else {let c=o.constructor.name==="MultiErrorReply"?o.replies:new Array(s.length).fill(o);e._endSpansWithRedisReplies(s,c);}return Promise.reject(o)})}}}_getPatchMultiCommandsAddCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchRedisClientMulti(){return function(r){return function(){let n=r.apply(this,arguments);return n[Que]=this.options,n}}}_getPatchRedisClientSendCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchedClientConnect(){let e=this;return function(i){return function(){let a=this.options,o=(0, Xue.getClientAttributes)(e._diag,a,e._semconvStability),s=e.tracer.startSpan(`${t.COMPONENT}-connect`,{kind:Ei.SpanKind.CLIENT,attributes:o});return Ei.context.with(Ei.trace.setSpan(Ei.context.active(),s),()=>i.apply(this)).then(u=>(s.end(),u)).catch(u=>(s.recordException(u),s.setStatus({code:Ei.SpanStatusCode.ERROR,message:u.message}),s.end(),Promise.reject(u)))}}}_traceClientCommand(e,r,i,n){if(Ei.trace.getSpan(Ei.context.active())===void 0&&this.getConfig().requireParentSpan)return e.apply(r,i);let o=r.options||r[Que],s=n[0],c=n.slice(1),u=this.getConfig().dbStatementSerializer||Yqe.defaultDbStatementSerializer,l=(0, Xue.getClientAttributes)(this._diag,o,this._semconvStability);this._semconvStability&xt.SemconvStability.STABLE&&(l[m$.ATTR_DB_OPERATION_NAME]=s);try{let f=u(s,c);f!=null&&(this._semconvStability&xt.SemconvStability.OLD&&(l[m$.SEMATTRS_DB_STATEMENT]=f),this._semconvStability&xt.SemconvStability.STABLE&&(l[m$.ATTR_DB_QUERY_TEXT]=f));}catch(f){this._diag.error("dbStatementSerializer throw an exception",f,{commandName:s});}let d=this.tracer.startSpan(`${t.COMPONENT}-${s}`,{kind:Ei.SpanKind.CLIENT,attributes:l}),p=Ei.context.with(Ei.trace.setSpan(Ei.context.active(),d),()=>e.apply(r,i));if(typeof p?.then=="function")p.then(f=>{this._endSpanWithResponse(d,s,c,f,void 0);},f=>{this._endSpanWithResponse(d,s,c,null,f);});else {let f=p;f[uS]=f[uS]||[],f[uS].push({span:d,commandName:s,commandArgs:c});}return p}_endSpansWithRedisReplies(e,r){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(r.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let i=0;i<e.length;i++){let{span:n,commandName:a,commandArgs:o}=e[i],s=r[i],[c,u]=s instanceof Error?[null,s]:[s,void 0];this._endSpanWithResponse(n,a,o,c,u);}}_endSpanWithResponse(e,r,i,n,a){let{responseHook:o}=this.getConfig();if(!a&&o)try{o(e,r,i,n);}catch(s){this._diag.error("responseHook throw an exception",s);}a&&(e.recordException(a),e.setStatus({code:Ei.SpanStatusCode.ERROR,message:a?.message})),e.end();}};ux.RedisInstrumentationV4_V5=g$;});var nle=T(lx=>{Object.defineProperty(lx,"__esModule",{value:true});lx.RedisInstrumentation=void 0;var Zqe=(an(),U(sn)),tle=ix(),Xqe=Kue(),Jqe=ele(),rle={requireParentSpan:false},_$=class extends Zqe.InstrumentationBase{instrumentationV2_V3;instrumentationV4_V5;initialized=false;constructor(e={}){let r={...rle,...e};super(tle.PACKAGE_NAME,tle.PACKAGE_VERSION,r),this.instrumentationV2_V3=new Xqe.RedisInstrumentationV2_V3(this.getConfig()),this.instrumentationV4_V5=new Jqe.RedisInstrumentationV4_V5(this.getConfig()),this.initialized=true;}setConfig(e={}){let r={...rle,...e};super.setConfig(r),this.initialized&&(this.instrumentationV2_V3.setConfig(r),this.instrumentationV4_V5.setConfig(r));}init(){}setTracerProvider(e){super.setTracerProvider(e),this.initialized&&(this.instrumentationV2_V3.setTracerProvider(e),this.instrumentationV4_V5.setTracerProvider(e));}enable(){super.enable(),this.initialized&&(this.instrumentationV2_V3.enable(),this.instrumentationV4_V5.enable());}disable(){super.disable(),this.initialized&&(this.instrumentationV2_V3.disable(),this.instrumentationV4_V5.disable());}};lx.RedisInstrumentation=_$;});var ile=T(dx=>{Object.defineProperty(dx,"__esModule",{value:true});dx.RedisInstrumentation=void 0;var Qqe=nle();Object.defineProperty(dx,"RedisInstrumentation",{enumerable:true,get:function(){return Qqe.RedisInstrumentation}});});var lS,ole,S$=g(()=>{lS=class{emit(e){}},ole=new lS;});var y$,px,E$=g(()=>{S$();y$=class{getLogger(e,r,i){return new lS}},px=new y$;});var fx,sle=g(()=>{S$();fx=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ole}};});var dS,ale=g(()=>{E$();sle();dS=class{getLogger(e,r,i){var n;return (n=this.getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new fx(this,e,r,i)}getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:px}setDelegate(e){this._delegate=e;}getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};});var hx,cle=g(()=>{hx=typeof globalThis=="object"?globalThis:global;});var ule=g(()=>{cle();});var lle=g(()=>{ule();});function dle(t,e,r){return i=>i===t?e:r}var pS,pf,T$,ple=g(()=>{lle();pS=Symbol.for("io.opentelemetry.js.api.logs"),pf=hx;T$=1;});var mx,fle=g(()=>{ple();E$();ale();mx=class t{constructor(){this._proxyLoggerProvider=new dS;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return pf[pS]?this.getLoggerProvider():(pf[pS]=dle(T$,e,px),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=pf[pS])===null||e===void 0?void 0:e.call(pf,T$))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete pf[pS],this._proxyLoggerProvider=new dS;}};});var gx,v$=g(()=>{fle();gx=mx.getInstance();});function hle(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}function mle(t){t.forEach(e=>e.disable());}var gle=g(()=>{});function _le(t){let e=t.tracerProvider||ce.getTracerProvider(),r=t.meterProvider||kt.getMeterProvider(),i=t.loggerProvider||gx.getLoggerProvider(),n=t.instrumentations?.flat()??[];return hle(n,e,r,i),()=>{mle(n);}}var Sle=g(()=>{P();v$();gle();});function Rle(t,e,r){if(!r4e(t))return E.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=s4e(t);if(!i)return  false;let n=[],a=Ale(i,e,n,r);return a&&!r?.includePrerelease?i4e(i,n):a}function r4e(t){return typeof t=="string"&&ble.test(t)}function Ale(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(b$(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=x4e(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!b$(t,a,r,i))return  false;return  true}return b$(t,e,r,i)}function b$(t,e,r,i){if(e=o4e(e,i),e.includes(" "))return Ale(t,e,r,i);{let n=a4e(e);return r.push(n),n4e(t,n)}}function n4e(t,e){if(e.invalid)return  false;if(!e.version||A$(e.version))return  true;let r=Ele(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=Ele(i,n);}return t4e[e.op]?.includes(r)}function i4e(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function o4e(t,e){return t=t.trim(),t=A4e(t,e),t=R4e(t),t=O4e(t,e),t=t.trim(),t}function Yr(t){return !t||t.toLowerCase()==="x"||t==="*"}function s4e(t){let e=t.match(ble);if(!e){E.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function a4e(t){if(!t)return {};let e=t.match(e4e);if(!e)return E.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function A$(t){return t==="*"||t==="x"||t==="X"}function yle(t){let e=parseInt(t,10);return isNaN(e)?t:e}function c4e(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function u4e(t,e){if(A$(t)||A$(e))return 0;let[r,i]=c4e(yle(t),yle(e));return r>i?1:r<i?-1:0}function Ele(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=u4e(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}function R4e(t){let e=E4e;return t.replace(e,(r,i,n,a,o)=>{let s;return Yr(i)?s="":Yr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:Yr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function A4e(t,e){let r=b4e,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let u;return Yr(a)?u="":Yr(o)?u=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Yr(s)?a==="0"?u=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?u=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?u=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,u})}function O4e(t,e){let r=m4e;return t.replace(r,(i,n,a,o,s,c)=>{let u=Yr(a),l=u||Yr(o),d=l||Yr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",u?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(l&&(o=0),s=0,n===">"?(n=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",l?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):l?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function x4e(t,e){let r=_4e;return t.replace(r,(i,n,a,o,s,c,u,l,d,p,f,_)=>(Yr(a)?n="":Yr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:Yr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,Yr(d)?l="":Yr(p)?l=`<${+d+1}.0.0-0`:Yr(f)?l=`<${d}.${+p+1}.0-0`:_?l=`<=${d}.${p}.${f}-${_}`:e?.includePrerelease?l=`<${d}.${p}.${+f+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()))}var ble,e4e,t4e,Ole,xle,l4e,d4e,Tle,p4e,vle,f4e,R$,fS,h4e,m4e,g4e,_4e,S4e,y4e,E4e,T4e,v4e,b4e,Cle=g(()=>{P();ble=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,e4e=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,t4e={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};Ole="[a-zA-Z0-9-]",xle="0|[1-9]\\d*",l4e=`\\d*[a-zA-Z-]${Ole}*`,d4e="((?:<|>)?=?)",Tle=`(?:${xle}|${l4e})`,p4e=`(?:-(${Tle}(?:\\.${Tle})*))`,vle=`${Ole}+`,f4e=`(?:\\+(${vle}(?:\\.${vle})*))`,R$=`${xle}|x|X|\\*`,fS=`[v=\\s]*(${R$})(?:\\.(${R$})(?:\\.(${R$})(?:${p4e})?${f4e}?)?)?`,h4e=`^${d4e}\\s*${fS}$`,m4e=new RegExp(h4e),g4e=`^\\s*(${fS})\\s+-\\s+(${fS})\\s*$`,_4e=new RegExp(g4e),S4e="(?:~>?)",y4e=`^${S4e}${fS}$`,E4e=new RegExp(y4e),T4e="(?:\\^)",v4e=`^${T4e}${fS}$`,b4e=new RegExp(v4e);});function hS(t,e,r){let i=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}var Zr,pl,O$,ff,x$,C$=g(()=>{Zr=console.error.bind(console);pl=(t,e,r)=>{if(!t||!t[e]){Zr("no original function "+String(e)+" to wrap");return}if(!r){Zr("no wrapper function"),Zr(new Error().stack);return}let i=t[e];if(typeof i!="function"||typeof r!="function"){Zr("original object and wrapper must be functions");return}let n=r(i,e);return hS(n,"__original",i),hS(n,"__unwrap",()=>{t[e]===n&&hS(t,e,i);}),hS(n,"__wrapped",true),hS(t,e,n),n},O$=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else {Zr("must provide one or more modules to patch"),Zr(new Error().stack);return}if(!(e&&Array.isArray(e))){Zr("must provide one or more functions to wrap on modules");return}t.forEach(i=>{e.forEach(n=>{pl(i,n,r);});});},ff=(t,e)=>{if(!t||!t[e]){Zr("no function to unwrap."),Zr(new Error().stack);return}let r=t[e];if(!r.__unwrap)Zr("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else {r.__unwrap();return}},x$=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else {Zr("must provide one or more modules to patch"),Zr(new Error().stack);return}if(!(e&&Array.isArray(e))){Zr("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(i=>{ff(r,i);});});};});var _x,Nle=g(()=>{P();v$();C$();_x=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=E.createComponentLogger({namespace:e}),this._tracer=ce.getTracer(e,r),this._meter=kt.getMeter(e,r),this._logger=gx.getLogger(e,r),this._updateMetricInstruments();}_wrap=pl;_unwrap=ff;_massWrap=O$;_massUnwrap=x$;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};});var Sx,yx,Ple=g(()=>{Sx=class{hooks=[];children=new Map},yx=class{_trie=new Sx;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new Sx,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};});function P4e(t){return tl__namespace.sep!=="/"?t.split(tl__namespace.sep).join("/"):t}var wle,N4e,Ex,Mle=g(()=>{wle=Qe(Ms());Ple();N4e=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),Ex=class t{_moduleNameTrie=new yx;static _instance;constructor(){this._initialize();}_initialize(){new wle.Hook(null,{internals:true},(e,r,i)=>{let n=P4e(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return N4e?new t:this._instance=this._instance??new t}};});function Lle(t,e,r){let i,n;try{n=t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}async function Dle(t,e,r){let i,n;try{n=await t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}function Tx(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var P$=g(()=>{});function Ule(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>Rle(e,i,{includePrerelease:r}))}var $le,zle,hf,Vle=g(()=>{Cle();C$();Nle();Mle();$le=Qe(Fm());P();zle=Qe(Ms());P$();hf=class extends _x{_modules;_hooks=[];_requireInTheMiddleSingleton=Ex.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(Tx(e[r])&&this._unwrap(e,r),jZ.types.isProxy(e)){let n=pl(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return pl(e,r,i)};_unwrap=(e,r)=>jZ.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):ff(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=L.resolve(r);L.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=Zs.readFileSync(tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{E.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return Ule(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=tl__namespace.normalize(i);return o.filter(u=>u.name===s).filter(u=>Ule(u.supportedVersions,a,e.includePrerelease)).reduce((u,l)=>(l.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:l.name,baseDir:n}),l.patch(u,e.moduleVersion)):u),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&tl__namespace.isAbsolute(s)){let u=tl__namespace.parse(s);s=u.name,c=u.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=tl__namespace.isAbsolute(e.name)?new zle.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new $le.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};});var Ble=g(()=>{});var Fle=g(()=>{Vle();Ble();});var I$=g(()=>{Fle();});var bx,Hle=g(()=>{bx=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};});var Rx,Gle=g(()=>{I$();Rx=class{supportedVersions;patch;unpatch;name;constructor(e,r,i,n){this.supportedVersions=r,this.patch=i,this.unpatch=n,this.name=tl.normalize(e);}};});function jle(t,e){let r=fl.OLD,i=e?.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of i??[])if(n.toLowerCase()===t+"/dup"){r=fl.DUPLICATE;break}else n.toLowerCase()===t&&(r=fl.STABLE);return r}var fl,qle=g(()=>{(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE";})(fl||(fl={}));});var Wle={};Pe(Wle,{InstrumentationBase:()=>hf,InstrumentationNodeModuleDefinition:()=>bx,InstrumentationNodeModuleFile:()=>Rx,SemconvStability:()=>fl,isWrapped:()=>Tx,registerInstrumentations:()=>_le,safeExecuteInTheMiddle:()=>Lle,safeExecuteInTheMiddleAsync:()=>Dle,semconvStabilityFromStr:()=>jle});var Kle=g(()=>{Sle();I$();Hle();Gle();P$();qle();});var Yle=T(Ax=>{Object.defineProperty(Ax,"__esModule",{value:true});Ax.getClientAttributes=void 0;var gS=(Ye(),U($r));function w4e(t,e){return {[gS.SEMATTRS_DB_SYSTEM]:gS.DBSYSTEMVALUES_REDIS,[gS.SEMATTRS_NET_PEER_NAME]:e?.socket?.host,[gS.SEMATTRS_NET_PEER_PORT]:e?.socket?.port,[gS.SEMATTRS_DB_CONNECTION_STRING]:M4e(t,e?.url)}}Ax.getClientAttributes=w4e;function M4e(t,e){if(!(typeof e!="string"||!e))try{let r=new URL(e);return r.searchParams.delete("user_pwd"),r.username="",r.password="",r.href}catch(r){t.error("failed to sanitize redis connection url",r);}}});var Zle=T(Ox=>{Object.defineProperty(Ox,"__esModule",{value:true});Ox.defaultDbStatementSerializer=void 0;var L4e=[{regex:/^ECHO/i,args:0},{regex:/^(LPUSH|MSET|PFA|PUBLISH|RPUSH|SADD|SET|SPUBLISH|XADD|ZADD)/i,args:1},{regex:/^(HSET|HMSET|LSET|LINSERT)/i,args:2},{regex:/^(ACL|BIT|B[LRZ]|CLIENT|CLUSTER|CONFIG|COMMAND|DECR|DEL|EVAL|EX|FUNCTION|GEO|GET|HINCR|HMGET|HSCAN|INCR|L[TRLM]|MEMORY|P[EFISTU]|RPOP|S[CDIMORSU]|XACK|X[CDGILPRT]|Z[CDILMPRS])/i,args:-1}],D4e=(t,e)=>{if(Array.isArray(e)&&e.length){let r=L4e.find(({regex:n})=>n.test(t))?.args??0,i=r>=0?e.slice(0,r):e;return e.length>i.length&&i.push(`[${e.length-r} other arguments]`),`${t} ${i.join(" ")}`}return t};Ox.defaultDbStatementSerializer=D4e;});var Xle=T(mf=>{Object.defineProperty(mf,"__esModule",{value:true});mf.PACKAGE_NAME=mf.PACKAGE_VERSION=void 0;mf.PACKAGE_VERSION="0.49.0";mf.PACKAGE_NAME="@opentelemetry/instrumentation-redis-4";});var rde=T(xx=>{Object.defineProperty(xx,"__esModule",{value:true});xx.RedisInstrumentation=void 0;var Ti=(P(),U(je)),mr=(Kle(),U(Wle)),Jle=Yle(),k4e=Zle(),Qle=Xle(),U4e=(Ye(),U($r)),_S=Symbol("opentelemetry.instrumentation.redis.open_spans"),ede=Symbol("opentelemetry.instrumentation.redis.multi_command_options"),tde={requireParentSpan:false},w$=class t extends mr.InstrumentationBase{static COMPONENT="redis";constructor(e={}){super(Qle.PACKAGE_NAME,Qle.PACKAGE_VERSION,{...tde,...e});}setConfig(e={}){super.setConfig({...tde,...e});}init(){return [this._getInstrumentationNodeModuleDefinition("@redis/client"),this._getInstrumentationNodeModuleDefinition("@node-redis/client")]}_getInstrumentationNodeModuleDefinition(e){let r=new mr.InstrumentationNodeModuleFile(`${e}/dist/lib/commander.js`,["^1.0.0"],(a,o)=>{let s=a.transformCommandArguments;if(!s)return this._diag.error("internal instrumentation error, missing transformCommandArguments function"),a;let c=o?.startsWith("1.0.")?"extendWithCommands":"attachCommands";return (0, mr.isWrapped)(a?.[c])&&this._unwrap(a,c),this._wrap(a,c,this._getPatchExtendWithCommands(s)),a},a=>{(0, mr.isWrapped)(a?.extendWithCommands)&&this._unwrap(a,"extendWithCommands"),(0, mr.isWrapped)(a?.attachCommands)&&this._unwrap(a,"attachCommands");}),i=new mr.InstrumentationNodeModuleFile(`${e}/dist/lib/client/multi-command.js`,["^1.0.0"],a=>{let o=a?.default?.prototype;return (0, mr.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),this._wrap(o,"exec",this._getPatchMultiCommandsExec()),(0, mr.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand"),this._wrap(o,"addCommand",this._getPatchMultiCommandsAddCommand()),a},a=>{let o=a?.default?.prototype;(0, mr.isWrapped)(o?.exec)&&this._unwrap(o,"exec"),(0, mr.isWrapped)(o?.addCommand)&&this._unwrap(o,"addCommand");}),n=new mr.InstrumentationNodeModuleFile(`${e}/dist/lib/client/index.js`,["^1.0.0"],a=>{let o=a?.default?.prototype;return o?.multi&&((0, mr.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),this._wrap(o,"multi",this._getPatchRedisClientMulti())),o?.MULTI&&((0, mr.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),this._wrap(o,"MULTI",this._getPatchRedisClientMulti())),(0, mr.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand"),this._wrap(o,"sendCommand",this._getPatchRedisClientSendCommand()),this._wrap(o,"connect",this._getPatchedClientConnect()),a},a=>{let o=a?.default?.prototype;(0, mr.isWrapped)(o?.multi)&&this._unwrap(o,"multi"),(0, mr.isWrapped)(o?.MULTI)&&this._unwrap(o,"MULTI"),(0, mr.isWrapped)(o?.sendCommand)&&this._unwrap(o,"sendCommand");});return new mr.InstrumentationNodeModuleDefinition(e,["^1.0.0"],a=>a,()=>{},[r,i,n])}_getPatchExtendWithCommands(e){let r=this;return function(n){return function(o){if(o?.BaseClass?.name!=="RedisClient")return n.apply(this,arguments);let s=o.executor;return o.executor=function(c,u){let l=e(c,u).args;return r._traceClientCommand(s,this,arguments,l)},n.apply(this,arguments)}}}_getPatchMultiCommandsExec(){let e=this;return function(i){return function(){let a=i.apply(this,arguments);return typeof a?.then!="function"?(e._diag.error("got non promise result when patching RedisClientMultiCommand.exec"),a):a.then(o=>{let s=this[_S];return e._endSpansWithRedisReplies(s,o),o}).catch(o=>{let s=this[_S];if(!s)e._diag.error("cannot find open spans to end for redis multi command");else {let c=o.constructor.name==="MultiErrorReply"?o.replies:new Array(s.length).fill(o);e._endSpansWithRedisReplies(s,c);}return Promise.reject(o)})}}}_getPatchMultiCommandsAddCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchRedisClientMulti(){return function(r){return function(){let n=r.apply(this,arguments);return n[ede]=this.options,n}}}_getPatchRedisClientSendCommand(){let e=this;return function(i){return function(a){return e._traceClientCommand(i,this,arguments,a)}}}_getPatchedClientConnect(){let e=this;return function(i){return function(){let a=this.options,o=(0, Jle.getClientAttributes)(e._diag,a),s=e.tracer.startSpan(`${t.COMPONENT}-connect`,{kind:Ti.SpanKind.CLIENT,attributes:o});return Ti.context.with(Ti.trace.setSpan(Ti.context.active(),s),()=>i.apply(this)).then(u=>(s.end(),u)).catch(u=>(s.recordException(u),s.setStatus({code:Ti.SpanStatusCode.ERROR,message:u.message}),s.end(),Promise.reject(u)))}}}_traceClientCommand(e,r,i,n){if(Ti.trace.getSpan(Ti.context.active())===void 0&&this.getConfig().requireParentSpan)return e.apply(r,i);let o=r.options||r[ede],s=n[0],c=n.slice(1),u=this.getConfig().dbStatementSerializer||k4e.defaultDbStatementSerializer,l=(0, Jle.getClientAttributes)(this._diag,o);try{let f=u(s,c);f!=null&&(l[U4e.SEMATTRS_DB_STATEMENT]=f);}catch(f){this._diag.error("dbStatementSerializer throw an exception",f,{commandName:s});}let d=this.tracer.startSpan(`${t.COMPONENT}-${s}`,{kind:Ti.SpanKind.CLIENT,attributes:l}),p=Ti.context.with(Ti.trace.setSpan(Ti.context.active(),d),()=>e.apply(r,i));if(typeof p?.then=="function")p.then(f=>{this._endSpanWithResponse(d,s,c,f,void 0);},f=>{this._endSpanWithResponse(d,s,c,null,f);});else {let f=p;f[_S]=f[_S]||[],f[_S].push({span:d,commandName:s,commandArgs:c});}return p}_endSpansWithRedisReplies(e,r){if(!e)return this._diag.error("cannot find open spans to end for redis multi command");if(r.length!==e.length)return this._diag.error("number of multi command spans does not match response from redis");for(let i=0;i<e.length;i++){let{span:n,commandName:a,commandArgs:o}=e[i],s=r[i],[c,u]=s instanceof Error?[null,s]:[s,void 0];this._endSpanWithResponse(n,a,o,c,u);}}_endSpanWithResponse(e,r,i,n,a){let{responseHook:o}=this.getConfig();if(!a&&o)try{o(e,r,i,n);}catch(s){this._diag.error("responseHook throw an exception",s);}a&&(e.recordException(a),e.setStatus({code:Ti.SpanStatusCode.ERROR,message:a?.message})),e.end();}};xx.RedisInstrumentation=w$;});var nde=T(Cx=>{Object.defineProperty(Cx,"__esModule",{value:true});Cx.RedisInstrumentation=void 0;var $4e=rde();Object.defineProperty(Cx,"RedisInstrumentation",{enumerable:true,get:function(){return $4e.RedisInstrumentation}});});var M$=T(gf=>{Object.defineProperty(gf,"__esModule",{value:true});gf.PACKAGE_NAME=gf.PACKAGE_VERSION=void 0;gf.PACKAGE_VERSION="0.50.0";gf.PACKAGE_NAME="@opentelemetry/instrumentation-bunyan";});var k$=T(Mx=>{Object.defineProperty(Mx,"__esModule",{value:true});Mx.OpenTelemetryBunyanStream=void 0;var _t=(ei(),U(gu)),dde=M$(),z4e=dde.PACKAGE_NAME,V4e=dde.PACKAGE_VERSION,pde=10,fde=20,hde=30,mde=40,gde=50,_de=60,lde={trace:pde,debug:fde,info:hde,warn:mde,error:gde,fatal:_de},Sde={};Object.keys(lde).forEach(function(t){Sde[lde[t]]=t;});var B4e={[pde]:_t.SeverityNumber.TRACE,[fde]:_t.SeverityNumber.DEBUG,[hde]:_t.SeverityNumber.INFO,[mde]:_t.SeverityNumber.WARN,[gde]:_t.SeverityNumber.ERROR,[_de]:_t.SeverityNumber.FATAL},L$=[_t.SeverityNumber.TRACE2,_t.SeverityNumber.TRACE3,_t.SeverityNumber.TRACE4,_t.SeverityNumber.DEBUG2,_t.SeverityNumber.DEBUG3,_t.SeverityNumber.DEBUG4,_t.SeverityNumber.INFO2,_t.SeverityNumber.INFO3,_t.SeverityNumber.INFO4,_t.SeverityNumber.WARN2,_t.SeverityNumber.WARN3,_t.SeverityNumber.WARN4,_t.SeverityNumber.ERROR2,_t.SeverityNumber.ERROR3,_t.SeverityNumber.ERROR4,_t.SeverityNumber.FATAL2,_t.SeverityNumber.FATAL3,_t.SeverityNumber.FATAL4];function F4e(t){let e=B4e[t];if(e!==void 0)return e;let r=(t-10)/60,i=Math.floor(r*L$.length),n=Math.min(L$.length-1,Math.max(0,i));return L$[n]}var D$=class{_otelLogger;constructor(){this._otelLogger=_t.logs.getLogger(z4e,V4e);}write(e){let{time:r,level:i,msg:n,v:a,hostname:o,pid:s,trace_id:c,span_id:u,trace_flags:l,...d}=e,p;typeof r.getTime=="function"?p=r.getTime():d.time=r;let f={timestamp:p,observedTimestamp:p,severityNumber:F4e(i),severityText:Sde[i],body:n,attributes:d};this._otelLogger.emit(f);}};Mx.OpenTelemetryBunyanStream=D$;});var Tde=T(Lx=>{Object.defineProperty(Lx,"__esModule",{value:true});Lx.BunyanInstrumentation=void 0;var H4e=L("util"),U$=(P(),U(je)),$$=(an(),U(sn)),yde=M$(),G4e=k$(),_f=(ei(),U(gu)),Ede={disableLogSending:false,disableLogCorrelation:false},z$=class extends $$.InstrumentationBase{constructor(e={}){super(yde.PACKAGE_NAME,yde.PACKAGE_VERSION,{...Ede,...e});}init(){return [new $$.InstrumentationNodeModuleDefinition("bunyan",[">=1.0.0 <2"],e=>{let r=this,i=e[Symbol.toStringTag]==="Module"?e.default:e;this._wrap(i.prototype,"_emit",this._getPatchedEmit());function n(...o){let s,c;return this instanceof n?(s=this,i.apply(this,o)):(s=i(...o),c=s),o[1]===void 0&&r._addStream(s),c}(0, H4e.inherits)(n,i);let a=Object.assign(n,i);return this._wrap(a,"createLogger",this._getPatchedCreateLogger()),a})]}setConfig(e={}){super.setConfig({...Ede,...e});}_getPatchedEmit(){return e=>{let r=this;return function(...n){let a=r.getConfig();if(!r.isEnabled()||a.disableLogCorrelation)return e.apply(this,n);let o=U$.trace.getSpan(U$.context.active());if(!o)return e.apply(this,n);let s=o.spanContext();if(!(0, U$.isSpanContextValid)(s))return e.apply(this,n);let c=n[0];return c.trace_id=s.traceId,c.span_id=s.spanId,c.trace_flags=`0${s.traceFlags.toString(16)}`,r._callHook(o,c),e.apply(this,n)}}}_getPatchedCreateLogger(){return e=>{let r=this;return function(...n){let a=e(...n);return r._addStream(a),a}}}_addStream(e){let r=this.getConfig();if(!this.isEnabled()||r.disableLogSending)return;this._diag.debug("Adding OpenTelemetryBunyanStream to logger");let i=e.level();r.logSeverity&&(i=j4e(r.logSeverity)||i),e.addStream({type:"raw",stream:new G4e.OpenTelemetryBunyanStream,level:i});}_callHook(e,r){let{logHook:i}=this.getConfig();typeof i=="function"&&(0, $$.safeExecuteInTheMiddle)(()=>i(e,r),n=>{n&&this._diag.error("error calling logHook",n);},true);}};Lx.BunyanInstrumentation=z$;function j4e(t){if(t>=_f.SeverityNumber.FATAL)return "fatal";if(t>=_f.SeverityNumber.ERROR)return "error";if(t>=_f.SeverityNumber.WARN)return "warn";if(t>=_f.SeverityNumber.INFO)return "info";if(t>=_f.SeverityNumber.DEBUG)return "debug";if(t>=_f.SeverityNumber.TRACE)return "trace"}});var vde=T(Sf=>{Object.defineProperty(Sf,"__esModule",{value:true});Sf.OpenTelemetryBunyanStream=Sf.BunyanInstrumentation=void 0;var q4e=Tde();Object.defineProperty(Sf,"BunyanInstrumentation",{enumerable:true,get:function(){return q4e.BunyanInstrumentation}});var W4e=k$();Object.defineProperty(Sf,"OpenTelemetryBunyanStream",{enumerable:true,get:function(){return W4e.OpenTelemetryBunyanStream}});});var bde=T(yf=>{Object.defineProperty(yf,"__esModule",{value:true});yf.PACKAGE_NAME=yf.PACKAGE_VERSION=void 0;yf.PACKAGE_VERSION="0.49.0";yf.PACKAGE_NAME="@opentelemetry/instrumentation-winston";});var Ade=T((kwt,Rde)=>{Rde.exports=L("util").deprecate;});var V$=T((Uwt,Ode)=>{Ode.exports=L("stream");});var F$=T(($wt,Cde)=>{function K4e(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=true,process.nextTick(B$,this,t)):process.nextTick(B$,this,t)),this):(this._readableState&&(this._readableState.destroyed=true),this._writableState&&(this._writableState.destroyed=true),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(Dx,r):(r._writableState.errorEmitted=true,process.nextTick(xde,r,a)):process.nextTick(xde,r,a):e?(process.nextTick(Dx,r),e(a)):process.nextTick(Dx,r);}),this)}function xde(t,e){B$(t,e),Dx(t);}function Dx(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close");}function Y4e(){this._readableState&&(this._readableState.destroyed=false,this._readableState.reading=false,this._readableState.ended=false,this._readableState.endEmitted=false),this._writableState&&(this._writableState.destroyed=false,this._writableState.ended=false,this._writableState.ending=false,this._writableState.finalCalled=false,this._writableState.prefinished=false,this._writableState.finished=false,this._writableState.errorEmitted=false);}function B$(t,e){t.emit("error",e);}function Z4e(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e);}Cde.exports={destroy:K4e,undestroy:Y4e,errorOrDestroy:Z4e};});var Ef=T((zwt,Ide)=>{var Pde={};function vi(t,e,r){r||(r=Error);function i(a,o,s){return typeof e=="string"?e:e(a,o,s)}class n extends r{constructor(o,s,c){super(i(o,s,c));}}n.prototype.name=r.name,n.prototype.code=t,Pde[t]=n;}function Nde(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return `of ${e} ${String(t)}`}function X4e(t,e,r){return t.substr(0,e.length)===e}function J4e(t,e,r){return (r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Q4e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?false:t.indexOf(e,r)!==-1}vi("ERR_INVALID_OPT_VALUE",function(t,e){return 'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);vi("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&X4e(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(J4e(t," argument"))n=`The ${t} ${i} ${Nde(e,"type")}`;else {let a=Q4e(t,".")?"property":"argument";n=`The "${t}" ${a} ${i} ${Nde(e,"type")}`;}return n+=`. Received type ${typeof r}`,n},TypeError);vi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");vi("ERR_METHOD_NOT_IMPLEMENTED",function(t){return "The "+t+" method is not implemented"});vi("ERR_STREAM_PREMATURE_CLOSE","Premature close");vi("ERR_STREAM_DESTROYED",function(t){return "Cannot call "+t+" after a stream was destroyed"});vi("ERR_MULTIPLE_CALLBACK","Callback called multiple times");vi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");vi("ERR_STREAM_WRITE_AFTER_END","write after end");vi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);vi("ERR_UNKNOWN_ENCODING",function(t){return "Unknown encoding: "+t},TypeError);vi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ide.exports.codes=Pde;});var H$=T((Vwt,wde)=>{var e6e=Ef().codes.ERR_INVALID_OPT_VALUE;function t6e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function r6e(t,e,r,i){var n=t6e(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=i?r:"highWaterMark";throw new e6e(a,n)}return Math.floor(n)}return t.objectMode?16:16*1024}wde.exports={getHighWaterMark:r6e};});var Mde=T((Bwt,G$)=>{typeof Object.create=="function"?G$.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}}));}:G$.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e;}};});var kx=T((Fwt,q$)=>{try{if(j$=L("util"),typeof j$.inherits!="function")throw "";q$.exports=j$.inherits;}catch{q$.exports=Mde();}var j$;});var zde=T((Hwt,$de)=>{function Lde(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i);}return r}function Dde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lde(Object(r),true).forEach(function(i){n6e(t,i,r[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lde(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i));});}return t}function n6e(t,e,r){return e=Ude(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function i6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kde(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false,i.configurable=true,"value"in i&&(i.writable=true),Object.defineProperty(t,Ude(i.key),i);}}function o6e(t,e,r){return e&&kde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:false}),t}function Ude(t){var e=s6e(t,"string");return typeof e=="symbol"?e:String(e)}function s6e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (String)(t)}var a6e=L("buffer"),Ux=a6e.Buffer,c6e=L("util"),W$=c6e.inspect,u6e=W$&&W$.custom||"inspect";function l6e(t,e,r){Ux.prototype.copy.call(t,e,r);}$de.exports=(function(){function t(){i6e(this,t),this.head=null,this.tail=null,this.length=0;}return o6e(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length;}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length;}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0;}},{key:"join",value:function(r){if(this.length===0)return "";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Ux.alloc(0);for(var i=Ux.allocUnsafe(r>>>0),n=this.head,a=0;n;)l6e(n.data,i,a),a+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,a=i.data;for(r-=a.length;i=i.next;){var o=i.data,s=r>o.length?o.length:r;if(s===o.length?a+=o:a+=o.slice(0,r),r-=s,r===0){s===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(s));break}++n;}return this.length-=n,a}},{key:"_getBuffer",value:function(r){var i=Ux.allocUnsafe(r),n=this.head,a=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,s=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,s),r-=s,r===0){s===o.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(s));break}++a;}return this.length-=a,i}},{key:u6e,value:function(r,i){return W$(this,Dde(Dde({},i),{},{depth:0,customInspect:false}))}}]),t})();});var Fde=T((K$,Bde)=>{var $x=L("buffer"),Xo=$x.Buffer;function Vde(t,e){for(var r in t)e[r]=t[r];}Xo.from&&Xo.alloc&&Xo.allocUnsafe&&Xo.allocUnsafeSlow?Bde.exports=$x:(Vde($x,K$),K$.Buffer=hl);function hl(t,e,r){return Xo(t,e,r)}hl.prototype=Object.create(Xo.prototype);Vde(Xo,hl);hl.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Xo(t,e,r)};hl.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Xo(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};hl.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xo(t)};hl.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return $x.SlowBuffer(t)};});var X$=T(Gde=>{var Z$=Fde().Buffer,Hde=Z$.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return  true;default:return  false}};function d6e(t){if(!t)return "utf8";for(var e;;)switch(t){case "utf8":case "utf-8":return "utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return "utf16le";case "latin1":case "binary":return "latin1";case "base64":case "ascii":case "hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=true;}}function p6e(t){var e=d6e(t);if(typeof e!="string"&&(Z$.isEncoding===Hde||!Hde(t)))throw new Error("Unknown encoding: "+t);return e||t}Gde.StringDecoder=SS;function SS(t){this.encoding=p6e(t);var e;switch(this.encoding){case "utf16le":this.text=S6e,this.end=y6e,e=4;break;case "utf8":this.fillLast=m6e,e=4;break;case "base64":this.text=E6e,this.end=T6e,e=3;break;default:this.write=v6e,this.end=b6e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Z$.allocUnsafe(e);}SS.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};SS.prototype.end=_6e;SS.prototype.text=g6e;SS.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};function Y$(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function f6e(t,e,r){var i=e.length-1;if(i<r)return 0;var n=Y$(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=Y$(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=Y$(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function h6e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function m6e(t){var e=this.lastTotal-this.lastNeed,r=h6e(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length;}function g6e(t,e){var r=f6e(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function _6e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function S6e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function y6e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function E6e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function T6e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function v6e(t){return t.toString(this.encoding)}function b6e(t){return t&&t.length?this.write(t):""}});var Kde=T((jwt,Wde)=>{var jde=Ef().codes.ERR_STREAM_PREMATURE_CLOSE;function R6e(t){var e=false;return function(){if(!e){e=true;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i);}}}function A6e(){}function O6e(t){return t.setHeader&&typeof t.abort=="function"}function qde(t,e,r){if(typeof e=="function")return qde(t,null,e);e||(e={}),r=R6e(r||A6e);var i=e.readable||e.readable!==false&&t.readable,n=e.writable||e.writable!==false&&t.writable,a=function(){t.writable||s();},o=t._writableState&&t._writableState.finished,s=function(){n=false,o=true,i||r.call(t);},c=t._readableState&&t._readableState.endEmitted,u=function(){i=false,c=true,n||r.call(t);},l=function(_){r.call(t,_);},d=function(){var _;if(i&&!c)return (!t._readableState||!t._readableState.ended)&&(_=new jde),r.call(t,_);if(n&&!o)return (!t._writableState||!t._writableState.ended)&&(_=new jde),r.call(t,_)},p=function(){t.req.on("finish",s);};return O6e(t)?(t.on("complete",s),t.on("abort",d),t.req?p():t.on("request",p)):n&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",u),t.on("finish",s),e.error!==false&&t.on("error",l),t.on("close",d),function(){t.removeListener("complete",s),t.removeListener("abort",d),t.removeListener("request",p),t.req&&t.req.removeListener("finish",s),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",s),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",d);}}Wde.exports=qde;});var Zde=T((qwt,Yde)=>{var zx;function Nc(t,e,r){return e=x6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function x6e(t){var e=C6e(t,"string");return typeof e=="symbol"?e:String(e)}function C6e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var N6e=Kde(),Pc=Symbol("lastResolve"),ml=Symbol("lastReject"),yS=Symbol("error"),Vx=Symbol("ended"),gl=Symbol("lastPromise"),J$=Symbol("handlePromise"),_l=Symbol("stream");function Ic(t,e){return {value:t,done:e}}function P6e(t){var e=t[Pc];if(e!==null){var r=t[_l].read();r!==null&&(t[gl]=null,t[Pc]=null,t[ml]=null,e(Ic(r,false)));}}function I6e(t){process.nextTick(P6e,t);}function w6e(t,e){return function(r,i){t.then(function(){if(e[Vx]){r(Ic(void 0,true));return}e[J$](r,i);},i);}}var M6e=Object.getPrototypeOf(function(){}),L6e=Object.setPrototypeOf((zx={get stream(){return this[_l]},next:function(){var e=this,r=this[yS];if(r!==null)return Promise.reject(r);if(this[Vx])return Promise.resolve(Ic(void 0,true));if(this[_l].destroyed)return new Promise(function(o,s){process.nextTick(function(){e[yS]?s(e[yS]):o(Ic(void 0,true));});});var i=this[gl],n;if(i)n=new Promise(w6e(i,this));else {var a=this[_l].read();if(a!==null)return Promise.resolve(Ic(a,false));n=new Promise(this[J$]);}return this[gl]=n,n}},Nc(zx,Symbol.asyncIterator,function(){return this}),Nc(zx,"return",function(){var e=this;return new Promise(function(r,i){e[_l].destroy(null,function(n){if(n){i(n);return}r(Ic(void 0,true));});})}),zx),M6e),D6e=function(e){var r,i=Object.create(L6e,(r={},Nc(r,_l,{value:e,writable:true}),Nc(r,Pc,{value:null,writable:true}),Nc(r,ml,{value:null,writable:true}),Nc(r,yS,{value:null,writable:true}),Nc(r,Vx,{value:e._readableState.endEmitted,writable:true}),Nc(r,J$,{value:function(a,o){var s=i[_l].read();s?(i[gl]=null,i[Pc]=null,i[ml]=null,a(Ic(s,false))):(i[Pc]=a,i[ml]=o);},writable:true}),r));return i[gl]=null,N6e(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[ml];a!==null&&(i[gl]=null,i[Pc]=null,i[ml]=null,a(n)),i[yS]=n;return}var o=i[Pc];o!==null&&(i[gl]=null,i[Pc]=null,i[ml]=null,o(Ic(void 0,true))),i[Vx]=true;}),e.on("readable",I6e.bind(null,i)),i};Yde.exports=D6e;});var epe=T((Wwt,Qde)=>{function Xde(t,e,r,i,n,a,o){try{var s=t[a](o),c=s.value;}catch(u){r(u);return}s.done?e(c):Promise.resolve(c).then(i,n);}function k6e(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var a=t.apply(e,r);function o(c){Xde(a,i,n,o,s,"next",c);}function s(c){Xde(a,i,n,o,s,"throw",c);}o(void 0);})}}function Jde(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i);}return r}function U6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jde(Object(r),true).forEach(function(i){$6e(t,i,r[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jde(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i));});}return t}function $6e(t,e,r){return e=z6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function z6e(t){var e=V6e(t,"string");return typeof e=="symbol"?e:String(e)}function V6e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var B6e=Ef().codes.ERR_INVALID_ARG_TYPE;function F6e(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new B6e("iterable",["Iterable"],e);var n=new t(U6e({objectMode:true},r)),a=false;n._read=function(){a||(a=true,o());};function o(){return s.apply(this,arguments)}function s(){return s=k6e(function*(){try{var c=yield i.next(),u=c.value,l=c.done;l?n.push(null):n.push(yield u)?o():a=!1;}catch(d){n.destroy(d);}}),s.apply(this,arguments)}return n}Qde.exports=F6e;});var dpe=T((Ywt,lpe)=>{lpe.exports=Xe;var Tf;Xe.ReadableState=ipe;L("events").EventEmitter;var npe=function(e,r){return e.listeners(r).length},TS=V$(),Bx=L("buffer").Buffer,H6e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function G6e(t){return Bx.from(t)}function j6e(t){return Bx.isBuffer(t)||t instanceof H6e}var Q$=L("util"),ze;Q$&&Q$.debuglog?ze=Q$.debuglog("stream"):ze=function(){};var q6e=zde(),sz=F$(),W6e=H$(),K6e=W6e.getHighWaterMark,Fx=Ef().codes,Y6e=Fx.ERR_INVALID_ARG_TYPE,Z6e=Fx.ERR_STREAM_PUSH_AFTER_EOF,X6e=Fx.ERR_METHOD_NOT_IMPLEMENTED,J6e=Fx.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,vf,ez,tz;kx()(Xe,TS);var ES=sz.errorOrDestroy,rz=["error","close","destroy","pause","resume"];function Q6e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}function ipe(t,e,r){Tf=Tf||vS(),t=t||{},typeof r!="boolean"&&(r=e instanceof Tf),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=K6e(this,t,"readableHighWaterMark",r),this.buffer=new q6e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=false,this.endEmitted=false,this.reading=false,this.sync=true,this.needReadable=false,this.emittedReadable=false,this.readableListening=false,this.resumeScheduled=false,this.paused=true,this.emitClose=t.emitClose!==false,this.autoDestroy=!!t.autoDestroy,this.destroyed=false,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=false,this.decoder=null,this.encoding=null,t.encoding&&(vf||(vf=X$().StringDecoder),this.decoder=new vf(t.encoding),this.encoding=t.encoding);}function Xe(t){if(Tf=Tf||vS(),!(this instanceof Xe))return new Xe(t);var e=this instanceof Tf;this._readableState=new ipe(t,this,e),this.readable=true,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),TS.call(this);}Object.defineProperty(Xe.prototype,"destroyed",{enumerable:false,get:function(){return this._readableState===void 0?false:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e);}});Xe.prototype.destroy=sz.destroy;Xe.prototype._undestroy=sz.undestroy;Xe.prototype._destroy=function(t,e){e(t);};Xe.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=true:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Bx.from(t,e),e=""),i=true),ope(this,t,e,false,i)};Xe.prototype.unshift=function(t){return ope(this,t,null,true,false)};function ope(t,e,r,i,n){ze("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=false,r3e(t,a);else {var o;if(n||(o=e3e(a,e)),o)ES(t,o);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==Bx.prototype&&(e=G6e(e)),i)a.endEmitted?ES(t,new J6e):nz(t,a,e,true);else if(a.ended)ES(t,new Z6e);else {if(a.destroyed)return  false;a.reading=false,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?nz(t,a,e,false):oz(t,a)):nz(t,a,e,false);}else i||(a.reading=false,oz(t,a));}return !a.ended&&(a.length<a.highWaterMark||a.length===0)}function nz(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Hx(t)),oz(t,e);}function e3e(t,e){var r;return !j6e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Y6e("chunk",["string","Buffer","Uint8Array"],e)),r}Xe.prototype.isPaused=function(){return this._readableState.flowing===false};Xe.prototype.setEncoding=function(t){vf||(vf=X$().StringDecoder);var e=new vf(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var tpe=1073741824;function t3e(t){return t>=tpe?t=tpe:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function rpe(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=t3e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=true,0))}Xe.prototype.read=function(t){ze("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=false),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ze("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?iz(this):Hx(this),null;if(t=rpe(t,e),t===0&&e.ended)return e.length===0&&iz(this),null;var i=e.needReadable;ze("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=true,ze("length less than watermark",i)),e.ended||e.reading?(i=false,ze("reading or ended",i)):i&&(ze("do read"),e.reading=true,e.sync=true,e.length===0&&(e.needReadable=true),this._read(e.highWaterMark),e.sync=false,e.reading||(t=rpe(r,e)));var n;return t>0?n=cpe(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=true),r!==t&&e.ended&&iz(this)),n!==null&&this.emit("data",n),n};function r3e(t,e){if(ze("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=true,e.sync?Hx(t):(e.needReadable=false,e.emittedReadable||(e.emittedReadable=true,spe(t)));}}function Hx(t){var e=t._readableState;ze("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=false,e.emittedReadable||(ze("emitReadable",e.flowing),e.emittedReadable=true,process.nextTick(spe,t));}function spe(t){var e=t._readableState;ze("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=false),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,az(t);}function oz(t,e){e.readingMore||(e.readingMore=true,process.nextTick(n3e,t,e));}function n3e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ze("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=false;}Xe.prototype._read=function(t){ES(this,new X6e("_read()"));};Xe.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,ze("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==false)&&t!==process.stdout&&t!==process.stderr,a=n?s:y;i.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",o);function o(v,O){ze("onunpipe"),v===r&&O&&O.hasUnpiped===false&&(O.hasUnpiped=true,l());}function s(){ze("onend"),t.end();}var c=i3e(r);t.on("drain",c);var u=false;function l(){ze("cleanup"),t.removeListener("close",f),t.removeListener("finish",_),t.removeListener("drain",c),t.removeListener("error",p),t.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),u=true,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c();}r.on("data",d);function d(v){ze("ondata");var O=t.write(v);ze("dest.write",O),O===false&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&upe(i.pipes,t)!==-1)&&!u&&(ze("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause());}function p(v){ze("onerror",v),y(),t.removeListener("error",p),npe(t,"error")===0&&ES(t,v);}Q6e(t,"error",p);function f(){t.removeListener("finish",_),y();}t.once("close",f);function _(){ze("onfinish"),t.removeListener("close",f),y();}t.once("finish",_);function y(){ze("unpipe"),r.unpipe(t);}return t.emit("pipe",r),i.flowing||(ze("pipe resume"),r.resume()),t};function i3e(t){return function(){var r=t._readableState;ze("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&npe(t,"data")&&(r.flowing=true,az(t));}}Xe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:false};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=false,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=false;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:false});return this}var o=upe(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Xe.prototype.on=function(t,e){var r=TS.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==false&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=true,i.flowing=false,i.emittedReadable=false,ze("on readable",i.length,i.reading),i.length?Hx(this):i.reading||process.nextTick(o3e,this)),r};Xe.prototype.addListener=Xe.prototype.on;Xe.prototype.removeListener=function(t,e){var r=TS.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(ape,this),r};Xe.prototype.removeAllListeners=function(t){var e=TS.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&process.nextTick(ape,this),e};function ape(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=true:t.listenerCount("data")>0&&t.resume();}function o3e(t){ze("readable nexttick read 0"),t.read(0);}Xe.prototype.resume=function(){var t=this._readableState;return t.flowing||(ze("resume"),t.flowing=!t.readableListening,s3e(this,t)),t.paused=false,this};function s3e(t,e){e.resumeScheduled||(e.resumeScheduled=true,process.nextTick(a3e,t,e));}function a3e(t,e){ze("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=false,t.emit("resume"),az(t),e.flowing&&!e.reading&&t.read(0);}Xe.prototype.pause=function(){return ze("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==false&&(ze("pause"),this._readableState.flowing=false,this.emit("pause")),this._readableState.paused=true,this};function az(t){var e=t._readableState;for(ze("flow",e.flowing);e.flowing&&t.read()!==null;);}Xe.prototype.wrap=function(t){var e=this,r=this._readableState,i=false;t.on("end",function(){if(ze("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o);}e.push(null);}),t.on("data",function(o){if(ze("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var s=e.push(o);s||(i=true,t.pause());}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=(function(s){return function(){return t[s].apply(t,arguments)}})(n));for(var a=0;a<rz.length;a++)t.on(rz[a],this.emit.bind(this,rz[a]));return this._read=function(o){ze("wrapped _read",o),i&&(i=false,t.resume());},this};typeof Symbol=="function"&&(Xe.prototype[Symbol.asyncIterator]=function(){return ez===void 0&&(ez=Zde()),ez(this)});Object.defineProperty(Xe.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Xe.prototype,"readableBuffer",{enumerable:false,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Xe.prototype,"readableFlowing",{enumerable:false,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e);}});Xe._fromList=cpe;Object.defineProperty(Xe.prototype,"readableLength",{enumerable:false,get:function(){return this._readableState.length}});function cpe(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function iz(t){var e=t._readableState;ze("endReadable",e.endEmitted),e.endEmitted||(e.ended=true,process.nextTick(c3e,e,t));}function c3e(t,e){if(ze("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=true,e.readable=false,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy();}}typeof Symbol=="function"&&(Xe.from=function(t,e){return tz===void 0&&(tz=epe()),tz(Xe,t,e)});function upe(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return  -1}});var vS=T((Zwt,fpe)=>{var u3e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};fpe.exports=Jo;var ppe=dpe(),uz=lz();kx()(Jo,ppe);for(cz=u3e(uz.prototype),Gx=0;Gx<cz.length;Gx++)jx=cz[Gx],Jo.prototype[jx]||(Jo.prototype[jx]=uz.prototype[jx]);var cz,jx,Gx;function Jo(t){if(!(this instanceof Jo))return new Jo(t);ppe.call(this,t),uz.call(this,t),this.allowHalfOpen=true,t&&(t.readable===false&&(this.readable=false),t.writable===false&&(this.writable=false),t.allowHalfOpen===false&&(this.allowHalfOpen=false,this.once("end",l3e)));}Object.defineProperty(Jo.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Jo.prototype,"writableBuffer",{enumerable:false,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Jo.prototype,"writableLength",{enumerable:false,get:function(){return this._writableState.length}});function l3e(){this._writableState.ended||process.nextTick(d3e,this);}function d3e(t){t.end();}Object.defineProperty(Jo.prototype,"destroyed",{enumerable:false,get:function(){return this._readableState===void 0||this._writableState===void 0?false:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e);}});});var lz=T((Xwt,ype)=>{ype.exports=Lt;function mpe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$3e(e,t);};}var bf;Lt.WritableState=RS;var p3e={deprecate:Ade()},gpe=V$(),Wx=L("buffer").Buffer,f3e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h3e(t){return Wx.from(t)}function m3e(t){return Wx.isBuffer(t)||t instanceof f3e}var pz=F$(),g3e=H$(),_3e=g3e.getHighWaterMark,wc=Ef().codes,S3e=wc.ERR_INVALID_ARG_TYPE,y3e=wc.ERR_METHOD_NOT_IMPLEMENTED,E3e=wc.ERR_MULTIPLE_CALLBACK,T3e=wc.ERR_STREAM_CANNOT_PIPE,v3e=wc.ERR_STREAM_DESTROYED,b3e=wc.ERR_STREAM_NULL_VALUES,R3e=wc.ERR_STREAM_WRITE_AFTER_END,A3e=wc.ERR_UNKNOWN_ENCODING,Rf=pz.errorOrDestroy;kx()(Lt,gpe);function O3e(){}function RS(t,e,r){bf=bf||vS(),t=t||{},typeof r!="boolean"&&(r=e instanceof bf),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=_3e(this,t,"writableHighWaterMark",r),this.finalCalled=false,this.needDrain=false,this.ending=false,this.ended=false,this.finished=false,this.destroyed=false;var i=t.decodeStrings===false;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=false,this.corked=0,this.sync=true,this.bufferProcessing=false,this.onwrite=function(n){M3e(e,n);},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=false,this.errorEmitted=false,this.emitClose=t.emitClose!==false,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new mpe(this);}RS.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(RS.prototype,"buffer",{get:p3e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")});}catch{}})();var qx;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qx=Function.prototype[Symbol.hasInstance],Object.defineProperty(Lt,Symbol.hasInstance,{value:function(e){return qx.call(this,e)?true:this!==Lt?false:e&&e._writableState instanceof RS}})):qx=function(e){return e instanceof this};function Lt(t){bf=bf||vS();var e=this instanceof bf;if(!e&&!qx.call(Lt,this))return new Lt(t);this._writableState=new RS(t,this,e),this.writable=true,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),gpe.call(this);}Lt.prototype.pipe=function(){Rf(this,new T3e);};function x3e(t,e){var r=new R3e;Rf(t,r),process.nextTick(e,r);}function C3e(t,e,r,i){var n;return r===null?n=new b3e:typeof r!="string"&&!e.objectMode&&(n=new S3e("chunk",["string","Buffer"],r)),n?(Rf(t,n),process.nextTick(i,n),false):true}Lt.prototype.write=function(t,e,r){var i=this._writableState,n=false,a=!i.objectMode&&m3e(t);return a&&!Wx.isBuffer(t)&&(t=h3e(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=O3e),i.ending?x3e(this,r):(a||C3e(this,i,t,r))&&(i.pendingcb++,n=P3e(this,i,a,t,e,r)),n};Lt.prototype.cork=function(){this._writableState.corked++;};Lt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&_pe(this,t));};Lt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new A3e(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Lt.prototype,"writableBuffer",{enumerable:false,get:function(){return this._writableState&&this._writableState.getBuffer()}});function N3e(t,e,r){return !t.objectMode&&t.decodeStrings!==false&&typeof e=="string"&&(e=Wx.from(e,r)),e}Object.defineProperty(Lt.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function P3e(t,e,r,i,n,a){if(!r){var o=N3e(e,i,n);i!==o&&(r=true,n="buffer",i=o);}var s=e.objectMode?1:i.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=true),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1;}else dz(t,e,false,s,i,n,a);return c}function dz(t,e,r,i,n,a,o){e.writelen=i,e.writecb=o,e.writing=true,e.sync=true,e.destroyed?e.onwrite(new v3e("write")):r?t._writev(n,e.onwrite):t._write(n,a,e.onwrite),e.sync=false;}function I3e(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(bS,t,e),t._writableState.errorEmitted=true,Rf(t,i)):(n(i),t._writableState.errorEmitted=true,Rf(t,i),bS(t,e));}function w3e(t){t.writing=false,t.writecb=null,t.length-=t.writelen,t.writelen=0;}function M3e(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new E3e;if(w3e(r),e)I3e(t,r,i,e,n);else {var a=Spe(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_pe(t,r),i?process.nextTick(hpe,t,r,a,n):hpe(t,r,a,n);}}function hpe(t,e,r,i){r||L3e(t,e),e.pendingcb--,i(),bS(t,e);}function L3e(t,e){e.length===0&&e.needDrain&&(e.needDrain=false,t.emit("drain"));}function _pe(t,e){e.bufferProcessing=true;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),a=e.corkedRequestsFree;a.entry=r;for(var o=0,s=true;r;)n[o]=r,r.isBuf||(s=false),r=r.next,o+=1;n.allBuffers=s,dz(t,e,true,e.length,n,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new mpe(e),e.bufferedRequestCount=0;}else {for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,d=e.objectMode?1:c.length;if(dz(t,e,false,d,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null);}e.bufferedRequest=r,e.bufferProcessing=false;}Lt.prototype._write=function(t,e,r){r(new y3e("_write()"));};Lt.prototype._writev=null;Lt.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||U3e(this,i,r),this};Object.defineProperty(Lt.prototype,"writableLength",{enumerable:false,get:function(){return this._writableState.length}});function Spe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function D3e(t,e){t._final(function(r){e.pendingcb--,r&&Rf(t,r),e.prefinished=true,t.emit("prefinish"),bS(t,e);});}function k3e(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=true,process.nextTick(D3e,t,e)):(e.prefinished=true,t.emit("prefinish")));}function bS(t,e){var r=Spe(e);if(r&&(k3e(t,e),e.pendingcb===0&&(e.finished=true,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy();}return r}function U3e(t,e,r){e.ending=true,bS(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=true,t.writable=false;}function $3e(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next;}e.corkedRequestsFree.next=t;}Object.defineProperty(Lt.prototype,"destroyed",{enumerable:false,get:function(){return this._writableState===void 0?false:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e);}});Lt.prototype.destroy=pz.destroy;Lt.prototype._undestroy=pz.undestroy;Lt.prototype._destroy=function(t,e){e(t);};});var Epe=T(fz=>{fz.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};fz.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"};});var Tpe=T(hz=>{hz.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};hz.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"};});var vpe=T(mz=>{mz.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};mz.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"};});var bpe=T(Kx=>{Object.defineProperty(Kx,"cli",{value:Epe()});Object.defineProperty(Kx,"npm",{value:Tpe()});Object.defineProperty(Kx,"syslog",{value:vpe()});});var gz=T(AS=>{Object.defineProperty(AS,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(AS,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(AS,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(AS,"configs",{value:bpe()});});var _z=T((n0t,Ope)=>{var z3e=L("util"),Rpe=lz(),{LEVEL:Ape}=gz(),OS=Ope.exports=function(e={}){Rpe.call(this,{objectMode:true,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r;}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close());});};z3e.inherits(OS,Rpe);OS.prototype._write=function(e,r,i){if(this.silent||e.exception===true&&!this.handleExceptions)return i(null);let n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[Ape]]){if(e&&!this.format)return this.log(e,i);let a,o;try{o=this.format.transform(Object.assign({},e),this.format.options);}catch(s){a=s;}if(a||!o){if(i(),a)throw a;return}return this.log(o,i)}return this._writableState.sync=false,i(null)};OS.prototype._writev=function(e,r){if(this.logv){let i=e.filter(this._accept,this);return i.length?this.logv(i,r):r(null)}for(let i=0;i<e.length;i++){if(!this._accept(e[i]))continue;if(e[i].chunk&&!this.format){this.log(e[i].chunk,e[i].callback);continue}let n,a;try{a=this.format.transform(Object.assign({},e[i].chunk),this.format.options);}catch(o){n=o;}if(n||!a){if(e[i].callback(),n)throw r(null),n}else this.log(a,e[i].callback);}return r(null)};OS.prototype._accept=function(e){let r=e.chunk;if(this.silent)return  false;let i=this.level||this.parent&&this.parent.level;return !!((r.exception===true||!i||this.levels[i]>=this.levels[r[Ape]])&&(this.handleExceptions||r.exception!==true))};OS.prototype._nop=function(){};});var Npe=T((i0t,Cpe)=>{var V3e=L("util"),{LEVEL:Sz}=gz(),xpe=_z(),xS=Cpe.exports=function(e={}){if(xpe.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(i){this.emit("error",i,this.transport);}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError));};V3e.inherits(xS,xpe);xS.prototype._write=function(e,r,i){if(this.silent||e.exception===true&&!this.handleExceptions)return i(null);(!this.level||this.levels[this.level]>=this.levels[e[Sz]])&&this.transport.log(e[Sz],e.message,e,this._nop),i(null);};xS.prototype._writev=function(e,r){for(let i=0;i<e.length;i++)this._accept(e[i])&&(this.transport.log(e[i].chunk[Sz],e[i].chunk.message,e[i].chunk,this._nop),e[i].callback());return r(null)};xS.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`));};xS.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null);};});var Ppe=T((o0t,yz)=>{yz.exports=_z();yz.exports.LegacyTransportStream=Npe();});var Ipe=T(Af=>{Object.defineProperty(Af,"__esModule",{value:true});Af.PACKAGE_NAME=Af.PACKAGE_VERSION=void 0;Af.PACKAGE_VERSION="0.15.0";Af.PACKAGE_NAME="@opentelemetry/winston-transport";});var wpe=T(Yx=>{Object.defineProperty(Yx,"__esModule",{value:true});Yx.emitLogRecord=void 0;var St=(ei(),U(gu)),B3e={error:St.SeverityNumber.ERROR,warn:St.SeverityNumber.WARN,info:St.SeverityNumber.INFO,http:St.SeverityNumber.DEBUG3,verbose:St.SeverityNumber.DEBUG2,debug:St.SeverityNumber.DEBUG,silly:St.SeverityNumber.TRACE},F3e={emerg:St.SeverityNumber.FATAL3,alert:St.SeverityNumber.FATAL2,crit:St.SeverityNumber.FATAL,error:St.SeverityNumber.ERROR,warning:St.SeverityNumber.WARN,notice:St.SeverityNumber.INFO2,info:St.SeverityNumber.INFO,debug:St.SeverityNumber.DEBUG},H3e={error:St.SeverityNumber.ERROR,warn:St.SeverityNumber.WARN,help:St.SeverityNumber.INFO3,data:St.SeverityNumber.INFO2,info:St.SeverityNumber.INFO,debug:St.SeverityNumber.DEBUG,prompt:St.SeverityNumber.TRACE4,verbose:St.SeverityNumber.TRACE3,input:St.SeverityNumber.TRACE2,silly:St.SeverityNumber.TRACE};function G3e(t){return B3e[t]??F3e[t]??H3e[t]}function j3e(t,e){let{message:r,level:i,...n}=t,a={},o=t[Symbol.for("level")];for(let c in n)Object.prototype.hasOwnProperty.call(n,c)&&(a[c]=n[c]);let s={severityNumber:G3e(o),severityText:o,body:r,attributes:a};e.emit(s);}Yx.emitLogRecord=j3e;});var Lpe=T(Zx=>{Object.defineProperty(Zx,"__esModule",{value:true});Zx.OpenTelemetryTransportV3=void 0;var q3e=(ei(),U(gu)),W3e=Ppe(),Mpe=Ipe(),K3e=wpe(),Ez=class extends W3e{_logger;constructor(e){super(e),this._logger=q3e.logs.getLogger(Mpe.PACKAGE_NAME,Mpe.PACKAGE_VERSION);}log(e,r){try{(0,K3e.emitLogRecord)(e,this._logger);}catch(i){this.emit("warn",i);}this.emit("logged",e),r&&r();}};Zx.OpenTelemetryTransportV3=Ez;});var Dpe=T(Xx=>{Object.defineProperty(Xx,"__esModule",{value:true});Xx.OpenTelemetryTransportV3=void 0;var Y3e=Lpe();Object.defineProperty(Xx,"OpenTelemetryTransportV3",{enumerable:true,get:function(){return Y3e.OpenTelemetryTransportV3}});});var zpe=T(Jx=>{Object.defineProperty(Jx,"__esModule",{value:true});Jx.WinstonInstrumentation=void 0;var Tz=(P(),U(je)),yt=(ei(),U(gu)),aa=(an(),U(sn)),kpe=bde(),Upe=[">=3 <4"],$pe=[">=1 <3"],vz=class extends aa.InstrumentationBase{constructor(e={}){super(kpe.PACKAGE_NAME,kpe.PACKAGE_VERSION,e);}init(){let e=new aa.InstrumentationNodeModuleDefinition("winston",Upe,i=>i,()=>{},[new aa.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",Upe,i=>((0, aa.isWrapped)(i.prototype.write)&&this._unwrap(i.prototype,"write"),this._wrap(i.prototype,"write",this._getPatchedWrite()),(0, aa.isWrapped)(i.prototype.configure)&&this._unwrap(i.prototype,"configure"),this._wrap(i.prototype,"configure",this._getPatchedConfigure()),i),i=>{i!==void 0&&(this._unwrap(i.prototype,"write"),this._unwrap(i.prototype,"configure"));})]),r=new aa.InstrumentationNodeModuleDefinition("winston",$pe,i=>i,()=>{},[new aa.InstrumentationNodeModuleFile("winston/lib/winston/logger.js",$pe,i=>{let n=i.Logger.prototype;return (0, aa.isWrapped)(n.log)&&this._unwrap(n,"log"),this._wrap(n,"log",this._getPatchedLog()),i},i=>{i!==void 0&&this._unwrap(i.Logger.prototype,"log");})]);return [e,r]}_callHook(e,r){let{logHook:i}=this.getConfig();i&&(0, aa.safeExecuteInTheMiddle)(()=>i(e,r),n=>{n&&this._diag.error("error calling logHook",n);},true);}_getPatchedWrite(){return e=>{let r=this;return function(...n){let a=n[0];return r._handleLogCorrelation(a),e.apply(this,n)}}}_getPatchedLog(){return e=>{let r=this;return function(...n){let a={};r._handleLogCorrelation(a);let o=false;for(let s=n.length-1;s>=0;s--)if(typeof n[s]=="object"){n[s]=Object.assign(n[s],a),o=true;break}if(!o){let s=typeof n[n.length-1]=="function"?n.length-1:n.length;n.splice(s,0,a);}return e.apply(this,n)}}}_getPatchedConfigure(){return e=>{let r=this;return function(...n){let a=r.getConfig();if(!a.disableLogSending&&n&&n.length>0)try{let{OpenTelemetryTransportV3:o}=Dpe(),s=n[0].transports,c=Array.isArray(s)?s:[],u={};a.logSeverity&&(u={level:r._winstonLevelFromSeverity(a.logSeverity,n[0].levels)});let l=new o(u);s&&!Array.isArray(s)&&(c=[s]),c.push(l),n[0].transports=c;}catch{r._diag.warn("@opentelemetry/winston-transport is not available, log records will not be automatically sent.");}return e.apply(this,n)}}}_handleLogCorrelation(e){if(!this.getConfig().disableLogCorrelation){let r=Tz.trace.getSpan(Tz.context.active());if(r){let i=r.spanContext();if((0, Tz.isSpanContextValid)(i)){let n={trace_id:i.traceId,span_id:i.spanId,trace_flags:`0${i.traceFlags.toString(16)}`},a=Object.assign(e,n);return this._callHook(r,a),a}}}return e}_winstonLevelFromSeverity(e,r){if(r){if(n(r)){if(e>=yt.SeverityNumber.ERROR)return "error";if(e>=yt.SeverityNumber.WARN)return "warn";if(e>=yt.SeverityNumber.INFO)return "info";if(e>=yt.SeverityNumber.DEBUG3)return "http";if(e>=yt.SeverityNumber.DEBUG2)return "verbose";if(e>=yt.SeverityNumber.DEBUG)return "debug";if(e>=yt.SeverityNumber.TRACE)return "silly"}else if(i(r)){if(e>=yt.SeverityNumber.ERROR)return "error";if(e>=yt.SeverityNumber.WARN)return "warn";if(e>=yt.SeverityNumber.INFO3)return "help";if(e>=yt.SeverityNumber.INFO2)return "data";if(e>=yt.SeverityNumber.INFO)return "info";if(e>=yt.SeverityNumber.DEBUG)return "debug";if(e>=yt.SeverityNumber.TRACE4)return "prompt";if(e>=yt.SeverityNumber.TRACE3)return "verbose";if(e>=yt.SeverityNumber.TRACE2)return "input";if(e>=yt.SeverityNumber.TRACE)return "silly"}else if(a(r)){if(e>=yt.SeverityNumber.FATAL2)return "emerg";if(e>=yt.SeverityNumber.FATAL)return "alert";if(e>=yt.SeverityNumber.ERROR2)return "crit";if(e>=yt.SeverityNumber.ERROR)return "error";if(e>=yt.SeverityNumber.WARN)return "warning";if(e>=yt.SeverityNumber.INFO2)return "notice";if(e>=yt.SeverityNumber.INFO)return "info";if(e>=yt.SeverityNumber.TRACE)return "debug"}this._diag.warn("failed to configure severity with existing winston levels");}function i(o){return o&&o.error!==void 0&&o.warn&&o.help&&o.data&&o.info&&o.debug&&o.prompt&&o.verbose&&o.input&&o.silly}function n(o){return o&&o.error!==void 0&&o.warn&&o.info&&o.http&&o.verbose&&o.debug&&o.silly}function a(o){return o&&o.emerg!==void 0&&o.alert&&o.crit&&o.error&&o.warning&&o.notice&&o.info&&o.debug}}};Jx.WinstonInstrumentation=vz;});var Vpe=T(Qx=>{Object.defineProperty(Qx,"__esModule",{value:true});Qx.WinstonInstrumentation=void 0;var Z3e=zpe();Object.defineProperty(Qx,"WinstonInstrumentation",{enumerable:true,get:function(){return Z3e.WinstonInstrumentation}});});var Jpe=T(Of=>{Object.defineProperty(Of,"__esModule",{value:true});Of.disableInstrumentations=Of.enableInstrumentations=void 0;function Q3e(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}Of.enableInstrumentations=Q3e;function eWe(t){t.forEach(e=>e.disable());}Of.disableInstrumentations=eWe;});var PS,rfe,Rz=g(()=>{PS=class{emit(e){}},rfe=new PS;});var Az,oC,Oz=g(()=>{Rz();Az=class{getLogger(e,r,i){return new PS}},oC=new Az;});var sC,nfe=g(()=>{Rz();sC=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):rfe}};});var IS,ife=g(()=>{Oz();nfe();IS=class{getLogger(e,r,i){var n;return (n=this._getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new sC(this,e,r,i)}_getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:oC}_setDelegate(e){this._delegate=e;}_getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};});var aC,ofe=g(()=>{aC=typeof globalThis=="object"?globalThis:global;});var sfe=g(()=>{ofe();});var afe=g(()=>{sfe();});function cfe(t,e,r){return i=>i===t?e:r}var wS,xf,xz,ufe=g(()=>{afe();wS=Symbol.for("io.opentelemetry.js.api.logs"),xf=aC;xz=1;});var cC,lfe=g(()=>{ufe();Oz();ife();cC=class t{constructor(){this._proxyLoggerProvider=new IS;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return xf[wS]?this.getLoggerProvider():(xf[wS]=cfe(xz,e,oC),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=xf[wS])===null||e===void 0?void 0:e.call(xf,xz))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete xf[wS],this._proxyLoggerProvider=new IS;}};});var uC,Cz=g(()=>{lfe();uC=cC.getInstance();});function dfe(t,e,r,i){for(let n=0,a=t.length;n<a;n++){let o=t[n];e&&o.setTracerProvider(e),r&&o.setMeterProvider(r),i&&o.setLoggerProvider&&o.setLoggerProvider(i),o.getConfig().enabled||o.enable();}}function pfe(t){t.forEach(e=>e.disable());}var ffe=g(()=>{});function lC(t){let e=t.tracerProvider||ce.getTracerProvider(),r=t.meterProvider||kt.getMeterProvider(),i=t.loggerProvider||uC.getLoggerProvider(),n=t.instrumentations?.flat()??[];return dfe(n,e,r,i),()=>{pfe(n);}}var hfe=g(()=>{P();Cz();ffe();});function Efe(t,e,r){if(!iWe(t))return E.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=cWe(t);if(!i)return  false;let n=[],a=Tfe(i,e,n,r);return a&&!r?.includePrerelease?sWe(i,n):a}function iWe(t){return typeof t=="string"&&yfe.test(t)}function Tfe(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(Nz(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=NWe(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!Nz(t,a,r,i))return  false;return  true}return Nz(t,e,r,i)}function Nz(t,e,r,i){if(e=aWe(e,i),e.includes(" "))return Tfe(t,e,r,i);{let n=uWe(e);return r.push(n),oWe(t,n)}}function oWe(t,e){if(e.invalid)return  false;if(!e.version||Iz(e.version))return  true;let r=gfe(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=gfe(i,n);}return nWe[e.op]?.includes(r)}function sWe(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function aWe(t,e){return t=t.trim(),t=xWe(t,e),t=OWe(t),t=CWe(t,e),t=t.trim(),t}function Xr(t){return !t||t.toLowerCase()==="x"||t==="*"}function cWe(t){let e=t.match(yfe);if(!e){E.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function uWe(t){if(!t)return {};let e=t.match(rWe);if(!e)return E.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function Iz(t){return t==="*"||t==="x"||t==="X"}function mfe(t){let e=parseInt(t,10);return isNaN(e)?t:e}function lWe(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function dWe(t,e){if(Iz(t)||Iz(e))return 0;let[r,i]=lWe(mfe(t),mfe(e));return r>i?1:r<i?-1:0}function gfe(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=dWe(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}function OWe(t){let e=vWe;return t.replace(e,(r,i,n,a,o)=>{let s;return Xr(i)?s="":Xr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:Xr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function xWe(t,e){let r=AWe,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let u;return Xr(a)?u="":Xr(o)?u=`>=${a}.0.0${i} <${+a+1}.0.0-0`:Xr(s)?a==="0"?u=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?u=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?u=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,u})}function CWe(t,e){let r=_We;return t.replace(r,(i,n,a,o,s,c)=>{let u=Xr(a),l=u||Xr(o),d=l||Xr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",u?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(l&&(o=0),s=0,n===">"?(n=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",l?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):l?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function NWe(t,e){let r=yWe;return t.replace(r,(i,n,a,o,s,c,u,l,d,p,f,_)=>(Xr(a)?n="":Xr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:Xr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,Xr(d)?l="":Xr(p)?l=`<${+d+1}.0.0-0`:Xr(f)?l=`<${d}.${+p+1}.0-0`:_?l=`<=${d}.${p}.${f}-${_}`:e?.includePrerelease?l=`<${d}.${p}.${+f+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()))}var yfe,rWe,nWe,vfe,bfe,pWe,fWe,_fe,hWe,Sfe,mWe,Pz,MS,gWe,_We,SWe,yWe,EWe,TWe,vWe,bWe,RWe,AWe,Rfe=g(()=>{P();yfe=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,rWe=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,nWe={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};vfe="[a-zA-Z0-9-]",bfe="0|[1-9]\\d*",pWe=`\\d*[a-zA-Z-]${vfe}*`,fWe="((?:<|>)?=?)",_fe=`(?:${bfe}|${pWe})`,hWe=`(?:-(${_fe}(?:\\.${_fe})*))`,Sfe=`${vfe}+`,mWe=`(?:\\+(${Sfe}(?:\\.${Sfe})*))`,Pz=`${bfe}|x|X|\\*`,MS=`[v=\\s]*(${Pz})(?:\\.(${Pz})(?:\\.(${Pz})(?:${hWe})?${mWe}?)?)?`,gWe=`^${fWe}\\s*${MS}$`,_We=new RegExp(gWe),SWe=`^\\s*(${MS})\\s+-\\s+(${MS})\\s*$`,yWe=new RegExp(SWe),EWe="(?:~>?)",TWe=`^${EWe}${MS}$`,vWe=new RegExp(TWe),bWe="(?:\\^)",RWe=`^${bWe}${MS}$`,AWe=new RegExp(RWe);});function LS(t,e,r){let i=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:true,enumerable:i,writable:true,value:r});}var Jr,Sl,wz,Cf,Mz,Lz=g(()=>{Jr=console.error.bind(console);Sl=(t,e,r)=>{if(!t||!t[e]){Jr("no original function "+String(e)+" to wrap");return}if(!r){Jr("no wrapper function"),Jr(new Error().stack);return}let i=t[e];if(typeof i!="function"||typeof r!="function"){Jr("original object and wrapper must be functions");return}let n=r(i,e);return LS(n,"__original",i),LS(n,"__unwrap",()=>{t[e]===n&&LS(t,e,i);}),LS(n,"__wrapped",true),LS(t,e,n),n},wz=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else {Jr("must provide one or more modules to patch"),Jr(new Error().stack);return}if(!(e&&Array.isArray(e))){Jr("must provide one or more functions to wrap on modules");return}t.forEach(i=>{e.forEach(n=>{Sl(i,n,r);});});},Cf=(t,e)=>{if(!t||!t[e]){Jr("no function to unwrap."),Jr(new Error().stack);return}let r=t[e];if(!r.__unwrap)Jr("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else {r.__unwrap();return}},Mz=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else {Jr("must provide one or more modules to patch"),Jr(new Error().stack);return}if(!(e&&Array.isArray(e))){Jr("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(i=>{Cf(r,i);});});};});var dC,Afe=g(()=>{P();Cz();Lz();dC=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=E.createComponentLogger({namespace:e}),this._tracer=ce.getTracer(e,r),this._meter=kt.getMeter(e,r),this._logger=uC.getLogger(e,r),this._updateMetricInstruments();}_wrap=Sl;_unwrap=Cf;_massWrap=wz;_massUnwrap=Mz;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};});var pC,fC,Ofe=g(()=>{pC=class{hooks=[];children=new Map},fC=class{_trie=new pC;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new pC,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};});function wWe(t){return tl__namespace.sep!=="/"?t.split(tl__namespace.sep).join("/"):t}var Cfe,IWe,hC,Nfe=g(()=>{Cfe=Qe(Ms());Ofe();IWe=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),hC=class t{_moduleNameTrie=new fC;static _instance;constructor(){this._initialize();}_initialize(){new Cfe.Hook(null,{internals:true},(e,r,i)=>{let n=wWe(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return IWe?new t:this._instance=this._instance??new t}};});function Pfe(t,e,r){let i,n;try{n=t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}async function Ife(t,e,r){let i,n;try{n=await t();}catch(a){i=a;}finally{if(e(i,n),i&&!r)throw i;return n}}function mC(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var kz=g(()=>{});function Mfe(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>Efe(e,i,{includePrerelease:r}))}var Lfe,Dfe,Nf,kfe=g(()=>{Rfe();Lz();Afe();Nfe();Lfe=Qe(Fm());P();Dfe=Qe(Ms());kz();Nf=class extends dC{_modules;_hooks=[];_requireInTheMiddleSingleton=hC.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(mC(e[r])&&this._unwrap(e,r),jZ.types.isProxy(e)){let n=Sl(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return Sl(e,r,i)};_unwrap=(e,r)=>jZ.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):Cf(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=L.resolve(r);L.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=Zs.readFileSync(tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{E.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return Mfe(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=tl__namespace.normalize(i);return o.filter(u=>u.name===s).filter(u=>Mfe(u.supportedVersions,a,e.includePrerelease)).reduce((u,l)=>(l.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:l.name,baseDir:n}),l.patch(u,e.moduleVersion)):u),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&tl__namespace.isAbsolute(s)){let u=tl__namespace.parse(s);s=u.name,c=u.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=tl__namespace.isAbsolute(e.name)?new Dfe.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new Lfe.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};});var Ufe=g(()=>{});var $fe=g(()=>{kfe();Ufe();});var Uz=g(()=>{$fe();});var _C,zfe=g(()=>{_C=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};});var SC,Vfe=g(()=>{Uz();SC=class{supportedVersions;patch;unpatch;name;constructor(e,r,i,n){this.supportedVersions=r,this.patch=i,this.unpatch=n,this.name=tl.normalize(e);}};});function Bfe(t,e){let r=yl.OLD,i=e?.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of i??[])if(n.toLowerCase()===t+"/dup"){r=yl.DUPLICATE;break}else n.toLowerCase()===t&&(r=yl.STABLE);return r}var yl,Ffe=g(()=>{(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE";})(yl||(yl={}));});var Hfe={};Pe(Hfe,{InstrumentationBase:()=>Nf,InstrumentationNodeModuleDefinition:()=>_C,InstrumentationNodeModuleFile:()=>SC,SemconvStability:()=>yl,isWrapped:()=>mC,registerInstrumentations:()=>lC,safeExecuteInTheMiddle:()=>Pfe,safeExecuteInTheMiddleAsync:()=>Ife,semconvStabilityFromStr:()=>Bfe});var $z=g(()=>{hfe();Uz();zfe();Vfe();kz();Ffe();});var Gfe=T(Pf=>{Object.defineProperty(Pf,"__esModule",{value:true});Pf.PACKAGE_NAME=Pf.PACKAGE_VERSION=void 0;Pf.PACKAGE_VERSION="0.16.2";Pf.PACKAGE_NAME="@opentelemetry/instrumentation-undici";});var qfe=T(EC=>{Object.defineProperty(EC,"__esModule",{value:true});EC.UndiciInstrumentation=void 0;var zz=L("diagnostics_channel"),LWe=L("url"),kS=($z(),U(Hfe)),jn=(P(),U(je)),yC=(Q(),U(Mn)),rr=(Ye(),U($r)),jfe=Gfe(),Vz=class extends kS.InstrumentationBase{_recordFromReq=new WeakMap;constructor(e={}){super(jfe.PACKAGE_NAME,jfe.PACKAGE_VERSION,e);}init(){}disable(){super.disable(),this._channelSubs.forEach(e=>e.unsubscribe()),this._channelSubs.length=0;}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this)));}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram("http.client.request.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:jn.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}});}subscribeToChannel(e,r){let[i,n]=process.version.replace("v","").split(".").map(s=>Number(s)),a=i>18||i===18&&n>=19,o;if(a)zz.subscribe?.(e,r),o=()=>zz.unsubscribe?.(e,r);else {let s=zz.channel(e);s.subscribe(r),o=()=>s.unsubscribe(r);}this._channelSubs.push({name:e,unsubscribe:o});}parseRequestHeaders(e){let r=new Map;if(Array.isArray(e.headers))for(let i=0;i<e.headers.length;i+=2){let n=e.headers[i],a=e.headers[i+1];typeof n=="string"&&r.set(n.toLowerCase(),a);}else if(typeof e.headers=="string"){let i=e.headers.split(`\r
`);for(let n of i){if(!n)continue;let a=n.indexOf(":");if(a===-1)continue;let o=n.substring(0,a).toLowerCase(),s=n.substring(a+1).trim(),c=r.get(o);c&&Array.isArray(c)?c.push(s):c?r.set(o,[c,s]):r.set(o,s);}}return r}onRequestCreated({request:e}){let r=this.getConfig(),i=r.enabled!==false;if((0, kS.safeExecuteInTheMiddle)(()=>!i||e.method==="CONNECT"||r.ignoreRequestHook?.(e),$=>$&&this._diag.error("caught ignoreRequestHook error: ",$),true))return;let a=(0, yC.hrTime)(),o;try{o=new LWe.URL(e.path,e.origin);}catch($){this._diag.warn("could not determine url.full:",$);return}let s=o.protocol.replace(":",""),c=this.getRequestMethod(e.method),u={[rr.ATTR_HTTP_REQUEST_METHOD]:c,[rr.ATTR_HTTP_REQUEST_METHOD_ORIGINAL]:e.method,[rr.ATTR_URL_FULL]:o.toString(),[rr.ATTR_URL_PATH]:o.pathname,[rr.ATTR_URL_QUERY]:o.search,[rr.ATTR_URL_SCHEME]:s},l={https:"443",http:"80"},d=o.hostname,p=o.port||l[s];u[rr.ATTR_SERVER_ADDRESS]=d,p&&!isNaN(Number(p))&&(u[rr.ATTR_SERVER_PORT]=Number(p));let _=this.parseRequestHeaders(e).get("user-agent");if(_){let $=Array.isArray(_)?_[_.length-1]:_;u[rr.ATTR_USER_AGENT_ORIGINAL]=$;}let y=(0, kS.safeExecuteInTheMiddle)(()=>r.startSpanHook?.(e),$=>$&&this._diag.error("caught startSpanHook error: ",$),true);y&&Object.entries(y).forEach(([$,G])=>{u[$]=G;});let v=jn.context.active(),O=jn.trace.getSpan(v),x;r.requireParentforSpans&&(!O||!jn.trace.isSpanContextValid(O.spanContext()))?x=jn.trace.wrapSpanContext(jn.INVALID_SPAN_CONTEXT):x=this.tracer.startSpan(c==="_OTHER"?"HTTP":c,{kind:jn.SpanKind.CLIENT,attributes:u},v),(0, kS.safeExecuteInTheMiddle)(()=>r.requestHook?.(x,e),$=>$&&this._diag.error("caught requestHook error: ",$),true);let I=jn.trace.setSpan(jn.context.active(),x),R={};jn.propagation.inject(I,R);let F=Object.entries(R);for(let $=0;$<F.length;$++){let[G,ee]=F[$];typeof e.addHeader=="function"?e.addHeader(G,ee):typeof e.headers=="string"?e.headers+=`${G}: ${ee}\r
`:Array.isArray(e.headers)&&e.headers.push(G,ee);}this._recordFromReq.set(e,{span:x,attributes:u,startTime:a});}onRequestHeaders({request:e,socket:r}){let i=this._recordFromReq.get(e);if(!i)return;let n=this.getConfig(),{span:a}=i,{remoteAddress:o,remotePort:s}=r,c={[rr.ATTR_NETWORK_PEER_ADDRESS]:o,[rr.ATTR_NETWORK_PEER_PORT]:s};if(n.headersToSpanAttributes?.requestHeaders){let u=new Set(n.headersToSpanAttributes.requestHeaders.map(d=>d.toLowerCase())),l=this.parseRequestHeaders(e);for(let[d,p]of l.entries())if(u.has(d)){let f=Array.isArray(p)?p.join(", "):p;c[`http.request.header.${d}`]=f;}}a.setAttributes(c);}onResponseHeaders({request:e,response:r}){let i=this._recordFromReq.get(e);if(!i)return;let{span:n,attributes:a}=i,o={[rr.ATTR_HTTP_RESPONSE_STATUS_CODE]:r.statusCode},s=this.getConfig();(0, kS.safeExecuteInTheMiddle)(()=>s.responseHook?.(n,{request:e,response:r}),u=>u&&this._diag.error("caught responseHook error: ",u),true);let c=new Set;s.headersToSpanAttributes?.responseHeaders&&s.headersToSpanAttributes?.responseHeaders.forEach(u=>c.add(u.toLowerCase()));for(let u=0;u<r.headers.length;u=u+2){let l=r.headers[u].toString().toLowerCase(),d=r.headers[u+1];if(c.has(l)&&(o[`http.response.header.${l}`]=d.toString()),l==="content-length"){let p=Number(d.toString());isNaN(p)||(o["http.response.header.content-length"]=p);}}n.setAttributes(o),n.setStatus({code:r.statusCode>=400?jn.SpanStatusCode.ERROR:jn.SpanStatusCode.UNSET}),i.attributes=Object.assign(a,o);}onDone({request:e}){let r=this._recordFromReq.get(e);if(!r)return;let{span:i,attributes:n,startTime:a}=r;i.end(),this._recordFromReq.delete(e),this.recordRequestDuration(n,a);}onError({request:e,error:r}){let i=this._recordFromReq.get(e);if(!i)return;let{span:n,attributes:a,startTime:o}=i;n.recordException(r),n.setStatus({code:jn.SpanStatusCode.ERROR,message:r.message}),n.end(),this._recordFromReq.delete(e),a[rr.ATTR_ERROR_TYPE]=r.message,this.recordRequestDuration(a,o);}recordRequestDuration(e,r){let i={};[rr.ATTR_HTTP_RESPONSE_STATUS_CODE,rr.ATTR_HTTP_REQUEST_METHOD,rr.ATTR_SERVER_ADDRESS,rr.ATTR_SERVER_PORT,rr.ATTR_URL_SCHEME,rr.ATTR_ERROR_TYPE].forEach(o=>{o in e&&(i[o]=e[o]);});let a=(0, yC.hrTimeToMilliseconds)((0, yC.hrTimeDuration)(r,(0, yC.hrTime)()))/1e3;this._httpClientDurationHistogram.record(a,i);}getRequestMethod(e){let r={CONNECT:true,OPTIONS:true,HEAD:true,GET:true,POST:true,PUT:true,PATCH:true,DELETE:true,TRACE:true};return e.toUpperCase()in r?e.toUpperCase():"_OTHER"}};EC.UndiciInstrumentation=Vz;});var Wfe=T(TC=>{Object.defineProperty(TC,"__esModule",{value:true});TC.UndiciInstrumentation=void 0;var DWe=qfe();Object.defineProperty(TC,"UndiciInstrumentation",{enumerable:true,get:function(){return DWe.UndiciInstrumentation}});});P();var Ah=class{emit(e){}},YG=new Ah;var DP=class{getLogger(e,r,i){return new Ah}},wy=new DP;var My=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):YG}};var Oh=class{getLogger(e,r,i){var n;return (n=this._getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new My(this,e,r,i)}_getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:wy}_setDelegate(e){this._delegate=e;}_getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};var Ly=typeof globalThis=="object"?globalThis:global;var xh=Symbol.for("io.opentelemetry.js.api.logs"),Kl=Ly;function ZG(t,e,r){return i=>i===t?e:r}var kP=1;var Dy=class t{constructor(){this._proxyLoggerProvider=new Oh;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return Kl[xh]?this.getLoggerProvider():(Kl[xh]=ZG(kP,e,wy),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=Kl[xh])===null||e===void 0?void 0:e.call(Kl,kP))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete Kl[xh],this._proxyLoggerProvider=new Oh;}};var XG=Dy.getInstance();ho();P();ei();var tfe=Qe(mie(),1);ho();function _ie(t,...e){ra__namespace.stderr.write(`${jZ__namespace.default.format(t,...e)}${Qp.EOL}`);}var Sie=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,yie,Ok=[],xk=[],BR=[];Sie&&Ck(Sie);var Eie=Object.assign(t=>Tie(t),{enable:Ck,enabled:Nk,disable:aBe,log:_ie});function Ck(t){yie=t,Ok=[],xk=[];let e=/\*/g,r=t.split(",").map(i=>i.trim().replace(e,".*?"));for(let i of r)i.startsWith("-")?xk.push(new RegExp(`^${i.substr(1)}$`)):Ok.push(new RegExp(`^${i}$`));for(let i of BR)i.enabled=Nk(i.namespace);}function Nk(t){if(t.endsWith("*"))return  true;for(let e of xk)if(e.test(t))return  false;for(let e of Ok)if(e.test(t))return  true;return  false}function aBe(){let t=yie||"";return Ck(""),t}function Tie(t){let e=Object.assign(r,{enabled:Nk(t),destroy:cBe,log:Eie.log,namespace:t,extend:uBe});function r(...i){e.enabled&&(i.length>0&&(i[0]=`${t} ${i[0]}`),e.log(...i));}return BR.push(e),e}function cBe(){let t=BR.indexOf(this);return t>=0?(BR.splice(t,1),true):false}function uBe(t){let e=Tie(`${this.namespace}:${t}`);return e.log=this.log,e}var $p=Eie;var Pk=["verbose","info","warning","error"],vie={verbose:400,info:300,warning:200,error:100};function bie(t,e){e.log=(...r)=>{t.log(...r);};}function Rie(t){return Pk.includes(t)}function FR(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,i,n=$p(t.namespace);n.log=(...l)=>{$p.log(...l);};function a(l){if(l&&!Rie(l))throw new Error(`Unknown log level '${l}'. Acceptable values: ${Pk.join(",")}`);i=l;let d=[];for(let p of e)o(p)&&d.push(p.namespace);$p.enable(d.join(","));}r&&(Rie(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${Pk.join(", ")}.`));function o(l){return !!(i&&vie[l.level]<=vie[i])}function s(l,d){let p=Object.assign(l.extend(d),{level:d});if(bie(l,p),o(p)){let f=$p.disable();$p.enable(f+","+p.namespace);}return e.add(p),p}function c(){return i}function u(l){let d=n.extend(l);return bie(n,d),{error:s(d,"error"),warning:s(d,"warning"),info:s(d,"info"),verbose:s(d,"verbose")}}return {setLogLevel:a,getLogLevel:c,createClientLogger:u,logger:n}}FR({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});var Ik=FR({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"}),Aie=Ik.logger;function zp(t){Ik.setLogLevel(t);}function zo(t){return Ik.createClientLogger(t)}P();var Oie=jZ.promisify(Zs__default.default.stat),xie=jZ.promisify(Zs__default.default.lstat),Cie=jZ.promisify(Zs__default.default.mkdir),wk=jZ.promisify(Zs__default.default.access),HR=jZ.promisify(Zs__default.default.appendFile),GR=jZ.promisify(Zs__default.default.writeFile),Mk=jZ.promisify(Zs__default.default.readFile),Lk=jZ.promisify(Zs__default.default.readdir),Dk=jZ.promisify(Zs__default.default.unlink),kk=async t=>{try{if(!(await xie(t)).isDirectory())throw new Error("Path existed but was not a directory")}catch(e){if(e&&e.code==="ENOENT")try{await Cie(t);}catch(r){if(r&&r.code!=="EEXIST")throw r}}};var Uk=async t=>{let e=await Oie(t);return e.isFile()?e.size:null};ho();P();function $k(t){if(t&&t.headers&&!Array.isArray(t.headers)){let e=t.headers;if(e["User-Agent"]&&e["User-Agent"].toString().indexOf("azsdk-js-monitor-opentelemetry-exporter")>-1||e["user-agent"]&&e["user-agent"].toString().indexOf("azsdk-js-monitor-opentelemetry-exporter")>-1)return  true}return  false}var dBe=()=>process.platform==="win32",pBe=()=>process.platform==="linux";var jR=()=>dBe()?"w":pBe()?"l":"u",fBe=()=>!!(process.env.WEBSITE_SITE_NAME&&!process.env.FUNCTIONS_WORKER_RUNTIME),hBe=()=>!!process.env.FUNCTIONS_WORKER_RUNTIME,mBe=()=>!!(process.env.AKS_ARM_NAMESPACE_ID||process.env.KUBERNETES_SERVICE_HOST),qR=()=>fBe()?"a":hBe()?"f":mBe()?"k":"u";function Nie(){let t=new Map([["env",Aa],["host",Oa],["os",xa],["process",du],["serviceinstance",pu]]);if(process.env.OTEL_NODE_RESOURCE_DETECTORS!=null){let e=process.env.OTEL_NODE_RESOURCE_DETECTORS?.split(",")??["env","host","os"];return e.includes("all")?[...t.values()]:e.includes("none")?[]:e.flatMap(r=>{let i=t.get(r);return i?[i]:(E.error(`Invalid resource detector "${r}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),[])})}else return [Aa,Oa,xa]}var WR=class{_TAG="DiagFileConsoleLogger:";_cleanupTimeOut=1800*1e3;_fileCleanupTimer=null;_tempDir;_logFileName;_fileFullPath;_backUpNameFormat;_logToFile=false;_logToConsole=true;_maxHistory;_maxSizeBytes;_logDestination;constructor(){this._logDestination=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION,this._logDestination==="file+console"&&(this._logToFile=true),this._logDestination==="file"&&(this._logToFile=true,this._logToConsole=false),this._maxSizeBytes=5e4,this._maxHistory=1,this._logFileName="applicationinsights.log";let e=process.env.APPLICATIONINSIGHTS_LOGDIR;e?tl__namespace.default.isAbsolute(e)?this._tempDir=e:this._tempDir=tl__namespace.default.join(process.cwd(),e):this._tempDir=tl__namespace.default.join(Qp__namespace.default.tmpdir(),"appInsights-node"),this._fileFullPath=tl__namespace.default.join(this._tempDir,this._logFileName),this._backUpNameFormat=`.${this._logFileName}`,this._logToFile&&(this._fileCleanupTimer||(this._fileCleanupTimer=setInterval(()=>{this._fileCleanupTask();},this._cleanupTimeOut),this._fileCleanupTimer.unref()));}error(e,...r){this._shouldFilterResourceAttributeWarning(e,r)||this.logMessage(e,r);}warn(e,...r){this._shouldFilterResourceAttributeWarning(e,r)||this.logMessage(e,r);}info(e,...r){this.logMessage(e,r);}debug(e,...r){this.logMessage(e,r);}verbose(e,...r){this.logMessage(e,r);}async logMessage(e,...r){try{let i=e?[e,...r]:r;this._logToFile&&await this._storeToDisk(i),this._logToConsole&&console.log(...i);}catch(i){console.log(this._TAG,`Failed to log to file: ${i&&i.message}`);}}_shouldFilterResourceAttributeWarning(e,r){let i=["accessing resource attributes before async attributes settled","resource attributes being accessed before async attributes finished","async attributes settled","resource attributes accessed before async detection completed","module @azure/core-tracing has been loaded before @azure/opentelemetry-instrumentation-azure-sdk"];if(typeof e=="string"&&i.some(n=>e.toLowerCase().includes(n)))return  true;if(r&&Array.isArray(r)){for(let n of r)if(typeof n=="string"&&i.some(a=>n.toLowerCase().includes(a)))return  true}if(typeof e=="string"){let n=e.split(" ");if(n.length>=3&&n[0].toLowerCase()==="accessing"&&n[1].toLowerCase()==="resource"&&n[2].toLowerCase()==="attributes")return  true}return  false}async _storeToDisk(e){let r=`${e}\r
`;try{await kk(this._tempDir);}catch(n){console.log(this._TAG,`Failed to create directory for log file: ${n&&n.message}`);return}try{await wk(this._fileFullPath,Zs__default.default.constants.F_OK);}catch{try{await HR(this._fileFullPath,r);}catch(a){console.log(this._TAG,`Failed to put log into file: ${a&&a.message}`);return}}let i=await Uk(this._fileFullPath);i&&i>this._maxSizeBytes?await this._createBackupFile(r):await HR(this._fileFullPath,r);}async _createBackupFile(e){try{let r=await Mk(this._fileFullPath),i=tl__namespace.default.join(this._tempDir,`${new Date().getTime()}.${this._logFileName}`);await GR(i,r);}catch(r){console.log("Failed to generate backup log file",r);}finally{await GR(this._fileFullPath,e);}}async _fileCleanupTask(){try{let e=await Lk(this._tempDir);e=e.filter(i=>tl__namespace.default.basename(i).indexOf(this._backUpNameFormat)>-1),e.sort((i,n)=>{let a=new Date(parseInt(i.split(this._backUpNameFormat)[0])),o=new Date(parseInt(n.split(this._backUpNameFormat)[0]));return a<o?-1:1});let r=e.length;for(let i=0;i<r-this._maxHistory;i++){let n=tl__namespace.default.join(this._tempDir,e[i]);await Dk(n);}}catch(e){console.log(this._TAG,`Failed to cleanup log files: ${e&&e.message}`);}}};var Re=class t{static instance;diagLevel;azureLogger;openTelemetryLogger;logToAzureLogger;logToOpenTelemetry;static getInstance(){return t.instance||(t.instance=new t),t.instance}constructor(){this.azureLogger=zo("@azure/monitor-opentelemetry"),this.openTelemetryLogger=E.createComponentLogger({namespace:"@azure/monitor-opentelemetry"}),this.logToOpenTelemetry=true,this.logToAzureLogger=false;let e=process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL||process.env.OTEL_LOG_LEVEL;switch(this.diagLevel=Ge.WARN,e){case "ALL":this.diagLevel=Ge.ALL;break;case "DEBUG":this.diagLevel=Ge.DEBUG;break;case "ERROR":this.diagLevel=Ge.ERROR;break;case "INFO":this.diagLevel=Ge.INFO;break;case "NONE":this.diagLevel=Ge.NONE;break;case "VERBOSE":this.diagLevel=Ge.VERBOSE;break;case "WARN":this.diagLevel=Ge.WARN;break}let r=new WR;switch(E.setLogger(r,{logLevel:this.diagLevel,suppressOverrideMessage:true}),process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL){case "VERBOSE":zp("verbose");break;case "INFO":zp("info");break;case "WARN":zp("warning");break;case "ERROR":zp("error");break;default:zp(process.env.AZURE_LOG_LEVEL||"warning");break}Aie.log=(...n)=>{r.logMessage(...n);};}error(e,...r){this.logToAzureLogger&&this.azureLogger.error(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.error(e,r);}warn(e,...r){this.logToAzureLogger&&this.azureLogger.warning(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.warn(e,r);}info(e,...r){this.logToAzureLogger&&this.azureLogger.info(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.info(e,r);}debug(e,...r){this.logToAzureLogger&&this.azureLogger.verbose(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.debug(e,r);}verbose(e,...r){this.logToAzureLogger&&this.azureLogger.verbose(e,r),this.logToOpenTelemetry&&this.openTelemetryLogger.verbose(e,r);}setLogToAzureLogger(e){this.logToAzureLogger=e;}setLogToOpenTelemetry(e){this.logToOpenTelemetry=e;}};var yBe="OTEL_TRACES_SAMPLER",EBe="OTEL_TRACES_SAMPLER_ARG",zk="microsoft.rate_limited",Vk="microsoft.fixed_percentage",KR=class t{samplingRatio;tracesPerSecond;static instance;static getInstance(){return t.instance||(t.instance=new t),t.instance}constructor(){let e=process.env[yBe],r=process.env[EBe];if(e&&r)if(e===zk||e===Vk){let i=Number(r);isNaN(i)||i<0?Re.getInstance().warn("Invalid value for OTEL_TRACES_SAMPLER_ARG. It should be a non-negative number."):e===zk?this.tracesPerSecond=i:e===Vk&&(this.samplingRatio=i);}else Re.getInstance().warn(`Unsupported value for OTEL_TRACES_SAMPLER: ${e}. Supported values are: ${zk}, ${Vk}.`);}};function Pie(){try{return module$1.createRequire((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('post.cjs', document.baseURI).href)))("@azure/functions-core")}catch{return}}function Iie(){return tl.dirname(XHe.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('post.cjs', document.baseURI).href))))}var ABe="APPLICATIONINSIGHTS_CONFIGURATION_FILE",OBe="APPLICATIONINSIGHTS_CONFIGURATION_CONTENT",ZR=class t{samplingRatio;tracesPerSecond;azureMonitorExporterOptions;instrumentationOptions;enableLiveMetrics;enableStandardMetrics;enableTraceBasedSamplingForLogs;enablePerformanceCounters;browserSdkLoaderOptions;static _instance;_tempDir;static getInstance(){return t._instance||(t._instance=new t),t._instance}constructor(){let e="";this._tempDir="";let r=process.env[OBe];if(r)e=r;else {let i="applicationinsights.json",n=tl__namespace.default.join(Iie(),"../../../");this._tempDir=tl__namespace.default.join(n,i);let a=process.env[ABe];a&&(tl__namespace.default.isAbsolute(a)?this._tempDir=a:this._tempDir=tl__namespace.default.join(n,a));try{e=Zs__default.default.readFileSync(this._tempDir,"utf8");}catch(o){Re.getInstance().info("Failed to read JSON config file: ",o);}}try{let i=JSON.parse(e);this.azureMonitorExporterOptions=i.azureMonitorExporterOptions,this.samplingRatio=i.samplingRatio,this.tracesPerSecond=i.tracesPerSecond,this.instrumentationOptions=i.instrumentationOptions,this.browserSdkLoaderOptions=i.browserSdkLoaderOptions,this.enableLiveMetrics=i.enableLiveMetrics,this.enableStandardMetrics=i.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=i.enableTraceBasedSamplingForLogs;}catch(i){Re.getInstance().info("Missing or invalid JSON config file: ",i);}}};var wie="azure.app.service.stamp",rl="cloud.resource_id",XR="REGION_NAME",Mie="WEBSITE_HOME_STAMPNAME",Lie="WEBSITE_HOSTNAME",c_="WEBSITE_INSTANCE_ID",Die="WEBSITE_OWNER_NAME",kie="WEBSITE_RESOURCE_GROUP",u_="WEBSITE_SITE_NAME",Uie="WEBSITE_SLOT_NAME",$ie="WEBSITE_SKU",zie="FUNCTIONS_EXTENSION_VERSION",Bk="WEBSITE_MEMORY_LIMIT_MB",Vie="169.254.169.254",Bie="/metadata/instance/compute?api-version=2021-12-13&format=json",Fk="azure.vm.scaleset.name",Hk="azure.vm.sku";Ye();function JR(t){let e=process.env[kie],r=process.env[Die],i=r;if(r&&r.indexOf("+")!==-1&&(i=r.split("+")[0]),!(!i&&!r))return `/subscriptions/${i}/resourceGroups/${e}/providers/Microsoft.Web/sites/${t}`}function QR(){return !!(process.env[zie]||process.env[$ie]==="FlexConsumption")}var xBe={[Ta]:XR,[WP]:Uie,[Yl]:Lie,[ou]:c_,[wie]:Mie},Gk=class{detect(){let e={},r=process.env[u_];if(r&&!QR()){e={...e,[ao]:r},e={...e,[Ea]:su},e={...e,[va]:JP};let i=JR(r);i&&(e={...e,[rl]:i});for(let[n,a]of Object.entries(xBe)){let o=process.env[a];o&&(e={...e,[n]:o});}}return {attributes:e}}},eA=new Gk;Ye();var CBe={[ao]:u_,[Wy]:c_,[Ky]:Bk},jk=class{detect(){let e={},r=process.env[u_];if(r&&QR()){let i=process.env[c_],n=process.env[Bk];e={[Ea]:su,[va]:XP,[Ta]:process.env[XR],[KP]:process.pid},r&&(e={...e,[ao]:r}),i&&(e={...e,[Wy]:i}),n&&(e={...e,[Ky]:n});let a=JR(r);a&&(e={...e,[rl]:a});for(let[o,s]of Object.entries(CBe)){let c=process.env[s];c&&(e={...e,[o]:c});}}return {attributes:e}}},tA=new jk;P();Q();Ye();var qk=class{detect(){let e=Te.with(qt(Te.active()),()=>this.getAzureVmMetadata()),r=[Fk,Hk,va,Ea,Ta,rl,Yl,Yy,Zy,Xy],i={};return r.forEach(n=>{i[n]=e.then(a=>a[n]);}),{attributes:i}}async getAzureVmMetadata(){try{let e={host:Vie,path:Bie,method:"GET",timeout:5e3,headers:{Metadata:"True"}},r=await new Promise((n,a)=>{let o=setTimeout(()=>{s.destroy(),a(new Error("Azure metadata service request timed out."));},1e3),s=fU__namespace.request(e,c=>{clearTimeout(o);let{statusCode:u}=c;c.setEncoding("utf8");let l="";c.on("data",d=>l+=d),c.on("end",()=>{if(u&&u>=200&&u<300)try{n(JSON.parse(l));}catch(d){a(d);}else a(new Error("Failed to load page, status code: "+u));});});s.on("error",c=>{clearTimeout(o),a(c);}),s.end();});return {[Fk]:r.vmScaleSetName,[Hk]:r.sku,[va]:ZP,[Ea]:su,[Ta]:r.location,[rl]:r.resourceId,[Yl]:r.vmId,[Yy]:r.name,[Zy]:r.vmSize,[Xy]:r.version}}catch(e){return E.debug("AzureVmResourceDetector: not running in an Azure VM:",e.message),{}}}},rA=new qk;var nA=class{samplingRatio;tracesPerSecond;azureMonitorExporterOptions;instrumentationOptions;enableLiveMetrics;enableStandardMetrics;enableTraceBasedSamplingForLogs;enablePerformanceCounters;metricExportIntervalMillis;_resource=uu();set resource(e){this._resource=this._resource.merge(e);}get resource(){return this._resource}browserSdkLoaderOptions;constructor(e){this.azureMonitorExporterOptions={},this.samplingRatio=1,this.tracesPerSecond=void 0,this.enableLiveMetrics=true,this.enableStandardMetrics=true,this.enableTraceBasedSamplingForLogs=false,this.enablePerformanceCounters=true,this.metricExportIntervalMillis=this.calculateMetricExportInterval(),this.instrumentationOptions={http:{enabled:true},azureSdk:{enabled:true},mongoDb:{enabled:true},mySql:{enabled:true},postgreSql:{enabled:true},redis:{enabled:true},redis4:{enabled:true}},this._setDefaultResource(),this.browserSdkLoaderOptions={enabled:false,connectionString:""},e&&(this.azureMonitorExporterOptions=Object.assign(this.azureMonitorExporterOptions,e.azureMonitorExporterOptions),this.instrumentationOptions=Object.assign(this.instrumentationOptions,e.instrumentationOptions),this.resource=Object.assign(this.resource,e.resource),this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond,this.browserSdkLoaderOptions=Object.assign(this.browserSdkLoaderOptions,e.browserSdkLoaderOptions),this.enableLiveMetrics=e.enableLiveMetrics!==void 0?e.enableLiveMetrics:this.enableLiveMetrics,this.enableStandardMetrics=e.enableStandardMetrics!==void 0?e.enableStandardMetrics:this.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=e.enableTraceBasedSamplingForLogs!==void 0?e.enableTraceBasedSamplingForLogs:this.enableTraceBasedSamplingForLogs,this.enablePerformanceCounters=e.enablePerformanceCounters!==void 0?e.enablePerformanceCounters:this.enablePerformanceCounters),this._mergeJsonConfig(),this._mergeEnvConfig();}_mergeEnvConfig(){let e=KR.getInstance();this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond;}_mergeJsonConfig(){try{let e=ZR.getInstance();this.samplingRatio=e.samplingRatio!==void 0?e.samplingRatio:this.samplingRatio,this.tracesPerSecond=e.tracesPerSecond!==void 0?e.tracesPerSecond:this.tracesPerSecond,this.browserSdkLoaderOptions=Object.assign(this.browserSdkLoaderOptions,e.browserSdkLoaderOptions),this.enableLiveMetrics=e.enableLiveMetrics!==void 0?e.enableLiveMetrics:this.enableLiveMetrics,this.enableStandardMetrics=e.enableStandardMetrics!==void 0?e.enableStandardMetrics:this.enableStandardMetrics,this.enableTraceBasedSamplingForLogs=e.enableTraceBasedSamplingForLogs!==void 0?e.enableTraceBasedSamplingForLogs:this.enableTraceBasedSamplingForLogs,this.azureMonitorExporterOptions=Object.assign(this.azureMonitorExporterOptions,e.azureMonitorExporterOptions),this.instrumentationOptions=Object.assign(this.instrumentationOptions,e.instrumentationOptions);}catch(e){Re.getInstance().error("Failed to load JSON config file values.",e);}}_setDefaultResource(){let e=fo(),i=sd({detectors:[Aa]});e=e.merge(i);let n=sd({detectors:[eA,tA]});this._resource=e.merge(n),this._initializeVmResourceAsync();}_initializeVmResourceAsync(){let e=sd({detectors:[rA]});e.asyncAttributesPending?e.waitForAsyncAttributes?.().then(()=>{this._resource=this._resource.merge(e);}).catch(()=>{}):this._resource=this._resource.merge(e);}calculateMetricExportInterval(e){if(process.env.OTEL_METRIC_EXPORT_INTERVAL){let i=parseInt(process.env.OTEL_METRIC_EXPORT_INTERVAL.trim(),10);if(!isNaN(i)&&i>0)return i}return e?.collectionInterval?e.collectionInterval:6e4}};P();var Hie="_MS.links",Gie="enqueuedTime",jie="timeSinceEnqueued",ac="1.0.0-beta.34",Vo;(function(t){t.InProc="InProc",t.QueueMessage="Queue Message",t.Sql="SQL",t.Http="Http",t.Grpc="GRPC",t.Wcf="WCF Service";})(Vo||(Vo={}));var cc="microsoft.sample_rate",l_="_MS.baseType",iA="microsoft.custom_event.name",oA="microsoft.client.ip",Wk="Microsoft.ApplicationInsights.Message",Kk="Microsoft.ApplicationInsights.Exception",qie="Microsoft.ApplicationInsights.PageView",Wie="Microsoft.ApplicationInsights.Availability",Yk="Microsoft.ApplicationInsights.Event",sA="MessageData",aA="ExceptionData",Zk="PageViewData",Xk="AvailabilityData",cA="EventData";function NBe(t){let i=5381;if(!t)return 0;let n=t;for(;n.length<8;)n=n+n;for(let a=0;a<n.length;a++)i=((i<<5)+i|0)+n.charCodeAt(a)|0;return i=i<=-2147483648?2147483647:Math.abs(i),i/2147483647*100}function Kie(t){if(t===0)return 0;let e=100/t;return 100/Math.ceil(e)}function Jk(t,e,r,i){let n=t,a;if(n===100)a=true;else if(n===0)a=false;else {let o=ce.getSpan(e),s=o?.spanContext();if(s&&ce.isSpanContextValid(s)&&!s.isRemote){(s.traceFlags&Ve.SAMPLED)===Ve.SAMPLED?a=true:(s.traceFlags&Ve.NONE)===Ve.NONE&&(a=false);let c=Number(o.attributes?.[cc]);isNaN(c)||(n=Number(c));}}return n!==100&&(i=i||{},i[cc]=n),a===void 0?NBe(r)<n:a}Eo();var d_=class{nanoTimeSupplier;inverseAdaptationTimeNanos;targetSpansPerNanosecondLimit;state;roundToNearest;tracesPerSecond;constructor(e){if(this.tracesPerSecond=e,this.tracesPerSecond<0)throw new Error("Limit for sampled traces per second must be nonnegative");let r=.1;this.nanoTimeSupplier=()=>Number(process.hrtime.bigint()),this.inverseAdaptationTimeNanos=1e-9/r,this.targetSpansPerNanosecondLimit=1e-9*this.tracesPerSecond;let i=this.nanoTimeSupplier();this.state={effectiveWindowCount:0,effectiveWindowNanos:0,lastNanoTime:i},this.roundToNearest=true;}updateState(e,r){if(r<=e.lastNanoTime)return {effectiveWindowCount:e.effectiveWindowCount+1,effectiveWindowNanos:e.effectiveWindowNanos,lastNanoTime:e.lastNanoTime};let i=r-e.lastNanoTime,n=Math.exp(-i*this.inverseAdaptationTimeNanos),a=e.effectiveWindowCount*n+1,o=e.effectiveWindowNanos*n+i;return {effectiveWindowCount:a,effectiveWindowNanos:o,lastNanoTime:r}}getSampleRate(){let e=this.nanoTimeSupplier();this.state=this.updateState(this.state,e);let r=this.state.effectiveWindowNanos*this.targetSpansPerNanosecondLimit/this.state.effectiveWindowCount,i=100*Math.min(r,1);return this.roundToNearest&&(i=Kie(i)),i}shouldSample(e,r,i,n,a,o){let s=this.getSampleRate();return Jk(s,e,r,a)?{decision:_r.RECORD_AND_SAMPLED,attributes:a}:{decision:_r.NOT_RECORD,attributes:a}}toString(){return `RateLimitedSampler{${this.tracesPerSecond}}`}};P();P();var lA;(function(t){t.V2="2020-09-15_Preview";})(lA||(lA={}));var pA="https://dc.services.visualstudio.com";lA.V2;var Yie="https://rt.services.visualstudio.com";var Zie="APPLICATIONINSIGHTS_CONNECTION_STRING";var Xie="APPLICATIONINSIGHTS_STATSBEAT_DISABLED",Jie="APPLICATION_INSIGHTS_NO_STATSBEAT",Qie="APPLICATIONINSIGHTS_OPENTELEMETRY_RESOURCE_METRIC_DISABLED",eoe="OTEL_EXPORTER_OTLP_METRICS_ENDPOINT",toe="OTEL_METRICS_EXPORTER",roe="AZURE_MONITOR_AUTO_ATTACH",noe="APPLICATIONINSIGHTS_METRICS_TO_LOGANALYTICS_ENABLED",dA;(function(t){t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.DNS_LOOKUP_TIMEOUT="EAI_AGAIN";})(dA||(dA={}));var Qk="APPLICATION_INSIGHTS_SHIM_VERSION",eU="AZURE_MONITOR_PREFIX",tU="AZURE_MONITOR_DISTRO_VERSION",ioe="APPLICATIONINSIGHTS_SDKSTATS_ENABLED_PREVIEW",rU="APPLICATIONINSIGHTS_SDKSTATS_EXPORT_INTERVAL",Er;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec";})(Er||(Er={}));var p_;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME_STANDARD="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.PROCESS_TIME_NORMALIZED="\\Process(??APP_WIN32_PROC??)\\% Processor Time Normalized",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time",t.EXCEPTION_RATE="\\.NET CLR Exceptions(??APP_CLR_PROC??)\\# of Exceps Thrown / sec",t.IO_RATE="\\Process(??APP_WIN32_PROC??)\\IO Data Bytes/sec";})(p_||(p_={}));({[p_.PROCESSOR_TIME]:Er.PROCESSOR_TIME,[p_.REQUEST_RATE]:Er.REQUEST_RATE,[p_.REQUEST_DURATION]:Er.REQUEST_DURATION,[Er.COMMITTED_BYTES]:Er.COMMITTED_BYTES,[Er.REQUEST_FAILURE_RATE]:Er.REQUEST_FAILURE_RATE,[Er.DEPENDENCY_RATE]:Er.DEPENDENCY_RATE,[Er.DEPENDENCY_FAILURE_RATE]:Er.DEPENDENCY_FAILURE_RATE,[Er.DEPENDENCY_DURATION]:Er.DEPENDENCY_DURATION,[Er.EXCEPTION_RATE]:Er.EXCEPTION_RATE});var f_=class t{static FIELDS_SEPARATOR=";";static FIELD_KEY_VALUE_SEPARATOR="=";static parse(e){if(!e)return {};let r=e.split(t.FIELDS_SEPARATOR),i=true,n=r.reduce((a,o)=>{let s=o.split(t.FIELD_KEY_VALUE_SEPARATOR);if(s.length===2){let c=s[0].toLowerCase(),u=s[1];return {...a,[c]:u}}return E.error("Connection string key-value pair is invalid: Entire connection string will be discarded"),i=false,a},{});if(i&&Object.keys(n).length>0){if(n.endpointsuffix){let a=n.location?`${n.location}.`:"";n.ingestionendpoint=n.ingestionendpoint||`https://${a}dc.${n.endpointsuffix}`,n.liveendpoint=n.liveendpoint||`https://${a}live.${n.endpointsuffix}`;}n.ingestionendpoint=n.ingestionendpoint?t.sanitizeUrl(n.ingestionendpoint):pA,n.liveendpoint=n.liveendpoint?t.sanitizeUrl(n.liveendpoint):Yie,n.authorization&&n.authorization.toLowerCase()!=="ikey"&&E.warn("Connection String contains an unsupported 'Authorization' value. Defaulting to 'Authorization=ikey'");}else E.error("An invalid connection string was passed in. There may be telemetry loss");return n}static sanitizeUrl(e){let r=e.trim();return r.indexOf("https://")<0&&(r=r.replace("http://","https://")),r[r.length-1]==="/"&&(r=r.slice(0,-1)),r}static validateInstrumentationKey(e){if(e.startsWith("InstrumentationKey=")){let n=e.indexOf("InstrumentationKey=")+19,a=e.indexOf(";",n);e=e.substring(n,a);}let r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$";return new RegExp(r).test(e)}};var qi=class{instrumentationKey="";endpointUrl="";trackStatsbeat=false;aadAudience;isStatsbeatExporter;options;constructor(e={},r){this.options=e,this.instrumentationKey="",this.endpointUrl=pA;let i=this.options.connectionString||process.env[Zie];if(this.isStatsbeatExporter=r||false,i){let n=f_.parse(i);this.instrumentationKey=n.instrumentationkey||this.instrumentationKey,this.endpointUrl=n.ingestionendpoint?.trim()||this.endpointUrl,this.aadAudience=n.aadaudience;}if(!this.instrumentationKey){let n="No instrumentation key or connection string was provided to the Azure Monitor Exporter";throw E.error(n),new Error(n)}if(!f_.validateInstrumentationKey(this.instrumentationKey)){let n="Invalid instrumentation key was provided to the Azure Monitor Exporter";throw E.error(n),new Error(n)}this.trackStatsbeat=!this.isStatsbeatExporter&&!process.env[Jie],E.debug("AzureMonitorExporter was successfully setup");}};P();Q();Q();P();Ye();Ye();Ye();var Wi;(function(t){t.PRIVATE_BYTES="Private_Bytes",t.AVAILABLE_BYTES="Available_Bytes",t.PROCESSOR_TIME="Processor_Time",t.PROCESS_TIME_STANDARD="Process_Time_Standard",t.REQUEST_RATE="Request_Rate",t.REQUEST_DURATION="Request_Execution_Time",t.PROCESS_TIME_NORMALIZED="Process_Time_Normalized",t.EXCEPTION_RATE="Exception_Rate";})(Wi||(Wi={}));var Fn;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME_STANDARD="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time",t.PROCESS_TIME_NORMALIZED="\\Process(??APP_WIN32_PROC??)\\% Processor Time Normalized",t.EXCEPTION_RATE="\\.NET CLR Exceptions(??APP_CLR_PROC??)\\# of Exceps Thrown / sec";})(Fn||(Fn={}));var Tr;(function(t){t[t.NINE_BIT=512]="NINE_BIT",t[t.TEN_BIT=1024]="TEN_BIT",t[t.THIRTEEN_BIT=8192]="THIRTEEN_BIT",t[t.FIFTEEN_BIT=32768]="FIFTEEN_BIT";})(Tr||(Tr={}));var fA=[fs,Ci,HP,hs,iu,ms,gs,Ss,Ph,_s,us,ds,ps,ls,ys,Ni,In,wn,so,nu,ru,qP,FP,GP,Nh,tu,Ih,jP,"http.status_text"],Gr;(function(t){t.SYNTHETIC_TYPE="user_agent.synthetic.type",t.ATTR_ENDUSER_PSEUDO_ID="enduser.pseudo.id",t.ATTR_ENDUSER_ID="enduser.id";})(Gr||(Gr={}));var hA=[co,Es,Os,uo,Cs,Zn,Pi,Ns,Qh,em,tm,nm,As,rm,im,om,Ps,bs,Rs,vs,Ts,au,Gr.ATTR_ENDUSER_ID,Gr.ATTR_ENDUSER_PSEUDO_ID,Gr.SYNTHETIC_TYPE],ooe=["_MS.ProcessedByMetricExtractors"];P();P();var h_=class t{static ICACLS_PATH=`${ra__namespace.default.env.SYSTEMDRIVE}/windows/system32/icacls.exe`;static POWERSHELL_PATH=`${ra__namespace.default.env.SYSTEMDRIVE}/windows/system32/windowspowershell/v1.0/powershell.exe`;static ACLED_DIRECTORIES={};static ACL_IDENTITY=null;static OS_FILE_PROTECTION_CHECKED=false;static OS_PROVIDES_FILE_PROTECTION=false;static USE_ICACLS=Qp.type()==="Windows_NT";static checkFileProtection(){if(!t.OS_PROVIDES_FILE_PROTECTION&&!t.OS_FILE_PROTECTION_CHECKED)if(t.OS_FILE_PROTECTION_CHECKED=true,t.USE_ICACLS){try{t.OS_PROVIDES_FILE_PROTECTION=Zs.existsSync(t.ICACLS_PATH);}catch{}t.OS_PROVIDES_FILE_PROTECTION||E.warn("Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.");}else t.OS_PROVIDES_FILE_PROTECTION=true;}static async applyACLRules(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){t.ACLED_DIRECTORIES[e]=false;try{let r=await this._getACLIdentity();await this._runICACLS(this._getACLArguments(e,r)),t.ACLED_DIRECTORIES[e]=!0;}catch(r){throw t.ACLED_DIRECTORIES[e]=false,r}}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}}static applyACLRulesSync(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){this._runICACLSSync(this._getACLArguments(e,this._getACLIdentitySync())),t.ACLED_DIRECTORIES[e]=true;return}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}}static _runICACLS(e){return new Promise((r,i)=>{let n=GZ.spawn(t.ICACLS_PATH,e,{windowsHide:true});n.on("error",a=>i(a)),n.on("close",a=>{a===0?r():i(new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${a})`));});})}static _runICACLSSync(e){if(GZ.spawnSync){let r=GZ.spawnSync(t.ICACLS_PATH,e,{windowsHide:true});if(r.error)throw r.error;if(r.status!==0)throw new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${r.status})`)}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")}static _getACLIdentity(){return new Promise((e,r)=>{t.ACL_IDENTITY&&e(t.ACL_IDENTITY);let i=GZ.spawn(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:true,stdio:["ignore","pipe","pipe"]}),n="";i.stdout.on("data",a=>n+=a),i.on("error",a=>r(a)),i.on("close",a=>{t.ACL_IDENTITY=n&&n.trim(),a===0?e(t.ACL_IDENTITY):r(new Error(`Getting ACL identity did not succeed (PS returned code ${a})`));});})}static _getACLIdentitySync(){if(t.ACL_IDENTITY)return t.ACL_IDENTITY;if(GZ.spawnSync){let e=GZ.spawnSync(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:true,stdio:["ignore","pipe","pipe"]});if(e.error)throw e.error;if(e.status!==0)throw new Error(`Getting ACL identity did not succeed (PS returned code ${e.status})`);return t.ACL_IDENTITY=e.stdout&&e.stdout.toString().trim(),t.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")}static _getACLArguments(e,r){return [e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",`${r}:(OI)(CI)F`,"/inheritance:r"]}};P();var coe=async t=>{let e=0;try{let r=await promises.readdir(t);for(let i of r){let n=await promises.stat(tl.join(t,i));n.isFile()&&(e+=n.size);}return e}catch(r){return E.error(`Error getting directory size: ${r}`),0}},uoe=async t=>{try{if(!(await promises.lstat(t)).isDirectory())throw new Error("Path existed but was not a directory")}catch(e){if(e&&e.code==="ENOENT")try{await promises.mkdir(t,{recursive:!0});}catch(r){if(r&&r.code!=="EEXIST")throw r}}};var gA=class{time;lastTime;endpoint;host;totalRequestCount;lastRequestCount;totalSuccessfulRequestCount;totalReadFailureCount;totalWriteFailureCount;totalFailedRequestCount;retryCount;exceptionCount;throttleCount;intervalRequestExecutionTime;lastIntervalRequestExecutionTime;averageRequestExecutionTime;constructor(e,r){this.endpoint=e,this.host=r,this.totalRequestCount=0,this.totalSuccessfulRequestCount=0,this.totalReadFailureCount=0,this.totalWriteFailureCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0,this.averageRequestExecutionTime=0;}},_A=class{totalItemSuccessCount;totalItemDropCount;totalItemRetryCount;constructor(){this.totalItemSuccessCount=new Map,this.totalItemDropCount=new Map,this.totalItemRetryCount=new Map;}};var Bp="node",loe="AZURE_MONITOR_AUTO_ATTACH",doe=3,uc={appsvc:"appsvc",aks:"aks",functions:"functions",vm:"vm",unknown:"unknown"},m_;(function(t){t.INTEGRATED_AUTO="IntegratedAuto",t.MANUAL="Manual";})(m_||(m_={}));var gn;(function(t){t.SUCCESS_COUNT="Request_Success_Count",t.FAILURE_COUNT="Request_Failure_Count",t.RETRY_COUNT="Retry_Count",t.THROTTLE_COUNT="Throttle_Count",t.EXCEPTION_COUNT="Exception_Count",t.AVERAGE_DURATION="Request_Duration",t.READ_FAILURE_COUNT="Read_Failure_Count",t.WRITE_FAILURE_COUNT="Write_Failure_Count",t.ATTACH="Attach",t.FEATURE="Feature";})(gn||(gn={}));var Vp;(function(t){t.ITEM_SUCCESS_COUNT="preview.item.success.count",t.ITEM_DROP_COUNT="preview.item.dropped.count",t.ITEM_RETRY_COUNT="preview.item.retry.count";})(Vp||(Vp={}));var poe="http://169.254.169.254/metadata/instance/compute",foe="api-version=2017-12-01",hoe="format=json",moe="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",goe="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",nU=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],Nt;(function(t){t.AVAILABILITY="AVAILABILITY",t.CUSTOM_EVENT="CUSTOM_EVENT",t.CUSTOM_METRIC="CUSTOM_METRIC",t.DEPENDENCY="DEPENDENCY",t.EXCEPTION="EXCEPTION",t.PAGE_VIEW="PAGE_VIEW",t.PERFORMANCE_COUNTER="PERFORMANCE_COUNTER",t.REQUEST="REQUEST",t.TRACE="TRACE",t.UNKNOWN="UNKNOWN";})(Nt||(Nt={}));var fr;(function(t){t.CLIENT_EXCEPTION="CLIENT_EXCEPTION",t.CLIENT_READONLY="CLIENT_READONLY",t.CLIENT_PERSISTENCE_CAPACITY="CLIENT_PERSISTENCE_CAPACITY",t.CLIENT_STORAGE_DISABLED="CLIENT_STORAGE_DISABLED",t.UNKNOWN="UNKNOWN";})(fr||(fr={}));var Js;(function(t){t.CLIENT_EXCEPTION="CLIENT_EXCEPTION",t.CLIENT_TIMEOUT="CLIENT_TIMEOUT",t.UNKNOWN="UNKNOWN";})(Js||(Js={}));var g_;(function(t){t[t.FEATURE=0]="FEATURE",t[t.INSTRUMENTATION=1]="INSTRUMENTATION";})(g_||(g_={}));var _n;(function(t){t.CLIENT_EXCEPTION="Client exception",t.NETWORK_EXCEPTION="Network exception",t.STORAGE_EXCEPTION="Storage exception",t.TIMEOUT_EXCEPTION="Timeout exception";})(_n||(_n={}));var nl;(function(t){t.CLIENT_READONLY="Client readonly",t.CLIENT_PERSISTENCE_CAPACITY="Client persistence capacity",t.CLIENT_STORAGE_DISABLED="Client local storage disabled",t.UNKNOWN="Unknown reason";})(nl||(nl={}));var __;(function(t){t.CLIENT_TIMEOUT="Client timeout",t.UNKNOWN="Unknown reason";})(__||(__={}));function _oe(t){return t===401||t===403||t===503}var yA=class t{_options;_customerSDKStatsMetrics;static TEMPDIR_PREFIX="ot-azure-exporter-";static FILENAME_SUFFIX=".ai.json";fileRetemptionPeriod=2880*60*1e3;cleanupTimeOut=3600*1e3;maxBytesOnDisk=5e7;_enabled;_tempDirectory="";_fileCleanupTimer=null;_instrumentationKey;constructor(e,r,i){if(this._options=r,this._customerSDKStatsMetrics=i,this._instrumentationKey=e,this._options?.disableOfflineStorage){this._enabled=false;return}this._enabled=true,h_.checkFileProtection(),h_.OS_PROVIDES_FILE_PROTECTION||(this._enabled=false,E.error("Sufficient file protection capabilities were not detected. Files will not be persisted")),this._instrumentationKey||(this._enabled=false,E.error("No instrumentation key was provided to FileSystemPersister. Files will not be persisted")),this._enabled&&(this._tempDirectory=tl.join(this._options?.storageDirectory||Qp.tmpdir(),"Microsoft","AzureMonitor",t.TEMPDIR_PREFIX+this._instrumentationKey),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(()=>{this._fileCleanupTask();},this.cleanupTimeOut),this._fileCleanupTimer.unref()));}push(e){return this._enabled?(E.debug("Pushing value to persistent storage",e.toString()),this._storeToDisk(JSON.stringify(e),e)):this._options?.disableOfflineStorage?new Promise(r=>{r(true);}):new Promise(r=>{r(false);})}async shift(){if(this._enabled){E.debug("Searching for filesystem persisted files");try{let e=await this._getFirstFileOnDisk();if(e)return JSON.parse(e.toString("utf8"))}catch(e){E.debug("Failed to read persisted file",e);}return null}return new Promise(e=>{e(null);})}async _getFirstFileOnDisk(){try{if((await promises.stat(this._tempDirectory)).isDirectory()){let i=(await promises.readdir(this._tempDirectory)).filter(n=>tl.basename(n).includes(t.FILENAME_SUFFIX));if(i.length===0)return null;{let n=i[0],a=tl.join(this._tempDirectory,n),o=await promises.readFile(a);return await promises.unlink(a),o}}return null}catch(e){if(e.code==="ENOENT")return null;throw e}}async _storeToDisk(e,r){try{await uoe(this._tempDirectory);}catch(a){return a?.code==="EACCES"||a?.code==="EPERM"?(this._customerSDKStatsMetrics?.countDroppedItems(r,fr.CLIENT_READONLY),E.warn(`Permission denied while checking/creating directory: ${this._tempDirectory}`,a?.message)):E.warn("Error while checking/creating directory: ",a&&a.message),false}try{let a=await coe(this._tempDirectory);if(a>this.maxBytesOnDisk)return this._customerSDKStatsMetrics?.countDroppedItems(r,fr.CLIENT_PERSISTENCE_CAPACITY),E.warn(`Not saving data due to max size limit being met. Directory size in bytes is: ${a}`),!1}catch(a){return E.warn("Error while checking size of persistence directory: ",a&&a.message),false}let i=`${new Date().getTime()}${t.FILENAME_SUFFIX}`,n=tl.join(this._tempDirectory,i);E.info(`saving data to disk at: ${n}`);try{await promises.writeFile(n,e,{mode:384});}catch(a){return this._customerSDKStatsMetrics?.countDroppedItems(r,fr.CLIENT_EXCEPTION,a?.message,_n.STORAGE_EXCEPTION),E.warn("Error writing file to persistent file storage",a),false}return  true}async _fileCleanupTask(){try{if((await promises.stat(this._tempDirectory)).isDirectory()){let i=(await promises.readdir(this._tempDirectory)).filter(n=>tl.basename(n).includes(t.FILENAME_SUFFIX));return i.length===0?!1:(i.forEach(async n=>{let a=new Date(parseInt(n.split(t.FILENAME_SUFFIX)[0]));if(new Date(+new Date-this.fileRetemptionPeriod)>a){let s=tl.join(this._tempDirectory,n);await promises.unlink(s);}}),!0)}return !1}catch(e){return E.info("Failed cleanup of persistent file storage expired files",e),false}}};P();Q();P();ir();var Bo=class extends Error{constructor(e){super(e),this.name="AbortError";}};function voe(t,...e){ra__namespace.default.stderr.write(`${jZ__namespace.default.format(t,...e)}${Qp.EOL}`);}var boe=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Aoe,iU=[],oU=[],EA=[];boe&&sU(boe);var Ooe=Object.assign(t=>xoe(t),{enable:sU,enabled:aU,disable:GBe,log:voe});function sU(t){Aoe=t,iU=[],oU=[];let e=t.split(",").map(r=>r.trim());for(let r of e)r.startsWith("-")?oU.push(r.substring(1)):iU.push(r);for(let r of EA)r.enabled=aU(r.namespace);}function aU(t){if(t.endsWith("*"))return  true;for(let e of oU)if(Roe(t,e))return  false;for(let e of iU)if(Roe(t,e))return  true;return  false}function Roe(t,e){if(e.indexOf("*")===-1)return t===e;let r=e;if(e.indexOf("**")!==-1){let p=[],f="";for(let _ of e)_==="*"&&f==="*"||(f=_,p.push(_));r=p.join("");}let i=0,n=0,a=r.length,o=t.length,s=-1,c=-1;for(;i<o&&n<a;)if(r[n]==="*"){if(s=n,n++,n===a)return  true;for(;t[i]!==r[n];)if(i++,i===o)return  false;c=i,i++,n++;continue}else if(r[n]===t[i])n++,i++;else if(s>=0){if(n=s+1,i=c+1,i===o)return  false;for(;t[i]!==r[n];)if(i++,i===o)return  false;c=i,i++,n++;continue}else return  false;let u=i===t.length,l=n===r.length,d=n===r.length-1&&r[n]==="*";return u&&(l||d)}function GBe(){let t=Aoe||"";return sU(""),t}function xoe(t){let e=Object.assign(r,{enabled:aU(t),destroy:jBe,log:Ooe.log,namespace:t,extend:qBe});function r(...i){e.enabled&&(i.length>0&&(i[0]=`${t} ${i[0]}`),e.log(...i));}return EA.push(e),e}function jBe(){let t=EA.indexOf(this);return t>=0?(EA.splice(t,1),true):false}function qBe(t){let e=xoe(`${this.namespace}:${t}`);return e.log=this.log,e}var Fp=Ooe;var cU=["verbose","info","warning","error"],Coe={verbose:400,info:300,warning:200,error:100};function Noe(t,e){e.log=(...r)=>{t.log(...r);};}function Poe(t){return cU.includes(t)}function WBe(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,i,n=Fp(t.namespace);n.log=(...l)=>{Fp.log(...l);};function a(l){if(l&&!Poe(l))throw new Error(`Unknown log level '${l}'. Acceptable values: ${cU.join(",")}`);i=l;let d=[];for(let p of e)o(p)&&d.push(p.namespace);Fp.enable(d.join(","));}r&&(Poe(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${cU.join(", ")}.`));function o(l){return !!(i&&Coe[l.level]<=Coe[i])}function s(l,d){let p=Object.assign(l.extend(d),{level:d});if(Noe(l,p),o(p)){let f=Fp.disable();Fp.enable(f+","+p.namespace);}return e.add(p),p}function c(){return i}function u(l){let d=n.extend(l);return Noe(n,d),{error:s(d,"error"),warning:s(d,"warning"),info:s(d,"info"),verbose:s(d,"verbose")}}return {setLogLevel:a,getLogLevel:c,createClientLogger:u,logger:n}}var Ioe=WBe({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function S_(t){return Ioe.createClientLogger(t)}function TA(t){return t.toLowerCase()}function*YBe(t){for(let e of t.values())yield [e.name,e.value];}var uU=class{_headersMap;constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r]);}set(e,r){this._headersMap.set(TA(e),{name:e,value:String(r).trim()});}get(e){return this._headersMap.get(TA(e))?.value}has(e){return this._headersMap.has(TA(e))}delete(e){this._headersMap.delete(TA(e));}toJSON(e={}){let r={};if(e.preserveCase)for(let i of this._headersMap.values())r[i.name]=i.value;else for(let[i,n]of this._headersMap)r[i]=n.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:true}))}[Symbol.iterator](){return YBe(this._headersMap)}};function fi(t){return new uU(t)}function Hp(){return crypto.randomUUID()}var lU=class{url;method;headers;timeout;withCredentials;body;multipartBody;formData;streamResponseStatusCodes;enableBrowserStreams;proxySettings;disableKeepAlive;abortSignal;requestId;allowInsecureConnection;onUploadProgress;onDownloadProgress;requestOverrides;authSchemes;constructor(e){this.url=e.url,this.body=e.body,this.headers=e.headers??fi(),this.method=e.method??"GET",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??false,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??false,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||Hp(),this.allowInsecureConnection=e.allowInsecureConnection??false,this.enableBrowserStreams=e.enableBrowserStreams??false,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes;}};function vA(t){return new lU(t)}var woe=new Set(["Deserialize","Serialize","Retry","Sign"]),dU=class t{_policies=[];_orderedPolicies;constructor(e){this._policies=e?.slice(0)??[],this._orderedPolicies=void 0;}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!woe.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!woe.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0;}removePolicy(e){let r=[];return this._policies=this._policies.filter(i=>e.name&&i.policy.name===e.name||e.phase&&i.options.phase===e.phase?(r.push(i.policy),false):true),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((a,o)=>s=>o.sendRequest(s,a),a=>e.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function i(_){return {name:_,policies:new Set,hasRun:false,hasAfterPolicies:false}}let n=i("Serialize"),a=i("None"),o=i("Deserialize"),s=i("Retry"),c=i("Sign"),u=[n,a,o,s,c];function l(_){return _==="Retry"?s:_==="Serialize"?n:_==="Deserialize"?o:_==="Sign"?c:a}for(let _ of this._policies){let y=_.policy,v=_.options,O=y.name;if(r.has(O))throw new Error("Duplicate policy names not allowed in pipeline");let x={policy:y,dependsOn:new Set,dependants:new Set};v.afterPhase&&(x.afterPhase=l(v.afterPhase),x.afterPhase.hasAfterPolicies=true),r.set(O,x),l(v.phase).policies.add(x);}for(let _ of this._policies){let{policy:y,options:v}=_,O=y.name,x=r.get(O);if(!x)throw new Error(`Missing node for policy ${O}`);if(v.afterPolicies)for(let I of v.afterPolicies){let R=r.get(I);R&&(x.dependsOn.add(R),R.dependants.add(x));}if(v.beforePolicies)for(let I of v.beforePolicies){let R=r.get(I);R&&(R.dependsOn.add(x),x.dependants.add(R));}}function d(_){_.hasRun=true;for(let y of _.policies)if(!(y.afterPhase&&(!y.afterPhase.hasRun||y.afterPhase.policies.size))&&y.dependsOn.size===0){e.push(y.policy);for(let v of y.dependants)v.dependsOn.delete(y);r.delete(y.policy.name),_.policies.delete(y);}}function p(){for(let _ of u){if(d(_),_.policies.size>0&&_!==a){a.hasRun||d(a);return}_.hasAfterPolicies&&d(a);}}let f=0;for(;r.size>0;){f++;let _=e.length;if(p(),e.length<=_&&f>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function bA(){return dU.create()}function Gp(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}function il(t){if(Gp(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return  false}var Moe=jZ.inspect.custom;var pU="REDACTED",XBe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],JBe=["api-version"],Ki=class{allowedHeaderNames;allowedQueryParameters;constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=XBe.concat(e),r=JBe.concat(r),this.allowedHeaderNames=new Set(e.map(i=>i.toLowerCase())),this.allowedQueryParameters=new Set(r.map(i=>i.toLowerCase()));}sanitize(e){let r=new Set;return JSON.stringify(e,(i,n)=>{if(n instanceof Error)return {...n,name:n.name,message:n.message};if(i==="headers")return this.sanitizeHeaders(n);if(i==="url")return this.sanitizeUrl(n);if(i==="query")return this.sanitizeQuery(n);if(i==="body")return;if(i==="response")return;if(i==="operationSpec")return;if(Array.isArray(n)||Gp(n)){if(r.has(n))return "[Circular]";r.add(n);}return n},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[i]of r.searchParams)this.allowedQueryParameters.has(i.toLowerCase())||r.searchParams.set(i,pU);return r.toString()}sanitizeHeaders(e){let r={};for(let i of Object.keys(e))this.allowedHeaderNames.has(i.toLowerCase())?r[i]=e[i]:r[i]=pU;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let i of Object.keys(e))this.allowedQueryParameters.has(i.toLowerCase())?r[i]=e[i]:r[i]=pU;return r}};var QBe=new Ki,jr=class t extends Error{static REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";static PARSE_ERROR="PARSE_ERROR";code;statusCode;request;response;details;constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:false}),Object.defineProperty(this,"response",{value:r.response,enumerable:false});let i=this.request?.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,Moe,{value:()=>`RestError: ${this.message} 
 ${QBe.sanitize({...this,request:{...this.request,agent:i},response:this.response})}`,enumerable:false}),Object.setPrototypeOf(this,t.prototype);}};function RA(t){return t instanceof jr?true:il(t)&&t.name==="RestError"}function Sn(t,e){return Buffer.from(t,e)}var hi=S_("ts-http-runtime");var tFe={};function y_(t){return t&&typeof t.pipe=="function"}function Doe(t){return t.readable===false?Promise.resolve():new Promise(e=>{let r=()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r);};t.on("close",r),t.on("end",r),t.on("error",r);})}function koe(t){return t&&typeof t.byteLength=="number"}var AA=class extends stream.Transform{loadedBytes=0;progressCallback;_transform(e,r,i){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),i();}catch(n){i(n);}}constructor(e){super(),this.progressCallback=e;}},mU=class{cachedHttpAgent;cachedHttpsAgents=new WeakMap;async sendRequest(e){let r=new AbortController,i;if(e.abortSignal){if(e.abortSignal.aborted)throw new Bo("The operation was aborted. Request has already been canceled.");i=u=>{u.type==="abort"&&r.abort();},e.abortSignal.addEventListener("abort",i);}let n;e.timeout>0&&(n=setTimeout(()=>{let u=new Ki;hi.info(`request to '${u.sanitizeUrl(e.url)}' timed out. canceling...`),r.abort();},e.timeout));let a=e.headers.get("Accept-Encoding"),o=a?.includes("gzip")||a?.includes("deflate"),s=typeof e.body=="function"?e.body():e.body;if(s&&!e.headers.has("Content-Length")){let u=oFe(s);u!==null&&e.headers.set("Content-Length",u);}let c;try{if(s&&e.onUploadProgress){let _=e.onUploadProgress,y=new AA(_);y.on("error",v=>{hi.error("Error in upload progress",v);}),y_(s)?s.pipe(y):y.end(s),s=y;}let u=await this.makeRequest(e,r,s);n!==void 0&&clearTimeout(n);let l=rFe(u),p={status:u.statusCode??0,headers:l,request:e};if(e.method==="HEAD")return u.resume(),p;c=o?nFe(u,l):u;let f=e.onDownloadProgress;if(f){let _=new AA(f);_.on("error",y=>{hi.error("Error in download progress",y);}),c.pipe(_),c=_;}return e.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY)||e.streamResponseStatusCodes?.has(p.status)?p.readableStreamBody=c:p.bodyAsText=await iFe(c),p}finally{if(e.abortSignal&&i){let u=Promise.resolve();y_(s)&&(u=Doe(s));let l=Promise.resolve();y_(c)&&(l=Doe(c)),Promise.all([u,l]).then(()=>{i&&e.abortSignal?.removeEventListener("abort",i);}).catch(d=>{hi.warning("Error when cleaning up abortListener on httpRequest",d);});}}}makeRequest(e,r,i){let n=new URL(e.url),a=n.protocol!=="https:";if(a&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let s={agent:e.agent??this.getOrCreateAgent(e,a),hostname:n.hostname,path:`${n.pathname}${n.search}`,port:n.port,method:e.method,headers:e.headers.toJSON({preserveCase:true}),...e.requestOverrides};return new Promise((c,u)=>{let l=a?fU__namespace.default.request(s,c):hU__namespace.default.request(s,c);l.once("error",d=>{u(new jr(d.message,{code:d.code??jr.REQUEST_SEND_ERROR,request:e}));}),r.signal.addEventListener("abort",()=>{let d=new Bo("The operation was aborted. Rejecting from abort signal callback while making request.");l.destroy(d),u(d);}),i&&y_(i)?i.pipe(l):i?typeof i=="string"||Buffer.isBuffer(i)?l.end(i):koe(i)?l.end(ArrayBuffer.isView(i)?Buffer.from(i.buffer):Buffer.from(i)):(hi.error("Unrecognized body type",i),u(new jr("Unrecognized body type"))):l.end();})}getOrCreateAgent(e,r){let i=e.disableKeepAlive;if(r)return i?fU__namespace.default.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new fU__namespace.default.Agent({keepAlive:true})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return hU__namespace.default.globalAgent;let n=e.tlsSettings??tFe,a=this.cachedHttpsAgents.get(n);return a&&a.options.keepAlive===!i||(hi.info("No cached TLS Agent exist, creating a new Agent"),a=new hU__namespace.default.Agent({keepAlive:!i,...n}),this.cachedHttpsAgents.set(n,a)),a}}};function rFe(t){let e=fi();for(let r of Object.keys(t.headers)){let i=t.headers[r];Array.isArray(i)?i.length>0&&e.set(r,i[0]):i&&e.set(r,i);}return e}function nFe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let i=Qo__namespace.default.createGunzip();return t.pipe(i),i}else if(r==="deflate"){let i=Qo__namespace.default.createInflate();return t.pipe(i),i}return t}function iFe(t){return new Promise((e,r)=>{let i=[];t.on("data",n=>{Buffer.isBuffer(n)?i.push(n):i.push(Buffer.from(n));}),t.on("end",()=>{e(Buffer.concat(i).toString("utf8"));}),t.on("error",n=>{n&&n?.name==="AbortError"?r(n):r(new jr(`Error reading response as text: ${n.message}`,{code:jr.PARSE_ERROR}));});})}function oFe(t){return t?Buffer.isBuffer(t)?t.length:y_(t)?null:koe(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}function Uoe(){return new mU}function OA(){return Uoe()}var gU="logPolicy";function xA(t={}){let e=t.logger??hi.info,r=new Ki({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return {name:gU,async sendRequest(i,n){if(!e.enabled)return n(i);e(`Request: ${r.sanitize(i)}`);let a=await n(i);return e(`Response status code: ${a.status}`),e(`Headers: ${r.sanitize(a.headers)}`),a}}}var CA="redirectPolicy",$oe=["GET","HEAD"];function NA(t={}){let{maxRetries:e=20}=t;return {name:CA,async sendRequest(r,i){let n=await i(r);return zoe(i,n,e)}}}async function zoe(t,e,r,i=0){let{request:n,status:a,headers:o}=e,s=o.get("location");if(s&&(a===300||a===301&&$oe.includes(n.method)||a===302&&$oe.includes(n.method)||a===303&&n.method==="POST"||a===307)&&i<r){let c=new URL(s,n.url);n.url=c.toString(),a===303&&(n.method="GET",n.headers.delete("Content-Length"),delete n.body),n.headers.delete("Authorization");let u=await t(n);return zoe(t,u,r,i+1)}return e}var _U="decompressResponsePolicy";function PA(){return {name:_U,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}function E_(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function IA(t,e){let r=e.retryDelayInMs*Math.pow(2,t),i=Math.min(e.maxRetryDelayInMs,r);return {retryAfterInMs:i/2+E_(0,i/2)}}var sFe="The operation was aborted.";function Foe(t,e,r){return new Promise((i,n)=>{let a,o,s=()=>n(new Bo(r?.abortErrorMsg?r?.abortErrorMsg:sFe)),c=()=>{r?.abortSignal&&o&&r.abortSignal.removeEventListener("abort",o);};if(o=()=>(a&&clearTimeout(a),c(),s()),r?.abortSignal&&r.abortSignal.aborted)return s();a=setTimeout(()=>{c(),i(e);},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",o);})}function Hoe(t,e){let r=t.headers.get(e);if(!r)return;let i=Number(r);if(!Number.isNaN(i))return i}var SU="Retry-After",aFe=["retry-after-ms","x-ms-retry-after-ms",SU];function Goe(t){if(t&&[429,503].includes(t.status))try{for(let n of aFe){let a=Hoe(t,n);if(a===0||a)return a*(n===SU?1e3:1)}let e=t.headers.get(SU);if(!e)return;let i=Date.parse(e)-Date.now();return Number.isFinite(i)?Math.max(0,i):void 0}catch{return}}function joe(t){return Number.isFinite(Goe(t))}function yU(){return {name:"throttlingRetryStrategy",retry({response:t}){let e=Goe(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:true}}}}var cFe=1e3,uFe=1e3*64;function wA(t={}){let e=t.retryDelayInMs??cFe,r=t.maxRetryDelayInMs??uFe;return {name:"exponentialRetryStrategy",retry({retryCount:i,response:n,responseError:a}){let o=dFe(a),s=o&&t.ignoreSystemErrors,c=lFe(n),u=c&&t.ignoreHttpStatusCodes;return n&&(joe(n)||!c)||u||s?{skipStrategy:true}:a&&!o&&!c?{errorToThrow:a}:IA(i,{retryDelayInMs:e,maxRetryDelayInMs:r})}}}function lFe(t){return !!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}function dFe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":false}var pFe=S_("ts-http-runtime retryPolicy"),fFe="retryPolicy";function sl(t,e={maxRetries:3}){let r=e.logger||pFe;return {name:fFe,async sendRequest(i,n){let a,o,s=-1;e:for(;;){s+=1,a=void 0,o=void 0;try{r.info(`Retry ${s}: Attempting to send request`,i.requestId),a=await n(i),r.info(`Retry ${s}: Received a response from request`,i.requestId);}catch(c){if(r.error(`Retry ${s}: Received an error from request`,i.requestId),o=c,!c||o.name!=="RestError")throw c;a=o.response;}if(i.abortSignal?.aborted)throw r.error(`Retry ${s}: Request aborted.`),new Bo;if(s>=(e.maxRetries??3)){if(r.info(`Retry ${s}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),o)throw o;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${s}: Processing ${t.length} retry strategies.`);t:for(let c of t){let u=c.logger||r;u.info(`Retry ${s}: Processing retry strategy ${c.name}.`);let l=c.retry({retryCount:s,response:a,responseError:o});if(l.skipStrategy){u.info(`Retry ${s}: Skipped.`);continue t}let{errorToThrow:d,retryAfterInMs:p,redirectTo:f}=l;if(d)throw u.error(`Retry ${s}: Retry strategy ${c.name} throws error:`,d),d;if(p||p===0){u.info(`Retry ${s}: Retry strategy ${c.name} retries after ${p}`),await Foe(p,void 0,{abortSignal:i.abortSignal});continue e}if(f){u.info(`Retry ${s}: Retry strategy ${c.name} redirects to ${f}`),i.url=f;continue e}}if(o)throw r.info("None of the retry strategies could work with the received error. Throwing it."),o;if(a)return r.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var EU="defaultRetryPolicy";function MA(t={}){return {name:EU,sendRequest:sl([yU(),wA(t)],{maxRetries:t.maxRetries??3}).sendRequest}}typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";typeof Bun<"u"&&typeof Bun.version<"u";var al=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!globalThis.process.versions?.node;var TU="formDataPolicy";function hFe(t){let e={};for(let[r,i]of t.entries())e[r]??=[],e[r].push(i);return e}function LA(){return {name:TU,async sendRequest(t,e){if(al&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=hFe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=mFe(t.formData):await gFe(t.formData,t),t.formData=void 0;}return e(t)}}}function mFe(t){let e=new URLSearchParams;for(let[r,i]of Object.entries(t))if(Array.isArray(i))for(let n of i)e.append(r,n.toString());else e.append(r,i.toString());return e.toString()}async function gFe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let i=[];for(let[n,a]of Object.entries(t))for(let o of Array.isArray(a)?a:[a])if(typeof o=="string")i.push({headers:fi({"Content-Disposition":`form-data; name="${n}"`}),body:Sn(o,"utf-8")});else {if(o==null||typeof o!="object")throw new Error(`Unexpected value for key ${n}: ${o}. Value should be serialized to string first.`);{let s=o.name||"blob",c=fi();c.set("Content-Disposition",`form-data; name="${n}"; filename="${s}"`),c.set("Content-Type",o.type||"application/octet-stream"),i.push({headers:c,body:o});}}e.multipartBody={parts:i};}var gse=Qe(use(),1),_se=Qe(pse(),1);var WFe="HTTPS_PROXY",KFe="HTTP_PROXY",YFe="ALL_PROXY",ZFe="NO_PROXY",RU="proxyPolicy",fse=[],Sse=false,XFe=new Map;function zA(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}function JFe(){if(!process)return;let t=zA(WFe),e=zA(YFe),r=zA(KFe);return t||e||r}function QFe(t,e,r){if(e.length===0)return  false;let i=new URL(t).hostname;if(r?.has(i))return r.get(i);let n=false;for(let a of e)a[0]==="."?(i.endsWith(a)||i.length===a.length-1&&i===a.slice(1))&&(n=true):i===a&&(n=true);return r?.set(i,n),n}function e2e(){let t=zA(ZFe);return Sse=true,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}function t2e(){let t=JFe();return t?new URL(t):void 0}function hse(t){let e;try{e=new URL(t.host);}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}function mse(t,e,r){if(t.agent)return;let n=new URL(t.url).protocol!=="https:";t.tlsSettings&&hi.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=t.headers.toJSON();n?(e.httpProxyAgent||(e.httpProxyAgent=new _se.HttpProxyAgent(r,{headers:a})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new gse.HttpsProxyAgent(r,{headers:a})),t.agent=e.httpsProxyAgent);}function VA(t,e){Sse||fse.push(...e2e());let r=t?hse(t):t2e(),i={};return {name:RU,async sendRequest(n,a){return !n.proxySettings&&r&&!QFe(n.url,fse,XFe)?mse(n,i,r):n.proxySettings&&mse(n,i,hse(n.proxySettings)),a(n)}}}var AU="agentPolicy";function BA(t){return {name:AU,sendRequest:async(e,r)=>(e.agent||(e.agent=t),r(e))}}var OU="tlsPolicy";function FA(t){return {name:OU,sendRequest:async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e))}}function HA(t){return typeof t.stream=="function"}async function*yse(){let t=this.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)return;yield r;}}finally{t.releaseLock();}}function r2e(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=yse.bind(t)),t.values||(t.values=yse.bind(t));}function Ese(t){return t instanceof ReadableStream?(r2e(t),stream.Readable.fromWeb(t)):t}function n2e(t){return t instanceof Uint8Array?stream.Readable.from(Buffer.from(t)):HA(t)?Ese(t.stream()):Ese(t)}async function Tse(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(n2e);return stream.Readable.from((async function*(){for(let r of e)for await(let i of r)yield i;})())}}function i2e(){return `----AzSDKFormBoundary${Hp()}`}function o2e(t){let e="";for(let[r,i]of t)e+=`${r}: ${i}\r
`;return e}function s2e(t){return t instanceof Uint8Array?t.byteLength:HA(t)?t.size===-1?void 0:t.size:void 0}function a2e(t){let e=0;for(let r of t){let i=s2e(r);if(i===void 0)return;e+=i;}return e}async function c2e(t,e,r){let i=[Sn(`--${r}`,"utf-8"),...e.flatMap(a=>[Sn(`\r
`,"utf-8"),Sn(o2e(a.headers),"utf-8"),Sn(`\r
`,"utf-8"),a.body,Sn(`\r
--${r}`,"utf-8")]),Sn(`--\r
\r
`,"utf-8")],n=a2e(i);n&&t.headers.set("Content-Length",n),t.body=await Tse(i);}var v_="multipartPolicy",u2e=70,l2e=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function d2e(t){if(t.length>u2e)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!l2e.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}function GA(){return {name:v_,async sendRequest(t,e){if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let r=t.multipartBody.boundary,i=t.headers.get("Content-Type")??"multipart/mixed",n=i.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!n)throw new Error(`Got multipart request body, but content-type header was not multipart: ${i}`);let[,a,o]=n;if(o&&r&&o!==r)throw new Error(`Multipart boundary was specified as ${o} in the header, but got ${r} in the request body`);return r??=o,r?d2e(r):r=i2e(),t.headers.set("Content-Type",`${a}; boundary=${r}`),await c2e(t,t.multipartBody.parts,r),t.multipartBody=void 0,e(t)}}}function PU(){return bA()}var Ho=zo("core-rest-pipeline");function IU(t={}){return xA({logger:Ho.info,...t})}var b_=CA;function wU(t={}){return NA(t)}function vse(){return "User-Agent"}async function bse(t){if(ra__namespace.default&&ra__namespace.default.versions){let e=`${Qp__namespace.default.type()} ${Qp__namespace.default.release()}; ${Qp__namespace.default.arch()}`,r=ra__namespace.default.versions;r.bun?t.set("Bun",`${r.bun} (${e})`):r.deno?t.set("Deno",`${r.deno} (${e})`):r.node&&t.set("Node",`${r.node} (${e})`);}}var jA="1.22.2";function E2e(t){let e=[];for(let[r,i]of t){let n=i?`${r}/${i}`:r;e.push(n);}return e.join(" ")}function Rse(){return vse()}async function qA(t){let e=new Map;e.set("core-rest-pipeline",jA),await bse(e);let r=E2e(e);return t?`${t} ${r}`:r}var Ase=Rse(),Ose="userAgentPolicy";function DU(t={}){let e=qA(t.userAgentPrefix);return {name:Ose,async sendRequest(r,i){return r.headers.has(Ase)||r.headers.set(Ase,await e),i(r)}}}var R_=class extends Error{constructor(e){super(e),this.name="AbortError";}};function kU(t,e){let{cleanupBeforeAbort:r,abortSignal:i,abortErrorMsg:n}=e??{};return new Promise((a,o)=>{function s(){o(new R_(n??"The operation was aborted."));}function c(){i?.removeEventListener("abort",u);}function u(){r?.(),c(),s();}if(i?.aborted)return s();try{t(l=>{c(),a(l);},l=>{c(),o(l);});}catch(l){o(l);}i?.addEventListener("abort",u);})}var A2e="The delay was aborted.";function UU(t,e){let r,{abortSignal:i,abortErrorMsg:n}={};return kU(a=>{r=setTimeout(a,t);},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:i,abortErrorMsg:n??A2e})}function Wp(t){if(il(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t);}catch{e="[unable to stringify input]";}return `Unknown error ${e}`}}function xse(t){return il(t)}var WA=al;var Cse=Symbol("rawContent");function $U(t){return typeof t[Cse]=="function"}function Nse(t){return $U(t)?t[Cse]():t}var KA=v_;function zU(){let t=GA();return {name:KA,sendRequest:async(e,r)=>{if(e.multipartBody)for(let i of e.multipartBody.parts)$U(i.body)&&(i.body=Nse(i.body));return t.sendRequest(e,r)}}}function VU(){return PA()}function BU(t={}){return MA(t)}function FU(){return LA()}function HU(t,e){return VA(t)}var Pse="setClientRequestIdPolicy";function GU(t="x-ms-client-request-id"){return {name:Pse,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}function jU(t){return BA(t)}function qU(t){return FA(t)}var Kp={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function Ise(t={}){let e=new WU(t.parentContext);return t.span&&(e=e.setValue(Kp.span,t.span)),t.namespace&&(e=e.setValue(Kp.namespace,t.namespace)),e}var WU=class t{_contextMap;constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map;}setValue(e,r){let i=new t(this);return i._contextMap.set(e,r),i}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};var Mse=Qe(wse(),1),ZA=Mse.state;function O2e(){return {end:()=>{},isRecording:()=>false,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function x2e(){return {createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:O2e(),tracingContext:Ise({parentContext:e.tracingContext})}),withContext(t,e,...r){return e(...r)}}}function A_(){return ZA.instrumenterImplementation||(ZA.instrumenterImplementation=x2e()),ZA.instrumenterImplementation}function KU(t){let{namespace:e,packageName:r,packageVersion:i}=t;function n(u,l,d){let p=A_().startSpan(u,{...d,packageName:r,packageVersion:i,tracingContext:l?.tracingOptions?.tracingContext}),f=p.tracingContext,_=p.span;f.getValue(Kp.namespace)||(f=f.setValue(Kp.namespace,e)),_.setAttribute("az.namespace",f.getValue(Kp.namespace));let y=Object.assign({},l,{tracingOptions:{...l?.tracingOptions,tracingContext:f}});return {span:_,updatedOptions:y}}async function a(u,l,d,p){let{span:f,updatedOptions:_}=n(u,l,p);try{let y=await o(_.tracingOptions.tracingContext,()=>Promise.resolve(d(_,f)));return f.setStatus({status:"success"}),y}catch(y){throw f.setStatus({status:"error",error:y}),y}finally{f.end();}}function o(u,l,...d){return A_().withContext(u,l,...d)}function s(u){return A_().parseTraceparentHeader(u)}function c(u){return A_().createRequestHeaders(u)}return {startSpan:n,withSpan:a,withContext:o,parseTraceparentHeader:s,createRequestHeaders:c}}var Yp=jr;function O_(t){return RA(t)}var Lse="tracingPolicy";function YU(t={}){let e=qA(t.userAgentPrefix),r=new Ki({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),i=C2e();return {name:Lse,async sendRequest(n,a){if(!i)return a(n);let o=await e,s={"http.url":r.sanitizeUrl(n.url),"http.method":n.method,"http.user_agent":o,requestId:n.requestId};o&&(s["http.user_agent"]=o);let{span:c,tracingContext:u}=N2e(i,n,s)??{};if(!c||!u)return a(n);try{let l=await i.withContext(u,a,n);return I2e(c,l),l}catch(l){throw P2e(c,l),l}}}}function C2e(){try{return KU({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:jA})}catch(t){Ho.warning(`Error when creating the TracingClient: ${Wp(t)}`);return}}function N2e(t,e,r){try{let{span:i,updatedOptions:n}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!i.isRecording()){i.end();return}let a=t.createRequestHeaders(n.tracingOptions.tracingContext);for(let[o,s]of Object.entries(a))e.headers.set(o,s);return {span:i,tracingContext:n.tracingOptions.tracingContext}}catch(i){Ho.warning(`Skipping creating a tracing span due to an error: ${Wp(i)}`);return}}function P2e(t,e){try{t.setStatus({status:"error",error:xse(e)?e:void 0}),O_(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end();}catch(r){Ho.warning(`Skipping tracing span processing due to an error: ${Wp(r)}`);}}function I2e(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end();}catch(r){Ho.warning(`Skipping tracing span processing due to an error: ${Wp(r)}`);}}function XA(t){if(t instanceof AbortSignal)return {abortSignal:t};if(t.aborted)return {abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=true;function i(){r&&(t.removeEventListener("abort",n),r=false);}function n(){e.abort(t.reason),i();}return t.addEventListener("abort",n),{abortSignal:e.signal,cleanup:i}}var w2e="wrapAbortSignalLikePolicy";function Dse(){return {name:w2e,sendRequest:async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:i}=XA(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{i?.();}}}}function ZU(t){let e=PU();return WA&&(t.agent&&e.addPolicy(jU(t.agent)),t.tlsOptions&&e.addPolicy(qU(t.tlsOptions)),e.addPolicy(HU(t.proxyOptions)),e.addPolicy(VU())),e.addPolicy(Dse()),e.addPolicy(FU(),{beforePolicies:[KA]}),e.addPolicy(DU(t.userAgentOptions)),e.addPolicy(GU(t.telemetryOptions?.clientRequestIdHeaderName)),e.addPolicy(zU(),{afterPhase:"Deserialize"}),e.addPolicy(BU(t.retryOptions),{phase:"Retry"}),e.addPolicy(YU({...t.userAgentOptions,...t.loggingOptions}),{afterPhase:"Retry"}),WA&&e.addPolicy(wU(t.redirectOptions),{afterPhase:"Retry"}),e.addPolicy(IU(t.loggingOptions),{afterPhase:"Sign"}),e}function x_(){let t=OA();return {async sendRequest(e){let{abortSignal:r,cleanup:i}=e.abortSignal?XA(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{i?.();}}}}function C_(t){return vA(t)}zo("core-rest-pipeline retryPolicy");var M2e={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function L2e(t,e,r){async function i(){if(Date.now()<r)try{return await t()}catch{return null}else {let a=await t();if(a===null)throw new Error("Failed to refresh access token.");return a}}let n=await i();for(;n===null;)await UU(e),n=await i();return n}function XU(t,e){let r=null,i=null,n,a={...M2e,...e},o={get isRefreshing(){return r!==null},get shouldRefresh(){return o.isRefreshing?false:i?.refreshAfterTimestamp&&i.refreshAfterTimestamp<Date.now()?true:(i?.expiresOnTimestamp??0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return i===null||i.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function s(c,u){return o.isRefreshing||(r=L2e(()=>t.getToken(c,u),a.retryIntervalInMs,i?.expiresOnTimestamp??Date.now()).then(d=>(r=null,i=d,n=u.tenantId,i)).catch(d=>{throw r=null,i=null,n=void 0,d})),r}return async(c,u)=>{let l=!!u.claims,d=n!==u.tenantId;return l&&(i=null),d||l||o.mustRefresh?s(c,u):(o.shouldRefresh&&s(c,u),i)}}var zse="bearerTokenAuthenticationPolicy";async function JA(t,e){try{return [await e(t),void 0]}catch(r){if(O_(r)&&r.response)return [r.response,r];throw r}}async function D2e(t){let{scopes:e,getAccessToken:r,request:i}=t,n={abortSignal:i.abortSignal,tracingOptions:i.tracingOptions,enableCae:true},a=await r(e,n);a&&t.request.headers.set("Authorization",`Bearer ${a.token}`);}function kse(t){return t.status===401&&t.headers.has("WWW-Authenticate")}async function Use(t,e){let{scopes:r}=t,i=await t.getAccessToken(r,{enableCae:true,claims:e});return i?(t.request.headers.set("Authorization",`${i.tokenType??"Bearer"} ${i.token}`),true):false}function JU(t){let{credential:e,scopes:r,challengeCallbacks:i}=t,n=t.logger||Ho,a={authorizeRequest:i?.authorizeRequest?.bind(i)??D2e,authorizeRequestOnChallenge:i?.authorizeRequestOnChallenge?.bind(i)},o=e?XU(e):()=>Promise.resolve(null);return {name:zse,async sendRequest(s,c){if(!s.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await a.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:s,getAccessToken:o,logger:n});let u,l,d;if([u,l]=await JA(s,c),kse(u)){let p=$se(u.headers.get("WWW-Authenticate"));if(p){let f;try{f=atob(p);}catch{return n.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${p}`),u}d=await Use({scopes:Array.isArray(r)?r:[r],response:u,request:s,getAccessToken:o,logger:n},f),d&&([u,l]=await JA(s,c));}else if(a.authorizeRequestOnChallenge&&(d=await a.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:s,response:u,getAccessToken:o,logger:n}),d&&([u,l]=await JA(s,c)),kse(u)&&(p=$se(u.headers.get("WWW-Authenticate")),p))){let f;try{f=atob(p);}catch{return n.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${p}`),u}d=await Use({scopes:Array.isArray(r)?r:[r],response:u,request:s,getAccessToken:o,logger:n},f),d&&([u,l]=await JA(s,c));}}if(l)throw l;return u}}}function k2e(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,i=[],n;for(;(n=e.exec(t))!==null;){let a=n[1],o=n[2],s={},c;for(;(c=r.exec(o))!==null;)s[c[1]]=c[2];i.push({scheme:a,params:s});}return i}function $se(t){return t?k2e(t).find(r=>r.scheme==="Bearer"&&r.params.claims&&r.params.error==="insufficient_claims")?.params.claims:void 0}P();var lc=class{resourceProvider=uc.unknown;vmInfo={};os=Qp__namespace.default.type();resourceIdentifier="";async getResourceProvider(){this.resourceProvider=uc.unknown,process.env.AKS_ARM_NAMESPACE_ID?(this.resourceProvider=uc.aks,this.resourceIdentifier=process.env.AKS_ARM_NAMESPACE_ID):process.env.WEBSITE_SITE_NAME&&!process.env.FUNCTIONS_WORKER_RUNTIME?(this.resourceProvider=uc.appsvc,this.resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(this.resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(this.resourceProvider=uc.functions,process.env.WEBSITE_HOSTNAME&&(this.resourceIdentifier=process.env.WEBSITE_HOSTNAME)):await this.getAzureComputeMetadata()?(this.resourceProvider=uc.vm,this.resourceIdentifier=this.vmInfo.id+"/"+this.vmInfo.subscriptionId,this.vmInfo.osType&&(this.os=this.vmInfo.osType)):this.resourceProvider=uc.unknown;}async getAzureComputeMetadata(){let e=x_(),i={url:`${poe}?${foe}&${hoe}`,timeout:5e3,method:"GET",allowInsecureConnection:true},n=C_(i);return await e.sendRequest(n).then(a=>{if(a.status===200){this.vmInfo.isVM=true;let o="";return a.on("data",s=>{o+=s;}),a.on("end",()=>{try{let s=JSON.parse(o);this.vmInfo.id=s.vmId||"",this.vmInfo.subscriptionId=s.subscriptionId||"",this.vmInfo.osType=s.osType||"";}catch(s){E.debug("Failed to parse JSON: ",s);}}),true}else return  false}).catch(()=>false),false}getConnectionString(e){let r=e;for(let i=0;i<nU.length;i++)if(r.includes(nU[i]))return goe;return moe}};P();Q();ir();var Vse=new Map([[Wi.PRIVATE_BYTES,Fn.PRIVATE_BYTES],[Wi.AVAILABLE_BYTES,Fn.AVAILABLE_BYTES],[Wi.PROCESSOR_TIME,Fn.PROCESSOR_TIME],[Wi.PROCESS_TIME_STANDARD,Fn.PROCESS_TIME_STANDARD],[Wi.PROCESS_TIME_NORMALIZED,Fn.PROCESS_TIME_NORMALIZED],[Wi.REQUEST_RATE,Fn.REQUEST_RATE],[Wi.REQUEST_DURATION,Fn.REQUEST_DURATION],[Wi.EXCEPTION_RATE,Fn.EXCEPTION_RATE]]);function $2e(t){let e={};if(t)for(let r of Object.keys(t))e[r]=t[r];return e}function QA(t,e,r){let i=[],n=new Date,a=e,o,s;return r?(s="Microsoft.ApplicationInsights.Statsbeat",o={...eO().tags}):(s="Microsoft.ApplicationInsights.Metric",o=dc(t.resource)),t.scopeMetrics.forEach(c=>{c.metrics.forEach(u=>{u.dataPoints.forEach(l=>{let d={metrics:[],version:2,properties:{}};if(d.properties=$2e(l.attributes),Bse()&&QU()&&!z2e(l)&&process.env[noe]==="false"&&!r)return;Bse()&&QU()&&!r?d.properties["_MS.SentToAMW"]="True":QU()&&!r&&(d.properties["_MS.SentToAMW"]="False");let p;Vse.has(u.descriptor.name)&&(p=Vse.get(u.descriptor.name));let f={name:p||u.descriptor.name,value:0,dataPointType:"Aggregation"};u.dataPointType===At.SUM||u.dataPointType===At.GAUGE?(f.value=l.value,f.count=1):(f.value=l.value.sum||0,f.count=l.value.count,f.max=l.value.max,f.min=l.value.min),d.metrics.push(f);let _={name:s,time:n,sampleRate:100,instrumentationKey:a,tags:o,version:1,data:{baseType:"MetricData",baseData:{...d}}};i.push(_);});});}),i}function QU(){return !!(process.env[roe]==="true"&&process.env.AKS_ARM_NAMESPACE_ID)}function Bse(){return !!(process.env[eoe]&&process.env[toe]?.includes("otlp"))}function z2e(t){return t.attributes?.["_MS.IsAutocollected"]==="True"}function Zp(){return process.env[loe]==="true"?m_.INTEGRATED_AUTO:m_.MANUAL}var pc=class extends qi{_isShutdown=false;_sender;constructor(e){super(e,true),this._sender=new Go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,isStatsbeatSender:true});}filterZeroValueMetrics(e){return e.filter(r=>r.data?.baseType==="MetricData"&&r.data?.baseData?.metrics?r.data.baseData.metrics.some(n=>n.value!==0):true)}async export(e,r){if(this._isShutdown){setTimeout(()=>r({code:Z.FAILED}),0);return}let i=QA(e,this.instrumentationKey,true),n=this.filterZeroValueMetrics(i);Te.with(qt(Te.active()),async()=>{r(await this._sender.exportEnvelopes(n));});}async shutdown(){return this._isShutdown=true,this._sender.shutdown()}async forceFlush(){return Promise.resolve()}};var tO=class t extends lc{static instance=null;disableNonEssentialStatsbeat=!!process.env[Xie];commonProperties;networkProperties;isInitialized=false;statsCollectionShortInterval=9e5;networkStatsbeatCollection=[];networkStatsbeatMeter;networkStatsbeatMeterProvider;networkAzureExporter;cikey;runtimeVersion;language;version;attach=Zp();successCountGauge;failureCountGauge;retryCountGauge;throttleCountGauge;exceptionCountGauge;averageDurationGauge;readFailureGauge;writeFailureGauge;connectionString;endpointUrl;host;constructor(e){super(),this.connectionString=super.getConnectionString(e.endpointUrl);let r={connectionString:this.connectionString};this.networkAzureExporter=new pc(r);let i={exporter:this.networkAzureExporter,exportIntervalMillis:e.networkCollectionInterval||this.statsCollectionShortInterval};this.networkStatsbeatMeterProvider=new wr({readers:[new nr(i)]}),this.networkStatsbeatMeter=this.networkStatsbeatMeterProvider.getMeter("Azure Monitor Network Statsbeat"),this.endpointUrl=e.endpointUrl,this.runtimeVersion=process.version,this.language=Bp,this.version=ac,this.host=this.getShortHost(e.endpointUrl),this.cikey=e.instrumentationKey,this.successCountGauge=this.networkStatsbeatMeter.createObservableGauge(gn.SUCCESS_COUNT),this.failureCountGauge=this.networkStatsbeatMeter.createObservableGauge(gn.FAILURE_COUNT),this.retryCountGauge=this.networkStatsbeatMeter.createObservableGauge(gn.RETRY_COUNT),this.throttleCountGauge=this.networkStatsbeatMeter.createObservableGauge(gn.THROTTLE_COUNT),this.exceptionCountGauge=this.networkStatsbeatMeter.createObservableGauge(gn.EXCEPTION_COUNT),this.averageDurationGauge=this.networkStatsbeatMeter.createObservableGauge(gn.AVERAGE_DURATION),this.disableNonEssentialStatsbeat||(this.readFailureGauge=this.networkStatsbeatMeter.createObservableGauge(gn.READ_FAILURE_COUNT),this.writeFailureGauge=this.networkStatsbeatMeter.createObservableGauge(gn.WRITE_FAILURE_COUNT)),this.isInitialized=true,this.initialize(),this.commonProperties={os:this.os,rp:this.resourceProvider,cikey:this.cikey,runtimeVersion:this.runtimeVersion,language:this.language,version:this.version,attach:this.attach},this.networkProperties={endpoint:this.endpointUrl,host:this.host};}shutdown(){return this.networkStatsbeatMeterProvider.shutdown()}async initialize(){try{await super.getResourceProvider(),this.successCountGauge.addCallback(this.successCallback.bind(this)),this.networkStatsbeatMeter.addBatchObservableCallback(this.failureCallback.bind(this),[this.failureCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.retryCallback.bind(this),[this.retryCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.throttleCallback.bind(this),[this.throttleCountGauge]),this.networkStatsbeatMeter.addBatchObservableCallback(this.exceptionCallback.bind(this),[this.exceptionCountGauge]),this.disableNonEssentialStatsbeat||(this.readFailureGauge?.addCallback(this.readFailureCallback.bind(this)),this.writeFailureGauge?.addCallback(this.writeFailureCallback.bind(this))),this.averageDurationGauge.addCallback(this.durationCallback.bind(this));}catch{E.debug("Call to get the resource provider failed.");}}successCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalSuccessfulRequestCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalSuccessfulRequestCount,i),r.totalSuccessfulRequestCount=0;}}failureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.totalFailedRequestCount.length;n++)r.totalFailedRequestCount[n].count>0&&(i.statusCode=r.totalFailedRequestCount[n].statusCode,e.observe(this.failureCountGauge,r.totalFailedRequestCount[n].count,{...i}),r.totalFailedRequestCount[n].count=0);}retryCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.retryCount.length;n++)r.retryCount[n].count>0&&(i.statusCode=r.retryCount[n].statusCode,e.observe(this.retryCountGauge,r.retryCount[n].count,{...i}),r.retryCount[n].count=0);}throttleCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,statusCode:0};for(let n=0;n<r.throttleCount.length;n++)r.throttleCount[n].count>0&&(i.statusCode=r.throttleCount[n].statusCode,e.observe(this.throttleCountGauge,r.throttleCount[n].count,{...i}),r.throttleCount[n].count=0);}exceptionCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties,exceptionType:""};for(let n=0;n<r.exceptionCount.length;n++)r.exceptionCount[n].count>0&&(i.exceptionType=r.exceptionCount[n].exceptionType,e.observe(this.exceptionCountGauge,r.exceptionCount[n].count,{...i}),r.exceptionCount[n].count=0);}durationCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i={...this.networkProperties,...this.commonProperties};for(let n=0;n<this.networkStatsbeatCollection.length;n++){let a=this.networkStatsbeatCollection[n];a.time=Number(new Date);let o=a.totalRequestCount-a.lastRequestCount||0;o>0?a.averageRequestExecutionTime=(a.intervalRequestExecutionTime-a.lastIntervalRequestExecutionTime)/o||0:a.averageRequestExecutionTime=0,a.lastIntervalRequestExecutionTime=a.intervalRequestExecutionTime,a.lastRequestCount=a.totalRequestCount,a.lastTime=a.time;}r.averageRequestExecutionTime>0&&(e.observe(r.averageRequestExecutionTime,i),r.averageRequestExecutionTime=0);}readFailureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalReadFailureCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalReadFailureCount,i),r.totalReadFailureCount=0;}}writeFailureCallback(e){let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);if(r.totalWriteFailureCount>0){let i={...this.commonProperties,...this.networkProperties};e.observe(r.totalWriteFailureCount,i),r.totalWriteFailureCount=0;}}countSuccess(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);r.totalRequestCount++,r.totalSuccessfulRequestCount++,r.intervalRequestExecutionTime+=e;}countFailure(e,r){if(!this.isInitialized)return;let i=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),n=i.totalFailedRequestCount.find(a=>r===a.statusCode);n?n.count++:i.totalFailedRequestCount.push({statusCode:r,count:1}),i.totalRequestCount++,i.intervalRequestExecutionTime+=e;}countRetry(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.retryCount.find(n=>e===n.statusCode);i?i.count++:r.retryCount.push({statusCode:e,count:1});}countThrottle(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.throttleCount.find(n=>e===n.statusCode);i?i.count++:r.throttleCount.push({statusCode:e,count:1});}countReadFailure(){if(!this.isInitialized||this.disableNonEssentialStatsbeat)return;let e=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);e.totalReadFailureCount++;}countWriteFailure(){if(!this.isInitialized||this.disableNonEssentialStatsbeat)return;let e=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host);e.totalWriteFailureCount++;}countException(e){if(!this.isInitialized)return;let r=this.getNetworkStatsbeatCounter(this.endpointUrl,this.host),i=r.exceptionCount.find(n=>e.name===n.exceptionType);i?i.count++:r.exceptionCount.push({exceptionType:e.name,count:1});}getNetworkStatsbeatCounter(e,r){for(let n=0;n<this.networkStatsbeatCollection.length;n++)if(e===this.networkStatsbeatCollection[n].endpoint&&r===this.networkStatsbeatCollection[n].host)return this.networkStatsbeatCollection[n];let i=new gA(e,r);return this.networkStatsbeatCollection.push(i),i}getShortHost(e){let r=e;try{let n=new RegExp(/^https?:\/\/(?:www\.)?([^/.-]+)/).exec(e);n!==null&&n.length>1&&(r=n[1]),r=r.replace(".in.applicationinsights.azure.com","");}catch{E.debug("Failed to get the short host name.");}return r}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}};P();Q();ir();var rO=class t extends lc{static instance=null;statsCollectionLongInterval=864e5;cikey;runtimeVersion;language;version;attach=Zp();commonProperties;attachProperties;feature=0;instrumentation=0;longIntervalStatsbeatMeterProvider;longIntervalAzureExporter;longIntervalMetricReader;longIntervalStatsbeatMeter;connectionString;featureStatsbeatGauge;attachStatsbeatGauge;isInitialized=false;constructor(e){super(),this.connectionString=super.getConnectionString(e.endpointUrl);let r={connectionString:this.connectionString,disableOfflineStorage:e.disableOfflineStorage};this.setFeatures(),this.longIntervalAzureExporter=new pc(r);let i={exporter:this.longIntervalAzureExporter,exportIntervalMillis:Number(process.env.LONG_INTERVAL_EXPORT_MILLIS)||this.statsCollectionLongInterval};this.longIntervalMetricReader=new nr(i),this.longIntervalStatsbeatMeterProvider=new wr({readers:[this.longIntervalMetricReader]}),this.longIntervalStatsbeatMeter=this.longIntervalStatsbeatMeterProvider.getMeter("Azure Monitor Long Interval Statsbeat"),this.runtimeVersion=process.version,this.language=Bp,this.version=ac,this.cikey=e.instrumentationKey,this.featureStatsbeatGauge=this.longIntervalStatsbeatMeter.createObservableGauge(gn.FEATURE),this.attachStatsbeatGauge=this.longIntervalStatsbeatMeter.createObservableGauge(gn.ATTACH),this.isInitialized=true,this.initialize(),this.commonProperties={os:this.os,rp:this.resourceProvider,cikey:this.cikey,runtimeVersion:this.runtimeVersion,language:this.language,version:this.version,attach:this.attach},this.attachProperties={rpId:this.resourceIdentifier};}async initialize(){try{await this.getResourceProvider(),this.attachStatsbeatGauge.addCallback(this.attachCallback.bind(this)),this.longIntervalStatsbeatMeter.addBatchObservableCallback(this.getEnvironmentStatus.bind(this),[this.featureStatsbeatGauge]),setTimeout(async()=>{try{let e=await this.longIntervalMetricReader.collect();e?this.longIntervalAzureExporter.export(e.resourceMetrics,r=>{r.code!==Z.SUCCESS&&E.debug(`LongIntervalStatsbeat: metrics export failed (error ${r.error})`);}):E.debug("LongIntervalStatsbeat: No metrics collected");}catch(e){E.debug(`LongIntervalStatsbeat: Error collecting metrics: ${e}`);}},15e3);}catch{E.debug("Call to get the resource provider failed.");}}getEnvironmentStatus(e){this.setFeatures();let r;this.instrumentation>0&&(r={...this.commonProperties,feature:this.instrumentation,type:g_.INSTRUMENTATION},e.observe(this.featureStatsbeatGauge,1,{...r})),this.feature>0&&(r={...this.commonProperties,feature:this.feature,type:g_.FEATURE},e.observe(this.featureStatsbeatGauge,1,{...r}));}setFeatures(){let e=process.env.AZURE_MONITOR_STATSBEAT_FEATURES;if(e)try{this.feature=JSON.parse(e).feature,this.instrumentation=JSON.parse(e).instrumentation;}catch(r){E.debug(`LongIntervalStatsbeat: Failed to parse features/instrumentations (error ${r})`);}}attachCallback(e){let r={...this.commonProperties,...this.attachProperties};e.observe(1,r);}shutdown(){return this.longIntervalStatsbeatMeterProvider.shutdown()}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}};function nO(t){return t===206||t===401||t===403||t===408||t===429||t===439||t===500||t===502||t===503||t===504}function e1(t){(isNaN(t)||t<0)&&(t=0);let e=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,n=Math.floor(t/(1e3*60*60*24));return e=e.indexOf(".")<2?"0"+e:e,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(n>0?n+".":"")+i+":"+r+":"+e}P();ir();var iO=class t extends lc{static _instance;statsCollectionInterval=9e5;customerSDKStatsMeter;customerSDKStatsMeterProvider;customerSDKStatsExporter;customerSDKStatsCounter;customerSDKStatsMetricReader;isInitialized=false;language;version;attach=Zp();itemSuccessCountGauge;itemDropCountGauge;itemRetryCountGauge;customerProperties;constructor(e){super();let r={connectionString:`InstrumentationKey=${e.instrumentationKey};IngestionEndpoint=${e.endpointUrl}`};this.customerSDKStatsExporter=new pc(r);let i={exporter:this.customerSDKStatsExporter,exportIntervalMillis:e.networkCollectionInterval||this.statsCollectionInterval};this.customerSDKStatsMetricReader=new nr(i),this.customerSDKStatsMeterProvider=new wr({readers:[this.customerSDKStatsMetricReader]}),this.customerSDKStatsMeter=this.customerSDKStatsMeterProvider.getMeter("Azure Monitor Customer SDK Stats"),this.language=Bp,this.version=ac,this.itemSuccessCountGauge=this.customerSDKStatsMeter.createObservableGauge(Vp.ITEM_SUCCESS_COUNT),this.itemDropCountGauge=this.customerSDKStatsMeter.createObservableGauge(Vp.ITEM_DROP_COUNT),this.itemRetryCountGauge=this.customerSDKStatsMeter.createObservableGauge(Vp.ITEM_RETRY_COUNT),this.isInitialized||this.initialize(),this.isInitialized=true,this.customerSDKStatsCounter=new _A,this.customerProperties={language:this.language,version:this.version,computeType:this.attach};}static getInstance(e){return t._instance||(t._instance=new t(e)),t._instance}static shutdown(){if(t._instance){let e=t._instance.shutdown();return t._instance=void 0,e}}shutdown(){return this.customerSDKStatsMeterProvider.shutdown()}async initialize(){try{await super.getResourceProvider(),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemSuccessCallback.bind(this),[this.itemSuccessCountGauge]),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemDropCallback.bind(this),[this.itemDropCountGauge]),this.customerSDKStatsMeter.addBatchObservableCallback(this.itemRetryCallback.bind(this),[this.itemRetryCountGauge]);}catch{E.debug("Call to get the resource provider failed for customer SDK Stats metrics.");}}itemSuccessCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,telemetry_type:Nt.UNKNOWN};for(let[n,a]of r.totalItemSuccessCount.entries())a>0&&(i.telemetry_type=n,e.observe(this.itemSuccessCountGauge,a,{...i}),r.totalItemSuccessCount.set(n,0));}itemDropCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,"drop.code":fr.UNKNOWN,telemetry_type:Nt.UNKNOWN};for(let[n,a]of r.totalItemDropCount.entries())for(let[o,s]of a.entries())for(let[c,u]of s.entries())for(let[l,d]of u.entries()){let p={...i};p.telemetry_type=n,p["drop.code"]=o,c&&(p["drop.reason"]=c),(n===Nt.REQUEST||n===Nt.DEPENDENCY)&&l!==null&&(p.telemetry_success=l),d>0&&e.observe(this.itemDropCountGauge,d,{...p}),u.set(l,0);}}itemRetryCallback(e){let r=this.customerSDKStatsCounter,i={...this.customerProperties,"retry.code":Js.UNKNOWN,telemetry_type:Nt.UNKNOWN};for(let[n,a]of r.totalItemRetryCount.entries())for(let[o,s]of a.entries())for(let[c,u]of s.entries()){let l={...i};l.telemetry_type=n,l["retry.code"]=o,c&&(l["retry.reason"]=c),u>0&&e.observe(this.itemRetryCountGauge,u,{...l}),s.set(c,0);}}countSuccessfulItems(e){let r=this.customerSDKStatsCounter,i;for(let n of e){i=this.getTelemetryTypeFromEnvelope(n);let a=r.totalItemSuccessCount.get(i)||0;r.totalItemSuccessCount.set(i,a+1);}}countDroppedItems(e,r,i,n){let a=this.customerSDKStatsCounter,o;for(let s of e){o=this.getTelemetryTypeFromEnvelope(s);let c=a.totalItemDropCount.get(o);c||(c=new Map,a.totalItemDropCount.set(o,c));let u=c.get(r);u||(u=new Map,c.set(r,u));let l=this.getDropReason(r,i,n),d=u.get(l);d||(d=new Map,u.set(l,d));let p=this.getTelemetrySuccessFromEnvelope(s),f=(o===Nt.REQUEST||o===Nt.DEPENDENCY)&&p!==void 0?p:null,_=d.get(f)||0;d.set(f,_+1);}}getDropReason(e,r,i){if(e===fr.CLIENT_EXCEPTION)return i||(r?this.categorizeExceptionMessage(r):_n.CLIENT_EXCEPTION);if(typeof e=="number")return this.categorizeStatusCode(e);switch(e){case fr.CLIENT_READONLY:return nl.CLIENT_READONLY;case fr.CLIENT_PERSISTENCE_CAPACITY:return nl.CLIENT_PERSISTENCE_CAPACITY;case fr.CLIENT_STORAGE_DISABLED:return nl.CLIENT_STORAGE_DISABLED;case fr.UNKNOWN:default:return nl.UNKNOWN}}categorizeExceptionMessage(e){let r=e.toLowerCase();return r.includes("timeout")||r.includes("timed out")?_n.TIMEOUT_EXCEPTION:r.includes("network")||r.includes("connection")||r.includes("dns")||r.includes("socket")?_n.NETWORK_EXCEPTION:r.includes("disk")||r.includes("storage")||r.includes("file")||r.includes("persist")?_n.STORAGE_EXCEPTION:_n.CLIENT_EXCEPTION}categorizeStatusCode(e){if(e>=400&&e<500)switch(e){case 400:return "Bad request";case 401:return "Unauthorized";case 403:return "Forbidden";case 404:return "Not found";case 408:return "Request timeout";case 413:return "Payload too large";case 429:return "Too many requests";default:return "Client error 4xx"}if(e>=500&&e<600)switch(e){case 500:return "Internal server error";case 502:return "Bad gateway";case 503:return "Service unavailable";case 504:return "Gateway timeout";default:return "Server error 5xx"}return `status_${e}`}countRetryItems(e,r,i,n){let a=this.customerSDKStatsCounter,o;for(let s of e){o=this.getTelemetryTypeFromEnvelope(s);let c=a.totalItemRetryCount.get(o);c||(c=new Map,a.totalItemRetryCount.set(o,c));let u=c.get(r);u||(u=new Map,c.set(r,u));let l=this.getRetryReason(r,i,n),d=u.get(l)||0;u.set(l,d+1);}}getRetryReason(e,r,i){if(e===Js.CLIENT_EXCEPTION)return i||(r?this.categorizeExceptionMessage(r):_n.CLIENT_EXCEPTION);if(typeof e=="number")return this.categorizeStatusCode(e);switch(e){case Js.CLIENT_TIMEOUT:return __.CLIENT_TIMEOUT;case Js.UNKNOWN:default:return __.UNKNOWN}}isPerformanceCounterMetric(e){return Object.values(Fn).includes(e)}getTelemetryTypeFromEnvelope(e){if(e.data&&e.data.baseType)switch(e.data.baseType){case "MessageData":return Nt.TRACE;case "AvailabilityData":return Nt.AVAILABILITY;case "TelemetryEventData":return Nt.CUSTOM_EVENT;case "TelemetryExceptionData":return Nt.EXCEPTION;case "PageViewData":return Nt.PAGE_VIEW;case "RemoteDependencyData":return Nt.DEPENDENCY;case "RequestData":return Nt.REQUEST;case "MetricData":{let r=e.data.baseData;return r&&r.metrics&&r.metrics.length>0?r.metrics.some(n=>this.isPerformanceCounterMetric(n.name))?Nt.PERFORMANCE_COUNTER:Nt.CUSTOM_METRIC:Nt.CUSTOM_METRIC}default:return Nt.UNKNOWN}return Nt.UNKNOWN}getTelemetrySuccessFromEnvelope(e){if(!e.data||!e.data.baseData)return;let r=e.data.baseType;if(r==="RequestData")return e.data.baseData.success;if(r==="RemoteDependencyData")return e.data.baseData.success}isTimeoutError(e){let r=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNRESET","ENOTFOUND"];if(e&&e.code&&r.includes(e.code))return  true;if(e&&e.message){let i=["timeout","timed out","connection reset"],n=e.message.toLowerCase();return i.some(a=>n.includes(a))}return  false}};var V2e=6e4,oO=class{persister;numConsecutiveRedirects;retryTimer;networkStatsbeatMetrics;customerSDKStatsMetrics;longIntervalStatsbeatMetrics;statsbeatFailureCount=0;batchSendRetryIntervalMs=V2e;isStatsbeatSender;disableOfflineStorage;constructor(e){if(this.numConsecutiveRedirects=0,this.disableOfflineStorage=e.exporterOptions.disableOfflineStorage||false,e.trackStatsbeat&&(this.networkStatsbeatMetrics=tO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage}),this.longIntervalStatsbeatMetrics=rO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage}),process.env[ioe])){let r;if(process.env[rU]){let i=process.env[rU],n=parseInt(i,10);!isNaN(n)&&n>0?r=n*1e3:E.warn(`Invalid value for APPLICATIONINSIGHTS_SDKSTATS_EXPORT_INTERVAL environment variable: '${i}'. Expected a positive number (seconds). Using default export interval.`);}this.customerSDKStatsMetrics=iO.getInstance({instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl,disableOfflineStorage:this.disableOfflineStorage,networkCollectionInterval:r});}this.persister=new yA(e.instrumentationKey,e.exporterOptions,this.customerSDKStatsMetrics),this.retryTimer=null,this.isStatsbeatSender=e.isStatsbeatSender||false;}async exportEnvelopes(e){if(E.info(`Exporting ${e.length} envelope(s)`),e.length<1)return {code:Z.SUCCESS};try{let r=new Date().getTime(),{result:i,statusCode:n}=await this.send(e),o=new Date().getTime()-r;if(this.numConsecutiveRedirects=0,n===200)return this.retryTimer||(this.retryTimer=setTimeout(()=>{this.retryTimer=null,this.sendFirstPersistedFile();},this.batchSendRetryIntervalMs),this.retryTimer.unref()),this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countSuccess(o),this.customerSDKStatsMetrics?.countSuccessfulItems(e)),{code:Z.SUCCESS};if(n&&nO(n)){if(n===429||n===439)return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countThrottle(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),{code:Z.SUCCESS};if(i){E.info(i);let s=JSON.parse(i),c=[],u=[...e];if(s.itemsAccepted>0&&n===206&&!this.isStatsbeatSender&&this.networkStatsbeatMetrics?.countSuccess(o),s.errors&&s.errors.forEach(l=>{u[l.index]=void 0,l.statusCode&&nO(l.statusCode)&&c.push(e[l.index]);}),s.itemsAccepted>0&&(this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countSuccess(o),this.customerSDKStatsMetrics?.countSuccessfulItems(e))),c.length>0)return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countRetry(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),await this.persist(c);if(!this.isStatsbeatSender){this.networkStatsbeatMetrics?.countFailure(o,n);let l=u.filter(Boolean);this.customerSDKStatsMetrics?.countDroppedItems(l,n);}return {code:Z.FAILED}}else return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countRetry(n),this.customerSDKStatsMetrics?.countRetryItems(e,n)),await this.persist(e)}else return this.networkStatsbeatMetrics&&!this.isStatsbeatSender?n&&(this.networkStatsbeatMetrics.countFailure(o,n),this.customerSDKStatsMetrics?.countDroppedItems(e,n)):(this.incrementStatsbeatFailure(),this.customerSDKStatsMetrics?.countDroppedItems(e,fr.CLIENT_EXCEPTION)),{code:Z.FAILED}}catch(r){let i=r;if(i.statusCode&&(i.statusCode===307||i.statusCode===308))if(this.numConsecutiveRedirects++,this.numConsecutiveRedirects<10){if(i.response&&i.response.headers){let n=i.response.headers.get("location");if(n)return this.handlePermanentRedirect(n),this.exportEnvelopes(e)}}else {let n=new Error("Circular redirect");return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countException(n),this.customerSDKStatsMetrics?.countDroppedItems(e,fr.CLIENT_EXCEPTION,n.message,_n.CLIENT_EXCEPTION)),{code:Z.FAILED,error:n}}else {if(i.statusCode&&nO(i.statusCode)&&!this.isStatsbeatSender)return this.networkStatsbeatMetrics?.countRetry(i.statusCode),this.customerSDKStatsMetrics?.countRetryItems(e,i.statusCode),this.persist(e);if(i.statusCode===400&&i.message.includes("Invalid instrumentation key"))return this.shutdownStatsbeat(),{code:Z.SUCCESS};if(i.statusCode&&this.isStatsbeatSender&&_oe(i.statusCode))return this.incrementStatsbeatFailure(),{code:Z.SUCCESS}}return this.isRetriableRestError(i)&&!this.isStatsbeatSender?(this.customerSDKStatsMetrics?.isTimeoutError(i)&&!this.isStatsbeatSender?(this.customerSDKStatsMetrics?.countRetryItems(e,Js.CLIENT_TIMEOUT,"timeout_exception",_n.TIMEOUT_EXCEPTION),E.error("Request timed out. Error message:",i.message)):i.statusCode&&(this.networkStatsbeatMetrics?.countRetry(i.statusCode),this.customerSDKStatsMetrics?.countRetryItems(e,i.statusCode)),E.error("Retrying due to transient client side error. Error message:",i.message),this.persist(e)):(this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countException(i),this.customerSDKStatsMetrics?.countDroppedItems(e,fr.CLIENT_EXCEPTION,i.message),E.error("Envelopes could not be exported and are not retriable. Error message:",i.message)),{code:Z.FAILED,error:i})}}async persist(e){try{return await this.persister.push(e)?{code:Z.SUCCESS}:{code:Z.FAILED,error:new Error("Failed to persist envelope in disk.")}}catch(r){return this.isStatsbeatSender||(this.networkStatsbeatMetrics?.countWriteFailure(),this.disableOfflineStorage&&e&&this.customerSDKStatsMetrics?.countDroppedItems(e,fr.CLIENT_STORAGE_DISABLED)),{code:Z.FAILED,error:r}}}incrementStatsbeatFailure(){this.statsbeatFailureCount++,this.statsbeatFailureCount>doe&&this.shutdownStatsbeat();}shutdownStatsbeat(){this.networkStatsbeatMetrics&&this.networkStatsbeatMetrics.shutdown(),this.longIntervalStatsbeatMetrics&&this.longIntervalStatsbeatMetrics?.shutdown(),this.customerSDKStatsMetrics&&this.customerSDKStatsMetrics.shutdown(),this.statsbeatFailureCount=0;}async sendFirstPersistedFile(){let e=await this.persister.shift();try{e&&await this.send(e);}catch(r){this.isStatsbeatSender||this.networkStatsbeatMetrics?.countReadFailure(),E.warn("Failed to fetch persisted file",r);}}isRetriableRestError(e){let r=Object.values(dA);return !!(e&&e.code&&r.includes(e.code))}};P();var Fse;(function(t){t.Measurement="Measurement",t.Aggregation="Aggregation";})(Fse||(Fse={}));var fc;(function(t){t.Verbose="Verbose",t.Information="Information",t.Warning="Warning",t.Error="Error",t.Critical="Critical";})(fc||(fc={}));var Ie;(function(t){t.AiApplicationVer="ai.application.ver",t.AiDeviceId="ai.device.id",t.AiDeviceLocale="ai.device.locale",t.AiDeviceModel="ai.device.model",t.AiDeviceOemName="ai.device.oemName",t.AiDeviceOsVersion="ai.device.osVersion",t.AiDeviceType="ai.device.type",t.AiLocationIp="ai.location.ip",t.AiLocationCountry="ai.location.country",t.AiLocationProvince="ai.location.province",t.AiLocationCity="ai.location.city",t.AiOperationId="ai.operation.id",t.AiOperationName="ai.operation.name",t.AiOperationParentId="ai.operation.parentId",t.AiOperationSyntheticSource="ai.operation.syntheticSource",t.AiOperationCorrelationVector="ai.operation.correlationVector",t.AiSessionId="ai.session.id",t.AiSessionIsFirst="ai.session.isFirst",t.AiUserAccountId="ai.user.accountId",t.AiUserId="ai.user.id",t.AiUserAuthUserId="ai.user.authUserId",t.AiCloudRole="ai.cloud.role",t.AiCloudRoleVer="ai.cloud.roleVer",t.AiCloudRoleInstance="ai.cloud.roleInstance",t.AiCloudLocation="ai.cloud.location",t.AiInternalSdkVersion="ai.internal.sdkVersion",t.AiInternalAgentVersion="ai.internal.agentVersion",t.AiInternalNodeName="ai.internal.nodeName";})(Ie||(Ie={}));function t1(t){return (t instanceof Buffer?t:Buffer.from(t.buffer)).toString("base64")}function r1(t){return Buffer.from(t,"base64")}function F2e(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}var H2e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hse(t){return H2e.test(t)}var G2e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function Gse(t){return G2e.test(t)}function j2e(t){let e={...t.headers,...t.body};return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?{...t.headers,body:t.body}:e}function n1(t,e){let r=t.parsedHeaders;if(t.request.method==="HEAD")return {...r,body:t.parsedBody};let i=e&&e.bodyMapper,n=!!i?.nullable,a=i?.type.name;if(a==="Stream")return {...r,blobBody:t.blobBody,readableStreamBody:t.readableStreamBody};let o=a==="Composite"&&i.type.modelProperties||{},s=Object.keys(o).some(c=>o[c].serializedName==="");if(a==="Sequence"||s){let c=t.parsedBody??[];for(let u of Object.keys(o))o[u].serializedName&&(c[u]=t.parsedBody?.[u]);if(r)for(let u of Object.keys(r))c[u]=r[u];return n&&!t.parsedBody&&!r&&Object.getOwnPropertyNames(o).length===0?null:c}return j2e({body:t.parsedBody,headers:r,hasNullableType:n,shouldWrapBody:F2e(t.parsedBody,a)})}var i1=class{modelMappers;isXML;constructor(e={},r=false){this.modelMappers=e,this.isXML=r;}validateConstraints(e,r,i){let n=(a,o)=>{throw new Error(`"${i}" with value "${r}" should satisfy the constraint "${a}": ${o}.`)};if(e.constraints&&r!==void 0&&r!==null){let{ExclusiveMaximum:a,ExclusiveMinimum:o,InclusiveMaximum:s,InclusiveMinimum:c,MaxItems:u,MaxLength:l,MinItems:d,MinLength:p,MultipleOf:f,Pattern:_,UniqueItems:y}=e.constraints;if(a!==void 0&&r>=a&&n("ExclusiveMaximum",a),o!==void 0&&r<=o&&n("ExclusiveMinimum",o),s!==void 0&&r>s&&n("InclusiveMaximum",s),c!==void 0&&r<c&&n("InclusiveMinimum",c),u!==void 0&&r.length>u&&n("MaxItems",u),l!==void 0&&r.length>l&&n("MaxLength",l),d!==void 0&&r.length<d&&n("MinItems",d),p!==void 0&&r.length<p&&n("MinLength",p),f!==void 0&&r%f!==0&&n("MultipleOf",f),_){let v=typeof _=="string"?new RegExp(_):_;(typeof r!="string"||r.match(v)===null)&&n("Pattern",_);}y&&r.some((v,O,x)=>x.indexOf(v)!==O)&&n("UniqueItems",y);}}serialize(e,r,i,n={xml:{}}){let a={xml:{rootName:n.xml.rootName??"",includeRoot:n.xml.includeRoot??false,xmlCharKey:n.xml.xmlCharKey??"_"}},o={},s=e.type.name;i||(i=e.serializedName),s.match(/^Sequence$/i)!==null&&(o=[]),e.isConstant&&(r=e.defaultValue);let{required:c,nullable:u}=e;if(c&&u&&r===void 0)throw new Error(`${i} cannot be undefined.`);if(c&&!u&&r==null)throw new Error(`${i} cannot be null or undefined.`);if(!c&&u===false&&r===null)throw new Error(`${i} cannot be null.`);return r==null||s.match(/^any$/i)!==null?o=r:s.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)!==null?o=X2e(s,i,r):s.match(/^Enum$/i)!==null?o=J2e(i,e.type.allowedValues,r):s.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)!==null?o=tHe(s,r,i):s.match(/^ByteArray$/i)!==null?o=Q2e(i,r):s.match(/^Base64Url$/i)!==null?o=eHe(i,r):s.match(/^Sequence$/i)!==null?o=rHe(this,e,r,i,!!this.isXML,a):s.match(/^Dictionary$/i)!==null?o=nHe(this,e,r,i,!!this.isXML,a):s.match(/^Composite$/i)!==null&&(o=oHe(this,e,r,i,!!this.isXML,a)),o}deserialize(e,r,i,n={xml:{}}){let a={xml:{rootName:n.xml.rootName??"",includeRoot:n.xml.includeRoot??false,xmlCharKey:n.xml.xmlCharKey??"_"},ignoreUnknownProperties:n.ignoreUnknownProperties??false};if(r==null)return this.isXML&&e.type.name==="Sequence"&&!e.xmlIsWrapped&&(r=[]),e.defaultValue!==void 0&&(r=e.defaultValue),r;let o,s=e.type.name;if(i||(i=e.serializedName),s.match(/^Composite$/i)!==null)o=aHe(this,e,r,i,a);else {if(this.isXML){let c=a.xml.xmlCharKey;r["$"]!==void 0&&r[c]!==void 0&&(r=r[c]);}s.match(/^Number$/i)!==null?(o=parseFloat(r),isNaN(o)&&(o=r)):s.match(/^Boolean$/i)!==null?r==="true"?o=true:r==="false"?o=false:o=r:s.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)!==null?o=r:s.match(/^(Date|DateTime|DateTimeRfc1123)$/i)!==null?o=new Date(r):s.match(/^UnixTime$/i)!==null?o=Z2e(r):s.match(/^ByteArray$/i)!==null?o=r1(r):s.match(/^Base64Url$/i)!==null?o=K2e(r):s.match(/^Sequence$/i)!==null?o=uHe(this,e,r,i,a):s.match(/^Dictionary$/i)!==null&&(o=cHe(this,e,r,i,a));}return e.isConstant&&(o=e.defaultValue),o}};function N_(t={},e=false){return new i1(t,e)}function q2e(t,e){let r=t.length;for(;r-1>=0&&t[r-1]===e;)--r;return t.substr(0,r)}function W2e(t){if(!t)return;if(!(t instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");let e=t1(t);return q2e(e,"=").replace(/\+/g,"-").replace(/\//g,"_")}function K2e(t){if(t){if(t&&typeof t.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return t=t.replace(/-/g,"+").replace(/_/g,"/"),r1(t)}}function o1(t){let e=[],r="";if(t){let i=t.split(".");for(let n of i)n.charAt(n.length-1)==="\\"?r+=n.substr(0,n.length-1)+".":(r+=n,e.push(r),r="");}return e}function Y2e(t){if(t)return typeof t.valueOf()=="string"&&(t=new Date(t)),Math.floor(t.getTime()/1e3)}function Z2e(t){if(t)return new Date(t*1e3)}function X2e(t,e,r){if(r!=null){if(t.match(/^Number$/i)!==null){if(typeof r!="number")throw new Error(`${e} with value ${r} must be of type number.`)}else if(t.match(/^String$/i)!==null){if(typeof r.valueOf()!="string")throw new Error(`${e} with value "${r}" must be of type string.`)}else if(t.match(/^Uuid$/i)!==null){if(!(typeof r.valueOf()=="string"&&Gse(r)))throw new Error(`${e} with value "${r}" must be of type string and a valid uuid.`)}else if(t.match(/^Boolean$/i)!==null){if(typeof r!="boolean")throw new Error(`${e} with value ${r} must be of type boolean.`)}else if(t.match(/^Stream$/i)!==null){let i=typeof r;if(i!=="string"&&typeof r.pipe!="function"&&typeof r.tee!="function"&&!(r instanceof ArrayBuffer)&&!ArrayBuffer.isView(r)&&!((typeof Blob=="function"||typeof Blob=="object")&&r instanceof Blob)&&i!=="function")throw new Error(`${e} must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.`)}}return r}function J2e(t,e,r){if(!e)throw new Error(`Please provide a set of allowedValues to validate ${t} as an Enum Type.`);if(!e.some(n=>typeof n.valueOf()=="string"?n.toLowerCase()===r.toLowerCase():n===r))throw new Error(`${r} is not a valid value for ${t}. The valid values are: ${JSON.stringify(e)}.`);return r}function Q2e(t,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);e=t1(e);}return e}function eHe(t,e){if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);e=W2e(e);}return e}function tHe(t,e,r){if(e!=null){if(t.match(/^Date$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString().substring(0,10):new Date(e).toISOString().substring(0,10);}else if(t.match(/^DateTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString():new Date(e).toISOString();}else if(t.match(/^DateTimeRfc1123$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123 format.`);e=e instanceof Date?e.toUTCString():new Date(e).toUTCString();}else if(t.match(/^UnixTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);e=Y2e(e);}else if(t.match(/^TimeSpan$/i)!==null&&!Hse(e))throw new Error(`${r} must be a string in ISO 8601 format. Instead was "${e}".`)}return e}function rHe(t,e,r,i,n,a){if(!Array.isArray(r))throw new Error(`${i} must be of type Array.`);let o=e.type.element;if(!o||typeof o!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${i}.`);o.type.name==="Composite"&&o.type.className&&(o=t.modelMappers[o.type.className]??o);let s=[];for(let c=0;c<r.length;c++){let u=t.serialize(o,r[c],i,a);if(n&&o.xmlNamespace){let l=o.xmlNamespacePrefix?`xmlns:${o.xmlNamespacePrefix}`:"xmlns";o.type.name==="Composite"?(s[c]={...u},s[c]["$"]={[l]:o.xmlNamespace}):(s[c]={},s[c][a.xml.xmlCharKey]=u,s[c]["$"]={[l]:o.xmlNamespace});}else s[c]=u;}return s}function nHe(t,e,r,i,n,a){if(typeof r!="object")throw new Error(`${i} must be of type object.`);let o=e.type.value;if(!o||typeof o!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${i}.`);let s={};for(let c of Object.keys(r)){let u=t.serialize(o,r[c],i,a);s[c]=Kse(o,u,n,a);}if(n&&e.xmlNamespace){let c=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns",u=s;return u["$"]={[c]:e.xmlNamespace},u}return s}function iHe(t,e,r){let i=e.type.additionalProperties;return !i&&e.type.className?qse(t,e,r)?.type.additionalProperties:i}function qse(t,e,r){let i=e.type.className;if(!i)throw new Error(`Class name for model "${r}" is not provided in the mapper "${JSON.stringify(e,void 0,2)}".`);return t.modelMappers[i]}function Wse(t,e,r){let i=e.type.modelProperties;if(!i){let n=qse(t,e,r);if(!n)throw new Error(`mapper() cannot be null or undefined for model "${e.type.className}".`);if(i=n?.type.modelProperties,!i)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(n)}" of type "${e.type.className}" for object "${r}".`)}return i}function oHe(t,e,r,i,n,a){if(sO(t,e)&&(e=Yse(t,e,r,"clientName")),r!=null){let o={},s=Wse(t,e,i);for(let u of Object.keys(s)){let l=s[u];if(l.readOnly)continue;let d,p=o;if(t.isXML)l.xmlIsWrapped?d=l.xmlName:d=l.xmlElementName||l.xmlName;else {let f=o1(l.serializedName);d=f.pop();for(let _ of f){let y=p[_];y==null&&(r[u]!==void 0&&r[u]!==null||l.defaultValue!==void 0)&&(p[_]={}),p=p[_];}}if(p!=null){if(n&&e.xmlNamespace){let O=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns";p["$"]={...p["$"],[O]:e.xmlNamespace};}let f=l.serializedName!==""?i+"."+l.serializedName:i,_=r[u],y=sO(t,e);y&&y.clientName===u&&_==null&&(_=e.serializedName);let v=t.serialize(l,_,f,a);if(v!==void 0&&d!==void 0&&d!==null){let O=Kse(l,v,n,a);n&&l.xmlIsAttribute?(p["$"]=p["$"]||{},p["$"][d]=v):n&&l.xmlIsWrapped?p[d]={[l.xmlElementName]:O}:p[d]=O;}}}let c=iHe(t,e,i);if(c){let u=Object.keys(s);for(let l in r)u.every(p=>p!==l)&&(o[l]=t.serialize(c,r[l],i+'["'+l+'"]',a));}return o}return r}function Kse(t,e,r,i){if(!r||!t.xmlNamespace)return e;let a={[t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns"]:t.xmlNamespace};if(["Composite"].includes(t.type.name)){if(e["$"])return e;{let s={...e};return s["$"]=a,s}}let o={};return o[i.xml.xmlCharKey]=e,o["$"]=a,o}function sHe(t,e){return ["$",e.xml.xmlCharKey].includes(t)}function aHe(t,e,r,i,n){let a=n.xml.xmlCharKey??"_";sO(t,e)&&(e=Yse(t,e,r,"serializedName"));let o=Wse(t,e,i),s={},c=[];for(let l of Object.keys(o)){let d=o[l],p=o1(o[l].serializedName);c.push(p[0]);let{serializedName:f,xmlName:_,xmlElementName:y}=d,v=i;f!==""&&f!==void 0&&(v=i+"."+f);let O=d.headerCollectionPrefix;if(O){let x={};for(let I of Object.keys(r))I.startsWith(O)&&(x[I.substring(O.length)]=t.deserialize(d.type.value,r[I],v,n)),c.push(I);s[l]=x;}else if(t.isXML)if(d.xmlIsAttribute&&r["$"])s[l]=t.deserialize(d,r["$"][_],v,n);else if(d.xmlIsMsText)r[a]!==void 0?s[l]=r[a]:typeof r=="string"&&(s[l]=r);else {let x=y||_||f;if(d.xmlIsWrapped){let R=r[_]?.[y]??[];s[l]=t.deserialize(d,R,v,n),c.push(_);}else {let I=r[x];s[l]=t.deserialize(d,I,v,n),c.push(x);}}else {let x,I=r,R=0;for(let G of p){if(!I)break;R++,I=I[G];}I===null&&R<p.length&&(I=void 0),x=I;let F=e.type.polymorphicDiscriminator;F&&l===F.clientName&&x==null&&(x=e.serializedName);let $;if(Array.isArray(r[l])&&o[l].serializedName===""){x=r[l];let G=t.deserialize(d,x,v,n);for(let[ee,re]of Object.entries(s))Object.prototype.hasOwnProperty.call(G,ee)||(G[ee]=re);s=G;}else (x!==void 0||d.defaultValue!==void 0)&&($=t.deserialize(d,x,v,n),s[l]=$);}}let u=e.type.additionalProperties;if(u){let l=d=>{for(let p in o)if(o1(o[p].serializedName)[0]===d)return  false;return  true};for(let d in r)l(d)&&(s[d]=t.deserialize(u,r[d],i+'["'+d+'"]',n));}else if(r&&!n.ignoreUnknownProperties)for(let l of Object.keys(r))s[l]===void 0&&!c.includes(l)&&!sHe(l,n)&&(s[l]=r[l]);return s}function cHe(t,e,r,i,n){let a=e.type.value;if(!a||typeof a!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${i}`);if(r){let o={};for(let s of Object.keys(r))o[s]=t.deserialize(a,r[s],i,n);return o}return r}function uHe(t,e,r,i,n){let a=e.type.element;if(!a||typeof a!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${i}`);if(r){Array.isArray(r)||(r=[r]),a.type.name==="Composite"&&a.type.className&&(a=t.modelMappers[a.type.className]??a);let o=[];for(let s=0;s<r.length;s++)o[s]=t.deserialize(a,r[s],`${i}[${s}]`,n);return o}return r}function lHe(t,e,r){let i=[r];for(;i.length;){let n=i.shift(),a=e===n?e:n+"."+e;if(Object.prototype.hasOwnProperty.call(t,a))return t[a];for(let[o,s]of Object.entries(t))o.startsWith(n+".")&&s.type.uberParent===n&&s.type.className&&i.push(s.type.className);}}function Yse(t,e,r,i){let n=sO(t,e);if(n){let a=n[i];if(a){i==="serializedName"&&(a=a.replace(/\\/gi,""));let o=r[a],s=e.type.uberParent??e.type.className;if(typeof o=="string"&&s){let c=lHe(t.modelMappers.discriminators,o,s);c&&(e=c);}}}return e}function sO(t,e){return e.type.polymorphicDiscriminator||jse(t,e.type.uberParent)||jse(t,e.type.className)}function jse(t,e){return e&&t.modelMappers[e]&&t.modelMappers[e].type.polymorphicDiscriminator}var jo={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};var Xse=Qe(Zse(),1),s1=Xse.state;function mc(t,e,r){let i=e.parameterPath,n=e.mapper,a;if(typeof i=="string"&&(i=[i]),Array.isArray(i)){if(i.length>0)if(n.isConstant)a=n.defaultValue;else {let o=Jse(t,i);!o.propertyFound&&r&&(o=Jse(r,i));let s=false;o.propertyFound||(s=n.required||i[0]==="options"&&i.length===2),a=s?n.defaultValue:o.propertyValue;}}else {n.required&&(a={});for(let o in i){let s=n.type.modelProperties[o],c=i[o],u=mc(t,{parameterPath:c,mapper:s},r);u!==void 0&&(a||(a={}),a[o]=u);}}return a}function Jse(t,e){let r={propertyFound:false},i=0;for(;i<e.length;++i){let n=e[i];if(t&&n in t)t=t[n];else break}return i===e.length&&(r.propertyValue=t,r.propertyFound=true),r}var Qse=Symbol.for("@azure/core-client original request");function dHe(t){return Qse in t}function Qs(t){if(dHe(t))return Qs(t[Qse]);let e=s1.operationRequestMap.get(t);return e||(e={},s1.operationRequestMap.set(t,e)),e}var pHe=["application/json","text/json"],fHe=["application/xml","application/atom+xml"],eae="deserializationPolicy";function a1(t={}){let e=t.expectedContentTypes?.json??pHe,r=t.expectedContentTypes?.xml??fHe,i=t.parseXML,n=t.serializerOptions,a={xml:{rootName:n?.xml.rootName??"",includeRoot:n?.xml.includeRoot??false,xmlCharKey:n?.xml.xmlCharKey??"_"}};return {name:eae,async sendRequest(o,s){let c=await s(o);return gHe(e,r,c,a,i)}}}function hHe(t){let e,r=t.request,i=Qs(r),n=i?.operationSpec;return n&&(i?.operationResponseGetter?e=i?.operationResponseGetter(n,t):e=n.responses[t.status]),e}function mHe(t){let e=t.request,i=Qs(e)?.shouldDeserialize,n;return i===void 0?n=true:typeof i=="boolean"?n=i:n=i(t),n}async function gHe(t,e,r,i,n){let a=await yHe(t,e,r,i,n);if(!mHe(a))return a;let s=Qs(a.request)?.operationSpec;if(!s||!s.responses)return a;let c=hHe(a),{error:u,shouldReturnResponse:l}=SHe(a,s,c,i);if(u)throw u;if(l)return a;if(c){if(c.bodyMapper){let d=a.parsedBody;s.isXML&&c.bodyMapper.type.name===jo.Sequence&&(d=typeof d=="object"?d[c.bodyMapper.xmlElementName]:[]);try{a.parsedBody=s.serializer.deserialize(c.bodyMapper,d,"operationRes.parsedBody",i);}catch(p){throw new Yp(`Error ${p} occurred in deserializing the responseBody - ${a.bodyAsText}`,{statusCode:a.status,request:a.request,response:a})}}else s.httpMethod==="HEAD"&&(a.parsedBody=r.status>=200&&r.status<300);c.headersMapper&&(a.parsedHeaders=s.serializer.deserialize(c.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:true}));}return a}function _He(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}function SHe(t,e,r,i){let n=200<=t.status&&t.status<300;if(_He(e)?n:!!r)if(r){if(!r.isError)return {error:null,shouldReturnResponse:false}}else return {error:null,shouldReturnResponse:false};let o=r??e.responses.default,s=t.request.streamResponseStatusCodes?.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,c=new Yp(s,{statusCode:t.status,request:t.request,response:t});if(!o&&!(t.parsedBody?.error?.code&&t.parsedBody?.error?.message))throw c;let u=o?.bodyMapper,l=o?.headersMapper;try{if(t.parsedBody){let d=t.parsedBody,p;if(u){let _=d;if(e.isXML&&u.type.name===jo.Sequence){_=[];let y=u.xmlElementName;typeof d=="object"&&y&&(_=d[y]);}p=e.serializer.deserialize(u,_,"error.response.parsedBody",i);}let f=d.error||p||d;c.code=f.code,f.message&&(c.message=f.message),u&&(c.response.parsedBody=p);}t.headers&&l&&(c.response.parsedHeaders=e.serializer.deserialize(l,t.headers.toJSON(),"operationRes.parsedHeaders"));}catch(d){c.message=`Error "${d.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`;}return {error:c,shouldReturnResponse:false}}async function yHe(t,e,r,i,n){if(!r.request.streamResponseStatusCodes?.has(r.status)&&r.bodyAsText){let a=r.bodyAsText,o=r.headers.get("Content-Type")||"",s=o?o.split(";").map(c=>c.toLowerCase()):[];try{if(s.length===0||s.some(c=>t.indexOf(c)!==-1))return r.parsedBody=JSON.parse(a),r;if(s.some(c=>e.indexOf(c)!==-1)){if(!n)throw new Error("Parsing XML not supported.");let c=await n(a,i.xml);return r.parsedBody=c,r}}catch(c){let u=`Error "${c}" occurred while parsing the response body - ${r.bodyAsText}.`,l=c.code||Yp.PARSE_ERROR;throw new Yp(u,{code:l,statusCode:r.status,request:r.request,response:r})}}return r}function tae(t){let e=new Set;for(let r in t.responses){let i=t.responses[r];i.bodyMapper&&i.bodyMapper.type.name===jo.Stream&&e.add(Number(r));}return e}function qo(t){let{parameterPath:e,mapper:r}=t,i;return typeof e=="string"?i=e:Array.isArray(e)?i=e.join("."):i=r.serializedName,i}var rae="serializationPolicy";function c1(t={}){let e=t.stringifyXML;return {name:rae,async sendRequest(r,i){let n=Qs(r),a=n?.operationSpec,o=n?.operationArguments;return a&&o&&(EHe(r,o,a),THe(r,o,a,e)),i(r)}}}function EHe(t,e,r){if(r.headerParameters)for(let n of r.headerParameters){let a=mc(e,n);if(a!=null||n.mapper.required){a=r.serializer.serialize(n.mapper,a,qo(n));let o=n.mapper.headerCollectionPrefix;if(o)for(let s of Object.keys(a))t.headers.set(o+s,a[s]);else t.headers.set(n.mapper.serializedName||qo(n),a);}}let i=e.options?.requestOptions?.customHeaders;if(i)for(let n of Object.keys(i))t.headers.set(n,i[n]);}function THe(t,e,r,i=function(){throw new Error("XML serialization unsupported!")}){let n=e.options?.serializerOptions,a={xml:{rootName:n?.xml.rootName??"",includeRoot:n?.xml.includeRoot??false,xmlCharKey:n?.xml.xmlCharKey??"_"}},o=a.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=mc(e,r.requestBody);let s=r.requestBody.mapper,{required:c,serializedName:u,xmlName:l,xmlElementName:d,xmlNamespace:p,xmlNamespacePrefix:f,nullable:_}=s,y=s.type.name;try{if(t.body!==void 0&&t.body!==null||_&&t.body===null||c){let v=qo(r.requestBody);t.body=r.serializer.serialize(s,t.body,v,a);let O=y===jo.Stream;if(r.isXML){let x=f?`xmlns:${f}`:"xmlns",I=vHe(p,x,y,t.body,a);y===jo.Sequence?t.body=i(bHe(I,d||l||u,x,p),{rootName:l||u,xmlCharKey:o}):O||(t.body=i(I,{rootName:l||u,xmlCharKey:o}));}else {if(y===jo.String&&(r.contentType?.match("text/plain")||r.mediaType==="text"))return;O||(t.body=JSON.stringify(t.body));}}}catch(v){throw new Error(`Error "${v.message}" occurred in serializing the payload - ${JSON.stringify(u,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let s of r.formDataParameters){let c=mc(e,s);if(c!=null){let u=s.mapper.serializedName||qo(s);t.formData[u]=r.serializer.serialize(s.mapper,c,qo(s),a);}}}}function vHe(t,e,r,i,n){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let a={};return a[n.xml.xmlCharKey]=i,a["$"]={[e]:t},a}return i}function bHe(t,e,r,i){if(Array.isArray(t)||(t=[t]),!r||!i)return {[e]:t};let n={[e]:t};return n["$"]={[r]:i},n}function u1(t={}){let e=ZU(t??{});return t.credentialOptions&&e.addPolicy(JU({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(c1(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(a1(t.deserializationOptions),{phase:"Deserialize"}),e}var l1;function nae(){return l1||(l1=x_()),l1}var RHe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function oae(t,e,r,i){let n=AHe(e,r,i),a=false,o=iae(t,n);if(e.path){let u=iae(e.path,n);e.path==="/{nextLink}"&&u.startsWith("/")&&(u=u.substring(1)),OHe(u)?(o=u,a=true):o=xHe(o,u);}let{queryParams:s,sequenceParams:c}=CHe(e,r,i);return o=PHe(o,s,c,a),o}function iae(t,e){let r=t;for(let[i,n]of e)r=r.split(i).join(n);return r}function AHe(t,e,r){let i=new Map;if(t.urlParameters?.length)for(let n of t.urlParameters){let a=mc(e,n,r),o=qo(n);a=t.serializer.serialize(n.mapper,a,o),n.skipEncoding||(a=encodeURIComponent(a)),i.set(`{${n.mapper.serializedName||o}}`,a);}return i}function OHe(t){return t.includes("://")}function xHe(t,e){if(!e)return t;let r=new URL(t),i=r.pathname;i.endsWith("/")||(i=`${i}/`),e.startsWith("/")&&(e=e.substring(1));let n=e.indexOf("?");if(n!==-1){let a=e.substring(0,n),o=e.substring(n+1);i=i+a,o&&(r.search=r.search?`${r.search}&${o}`:o);}else i=i+e;return r.pathname=i,r.toString()}function CHe(t,e,r){let i=new Map,n=new Set;if(t.queryParameters?.length)for(let a of t.queryParameters){a.mapper.type.name==="Sequence"&&a.mapper.serializedName&&n.add(a.mapper.serializedName);let o=mc(e,a,r);if(o!=null||a.mapper.required){o=t.serializer.serialize(a.mapper,o,qo(a));let s=a.collectionFormat?RHe[a.collectionFormat]:"";if(Array.isArray(o)&&(o=o.map(c=>c??"")),a.collectionFormat==="Multi"&&o.length===0)continue;Array.isArray(o)&&(a.collectionFormat==="SSV"||a.collectionFormat==="TSV")&&(o=o.join(s)),a.skipEncoding||(Array.isArray(o)?o=o.map(c=>encodeURIComponent(c)):o=encodeURIComponent(o)),Array.isArray(o)&&(a.collectionFormat==="CSV"||a.collectionFormat==="Pipes")&&(o=o.join(s)),i.set(a.mapper.serializedName||qo(a),o);}}return {queryParams:i,sequenceParams:n}}function NHe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let i of r){let[n,a]=i.split("=",2),o=e.get(n);o?Array.isArray(o)?o.push(a):e.set(n,[o,a]):e.set(n,a);}return e}function PHe(t,e,r,i=false){if(e.size===0)return t;let n=new URL(t),a=NHe(n.search);for(let[s,c]of e){let u=a.get(s);if(Array.isArray(u))if(Array.isArray(c)){u.push(...c);let l=new Set(u);a.set(s,Array.from(l));}else u.push(c);else u?(Array.isArray(c)?c.unshift(u):r.has(s)&&a.set(s,[u,c]),i||a.set(s,c)):a.set(s,c);}let o=[];for(let[s,c]of a)if(typeof c=="string")o.push(`${s}=${c}`);else if(Array.isArray(c))for(let u of c)o.push(`${s}=${u}`);else o.push(`${s}=${c}`);return n.search=o.length?`?${o.join("&")}`:"",n.toString()}var d1=zo("core-client");var cl=class{_endpoint;_requestContentType;_allowInsecureConnection;_httpClient;pipeline;constructor(e={}){if(this._requestContentType=e.requestContentType,this._endpoint=e.endpoint??e.baseUri,e.baseUri&&d1.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||nae(),this.pipeline=e.pipeline||IHe(e),e.additionalPolicies?.length)for(let{policy:r,position:i}of e.additionalPolicies){let n=i==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(r,{afterPhase:n});}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let i=r.baseUrl||this._endpoint;if(!i)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let n=oae(i,r,e,this),a=C_({url:n});a.method=r.httpMethod;let o=Qs(a);o.operationSpec=r,o.operationArguments=e;let s=r.contentType||this._requestContentType;s&&r.requestBody&&a.headers.set("Content-Type",s);let c=e.options;if(c){let u=c.requestOptions;u&&(u.timeout&&(a.timeout=u.timeout),u.onUploadProgress&&(a.onUploadProgress=u.onUploadProgress),u.onDownloadProgress&&(a.onDownloadProgress=u.onDownloadProgress),u.shouldDeserialize!==void 0&&(o.shouldDeserialize=u.shouldDeserialize),u.allowInsecureConnection&&(a.allowInsecureConnection=true)),c.abortSignal&&(a.abortSignal=c.abortSignal),c.tracingOptions&&(a.tracingOptions=c.tracingOptions);}this._allowInsecureConnection&&(a.allowInsecureConnection=true),a.streamResponseStatusCodes===void 0&&(a.streamResponseStatusCodes=tae(r));try{let u=await this.sendRequest(a),l=n1(u,r.responses[u.status]);return c?.onResponse&&c.onResponse(u,l),l}catch(u){if(typeof u=="object"&&u?.response){let l=u.response,d=n1(l,r.responses[u.statusCode]||r.responses.default);u.details=d,c?.onResponse&&c.onResponse(l,d,u);}throw u}}};function IHe(t){let e=wHe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return u1({...t,credentialOptions:r})}function wHe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return `${t.endpoint}/.default`;if(t.baseUri)return `${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}var aae={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Content-Type",type:{name:"String"}}},cae={parameterPath:"body",mapper:{serializedName:"body",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryItem"}}}}},uae={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Accept",type:{name:"String"}}},lae={parameterPath:"host",mapper:{serializedName:"Host",required:true,type:{name:"String"}},skipEncoding:true};var p1={};Pe(p1,{AvailabilityData:()=>VHe,MessageData:()=>HHe,MetricDataPoint:()=>UHe,MetricsData:()=>GHe,MonitorBase:()=>DHe,MonitorDomain:()=>Wo,PageViewData:()=>jHe,PageViewPerfData:()=>qHe,RemoteDependencyData:()=>WHe,RequestData:()=>KHe,StackFrame:()=>zHe,TelemetryErrorDetails:()=>kHe,TelemetryEventData:()=>BHe,TelemetryExceptionData:()=>FHe,TelemetryExceptionDetails:()=>$He,TelemetryItem:()=>LHe,TrackResponse:()=>ea});var LHe={type:{name:"Composite",className:"TelemetryItem",modelProperties:{version:{defaultValue:1,serializedName:"ver",type:{name:"Number"}},name:{serializedName:"name",required:true,type:{name:"String"}},time:{serializedName:"time",required:true,type:{name:"DateTime"}},sampleRate:{defaultValue:100,serializedName:"sampleRate",type:{name:"Number"}},sequence:{constraints:{MaxLength:64},serializedName:"seq",type:{name:"String"}},instrumentationKey:{serializedName:"iKey",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},data:{serializedName:"data",type:{name:"Composite",className:"MonitorBase"}}}}},DHe={type:{name:"Composite",className:"MonitorBase",modelProperties:{baseType:{serializedName:"baseType",type:{name:"String"}},baseData:{serializedName:"baseData",type:{name:"Composite",className:"MonitorDomain"}}}}},Wo={type:{name:"Composite",className:"MonitorDomain",additionalProperties:{type:{name:"Object"}},modelProperties:{version:{defaultValue:2,serializedName:"ver",required:true,type:{name:"Number"}}}}},ea={type:{name:"Composite",className:"TrackResponse",modelProperties:{itemsReceived:{serializedName:"itemsReceived",type:{name:"Number"}},itemsAccepted:{serializedName:"itemsAccepted",type:{name:"Number"}},errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryErrorDetails"}}}}}}},kHe={type:{name:"Composite",className:"TelemetryErrorDetails",modelProperties:{index:{serializedName:"index",type:{name:"Number"}},statusCode:{serializedName:"statusCode",type:{name:"Number"}},message:{serializedName:"message",type:{name:"String"}}}}},UHe={type:{name:"Composite",className:"MetricDataPoint",modelProperties:{namespace:{constraints:{MaxLength:256},serializedName:"ns",type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},dataPointType:{serializedName:"kind",type:{name:"String"}},value:{serializedName:"value",required:true,type:{name:"Number"}},count:{serializedName:"count",nullable:true,type:{name:"Number"}},min:{serializedName:"min",nullable:true,type:{name:"Number"}},max:{serializedName:"max",nullable:true,type:{name:"Number"}},stdDev:{serializedName:"stdDev",nullable:true,type:{name:"Number"}}}}},$He={type:{name:"Composite",className:"TelemetryExceptionDetails",modelProperties:{id:{serializedName:"id",type:{name:"Number"}},outerId:{serializedName:"outerId",type:{name:"Number"}},typeName:{constraints:{MaxLength:1024},serializedName:"typeName",type:{name:"String"}},message:{constraints:{MaxLength:32768},serializedName:"message",required:true,type:{name:"String"}},hasFullStack:{defaultValue:true,serializedName:"hasFullStack",type:{name:"Boolean"}},stack:{constraints:{MaxLength:32768},serializedName:"stack",type:{name:"String"}},parsedStack:{serializedName:"parsedStack",type:{name:"Sequence",element:{type:{name:"Composite",className:"StackFrame"}}}}}}},zHe={type:{name:"Composite",className:"StackFrame",modelProperties:{level:{serializedName:"level",required:true,type:{name:"Number"}},method:{constraints:{MaxLength:1024},serializedName:"method",required:true,type:{name:"String"}},assembly:{constraints:{MaxLength:1024},serializedName:"assembly",type:{name:"String"}},fileName:{constraints:{MaxLength:1024},serializedName:"fileName",type:{name:"String"}},line:{serializedName:"line",type:{name:"Number"}}}}},VHe={type:{name:"Composite",className:"AvailabilityData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{serializedName:"success",required:true,type:{name:"Boolean"}},runLocation:{constraints:{MaxLength:1024},serializedName:"runLocation",type:{name:"String"}},message:{constraints:{MaxLength:8192},serializedName:"message",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},BHe={type:{name:"Composite",className:"TelemetryEventData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,name:{constraints:{MaxLength:512},serializedName:"name",required:true,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},FHe={type:{name:"Composite",className:"TelemetryExceptionData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,exceptions:{serializedName:"exceptions",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"TelemetryExceptionDetails"}}}},severityLevel:{serializedName:"severityLevel",nullable:true,type:{name:"String"}},problemId:{constraints:{MaxLength:1024},serializedName:"problemId",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},HHe={type:{name:"Composite",className:"MessageData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,message:{constraints:{MaxLength:32768},serializedName:"message",required:true,type:{name:"String"}},severityLevel:{serializedName:"severityLevel",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},GHe={type:{name:"Composite",className:"MetricsData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,metrics:{serializedName:"metrics",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricDataPoint"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}}}}},jHe={type:{name:"Composite",className:"PageViewData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},duration:{serializedName:"duration",type:{name:"String"}},referredUri:{constraints:{MaxLength:2048},serializedName:"referredUri",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},qHe={type:{name:"Composite",className:"PageViewPerfData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},duration:{serializedName:"duration",type:{name:"String"}},perfTotal:{serializedName:"perfTotal",type:{name:"String"}},networkConnect:{serializedName:"networkConnect",type:{name:"String"}},sentRequest:{serializedName:"sentRequest",type:{name:"String"}},receivedResponse:{serializedName:"receivedResponse",type:{name:"String"}},domProcessing:{serializedName:"domProcessing",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},WHe={type:{name:"Composite",className:"RemoteDependencyData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",required:true,type:{name:"String"}},resultCode:{constraints:{MaxLength:1024},serializedName:"resultCode",type:{name:"String"}},data:{constraints:{MaxLength:8192},serializedName:"data",type:{name:"String"}},type:{constraints:{MaxLength:1024},serializedName:"type",type:{name:"String"}},target:{constraints:{MaxLength:1024},serializedName:"target",type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{defaultValue:true,serializedName:"success",type:{name:"Boolean"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}},KHe={type:{name:"Composite",className:"RequestData",additionalProperties:{type:{name:"Object"}},modelProperties:{...Wo.type.modelProperties,id:{constraints:{MaxLength:512},serializedName:"id",required:true,type:{name:"String"}},name:{constraints:{MaxLength:1024},serializedName:"name",type:{name:"String"}},duration:{serializedName:"duration",required:true,type:{name:"String"}},success:{defaultValue:true,serializedName:"success",required:true,type:{name:"Boolean"}},responseCode:{constraints:{MaxLength:1024},serializedName:"responseCode",required:true,type:{name:"String"}},source:{constraints:{MaxLength:1024},serializedName:"source",type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"url",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"},constraints:{MaxLength:8192}}}},measurements:{serializedName:"measurements",type:{name:"Dictionary",value:{type:{name:"Number"}}}}}}};var P_=class extends cl{host;constructor(e){e||(e={});let r={requestContentType:"application/json; charset=utf-8"},i="azsdk-js-monitor-opentelemetry-exporter/1.0.0-beta.34",n=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,a={...r,...e,userAgentOptions:{userAgentPrefix:n},endpoint:e.endpoint??e.baseUri??"{Host}/v2.1"};super(a),this.host=e.host||"https://dc.services.visualstudio.com";}track(e,r){return this.sendOperationRequest({body:e,options:r},ZHe)}},YHe=N_(p1,false),ZHe={path:"/track",httpMethod:"POST",responses:{200:{bodyMapper:ea},206:{bodyMapper:ea},400:{bodyMapper:ea,isError:true},402:{bodyMapper:ea,isError:true},429:{bodyMapper:ea,isError:true},500:{bodyMapper:ea,isError:true},503:{bodyMapper:ea,isError:true}},requestBody:cae,urlParameters:[lae],headerParameters:[aae,uae],mediaType:"json",serializer:YHe};var JHe="https://monitor.azure.com//.default",Go=class extends oO{appInsightsClient;appInsightsClientOptions;constructor(e){super(e),this.appInsightsClientOptions={host:e.endpointUrl,...e.exporterOptions},this.appInsightsClientOptions.credential&&(e.aadAudience?this.appInsightsClientOptions.credentialScopes=[e.aadAudience]:this.appInsightsClientOptions.credentialScopes=[JHe]),this.appInsightsClient=new P_(this.appInsightsClientOptions),this.appInsightsClient.pipeline.removePolicy({name:b_});}async send(e){let r={},i;function n(a,o){i=a,r.onResponse&&r.onResponse(a,o);}return await this.appInsightsClient.track(e,{...r,onResponse:n}),{statusCode:i?.status,result:i?.bodyAsText??""}}async shutdown(){E.info("HttpSender shutting down");}handlePermanentRedirect(e){if(e){let r=new XHe__default.default.URL(e);r&&r.host&&(this.appInsightsClient.host="https://"+r.host);}}};Q();Ye();var f1=null,h1=class t{tags;static sdkVersion=null;static opentelemetryVersion=null;static nodeVersion="";constructor(){this.tags={},this._loadInternalContext();}_loadInternalContext(){let{node:e}=process.versions;[t.nodeVersion]=e.split("."),t.opentelemetryVersion=Xn[lo],t.sdkVersion=ac;let r=process.env[eU]?process.env[eU]:"",i=this._getVersion(),n=`${r}node${t.nodeVersion}:otel${t.opentelemetryVersion}:${i}`;this.tags[Ie.AiInternalSdkVersion]=n;}_getVersion(){return process.env[Qk]?`sha${process.env[Qk]}`:process.env[tU]?`dst${process.env[tU]}`:`ext${t.sdkVersion}`}};function eO(){return f1||(f1=new h1),f1}Q();function I_(t){return new Date(Xl(t)/1e6)}function dc(t){let r={...eO().tags};return t&&t.attributes&&(r[Ie.AiCloudRole]=QHe(t),r[Ie.AiCloudRoleInstance]=eGe(t),t.attributes[jy]&&(r[Ie.AiDeviceId]=String(t.attributes[jy])),t.attributes[qy]&&(r[Ie.AiDeviceModel]=String(t.attributes[qy])),t.attributes[Jy]&&(r[Ie.AiApplicationVer]=String(t.attributes[Jy]))),r}function QHe(t){let e="",r=t.attributes[ao],i=t.attributes[Jh];if(r)if(String(r).startsWith("unknown_service"))i?e=`${i}.${r}`:e=String(r);else return i?`${i}.${r}`:String(r);let n=t.attributes[Wh];if(n)return String(n);let a=t.attributes[qh];if(a)return String(a);let o=t.attributes[Kh];if(o)return String(o);let s=t.attributes[Zh];if(s)return String(s);let c=t.attributes[Xh];if(c)return String(c);let u=t.attributes[Yh];return u?String(u):e}function eGe(t){let e=t.attributes[jh];if(e)return String(e);let r=t.attributes[ou];return r?String(r):Qp__namespace.default&&Qp__namespace.default.hostname()}function pae(t){return t===kh||t===zh||t===Vh||t===Mh||t===Dh||t===Bh||t===wh||t===$h||t===Fh}function m1(t){if(!t)return "";if(M_(t)){let r=w_(t);if(r)return String(r);{let i=mae(t),n=gae(t);if(i&&n){let a=g1(t);if(a)return `${i}://${a}${n}`;{let o=_ae(t);if(o){let s=_1(t);if(s)return `${i}://${s}:${o}${n}`;{let c=dO(t);if(c)return `${i}://${c}:${o}${n}`}}}}}}return ""}function cO(t){if(!t)return "";let e=t[hs],r=g1(t),i=w_(t),n=_1(t),a=dO(t);return e?String(e):r?String(r):i?String(i):n?String(n):a?String(a):""}function fae(t,e){if(t&&t.attributes){let r=dc(t),i={};for(let n of Object.keys(t.attributes))n.startsWith("_MS.")||n===lo||n===ba||n===Ra||(i[n]=t.attributes[n]);if(Object.keys(i).length>0)return {name:"Microsoft.ApplicationInsights.Metric",time:new Date,sampleRate:100,instrumentationKey:e,version:1,data:{baseType:"MetricData",baseData:{version:2,metrics:[{name:"_OTELRESOURCE_",value:1}],properties:i}},tags:r}}}function uO(t){if(typeof t=="object")if(t instanceof Error)try{return JSON.stringify(t,Object.getOwnPropertyNames(t))}catch{return String(t)}else {if(t instanceof Uint8Array)return String(t);try{return JSON.stringify(t)}catch{return String(t)}}return String(t)}function hae(){return process.env[Qie]?.toLowerCase()!=="true"}function lO(t){return !!t[Gr.SYNTHETIC_TYPE]}P();Q();Ye();var Xp="az.namespace",Sae="Microsoft.EventHub",yae="message_bus.destination";var tGe=t=>{let e=0,r=0,i=Jn(t.startTime);return t.links.forEach(({attributes:n})=>{let a=n?.[Gie];a&&(e+=1,r+=i-(parseFloat(a.toString())||0));}),Math.max(r/(e||1),0)},Eae=(t,e)=>{let r=t.attributes[Xp],i=(t.attributes[Ci]||t.attributes["peer.address"]||"unknown").replace(/\/$/g,""),n=t.attributes[yae]||"unknown";switch(t.kind){case be.CLIENT:e.type=r,e.target=`${i}/${n}`;break;case be.PRODUCER:e.type=`Queue Message | ${r}`,e.target=`${i}/${n}`;break;case be.CONSUMER:e.type=`Queue Message | ${r}`,e.source=`${i}/${n}`,e.measurements={...e.measurements,[jie]:tGe(t)};break;}};function rGe(t){let e=dc(t.resource);e[Ie.AiOperationId]=t.spanContext().traceId,t.parentSpanContext?.spanId&&(e[Ie.AiOperationParentId]=t.parentSpanContext.spanId);let r=t.attributes[Gr.ATTR_ENDUSER_ID];r&&(e[Ie.AiUserAuthUserId]=String(r));let i=t.attributes[Gr.ATTR_ENDUSER_PSEUDO_ID];i&&(e[Ie.AiUserId]=String(i));let n=cGe(t.attributes);n&&(e["ai.user.userAgent"]=String(n)),lO(t.attributes)&&(e[Ie.AiOperationSyntheticSource]="True");let a=t.attributes[oA];if(a&&(e[Ie.AiLocationIp]=String(a)),t.kind===be.SERVER){let o=M_(t.attributes);if(a||sGe(e,t.attributes),o){let s=t.attributes[QP],c=w_(t.attributes);if(e[Ie.AiOperationName]=t.name,s)e[Ie.AiOperationName]=`${o} ${s}`.substring(0,Tr.TEN_BIT);else if(c)try{let u=new URL(String(c));e[Ie.AiOperationName]=`${o} ${u.pathname}`.substring(0,Tr.TEN_BIT);}catch{}}else e[Ie.AiOperationName]=t.name;}else t.attributes[Ie.AiOperationName]&&(e[Ie.AiOperationName]=t.attributes[Ie.AiOperationName]);return e}function Tae(t){let e={};if(t)for(let r of Object.keys(t))r.startsWith("_MS.")&&!ooe.includes(r)||r.startsWith("microsoft.")||fA.includes(r)||hA.includes(r)||r===Ie.AiOperationName||(e[r]=uO(t[r]));return e}function nGe(t){let e=Tae(t.attributes),r={},i=t.links.map(n=>({operation_Id:n.context.traceId,id:n.context.spanId}));return i.length>0&&(e[Hie]=JSON.stringify(i)),[e,r]}function iGe(t){let e={name:t.name,id:`${t.spanContext().spanId}`,success:t.status?.code!==ut.ERROR,resultCode:"0",type:"Dependency",duration:e1(Jn(t.duration)),version:2};t.kind===be.PRODUCER&&(e.type=Vo.QueueMessage),t.kind===be.INTERNAL&&t.parentSpanContext&&(e.type=Vo.InProc);let r=M_(t.attributes),i=t.attributes[us],n=t.attributes[ys];if(r){let a=w_(t.attributes);if(a)try{let c=new URL(String(a));e.name=`${r} ${c.pathname}`;}catch{}e.type=Vo.Http,e.data=m1(t.attributes);let o=S1(t.attributes);o&&(e.resultCode=String(o));let s=cO(t.attributes);if(s){try{let u=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/).exec(s);if(u!==null){let l=u[1],d=u[3];(l==="https"&&d===":443"||l==="http"&&d===":80")&&(s=u[1]+u[2]+u[4]);}}catch{}e.target=`${s}`;}}else if(i){String(i)===Lh?e.type="mysql":String(i)===Uh?e.type="postgresql":String(i)===Hh?e.type="mongodb":String(i)===Gh?e.type="redis":pae(String(i))?e.type="SQL":e.type=String(i);let a=t.attributes[ds],o=t.attributes[ps];a?e.data=String(a):o&&(e.data=String(o));let s=cO(t.attributes),c=t.attributes[ls];s?e.target=c?`${s}|${c}`:`${s}`:e.target=c?`${c}`:`${i}`;}else if(n){n===Vo.Wcf?e.type=Vo.Wcf:e.type=Vo.Grpc;let a=t.attributes[Ni];a&&(e.resultCode=String(a));let o=cO(t.attributes);o?e.target=`${o}`:n&&(e.target=String(n));}return e}function oGe(t){let e={id:`${t.spanContext().spanId}`,success:t.status.code!==ut.UNSET?t.status.code===ut.OK:(Number(S1(t.attributes))||0)<400,responseCode:"0",duration:e1(Jn(t.duration)),version:2,source:void 0},r=M_(t.attributes),i=t.attributes[Ni];if(r){e.url=m1(t.attributes);let n=S1(t.attributes);n&&(e.responseCode=String(n));}else i&&(e.responseCode=String(i));return e}function vae(t,e){let r,i,n,a=I_(t.startTime),o=e,s=rGe(t),[c,u]=nGe(t);switch(t.kind){case be.CLIENT:case be.PRODUCER:case be.INTERNAL:r="Microsoft.ApplicationInsights.RemoteDependency",i="RemoteDependencyData",n=iGe(t);break;case be.SERVER:case be.CONSUMER:r="Microsoft.ApplicationInsights.Request",i="RequestData",n=oGe(t),n.name=s[Ie.AiOperationName];break;default:throw E.error(`Unsupported span kind ${t.kind}`),new Error(`Unsupported span kind ${t.kind}`)}let l=100;if(t.attributes[cc]&&(l=Number(t.attributes[cc])),t.attributes[Xp]&&(t.kind===be.INTERNAL&&(n.type=`${Vo.InProc} | ${t.attributes[Xp]}`),t.attributes[Xp]===Sae&&Eae(t,n)),n.id&&(n.id=n.id.substring(0,Tr.NINE_BIT)),n.name&&(n.name=n.name.substring(0,Tr.TEN_BIT)),n.resultCode&&(n.resultCode=String(n.resultCode).substring(0,Tr.TEN_BIT)),n.data&&(n.data=String(n.data).substring(0,Tr.THIRTEEN_BIT)),n.type&&(n.type=String(n.type).substring(0,Tr.TEN_BIT)),n.target&&(n.target=String(n.target).substring(0,Tr.TEN_BIT)),n.properties)for(let d of Object.keys(n.properties))n.properties[d]=n.properties[d].substring(0,Tr.THIRTEEN_BIT);return {name:r,sampleRate:l,time:a,instrumentationKey:o,tags:s,version:1,data:{baseType:i,baseData:{...n,properties:c,measurements:u}}}}function bae(t,e){let r=[];return t.events&&t.events.forEach(i=>{let n,a=I_(i.time),o="",s,c=Tae(i.attributes),u=dc(t.resource);u[Ie.AiOperationId]=t.spanContext().traceId;let l=t.spanContext().spanId;if(l&&(u[Ie.AiOperationParentId]=l),i.name==="exception"){o="Microsoft.ApplicationInsights.Exception",n="ExceptionData";let f="",_="Exception",y="",v=false;if(i.attributes){f=String(i.attributes[In]),y=String(i.attributes[so]),y&&(v=true);let I=i.attributes[wn];I&&(_=String(I));let R=i.attributes[Gy];R!==void 0&&(c[Gy]=String(R));}s={exceptions:[{typeName:f,message:_,stack:y,hasFullStack:v}],version:2,properties:c};}else o="Microsoft.ApplicationInsights.Message",n="MessageData",s={message:i.name,version:2,properties:c};let d=100;if(t.attributes[cc]&&(d=Number(t.attributes[cc])),s.message&&(s.message=String(s.message).substring(0,Tr.FIFTEEN_BIT)),s.properties)for(let f of Object.keys(s.properties))s.properties[f]=s.properties[f].substring(0,Tr.THIRTEEN_BIT);let p={name:o,time:a,instrumentationKey:e,version:1,sampleRate:d,data:{baseType:n,baseData:s},tags:u};r.push(p);}),r}function dO(t){if(t)return t[As]||t[fs]}function sGe(t,e){if(e){let r=aGe(e),i=dO(e);r?t[Ie.AiLocationIp]=String(r):i&&(t[Ie.AiLocationIp]=String(i));}}function aGe(t){if(t)return t[co]||t[Ih]}function cGe(t){if(t)return t[Ps]||t[iu]}function w_(t){if(t)return t[Cs]||t[gs]}function M_(t){if(t)return t[bs]||t[ms]}function S1(t){if(t)return t[Rs]||t[Ss]}function mae(t){if(t)return t[Ns]||t[nu]}function gae(t){if(t)return t[Zn]?t[Zn]:t[Pi]?t[Pi]:t[ru]}function g1(t){if(t)return t[Os]||t[_s]}function _1(t){if(t)return t[co]||t[Ci]}function _ae(t){if(t)return t[Es]||t[uo]||t[tu]}var L_=class extends qi{isShutdown=false;sender;shouldCreateResourceMetric=hae();constructor(e={}){super(e),this.sender=new Go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),E.debug("AzureMonitorTraceExporter was successfully setup");}async export(e,r){if(this.isShutdown){E.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:Z.FAILED}),0);return}if(E.info(`Exporting ${e.length} span(s). Converting to envelopes...`),e.length>0){let i=[],n=fae(e[0].resource,this.instrumentationKey);n&&this.shouldCreateResourceMetric&&i.push(n),e.forEach(a=>{i.push(vae(a,this.instrumentationKey));let o=bae(a,this.instrumentationKey);o.length>0&&i.push(...o);}),r(await this.sender.exportEnvelopes(i));}r({code:Z.SUCCESS});}async shutdown(){return this.isShutdown=true,E.info("AzureMonitorTraceExporter shutting down"),this.sender.shutdown()}};P();ir();Q();var ta=class extends qi{_isShutdown=false;_sender;constructor(e={}){super(e),this._sender=new Go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),E.debug("AzureMonitorMetricExporter was successfully setup");}async export(e,r){if(this._isShutdown){E.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:Z.FAILED}),0);return}E.info(`Exporting ${e.scopeMetrics.length} metrics(s). Converting to envelopes...`);let i=QA(e,this.instrumentationKey);await Te.with(qt(Te.active()),async()=>{r(await this._sender.exportEnvelopes(i));});}async shutdown(){return this._isShutdown=true,E.info("AzureMonitorMetricExporter shutting down"),this._sender.shutdown()}selectAggregationTemporality(e){return e===fe.UP_DOWN_COUNTER||e===fe.OBSERVABLE_UP_DOWN_COUNTER?Rt.CUMULATIVE:Rt.DELTA}async forceFlush(){return Promise.resolve()}};P();Q();Ye();P();function Oae(t,e){let r=I_(t.hrTime),i=100,n=e,a=uGe(t),[o,s]=lGe(t),c,u,l,d=t.attributes[au],p=t.attributes[vs],f=!!(p&&d)||false,_=!t.attributes[l_]&&!t.attributes[iA]&&!p;if(f){let y=t.attributes[Ts];c=Kk,u=aA,l={exceptions:[{typeName:String(p),message:String(y),hasFullStack:!!d,stack:String(d)}],severityLevel:String(Rae(t.severityNumber)),version:2};}else if(t.attributes[iA])c=Yk,u=cA,l={name:String(t.attributes[iA]),version:2},s=Aae(t);else if(_)c=Wk,u=sA,l={message:String(t.body),severityLevel:String(Rae(t.severityNumber)),version:2};else if(u=String(t.attributes[l_]),c=dGe(t),l=pGe(t),s=Aae(t),!l)return;if(l.message&&(l.message=String(l.message).substring(0,Tr.FIFTEEN_BIT)),o)for(let y of Object.keys(o))o[y]=String(o[y]).substring(0,Tr.THIRTEEN_BIT);return {name:c,sampleRate:i,time:r,instrumentationKey:n,tags:a,version:1,data:{baseType:u,baseData:{...l,properties:o,measurements:s}}}}function uGe(t){let e=dc(t.resource);t.spanContext?.traceId&&(e[Ie.AiOperationId]=t.spanContext.traceId),t.spanContext?.spanId&&(e[Ie.AiOperationParentId]=t.spanContext.spanId),t.attributes[Ie.AiOperationName]&&(e[Ie.AiOperationName]=t.attributes[Ie.AiOperationName]),lO(t.attributes)&&(e[Ie.AiOperationSyntheticSource]="True");let r=t.attributes?.[oA];r&&(e[Ie.AiLocationIp]=String(r));let i=t.attributes;if(i[Gr.ATTR_ENDUSER_ID]){let n=String(i[Gr.ATTR_ENDUSER_ID]);n&&n.length>0&&(e[Ie.AiUserAuthUserId]=n);}if(i[Gr.ATTR_ENDUSER_PSEUDO_ID]){let n=String(i[Gr.ATTR_ENDUSER_PSEUDO_ID]);n&&n.length>0&&(e[Ie.AiUserId]=n);}return e}function lGe(t){let e={},r={};if(t.attributes)for(let i of Object.keys(t.attributes))i.startsWith("_MS.")||i.startsWith("microsoft")||fA.includes(i)||hA.includes(i)||i===Ie.AiOperationName||(r[i]=uO(t.attributes[i]));return [r,e]}function Rae(t){if(t){if(t>0&&t<9)return fc.Verbose;if(t>=9&&t<13)return fc.Information;if(t>=13&&t<17)return fc.Warning;if(t>=17&&t<21)return fc.Error;if(t>=21&&t<25)return fc.Critical}}function dGe(t){let e="";switch(t.attributes[l_]){case Xk:e=Wie;break;case aA:e=Kk;break;case sA:e=Wk;break;case Zk:e=qie;break;case cA:e=Yk;break}return e}function Aae(t){let e={};return t.body?.measurements&&(e={...t.body.measurements}),e}function pGe(t){let e={version:2};if(t.body)try{switch(t.attributes[l_]){case Xk:e=t.body;break;case aA:e=t.body;break;case sA:e=t.body;break;case Zk:e=t.body;break;case cA:e=t.body;break}typeof e?.message=="object"&&(e.message=JSON.stringify(e.message));}catch{E.error("AzureMonitorLogExporter failed to parse Application Insights Telemetry");}return e}var D_=class extends qi{_isShutdown=false;_sender;constructor(e={}){super(e),this._sender=new Go({endpointUrl:this.endpointUrl,instrumentationKey:this.instrumentationKey,trackStatsbeat:this.trackStatsbeat,exporterOptions:e,aadAudience:this.aadAudience}),E.debug("AzureMonitorLogExporter was successfully setup");}async export(e,r){if(this._isShutdown){E.info("Exporter shut down. Failed to export spans."),setTimeout(()=>r({code:Z.FAILED}),0);return}E.info(`Exporting ${e.length} logs(s). Converting to envelopes...`);let i=[];e.forEach(n=>{let a=Oae(n,this.instrumentationKey);a&&i.push(a);}),await Te.with(qt(Te.active()),async()=>{r(await this._sender.exportEnvelopes(i));});}async shutdown(){return this._isShutdown=true,E.info("AzureMonitorLogExporter shutting down"),this._sender.shutdown()}};ir();ir();P();P();Ye();var xae="APPLICATION_INSIGHTS_NO_STANDARD_METRICS",Yi;(function(t){t.PRIVATE_BYTES="Private_Bytes",t.AVAILABLE_BYTES="Available_Bytes",t.PROCESSOR_TIME="Processor_Time",t.PROCESS_TIME_STANDARD="Process_Time_Standard",t.REQUEST_RATE="Request_Rate",t.REQUEST_DURATION="Request_Execution_Time",t.PROCESS_TIME_NORMALIZED="Process_Time_Normalized",t.EXCEPTION_RATE="Exception_Rate";})(Yi||(Yi={}));var Cae={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel",metricId:"_MS.MetricId",IsAutocollected:"_MS.IsAutocollected"},_i;(function(t){t.REQUEST_DURATION="requests/duration",t.DEPENDENCIES_DURATION="dependencies/duration",t.EXCEPTIONS_COUNT="exceptions/count",t.TRACES_COUNT="traces/count";})(_i||(_i={}));var gc;(function(t){t.Request="Request",t.RemoteDependency="RemoteDependency",t.Exception="Exception",t.Event="Event",t.Trace="Trace",t.Unknown="Unknown";})(gc||(gc={}));var _c;(function(t){t.Unknown="Unknown",t.PerformanceCounterParsing="PerformanceCounterParsing",t.PerformanceCounterUnexpected="PerformanceCounterUnexpected",t.PerformanceCounterDuplicateIds="PerformanceCounterDuplicateIds",t.DocumentStreamDuplicateIds="DocumentStreamDuplicateIds",t.DocumentStreamFailureToCreate="DocumentStreamFailureToCreate",t.DocumentStreamFailureToCreateFilterUnexpected="DocumentStreamFailureToCreateFilterUnexpected",t.MetricDuplicateIds="MetricDuplicateIds",t.MetricTelemetryTypeUnsupported="MetricTelemetryTypeUnsupported",t.MetricFailureToCreate="MetricFailureToCreate",t.MetricFailureToCreateFilterUnexpected="MetricFailureToCreateFilterUnexpected",t.FilterFailureToCreateUnexpected="FilterFailureToCreateUnexpected",t.CollectionConfigurationFailureToCreateUnexpected="CollectionConfigurationFailureToCreateUnexpected";})(_c||(_c={}));var pt;(function(t){t.Equal="Equal",t.NotEqual="NotEqual",t.LessThan="LessThan",t.GreaterThan="GreaterThan",t.LessThanOrEqual="LessThanOrEqual",t.GreaterThanOrEqual="GreaterThanOrEqual",t.Contains="Contains",t.DoesNotContain="DoesNotContain";})(pt||(pt={}));var vr;(function(t){t.Avg="Avg",t.Sum="Sum",t.Min="Min",t.Max="Max";})(vr||(vr={}));var Pt;(function(t){t.Request="Request",t.Dependency="Dependency",t.Exception="Exception",t.Event="Event",t.Metric="Metric",t.PerformanceCounter="PerformanceCounter",t.Trace="Trace";})(Pt||(Pt={}));var v1={};Pe(v1,{CollectionConfigurationError:()=>gGe,CollectionConfigurationInfo:()=>pO,DerivedMetricInfo:()=>_Ge,DocumentFilterConjunctionGroupInfo:()=>TGe,DocumentIngress:()=>Si,DocumentStreamInfo:()=>EGe,Event:()=>Nae,Exception:()=>Pae,FilterConjunctionGroupInfo:()=>SGe,FilterInfo:()=>yGe,KeyValuePairString:()=>hGe,MetricPoint:()=>fGe,MonitoringDataPoint:()=>y1,ProcessCpuData:()=>mGe,QuickpulseClientIsSubscribedHeaders:()=>E1,QuickpulseClientPublishHeaders:()=>T1,QuotaConfigurationInfo:()=>vGe,RemoteDependency:()=>Iae,Request:()=>wae,ServiceError:()=>fO,Trace:()=>Mae,discriminators:()=>bGe});var y1={type:{name:"Composite",className:"MonitoringDataPoint",modelProperties:{version:{serializedName:"Version",required:true,type:{name:"String"}},invariantVersion:{serializedName:"InvariantVersion",required:true,type:{name:"Number"}},instance:{serializedName:"Instance",required:true,type:{name:"String"}},roleName:{serializedName:"RoleName",required:true,type:{name:"String"}},machineName:{serializedName:"MachineName",required:true,type:{name:"String"}},streamId:{serializedName:"StreamId",required:true,type:{name:"String"}},timestamp:{serializedName:"Timestamp",type:{name:"DateTime"}},transmissionTime:{serializedName:"TransmissionTime",type:{name:"DateTime"}},isWebApp:{serializedName:"IsWebApp",required:true,type:{name:"Boolean"}},performanceCollectionSupported:{serializedName:"PerformanceCollectionSupported",required:true,type:{name:"Boolean"}},metrics:{serializedName:"Metrics",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricPoint"}}}},documents:{serializedName:"Documents",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentIngress"}}}},topCpuProcesses:{serializedName:"TopCpuProcesses",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProcessCpuData"}}}},collectionConfigurationErrors:{serializedName:"CollectionConfigurationErrors",type:{name:"Sequence",element:{type:{name:"Composite",className:"CollectionConfigurationError"}}}}}}},fGe={type:{name:"Composite",className:"MetricPoint",modelProperties:{name:{serializedName:"Name",required:true,type:{name:"String"}},value:{serializedName:"Value",required:true,type:{name:"Number"}},weight:{serializedName:"Weight",required:true,type:{name:"Number"}}}}},Si={type:{name:"Composite",className:"DocumentIngress",uberParent:"DocumentIngress",polymorphicDiscriminator:{serializedName:"DocumentType",clientName:"documentType"},modelProperties:{documentType:{serializedName:"DocumentType",required:true,type:{name:"String"}},documentStreamIds:{serializedName:"DocumentStreamIds",type:{name:"Sequence",element:{type:{name:"String"}}}},properties:{serializedName:"Properties",type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyValuePairString"}}}}}}},hGe={type:{name:"Composite",className:"KeyValuePairString",modelProperties:{key:{serializedName:"key",required:true,type:{name:"String"}},value:{serializedName:"value",required:true,type:{name:"String"}}}}},mGe={type:{name:"Composite",className:"ProcessCpuData",modelProperties:{processName:{serializedName:"ProcessName",required:true,type:{name:"String"}},cpuPercentage:{serializedName:"CpuPercentage",required:true,type:{name:"Number"}}}}},gGe={type:{name:"Composite",className:"CollectionConfigurationError",modelProperties:{collectionConfigurationErrorType:{serializedName:"CollectionConfigurationErrorType",required:true,type:{name:"String"}},message:{serializedName:"Message",required:true,type:{name:"String"}},fullException:{serializedName:"FullException",required:true,type:{name:"String"}},data:{serializedName:"Data",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyValuePairString"}}}}}}},pO={type:{name:"Composite",className:"CollectionConfigurationInfo",modelProperties:{eTag:{serializedName:"ETag",required:true,type:{name:"String"}},metrics:{serializedName:"Metrics",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DerivedMetricInfo"}}}},documentStreams:{serializedName:"DocumentStreams",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentStreamInfo"}}}},quotaInfo:{serializedName:"QuotaInfo",type:{name:"Composite",className:"QuotaConfigurationInfo"}}}}},_Ge={type:{name:"Composite",className:"DerivedMetricInfo",modelProperties:{id:{serializedName:"Id",required:true,type:{name:"String"}},telemetryType:{serializedName:"TelemetryType",required:true,type:{name:"String"}},filterGroups:{serializedName:"FilterGroups",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterConjunctionGroupInfo"}}}},projection:{serializedName:"Projection",required:true,type:{name:"String"}},aggregation:{serializedName:"Aggregation",required:true,type:{name:"String"}},backEndAggregation:{serializedName:"BackEndAggregation",required:true,type:{name:"String"}}}}},SGe={type:{name:"Composite",className:"FilterConjunctionGroupInfo",modelProperties:{filters:{serializedName:"Filters",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterInfo"}}}}}}},yGe={type:{name:"Composite",className:"FilterInfo",modelProperties:{fieldName:{serializedName:"FieldName",required:true,type:{name:"String"}},predicate:{serializedName:"Predicate",required:true,type:{name:"String"}},comparand:{serializedName:"Comparand",required:true,type:{name:"String"}}}}},EGe={type:{name:"Composite",className:"DocumentStreamInfo",modelProperties:{id:{serializedName:"Id",required:true,type:{name:"String"}},documentFilterGroups:{serializedName:"DocumentFilterGroups",required:true,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentFilterConjunctionGroupInfo"}}}}}}},TGe={type:{name:"Composite",className:"DocumentFilterConjunctionGroupInfo",modelProperties:{telemetryType:{serializedName:"TelemetryType",required:true,type:{name:"String"}},filters:{serializedName:"Filters",type:{name:"Composite",className:"FilterConjunctionGroupInfo"}}}}},vGe={type:{name:"Composite",className:"QuotaConfigurationInfo",modelProperties:{initialQuota:{serializedName:"InitialQuota",type:{name:"Number"}},maxQuota:{serializedName:"MaxQuota",required:true,type:{name:"Number"}},quotaAccrualRatePerSec:{serializedName:"QuotaAccrualRatePerSec",required:true,type:{name:"Number"}}}}},fO={type:{name:"Composite",className:"ServiceError",modelProperties:{requestId:{defaultValue:"00000000-0000-0000-0000-000000000000",serializedName:"RequestId",required:true,type:{name:"String"}},responseDateTime:{serializedName:"ResponseDateTime",required:true,type:{name:"String"}},code:{serializedName:"Code",required:true,type:{name:"String"}},message:{serializedName:"Message",required:true,type:{name:"String"}},exception:{serializedName:"Exception",required:true,type:{name:"String"}}}}},Nae={serializedName:"Event",type:{name:"Composite",className:"Event",uberParent:"DocumentIngress",polymorphicDiscriminator:Si.type.polymorphicDiscriminator,modelProperties:{...Si.type.modelProperties,name:{constraints:{MaxLength:512},serializedName:"Name",type:{name:"String"}}}}},Pae={serializedName:"Exception",type:{name:"Composite",className:"Exception",uberParent:"DocumentIngress",polymorphicDiscriminator:Si.type.polymorphicDiscriminator,modelProperties:{...Si.type.modelProperties,exceptionType:{constraints:{MaxLength:1024},serializedName:"ExceptionType",type:{name:"String"}},exceptionMessage:{constraints:{MaxLength:32768},serializedName:"ExceptionMessage",type:{name:"String"}}}}},Iae={serializedName:"RemoteDependency",type:{name:"Composite",className:"RemoteDependency",uberParent:"DocumentIngress",polymorphicDiscriminator:Si.type.polymorphicDiscriminator,modelProperties:{...Si.type.modelProperties,name:{constraints:{MaxLength:1024},serializedName:"Name",type:{name:"String"}},commandName:{constraints:{MaxLength:2048},serializedName:"CommandName",type:{name:"String"}},resultCode:{constraints:{MaxLength:1024},serializedName:"ResultCode",type:{name:"String"}},duration:{serializedName:"Duration",type:{name:"String"}}}}},wae={serializedName:"Request",type:{name:"Composite",className:"Request",uberParent:"DocumentIngress",polymorphicDiscriminator:Si.type.polymorphicDiscriminator,modelProperties:{...Si.type.modelProperties,name:{constraints:{MaxLength:1024},serializedName:"Name",type:{name:"String"}},url:{constraints:{MaxLength:2048},serializedName:"Url",type:{name:"String"}},responseCode:{constraints:{MaxLength:1024},serializedName:"ResponseCode",type:{name:"String"}},duration:{serializedName:"Duration",type:{name:"String"}}}}},Mae={serializedName:"Trace",type:{name:"Composite",className:"Trace",uberParent:"DocumentIngress",polymorphicDiscriminator:Si.type.polymorphicDiscriminator,modelProperties:{...Si.type.modelProperties,message:{constraints:{MaxLength:32768},serializedName:"Message",type:{name:"String"}}}}},E1={type:{name:"Composite",className:"QuickpulseClientIsSubscribedHeaders",modelProperties:{xMsQpsSubscribed:{serializedName:"x-ms-qps-subscribed",type:{name:"String"}},xMsQpsConfigurationEtag:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}},xMsQpsServicePollingIntervalHint:{serializedName:"x-ms-qps-service-polling-interval-hint",type:{name:"String"}},xMsQpsServiceEndpointRedirectV2:{serializedName:"x-ms-qps-service-endpoint-redirect-v2",type:{name:"String"}}}}},T1={type:{name:"Composite",className:"QuickpulseClientPublishHeaders",modelProperties:{xMsQpsSubscribed:{serializedName:"x-ms-qps-subscribed",type:{name:"String"}},xMsQpsConfigurationEtag:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}}}}},bGe={DocumentIngress:Si,"DocumentIngress.Event":Nae,"DocumentIngress.Exception":Pae,"DocumentIngress.RemoteDependency":Iae,"DocumentIngress.Request":wae,"DocumentIngress.Trace":Mae};var b1={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Content-Type",type:{name:"String"}}},Lae={parameterPath:["options","monitoringDataPoint"],mapper:y1},R1={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:true,serializedName:"Accept",type:{name:"String"}}},A1={parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:true,type:{name:"String"}}},O1={parameterPath:"apiVersion",mapper:{defaultValue:"2024-04-01-preview",isConstant:true,serializedName:"api-version",type:{name:"String"}}},x1={parameterPath:"ikey",mapper:{serializedName:"ikey",required:true,type:{name:"String"}}},C1={parameterPath:["options","transmissionTime"],mapper:{serializedName:"x-ms-qps-transmission-time",type:{name:"Number"}}},Dae={parameterPath:["options","machineName"],mapper:{serializedName:"x-ms-qps-machine-name",type:{name:"String"}}},kae={parameterPath:["options","instanceName"],mapper:{serializedName:"x-ms-qps-instance-name",type:{name:"String"}}},Uae={parameterPath:["options","streamId"],mapper:{serializedName:"x-ms-qps-stream-id",type:{name:"String"}}},$ae={parameterPath:["options","roleName"],mapper:{serializedName:"x-ms-qps-role-name",type:{name:"String"}}},zae={parameterPath:["options","invariantVersion"],mapper:{serializedName:"x-ms-qps-invariant-version",type:{name:"String"}}},N1={parameterPath:["options","configurationEtag"],mapper:{serializedName:"x-ms-qps-configuration-etag",type:{name:"String"}}},Vae={parameterPath:["options","monitoringDataPoints"],mapper:{serializedName:"monitoringDataPoints",type:{name:"Sequence",element:{type:{name:"Composite",className:"MonitoringDataPoint"}}}}};var k_=class extends cl{apiVersion;constructor(e){e||(e={});let r={requestContentType:"application/json; charset=utf-8"},i="azsdk-js-monitor-opentelemetry/1.0.0-beta.0",n=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,a={...r,...e,userAgentOptions:{userAgentPrefix:n},endpoint:e.endpoint??e.baseUri??"{endpoint}"};super(a),this.apiVersion=e.apiVersion||"2024-04-01-preview",this.addCustomApiVersionPolicy(e.apiVersion);}addCustomApiVersionPolicy(e){if(!e)return;let r={name:"CustomApiVersionPolicy",async sendRequest(i,n){let a=i.url.split("?");if(a.length>1){let o=a[1].split("&").map(s=>s.indexOf("api-version")>-1?"api-version="+e:s);i.url=a[0]+"?"+o.join("&");}return n(i)}};this.pipeline.addPolicy(r);}isSubscribed(e,r,i){return this.sendOperationRequest({endpoint:e,ikey:r,options:i},AGe)}publish(e,r,i){return this.sendOperationRequest({endpoint:e,ikey:r,options:i},OGe)}},Bae=N_(v1,false),AGe={path:"/QuickPulseService.svc/ping",httpMethod:"POST",responses:{200:{bodyMapper:pO,headersMapper:E1},default:{bodyMapper:fO}},requestBody:Lae,queryParameters:[O1,x1],urlParameters:[A1],headerParameters:[b1,R1,C1,Dae,kae,Uae,$ae,zae,N1],mediaType:"json",serializer:Bae},OGe={path:"/QuickPulseService.svc/post",httpMethod:"POST",responses:{200:{bodyMapper:pO,headersMapper:T1},default:{bodyMapper:fO}},requestBody:Vae,queryParameters:[O1,x1],urlParameters:[A1],headerParameters:[b1,R1,C1,N1],mediaType:"json",serializer:Bae};P();Ye();Q();ir();var Fae=new Map([["diskRetry",1],["aadHandling",2],["browserSdkLoader",4],["distro",8],["liveMetrics",16],["shim",32],["customerSdkStats",64],["multiIkey",128],["rateLimitedSampler",256]]),hO="1.13.1",Sc="AZURE_MONITOR_STATSBEAT_FEATURES",mO="AZURE_MONITOR_PREFIX",Hae="AZURE_MONITOR_AUTO_ATTACH",P1="APPLICATION_INSIGHTS_SHIM_VERSION",U_;(function(t){t.INTEGRATED_AUTO="i",t.MANUAL="m";})(U_||(U_={}));var Gae="https://js.monitor.azure.com/scripts/b/ai",jae="https://dc.services.visualstudio.com",z_="https://global.livediagnostics.monitor.azure.com",qae="microsoft.sample_rate",Wae="APPLICATIONINSIGHTS_SDKSTATS_ENABLED_PREVIEW",$_;(function(t){t[t.NONE=0]="NONE",t[t.DISK_RETRY=1]="DISK_RETRY",t[t.AAD_HANDLING=2]="AAD_HANDLING",t[t.BROWSER_SDK_LOADER=4]="BROWSER_SDK_LOADER",t[t.DISTRO=8]="DISTRO",t[t.LIVE_METRICS=16]="LIVE_METRICS",t[t.SHIM=32]="SHIM",t[t.CUSTOMER_SDKSTATS=64]="CUSTOMER_SDKSTATS",t[t.MULTI_IKEY=128]="MULTI_IKEY";})($_||($_={}));var oe;(function(t){t[t.NONE=0]="NONE",t[t.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",t[t.MONGODB=2]="MONGODB",t[t.MYSQL=4]="MYSQL",t[t.REDIS=8]="REDIS",t[t.POSTGRES=16]="POSTGRES",t[t.BUNYAN=32]="BUNYAN",t[t.WINSTON=64]="WINSTON",t[t.CUCUMBER=256]="CUCUMBER",t[t.DATALOADER=512]="DATALOADER",t[t.FS=1024]="FS",t[t.LRU_MEMOIZER=2048]="LRU_MEMOIZER",t[t.MONGOOSE=4096]="MONGOOSE",t[t.RUNTIME_NODE=8192]="RUNTIME_NODE",t[t.SOCKET_IO=16384]="SOCKET_IO",t[t.TEDIOUS=32768]="TEDIOUS",t[t.UNDICI=65536]="UNDICI",t[t.CASSANDRA=131072]="CASSANDRA",t[t.CONNECT=262144]="CONNECT",t[t.DNS=524288]="DNS",t[t.EXPRESS=1048576]="EXPRESS",t[t.FASTIFY=2097152]="FASTIFY",t[t.GENERIC_POOL=4194304]="GENERIC_POOL",t[t.GRAPHQL=8388608]="GRAPHQL",t[t.HAPI=16777216]="HAPI",t[t.IOREDIS=33554432]="IOREDIS",t[t.KNEX=67108864]="KNEX",t[t.KOA=134217728]="KOA",t[t.MEMCACHED=268435456]="MEMCACHED",t[t.MYSQL2=536870912]="MYSQL2",t[t.NESTJS_CORE=1073741824]="NESTJS_CORE",t[t.NET=2147483648]="NET",t[t.PINO=4294967296]="PINO",t[t.RESTIFY=8589934592]="RESTIFY",t[t.ROUTER=17179869184]="ROUTER",t[t.AMQPLIB=34359738368]="AMQPLIB";})(oe||(oe={}));var Kae=new Map([["@opentelemetry/instrumentation-amqplib",oe.AMQPLIB],["@opentelemetry/instrumentation-cucumber",oe.CUCUMBER],["@opentelemetry/instrumentation-dataloader",oe.DATALOADER],["@opentelemetry/instrumentation-fs",oe.FS],["@opentelemetry/instrumentation-lru-memoizer",oe.LRU_MEMOIZER],["@opentelemetry/instrumentation-mongoose",oe.MONGOOSE],["@opentelemetry/instrumentation-runtime-node",oe.RUNTIME_NODE],["@opentelemetry/instrumentation-socket.io",oe.SOCKET_IO],["@opentelemetry/instrumentation-tedious",oe.TEDIOUS],["@opentelemetry/instrumentation-undici",oe.UNDICI],["@opentelemetry/instrumentation-cassandra-driver",oe.CASSANDRA],["@opentelemetry/instrumentation-connect",oe.CONNECT],["@opentelemetry/instrumentation-dns",oe.DNS],["@opentelemetry/instrumentation-express",oe.EXPRESS],["@opentelemetry/instrumentation-fastify",oe.FASTIFY],["@opentelemetry/instrumentation-generic-pool",oe.GENERIC_POOL],["@opentelemetry/instrumentation-graphql",oe.GRAPHQL],["@opentelemetry/instrumentation-hapi",oe.HAPI],["@opentelemetry/instrumentation-ioredis",oe.IOREDIS],["@opentelemetry/instrumentation-knex",oe.KNEX],["@opentelemetry/instrumentation-koa",oe.KOA],["@opentelemetry/instrumentation-memcached",oe.MEMCACHED],["@opentelemetry/instrumentation-mysql2",oe.MYSQL2],["@opentelemetry/instrumentation-nestjs-core",oe.NESTJS_CORE],["@opentelemetry/instrumentation-net",oe.NET],["@opentelemetry/instrumentation-pino",oe.PINO],["@opentelemetry/instrumentation-restify",oe.RESTIFY],["@opentelemetry/instrumentation-router",oe.ROUTER]]);Ye();var It;(function(t){t.PHYSICAL_BYTES="azureMonitor.physicalBytes",t.PROCESSOR_TIME_NORMALIZED="azureMonitor.percentProcessorTimeNormalized",t.REQUEST_RATE="azureMonitor.requestsSec",t.REQUEST_FAILURE_RATE="azureMonitor.requestsFailedSec",t.REQUEST_DURATION="azureMonitor.requestDuration",t.DEPENDENCY_RATE="azureMonitor.dependencyCallsSec",t.DEPENDENCY_FAILURE_RATE="azureMonitor.dependencyCallsFailedSec",t.DEPENDENCY_DURATION="azureMonitor.dependencyCallDuration",t.EXCEPTION_RATE="azureMonitor.exceptionsSec";})(It||(It={}));var br;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PHYSICAL_BYTES="\\Process\\Physical Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESSOR_TIME_NORMALIZED="\\% Process\\Processor Time Normalized",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec";})(br||(br={}));var En;(function(t){t.InProc="InProc",t.QueueMessage="Queue Message",t.Sql="SQL",t.Http="Http",t.Grpc="GRPC",t.Wcf="WCF Service",t.mysql="mysql",t.postgresql="postgresql",t.mongodb="mongodb",t.redis="redis";})(En||(En={}));var Zi;(function(t){t.Url="Url",t.Duration="Duration",t.ResponseCode="ResponseCode",t.Success="Success",t.Name="Name";})(Zi||(Zi={}));var Tn;(function(t){t.Target="Target",t.Duration="Duration",t.Success="Success",t.Name="Name",t.ResultCode="ResultCode",t.Type="Type",t.Data="Data";})(Tn||(Tn={}));var Yae=[fs,Ci,hs,ms,gs,Ss,Ph,_s,us,ds,ps,ls,ys,Ni,In,wn,so],Zae=[co,Es,Os,uo,Cs,Zn,Pi,Ns,Zn,Qh,em,tm,nm,As,rm,im,om,Ps,bs,Rs];function Jae(){let{nodeVersion:t}=process.versions,e=Xn[YP],r=xGe();return `${process.env[mO]??""}node${t}:otel${e}:${r}`}function xGe(){return process.env[P1]?`sha${process.env[P1]}`:`dst${hO}`}function Qae(){if(!process.env[mO]){let t=process.env[Hae]==="true"?U_.INTEGRATED_AUTO:U_.MANUAL;process.env[mO]=`${qR()}${jR()}${t}_`;}}function ece(t,e,r,i,n){let a=[];return t.scopeMetrics.forEach(s=>{s.metrics.forEach(c=>{c.dataPoints.forEach(u=>{let l={weight:1,name:"",value:0};switch(c.descriptor.name){case It.PHYSICAL_BYTES:l.name=br.PHYSICAL_BYTES;break;case It.DEPENDENCY_DURATION:l.name=br.DEPENDENCY_DURATION;break;case It.DEPENDENCY_FAILURE_RATE:l.name=br.DEPENDENCY_FAILURE_RATE;break;case It.DEPENDENCY_RATE:l.name=br.DEPENDENCY_RATE;break;case It.EXCEPTION_RATE:l.name=br.EXCEPTION_RATE;break;case It.PROCESSOR_TIME_NORMALIZED:l.name=br.PROCESSOR_TIME_NORMALIZED;break;case It.REQUEST_DURATION:l.name=br.REQUEST_DURATION;break;case It.REQUEST_FAILURE_RATE:l.name=br.REQUEST_FAILURE_RATE;break;case It.REQUEST_RATE:l.name=br.REQUEST_RATE;break;default:l.name=c.descriptor.name;}if(c.dataPointType===At.SUM||c.dataPointType===At.GAUGE?l.value=u.value:l.value=u.value.sum||0,a.push(l),l.name===br.PHYSICAL_BYTES||l.name===br.PROCESSOR_TIME_NORMALIZED){let d={weight:1,name:l.name===br.PHYSICAL_BYTES?br.COMMITTED_BYTES:br.PROCESSOR_TIME,value:u.value};a.push(d);}});});}),n.forEach((s,c)=>{let u={weight:1,name:c,value:s};a.push(u);}),[{...e,timestamp:new Date,metrics:a,documents:r,collectionConfigurationErrors:i}]}function Xae(t){return `PT${t/1e3}S`}function tce(t){return t.kind===be.SERVER||t.kind===be.CONSUMER?CGe(t):NGe(t)}function rce(t,e){return {Message:t[wn],StackTrace:t[so],CustomDimensions:_O(e)}}function CGe(t){let e={Url:"",Duration:Jn(t.duration),ResponseCode:0,Success:false,Name:t.name||"",CustomDimensions:_O(t.attributes)},r=M1(t.attributes),i=t.attributes[Ni];if(r){if(e.Url=oce(t.attributes),URL.canParse(e.Url)){let a=new URL(e.Url);e.Name=`${r} ${a.pathname}`;}else Re.getInstance().info("Request data sent to live metrics has no valid URL field.");let n=B_(t.attributes);n&&(e.ResponseCode=Number(n));}else i&&(e.ResponseCode=Number(i));return e.Success=t.status.code!==ut.ERROR&&e.ResponseCode<400,e}function NGe(t){let e={Target:"",Duration:Jn(t.duration),Success:t.status.code!==ut.ERROR,Name:t.name,ResultCode:0,Type:"",Data:"",CustomDimensions:_O(t.attributes)};t.kind===be.PRODUCER&&(e.Type=En.QueueMessage),t.kind===be.INTERNAL&&t.parentSpanContext?.spanId&&(e.Type=En.InProc);let r=M1(t.attributes),i=t.attributes[us],n=t.attributes[ys];if(r){let a=ace(t.attributes);if(a)if(URL.canParse(String(a))){let c=new URL(String(a));e.Name=`${r} ${c.pathname}`;}else Re.getInstance().info("Dependency data sent to live metrics has no valid URL field.");e.Type=En.Http,e.Data=oce(t.attributes);let o=B_(t.attributes);o&&(e.ResultCode=Number(o));let s=V_(t.attributes);if(s){try{let u=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/).exec(s);if(u!==null){let l=u[1],d=u[3];(l==="https"&&d===":443"||l==="http"&&d===":80")&&(s=u[1]+u[2]+u[4]);}}catch{}e.Target=`${s}`;}}else if(i){String(i)===Lh?e.Type=En.mysql:String(i)===Uh?e.Type=En.postgresql:String(i)===Hh?e.Type=En.mongodb:String(i)===Gh?e.Type=En.redis:uce(String(i))?e.Type=En.Sql:e.Type=String(i);let a=t.attributes[ds],o=t.attributes[ps];a?e.Data=String(a):o&&(e.Data=String(o));let s=V_(t.attributes),c=t.attributes[ls];s?e.Target=c?`${s}|${c}`:`${s}`:e.Target=c?`${c}`:`${i}`;}else if(n){n===En.Wcf?e.Type=En.Wcf:e.Type=En.Grpc;let a=t.attributes[Ni];a&&(e.ResultCode=Number(a));let o=V_(t.attributes);o?e.Target=`${o}`:n&&(e.Target=String(n));}return e}function gO(t){let e=_O(t.attributes);return EO(t)?{Message:String(t.attributes[wn]),StackTrace:String(t.attributes[so]),CustomDimensions:e}:{Message:String(t.body),CustomDimensions:e}}function w1(t,e){return Ec(t)&&e?{documentType:gc.Exception,exceptionMessage:t.Message,exceptionType:e,properties:I1(t.CustomDimensions)}:{documentType:gc.Trace,message:t.Message,properties:I1(t.CustomDimensions)}}function yc(t){return t.Url!==void 0}function ul(t){return t.Target!==void 0}function nce(t){return t.Message!==void 0&&t.StackTrace===void 0}function Ec(t){return t.StackTrace!==void 0}function ice(t){let e={documentType:gc.Request};return yc(t)?e={documentType:gc.Request,name:t.Name,url:t.Url,responseCode:String(t.ResponseCode),duration:Xae(t.Duration)}:ul(t)&&(e={documentType:gc.RemoteDependency,name:t.Name,commandName:t.Data,resultCode:String(t.ResultCode),duration:Xae(t.Duration)}),e.properties=I1(t.CustomDimensions),e}function _O(t){let e=new Map;if(t)for(let r of Object.keys(t))r.startsWith("_MS.")||Yae.includes(r)||Zae.includes(r)||e.set(r,String(t[r]));return e}function I1(t){let e=[];return t.forEach((r,i)=>{e.push({key:i,value:r});}),e}function oce(t){if(!t)return "";if(M1(t)){let r=ace(t);if(r)return String(r);{let i=IGe(t),n=wGe(t);if(i&&n){let a=MGe(t);if(a)return `${i}://${a}${n}`;{let o=LGe(t);if(o){let s=L1(t);if(s)return `${i}://${s}:${o}${n}`;{let c=PGe(t);if(c)return `${i}://${c}:${o}${n}`}}}}}}return ""}function SO(){return (Date.now()+621355968e5)*1e4}function yO(t){let e=t.split(":");if(e.length!==3)return NaN;let r=parseFloat(e[2]),i=parseFloat(e[1]),n=e[0].split(".");if(n.length!==2)return NaN;let a=parseFloat(n[1]),o=parseFloat(n[0]);return isNaN(o)||isNaN(a)||isNaN(i)||isNaN(r)?NaN:r*1e3+i*6e4+a*36e5+o*864e5}function PGe(t){if(t)return String(t[As]||t[fs])}function sce(t){if(t)return String(t[Ps]||t[iu])}function ace(t){return t?String(t[Cs]||t[gs]||""):""}function M1(t){if(t)return String(t[bs]||t[ms])}function B_(t){if(t)return String(t[Rs]||t[Ss])}function IGe(t){if(t)return String(t[Ns]||t[nu])}function wGe(t){return t?t[Zn]?String(t[Zn]):t[Pi]?String(t[Pi]):String(t[ru]||""):""}function MGe(t){if(t)return String(t[Os]||t[_s])}function L1(t){return t?String(t[co]||t[Ci]||""):""}function cce(t){return t?String(t[uo]||t[Nh]||""):""}function LGe(t){if(t)return String(t[Es]||t[uo]||t[tu])}function lce(t){let e=vO(t.resource);e.metricId=_i.REQUEST_DURATION;let r=String(B_(t.attributes));return e.requestResultCode=r,e.requestSuccess=t.status.code!==ut.ERROR&&(Number(r)||0)<400?"True":"False",bO(t)&&(e.operationSynthetic="True"),fce(e)}function dce(t){let e=vO(t.resource);e.metricId=_i.DEPENDENCIES_DURATION;let r=String(B_(t.attributes));return e.dependencyTarget=V_(t.attributes),e.dependencyResultCode=r,e.dependencyType="http",e.dependencySuccess=t.status.code!==ut.ERROR?"True":"False",bO(t)&&(e.operationSynthetic="True"),fce(e)}function k1(t){let e=vO(t);return e.metricId=_i.EXCEPTIONS_COUNT,e}function U1(t){let e=vO(t);return e.metricId=_i.TRACES_COUNT,e}function vO(t){let e={};return e.IsAutocollected="True",t&&(e.cloudRoleName=$1(t),e.cloudRoleInstance=z1(t)),e}function V_(t){if(!t)return "";let e=t[hs],r=cce(t),i=L1(t);return e?String(e):r&&i?`${i}:${r}`:i?String(i):""}function uce(t){return t===kh||t===zh||t===Vh||t===Mh||t===Dh||t===Bh||t===wh||t===$h||t===Fh}function EO(t){let e=t.attributes["_MS.baseType"];return e&&e==="ExceptionData"?true:!!(t.attributes[wn]||t.attributes[In])}function pce(t){let e=t.attributes["_MS.baseType"];return e&&e==="MessageData"?true:!t.attributes[wn]&&!t.attributes[In]}function bO(t){let e=String(sce(t.attributes));return !!(e!==null&&e.includes("AlwaysOn"))}function fce(t){let e={};for(let r in t)e[Cae[r]]=t[r];return e}function hce(){return ra__namespace.default?.memoryUsage?ra__namespace.default.memoryUsage.rss():(Re.getInstance().debug("process.memoryUsage is not available"),0)}function mce(t,e){let r=Qp__namespace.default.cpus().length,i=ra__namespace.default.cpuUsage(e),n=ra__namespace.default.hrtime.bigint()-t,a=(i.user+i.system)/1e3,o=n===BigInt(0)?1:Number(n)/1e6;return r=r===0?1:r,a/o/r*100}function $1(t){let e="",r=t.attributes[ao],i=t.attributes[Jh];if(r)if(String(r).startsWith("unknown_service"))i?e=`${i}.${r}`:e=String(r);else return i?`${i}.${r}`:String(r);let n=t.attributes[Wh];if(n)return String(n);let a=t.attributes[qh];if(a)return String(a);let o=t.attributes[Kh];if(o)return String(o);let s=t.attributes[Zh];if(s)return String(s);let c=t.attributes[Xh];if(c)return String(c);let u=t.attributes[Yh];return u?String(u):e}function z1(t){let e=t.attributes[jh];if(e)return String(e);let r=t.attributes[ou];return r?String(r):Qp__namespace.default&&Qp__namespace.default.hostname()}var RO=class{_config;_collectionInterval=6e4;_meterProvider;_azureExporter;_metricReader;_meter;_incomingRequestDurationHistogram;_outgoingRequestDurationHistogram;_exceptionsCounter;_tracesCounter;constructor(e,r){this._config=e,this._azureExporter=new ta(this._config.azureMonitorExporterOptions);let i={exporter:this._azureExporter,exportIntervalMillis:r?.collectionInterval||this._collectionInterval};this._metricReader=new nr(i);let n={resource:this._config.resource,readers:[this._metricReader]};this._meterProvider=new wr(n),this._meter=this._meterProvider.getMeter("AzureMonitorStandardMetricsMeter"),this._incomingRequestDurationHistogram=this._meter.createHistogram(_i.REQUEST_DURATION,{valueType:$e.DOUBLE}),this._outgoingRequestDurationHistogram=this._meter.createHistogram(_i.DEPENDENCIES_DURATION,{valueType:$e.DOUBLE}),this._exceptionsCounter=this._meter.createCounter(_i.EXCEPTIONS_COUNT,{valueType:$e.INT}),this._tracesCounter=this._meter.createCounter(_i.TRACES_COUNT,{valueType:$e.INT});}shutdown(){this._meterProvider.shutdown();}async flush(){await this._meterProvider.forceFlush();}getMeterProvider(){return this._meterProvider}markSpanAsProcessed(e){e.kind===be.CLIENT?e.setAttributes({"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"}):e.kind===be.SERVER&&e.setAttributes({"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});}recordSpan(e){let r=e.duration[0];e.kind===be.SERVER?this._incomingRequestDurationHistogram.record(r,lce(e)):this._outgoingRequestDurationHistogram.record(r,dce(e)),e.events&&e.events.forEach(i=>{i.attributes=i.attributes||{},i.name==="exception"?(i.attributes["_MS.ProcessedByMetricExtractors"]="(Name:'Exceptions', Ver:'1.1')",this._exceptionsCounter.add(1,k1(e.resource))):(i.attributes["_MS.ProcessedByMetricExtractors"]="(Name:'Traces', Ver:'1.1')",this._tracesCounter.add(1,U1(e.resource)));});}recordLog(e){bO(e)&&e.setAttribute("operation/synthetic","True"),EO(e)?(e.setAttribute("_MS.ProcessedByMetricExtractors","(Name:'Exceptions', Ver:'1.1')"),this._exceptionsCounter.add(1,k1(e.resource))):pce(e)&&(e.setAttribute("_MS.ProcessedByMetricExtractors","(Name:'Traces', Ver:'1.1')"),this._tracesCounter.add(1,U1(e.resource)));}};ir();P();Eo();P();ir();Q();P();var kGe="https://monitor.azure.com//.default",Jp=class{quickpulseClient;quickpulseClientOptions;instrumentationKey;endpointUrl;constructor(e){this.endpointUrl=e.endpointUrl,this.quickpulseClientOptions={endpoint:this.endpointUrl},this.instrumentationKey=e.instrumentationKey,e.credential&&(this.quickpulseClientOptions.credential=e.credential,e.credentialScopes?this.quickpulseClientOptions.credentialScopes=e.credentialScopes:this.quickpulseClientOptions.credentialScopes=[kGe]),this.quickpulseClient=new k_(this.quickpulseClientOptions),this.quickpulseClient.pipeline.removePolicy({name:b_});}async isSubscribed(e){try{return await this.quickpulseClient.isSubscribed(this.endpointUrl,this.instrumentationKey,e)}catch(r){let i=r;E.info("Failed to ping Quickpulse service",i.message);}}async publish(e){try{return await this.quickpulseClient.publish(this.endpointUrl,this.instrumentationKey,e)}catch(r){let i=r;E.warn("Failed to post Quickpulse service",i.message);}}handlePermanentRedirect(e){if(e){let r=new XHe__default.default.URL(e);r&&r.host&&(this.endpointUrl="https://"+r.host);}}};var AO=class{sender;postCallback;getDocumentsFn;baseMonitoringDataPoint;etag;getErrorsFn;getDerivedMetricValuesFn;constructor(e){this.sender=new Jp({endpointUrl:e.endpointUrl,instrumentationKey:e.instrumentationKey,credential:e.credential,credentialScopes:e.credentialScopes}),this.postCallback=e.postCallback,this.getDocumentsFn=e.getDocumentsFn,this.baseMonitoringDataPoint=e.baseMonitoringDataPoint,this.getErrorsFn=e.getErrorsFn,this.etag="",this.getDerivedMetricValuesFn=e.getDerivedMetricValuesFn,E.debug("QuickpulseMetricExporter was successfully setup");}async export(e,r){E.info("Exporting Live metrics(s). Converting to envelopes...");let i={monitoringDataPoints:ece(e,this.baseMonitoringDataPoint,this.getDocumentsFn(),this.getErrorsFn(),this.getDerivedMetricValuesFn()),transmissionTime:SO(),configurationEtag:this.etag};await Te.with(qt(Te.active()),async()=>{try{this.postCallback(await this.sender.publish(i)),r({code:Z.SUCCESS});}catch{this.postCallback(void 0),r({code:Z.FAILED});}});}async shutdown(){return E.info("QuickpulseMetricExporter shutting down"),Promise.resolve()}selectAggregationTemporality(e){return e===fe.UP_DOWN_COUNTER||e===fe.OBSERVABLE_UP_DOWN_COUNTER?Rt.CUMULATIVE:Rt.DELTA}async forceFlush(){return Promise.resolve()}getSender(){return this.sender}setEtag(e){this.etag=e;}};P();var Tc=class t{static FIELDS_SEPARATOR=";";static FIELD_KEY_VALUE_SEPARATOR="=";static parse(e){if(!e)return {};let r=e.split(t.FIELDS_SEPARATOR),i=true,n=r.reduce((a,o)=>{let s=o.split(t.FIELD_KEY_VALUE_SEPARATOR);if(s.length===2){let c=s[0].toLowerCase(),u=s[1];return {...a,[c]:u}}return E.error("Connection string key-value pair is invalid: Entire connection string will be discarded"),i=false,a},{});if(i&&Object.keys(n).length>0){if(n.endpointsuffix){let a=n.location?`${n.location}.`:"";n.ingestionendpoint=n.ingestionendpoint||`https://${a}dc.${n.endpointsuffix}`,n.liveendpoint=n.liveendpoint||`https://${a}live.${n.endpointsuffix}`;}n.ingestionendpoint=n.ingestionendpoint?t.sanitizeUrl(n.ingestionendpoint):jae,n.liveendpoint=n.liveendpoint?t.sanitizeUrl(n.liveendpoint):z_,n.authorization&&n.authorization.toLowerCase()!=="ikey"&&E.warn("Connection String contains an unsupported 'Authorization' value. Defaulting to 'Authorization=ikey'.");}else E.error("An invalid connection string was passed in. There may be telemetry loss");return n}static sanitizeUrl(e){let r=e.trim();return r.indexOf("https://")<0&&(r=r.replace("http://","https://")),r[r.length-1]==="/"&&(r=r.slice(0,-1)),r}static validateInstrumentationKey(e){if(e.startsWith("InstrumentationKey=")){let n=e.indexOf("InstrumentationKey=")+19,a=e.indexOf(";",n);e=e.substring(n,a);}let r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$";return new RegExp(r).test(e)}};Q();var V1,B1=class{initializedByShim=false;currentStatsbeatInstrumentations={};currentStatsbeatFeatures={};constructor(){try{JSON.parse(process.env[Sc]||"{}").feature&$_.SHIM&&(this.initializedByShim=!0);}catch(e){Re.getInstance().error("Failed to parse statsbeat config environment variable.",e);}}setStatsbeatFeatures=(e,r)=>{let i;try{i=JSON.parse(process.env[Sc]||"{}");}catch(c){Re.getInstance().error("Failed to parse statsbeat config environment variable.",c);}this.currentStatsbeatInstrumentations={...this.currentStatsbeatInstrumentations,...e},this.currentStatsbeatFeatures={...this.currentStatsbeatFeatures,...r},e={...this.currentStatsbeatInstrumentations,amqplib:!!(i.instrumentation&oe.AMQPLIB),cucumber:!!(i.instrumentation&oe.CUCUMBER),dataloader:!!(i.instrumentation&oe.DATALOADER),fs:!!(i.instrumentation&oe.FS),lruMemoizer:!!(i.instrumentation&oe.LRU_MEMOIZER),mongoose:!!(i.instrumentation&oe.MONGOOSE),runtimeNode:!!(i.instrumentation&oe.RUNTIME_NODE),socketIo:!!(i.instrumentation&oe.SOCKET_IO),tedious:!!(i.instrumentation&oe.TEDIOUS),undici:!!(i.instrumentation&oe.UNDICI),cassandra:!!(i.instrumentation&oe.CASSANDRA),connect:!!(i.instrumentation&oe.CONNECT),dns:!!(i.instrumentation&oe.DNS),express:!!(i.instrumentation&oe.EXPRESS),fastify:!!(i.instrumentation&oe.FASTIFY),genericPool:!!(i.instrumentation&oe.GENERIC_POOL),graphql:!!(i.instrumentation&oe.GRAPHQL),hapi:!!(i.instrumentation&oe.HAPI),ioredis:!!(i.instrumentation&oe.IOREDIS),knex:!!(i.instrumentation&oe.KNEX),koa:!!(i.instrumentation&oe.KOA),memcached:!!(i.instrumentation&oe.MEMCACHED),mysql2:!!(i.instrumentation&oe.MYSQL2),nestjsCore:!!(i.instrumentation&oe.NESTJS_CORE),net:!!(i.instrumentation&oe.NET),pino:!!(i.instrumentation&oe.PINO),restify:!!(i.instrumentation&oe.RESTIFY),router:!!(i.instrumentation&oe.ROUTER)};let n=oe.NONE,a=Object.entries(e).map(c=>({option:c[0],value:c[1]}));for(let c=0;c<a.length;c++)a[c].value&&(n|=2**c);let o=$_.NONE;this.initializedByShim?this.currentStatsbeatFeatures.shim=true:this.currentStatsbeatFeatures.distro=true,r.liveMetrics&&(this.currentStatsbeatFeatures.liveMetrics=true);let s=Object.entries(this.currentStatsbeatFeatures).map(c=>({option:c[0],value:c[1]}));for(let c=0;c<s.length;c++)s[c].value&&(o|=Fae.get(s[c].option));try{let c=Number(process.env[Sc]);isNaN(c)||(o|=c),process.env[Sc]=JSON.stringify({instrumentation:n,feature:o});}catch(c){Re.getInstance().error("Failed call to JSON.stringify.",c);}}};function OO(){return V1||(V1=new B1),V1}var xO=class{renameExceptionFieldNamesForFiltering(e){e.filters.forEach(r=>{r.fieldName.startsWith("Exception.")&&(r.fieldName=r.fieldName.replace("Exception.",""));});}checkMetricFilters(e,r){if(e.filterGroups.length===0)return  true;let i=false;return e.filterGroups.forEach(n=>{i=i||this.checkFilterConjunctionGroup(n,r);}),i}checkFilterConjunctionGroup(e,r){for(let i of e.filters)if(!this.checkFilter(i,r))return  false;return  true}checkFilter(e,r){if(e.fieldName==="*")return this.checkAnyFieldFilter(e,r);if(e.fieldName.startsWith("CustomDimensions."))return this.checkCustomDimFilter(e,r);{let i;if(yc(r))i=r[e.fieldName];else if(ul(r))i=r[e.fieldName];else if(Ec(r))i=r[e.fieldName];else if(nce(r))i=r[e.fieldName];else return  false;if(e.fieldName===Zi.Success.toString()){if(e.predicate===pt.Equal.toString())return i===(e.comparand.toLowerCase()==="true");if(e.predicate===pt.NotEqual.toString())return i!==(e.comparand.toLowerCase()==="true")}else if(e.fieldName===Tn.ResultCode.toString()||e.fieldName===Zi.ResponseCode.toString()||e.fieldName===Tn.Duration.toString()){let n=e.fieldName===Tn.Duration.toString()?yO(e.comparand):parseFloat(e.comparand);switch(e.predicate){case pt.Equal.toString():return i===n;case pt.NotEqual.toString():return i!==n;case pt.GreaterThan.toString():return i>n;case pt.GreaterThanOrEqual.toString():return i>=n;case pt.LessThan.toString():return i<n;case pt.LessThanOrEqual.toString():return i<=n;default:return  false}}else return this.stringCompare(i,e.comparand,e.predicate)}return  false}checkAnyFieldFilter(e,r){let i=Object.keys(r);for(let n of i)if(n==="CustomDimensions"){for(let a of r.CustomDimensions.values())if(this.stringCompare(a,e.comparand,e.predicate))return  true}else {let a=String(r[n]);if(this.stringCompare(a,e.comparand,e.predicate))return  true}return  false}checkCustomDimFilter(e,r){let i=e.fieldName.replace("CustomDimensions.",""),n;if(r.CustomDimensions.has(i))n=r.CustomDimensions.get(i);else return  false;return this.stringCompare(n,e.comparand,e.predicate)}stringCompare(e,r,i){switch(i){case pt.Equal.toString():return e===r;case pt.NotEqual.toString():return e!==r;case pt.Contains.toString():{let n=e.toLowerCase(),a=r.toLowerCase();return n.includes(a)}case pt.DoesNotContain.toString():{let n=e.toLowerCase(),a=r.toLowerCase();return !n.includes(a)}default:return  false}}};var Xi=class extends Error{constructor(e){super(e),this.name="TelemetryTypeError";}},wt=class extends Error{constructor(e){super(e),this.name="UnexpectedFilterCreateError";}},F_=class extends Error{constructor(e){super(e),this.name="DuplicateMetricIdError";}},Ko=class extends Error{constructor(e){super(e),this.name="MetricFailureToCreateError";}};var UGe=new Set([Zi.Url,Zi.Name,Tn.Target,Tn.Type,Tn.Data,"Message","Exception.Message","Exception.StackTrace"]),CO=class{validateTelemetryType(e){if(e===Pt.PerformanceCounter.toString())throw new Xi("The telemetry type PerformanceCounter was specified, but this distro does not send performance counters to quickpulse.");if(e===Pt.Event.toString())throw new Xi("The telemetry type Event was specified, but this telemetry type is not supported via OpenTelemetry.");if(e===Pt.Metric.toString())throw new Xi("The telemetry type Metric was specified, but this distro does not send custom live metrics to quickpulse.");if(!(e in Pt))throw new Xi(`'${e}' is not a valid telemetry type.`)}checkCustomMetricProjection(e){if(e.projection.startsWith("CustomMetrics."))throw new wt("The Projection of a customMetric property is not supported via OpenTelemetry.")}validateMetricFilters(e){e.filterGroups.forEach(r=>{r.filters.forEach(i=>{this.validateFieldNames(i.fieldName,e.telemetryType),this.validatePredicateAndComparand(i);});});}validateDocumentFilters(e){e.filters.filters.forEach(i=>{this.validateFieldNames(i.fieldName,e.telemetryType),this.validatePredicateAndComparand(i);});}isCustomDimOrAnyField(e){return e.startsWith("CustomDimensions.")||e==="*"}validateFieldNames(e,r){if(e==="")throw new wt("A filter must have a field name.");if(e.startsWith("CustomMetrics."))throw new wt("Filtering of a customMetric property is not supported via OpenTelemetry.");switch(r){case Pt.Request.toString():if(!this.isCustomDimOrAnyField(e)&&!(e in Zi))throw new wt(`'${e}' is not a valid field name for the telemetry type Request.`);break;case Pt.Dependency.toString():if(!this.isCustomDimOrAnyField(e)&&!(e in Tn))throw new wt(`'${e}' is not a valid field name for the telemetry type Dependency.`);break;case Pt.Exception.toString():if(!this.isCustomDimOrAnyField(e)&&e!=="Exception.Message"&&e!=="Exception.StackTrace")throw new wt(`'${e}' is not a valid field name for the telemetry type Exception.`);break;case Pt.Trace.toString():if(!this.isCustomDimOrAnyField(e)&&e!=="Message")throw new wt(`'${e}' is not a valid field name for the telemetry type Trace.`);break;default:throw new Xi(`'${r}' is not a supported telemetry type.`)}}validatePredicateAndComparand(e){if(e.predicate in pt){if(e.comparand==="")throw new wt(`A filter must have a comparand. FilterName: '${e.fieldName}' Predicate: '${e.predicate}' Comparand: '${e.comparand}'`);if(e.fieldName==="*"&&!(e.predicate===pt.Contains.toString()||e.predicate===pt.DoesNotContain.toString()))throw new wt(`The predicate '${e.predicate}' is not supported for the field name '*'`);if(e.fieldName===Tn.ResultCode.toString()||e.fieldName===Zi.ResponseCode.toString()||e.fieldName===Tn.Duration.toString()){if(e.predicate===pt.Contains.toString()||e.predicate===pt.DoesNotContain.toString())throw new wt(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'`);if(e.fieldName===Tn.Duration.toString()){if(isNaN(yO(e.comparand)))throw new wt(`The comparand '${e.comparand}' can't be converted to a double (ms).`)}else if(isNaN(parseFloat(e.comparand)))throw new wt(`The comparand '${e.comparand}' can't be converted to a double.`)}else if(UGe.has(e.fieldName)||e.fieldName.startsWith("CustomDimensions.")){if(e.predicate===pt.GreaterThan.toString()||e.predicate===pt.GreaterThanOrEqual.toString()||e.predicate===pt.LessThan.toString()||e.predicate===pt.LessThanOrEqual.toString())throw new wt(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'. If this is a custom dimension, it would be treated as string.`)}else if(e.fieldName===Zi.Success.toString()){if(e.predicate!==pt.Equal.toString()&&e.predicate!==pt.NotEqual.toString())throw new wt(`The predicate '${e.predicate}' is not supported for the field name '${e.fieldName}'.`);if(e.comparand=e.comparand.toLowerCase(),e.comparand!=="true"&&e.comparand!=="false")throw new wt(`The comparand '${e.comparand}' is not a valid boolean value for the fieldName Success.`)}}else throw new wt(`'${e.predicate}' is not a valid predicate.`)}};var NO=class{validationTimeErrors=[];runTimeErrors=[];constructor(){this.validationTimeErrors=[],this.runTimeErrors=[];}addValidationError(e){this.validationTimeErrors.push(e);}addRunTimeError(e){this.runTimeErrors.push(e);}getErrors(){return this.validationTimeErrors.concat(this.runTimeErrors)}clearRunTimeErrors(){this.runTimeErrors=[];}clearValidationTimeErrors(){this.validationTimeErrors=[];}};var PO=class{projectionMap;avgMap;constructor(){this.projectionMap=new Map,this.avgMap=new Map;}initDerivedMetricProjection(e){e.aggregation===vr.Min.toString()?this.projectionMap.set(e.id,[Number.MAX_VALUE,vr.Min]):e.aggregation===vr.Max.toString()?this.projectionMap.set(e.id,[Number.MIN_VALUE,vr.Max]):e.aggregation===vr.Sum.toString()?this.projectionMap.set(e.id,[0,vr.Sum]):(this.projectionMap.set(e.id,[0,vr.Avg]),this.avgMap.set(e.id,[0,0]));}calculateProjection(e,r){let i;if(e.projection==="Count()")i=1;else if(e.projection==="Duration")if(yc(r)||ul(r))i=r.Duration;else throw new Ko("The projection Duration is not supported for the telemetry type Exception or Trace.");else if(e.projection.startsWith("CustomDimensions.")){let a=e.projection.replace("CustomDimensions.",""),o;if(r.CustomDimensions.has(a)){let s=parseFloat(r.CustomDimensions.get(a));if(isNaN(s))throw new Ko(`Could not calculate the projection because the custom dimension value '${r.CustomDimensions.get(a)}' for the dimension '${a}' is not a valid number.`);o=s;}else throw new Ko(`Could not calculate the projection because the custom dimension '${a}' was not found in the telemetry data.`);i=o;}else throw new Ko(`The projection '${e.projection}' is not supported in this SDK.`);let n=this.calculateAggregation(e.aggregation,e.id,i);this.projectionMap.set(e.id,[n,e.aggregation]);}getMetricValues(){let e=new Map;for(let[r,i]of this.projectionMap.entries()){let n;i[1]===vr.Min.toString()?(n=i[0]===Number.MAX_VALUE?0:i[0],i[0]=Number.MAX_VALUE):i[1]===vr.Max.toString()?(n=i[0]===Number.MIN_VALUE?0:i[0],i[0]=Number.MIN_VALUE):(n=i[0],i[0]=0,i[1]===vr.Avg.toString()&&this.avgMap.set(r,[0,0])),e.set(r,n);}return e}clearProjectionMaps(){this.projectionMap.clear(),this.avgMap.clear();}calculateAggregation(e,r,i){let n=this.projectionMap.get(r)[0];switch(e){case vr.Sum.toString():return n+i;case vr.Min.toString():return Math.min(n,i);case vr.Max.toString():return Math.max(n,i);case vr.Avg.toString():{let[a,o]=this.avgMap.get(r);return this.avgMap.set(r,[a+i,o+1]),(a+i)/(o+1)}default:throw new Ko(`The aggregation '${e}' is not supported in this SDK.`)}}};Ye();var gce=1e3,zGe=2e4,_ce=5e3,VGe=6e4,Sce=6e4,IO=class{config;meterProvider;metricReader;meter;requestDurationGauge;dependencyDurationGauge;requestRateGauge;requestFailedRateGauge;dependencyRateGauge;dependencyFailedRateGauge;processPhysicalBytesGauge;percentProcessorTimeNormalizedGauge;exceptionsRateGauge;documents=[];pingInterval;postInterval;quickpulseExporter;pingSender;isCollectingData;lastSuccessTime=Date.now();handle;baseMonitoringDataPoint;totalRequestCount=0;totalFailedRequestCount=0;totalDependencyCount=0;totalFailedDependencyCount=0;totalExceptionCount=0;requestDuration=0;dependencyDuration=0;lastRequestDuration={count:0,duration:0,time:0};lastRequestRate={count:0,time:0};lastFailedRequestRate={count:0,time:0};lastDependencyDuration={count:0,duration:0,time:0};lastDependencyRate={count:0,time:0};lastFailedDependencyRate={count:0,time:0};lastExceptionRate={count:0,time:0};lastCpuUsage;lastHrTime;statsbeatOptionsUpdated=false;etag="";errorTracker=new NO;seenMetricIds=new Set;validDerivedMetrics=new Map;derivedMetricProjection=new PO;validator=new CO;filter=new xO;validDocumentFilterConjuctionGroupInfos=new Map;constructor(e){this.config=e;let i=new yo().generateTraceId(),n=Qp__namespace.default.hostname(),a=z1(this.config.resource),o=$1(this.config.resource),s=Jae();this.baseMonitoringDataPoint={version:s,invariantVersion:5,instance:a,roleName:o,machineName:n,streamId:i,performanceCollectionSupported:true,isWebApp:!!process.env.WEBSITE_SITE_NAME};let c=Tc.parse(this.config.azureMonitorExporterOptions.connectionString||process.env.APPLICATIONINSIGHTS_CONNECTION_STRING);this.pingSender=new Jp({endpointUrl:c.liveendpoint||z_,instrumentationKey:c.instrumentationkey||"",credential:this.config.azureMonitorExporterOptions.credential,credentialScopes:c.aadaudience||this.config.azureMonitorExporterOptions.credentialScopes});let u={endpointUrl:c.liveendpoint||z_,instrumentationKey:c.instrumentationkey||"",credential:this.config.azureMonitorExporterOptions.credential,credentialScopes:c.aadaudience||this.config.azureMonitorExporterOptions.credentialScopes,postCallback:this.quickPulseDone.bind(this),getDocumentsFn:this.getDocuments.bind(this),getErrorsFn:this.getErrors.bind(this),getDerivedMetricValuesFn:this.getDerivedMetricValues.bind(this),baseMonitoringDataPoint:this.baseMonitoringDataPoint};this.quickpulseExporter=new AO(u),this.isCollectingData=false,this.pingInterval=_ce,this.postInterval=gce,this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref(),this.lastCpuUsage=process.cpuUsage(),this.lastHrTime=process.hrtime.bigint();}shutdown(){this.meterProvider?.shutdown();}async goQuickpulse(){if(!this.isCollectingData){try{let e={transmissionTime:SO(),monitoringDataPoint:this.baseMonitoringDataPoint,configurationEtag:this.etag};await Te.with(qt(Te.active()),async()=>{let r=await this.pingSender.isSubscribed(e);this.quickPulseDone(r);});}catch{this.quickPulseDone(void 0);}this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref();}this.isCollectingData&&this.activateMetrics({collectionInterval:this.postInterval});}async quickPulseDone(e){if(!e)this.isCollectingData?Date.now()-this.lastSuccessTime>=zGe&&(this.postInterval=Sce,this.deactivateMetrics(),this.activateMetrics({collectionInterval:this.postInterval})):Date.now()-this.lastSuccessTime>=VGe&&(this.pingInterval=Sce);else {this.postInterval=gce,this.lastSuccessTime=Date.now(),this.isCollectingData=!!(e.xMsQpsSubscribed&&e.xMsQpsSubscribed==="true"),e.xMsQpsConfigurationEtag&&this.etag!==e.xMsQpsConfigurationEtag&&this.updateConfiguration(e),!this.isCollectingData&&this.meterProvider&&(this.etag="",this.deactivateMetrics(),this.handle=setTimeout(this.goQuickpulse.bind(this),this.pingInterval),this.handle.unref());let r=e.xMsQpsServiceEndpointRedirectV2;r&&(this.pingSender.handlePermanentRedirect(r),this.quickpulseExporter.getSender().handlePermanentRedirect(r));let i=e.xMsQpsServicePollingIntervalHint;i?this.pingInterval=Number(i):this.pingInterval=_ce;}}activateMetrics(e){if(this.meterProvider)return;this.statsbeatOptionsUpdated||(OO().setStatsbeatFeatures({},{liveMetrics:true}),this.statsbeatOptionsUpdated=true),this.totalDependencyCount=0,this.totalExceptionCount=0,this.totalFailedDependencyCount=0,this.totalFailedRequestCount=0,this.totalRequestCount=0,this.requestDuration=0,this.dependencyDuration=0,this.lastRequestDuration={count:0,duration:0,time:0},this.lastRequestRate={count:0,time:0},this.lastFailedRequestRate={count:0,time:0},this.lastDependencyDuration={count:0,duration:0,time:0},this.lastDependencyRate={count:0,time:0},this.lastFailedDependencyRate={count:0,time:0},this.lastExceptionRate={count:0,time:0};let r={exporter:this.quickpulseExporter,exportIntervalMillis:e?.collectionInterval};this.metricReader=new nr(r);let i={resource:this.config.resource,readers:[this.metricReader]};this.meterProvider=new wr(i),this.meter=this.meterProvider.getMeter("AzureMonitorLiveMetricsMeter"),this.requestDurationGauge=this.meter.createObservableGauge(It.REQUEST_DURATION,{valueType:$e.DOUBLE}),this.requestRateGauge=this.meter.createObservableGauge(It.REQUEST_RATE,{valueType:$e.DOUBLE}),this.requestFailedRateGauge=this.meter.createObservableGauge(It.REQUEST_FAILURE_RATE,{valueType:$e.DOUBLE}),this.dependencyDurationGauge=this.meter.createObservableGauge(It.DEPENDENCY_DURATION,{valueType:$e.DOUBLE}),this.dependencyRateGauge=this.meter.createObservableGauge(It.DEPENDENCY_RATE,{valueType:$e.DOUBLE}),this.dependencyFailedRateGauge=this.meter.createObservableGauge(It.DEPENDENCY_FAILURE_RATE,{valueType:$e.DOUBLE}),this.processPhysicalBytesGauge=this.meter.createObservableGauge(It.PHYSICAL_BYTES,{valueType:$e.INT}),this.percentProcessorTimeNormalizedGauge=this.meter.createObservableGauge(It.PROCESSOR_TIME_NORMALIZED,{valueType:$e.DOUBLE}),this.exceptionsRateGauge=this.meter.createObservableGauge(It.EXCEPTION_RATE,{valueType:$e.DOUBLE}),this.requestDurationGauge.addCallback(this.getRequestDuration.bind(this)),this.requestRateGauge.addCallback(this.getRequestRate.bind(this)),this.requestFailedRateGauge.addCallback(this.getRequestFailedRate.bind(this)),this.dependencyDurationGauge.addCallback(this.getDependencyDuration.bind(this)),this.dependencyRateGauge.addCallback(this.getDependencyRate.bind(this)),this.dependencyFailedRateGauge.addCallback(this.getDependencyFailedRate.bind(this)),this.exceptionsRateGauge.addCallback(this.getExceptionRate.bind(this)),this.processPhysicalBytesGauge.addCallback(this.getPhysicalMemory.bind(this)),this.percentProcessorTimeNormalizedGauge.addCallback(this.getProcessorTimeNormalized.bind(this));}deactivateMetrics(){this.documents=[],this.validDocumentFilterConjuctionGroupInfos.clear(),this.errorTracker.clearRunTimeErrors(),this.errorTracker.clearValidationTimeErrors(),this.validDerivedMetrics.clear(),this.derivedMetricProjection.clearProjectionMaps(),this.seenMetricIds.clear(),this.meterProvider?.shutdown(),this.meterProvider=void 0;}async flush(){await this.meterProvider?.forceFlush();}getMeterProvider(){return this.meterProvider}getDocuments(){let e=this.documents;return this.documents=[],e}getErrors(){let e=this.errorTracker.getErrors();return this.errorTracker.clearRunTimeErrors(),e}getDerivedMetricValues(){return this.derivedMetricProjection.getMetricValues()}addDocument(e){e&&(this.documents.length>20&&this.documents.shift(),this.documents.push(e));}recordSpan(e){if(this.isCollectingData){let r=tce(e),i,n;yc(r)?(i=this.validDocumentFilterConjuctionGroupInfos.get(Pt.Request)||new Map,n=this.validDerivedMetrics.get(Pt.Request)||[]):(i=this.validDocumentFilterConjuctionGroupInfos.get(Pt.Dependency)||new Map,n=this.validDerivedMetrics.get(Pt.Dependency)||[]),this.applyDocumentFilters(i,r),this.checkMetricFilterAndCreateProjection(n,r);let a=Jn(e.duration),o=e.status.code!==ut.ERROR;e.kind===be.SERVER||e.kind===be.CONSUMER?(this.totalRequestCount++,this.requestDuration+=a,o||this.totalFailedRequestCount++):(this.totalDependencyCount++,this.dependencyDuration+=a,o||this.totalFailedDependencyCount++),e.events&&e.events.forEach(s=>{if(s.attributes=s.attributes||{},s.name==="exception"){let c=rce(s.attributes,e.attributes);i=this.validDocumentFilterConjuctionGroupInfos.get(Pt.Exception)||new Map,this.applyDocumentFilters(i,c,s.attributes[In]),n=this.validDerivedMetrics.get(Pt.Exception)||[],this.checkMetricFilterAndCreateProjection(n,c),this.totalExceptionCount++;}});}}recordLog(e){if(this.isCollectingData){let r=gO(e),i,n;Ec(r)?(n=this.validDocumentFilterConjuctionGroupInfos.get(Pt.Exception)||new Map,this.applyDocumentFilters(n,r,e.attributes[In]),i=this.validDerivedMetrics.get(Pt.Exception)||[],this.totalExceptionCount++):(n=this.validDocumentFilterConjuctionGroupInfos.get(Pt.Trace)||new Map,this.applyDocumentFilters(n,r),i=this.validDerivedMetrics.get(Pt.Trace)||[]),this.checkMetricFilterAndCreateProjection(i,r);}}getRequestDuration(e){let r=+new Date,i=this.totalRequestCount-this.lastRequestDuration.count||0,n=this.requestDuration-this.lastRequestDuration.duration||0;if(r-this.lastRequestDuration.time>0){let o=n/i||0;e.observe(o);}this.lastRequestDuration={count:this.totalRequestCount,duration:this.requestDuration,time:r};}getRequestRate(e){let r=+new Date,i=this.totalRequestCount-this.lastRequestRate.count||0,n=r-this.lastRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastRequestRate={count:this.totalRequestCount,time:r};}getRequestFailedRate(e){let r=+new Date,i=this.totalFailedRequestCount-this.lastFailedRequestRate.count||0,n=r-this.lastFailedRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastFailedRequestRate={count:this.totalFailedRequestCount,time:r};}getDependencyDuration(e){let r=+new Date,i=this.totalDependencyCount-this.lastDependencyDuration.count||0,n=this.dependencyDuration-this.lastDependencyDuration.duration||0;if(r-this.lastDependencyDuration.time>0){let o=n/i||0;e.observe(o);}this.lastDependencyDuration={count:this.totalDependencyCount,duration:this.dependencyDuration,time:r};}getDependencyRate(e){let r=+new Date,i=this.totalDependencyCount-this.lastDependencyRate.count||0,n=r-this.lastDependencyRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastDependencyRate={count:this.totalDependencyCount,time:r};}getDependencyFailedRate(e){let r=+new Date,i=this.totalFailedDependencyCount-this.lastFailedDependencyRate.count||0,n=r-this.lastFailedDependencyRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastFailedDependencyRate={count:this.totalFailedDependencyCount,time:r};}getExceptionRate(e){let r=+new Date,i=this.totalExceptionCount-this.lastExceptionRate.count||0,n=r-this.lastExceptionRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastExceptionRate={count:this.totalExceptionCount,time:r};}getPhysicalMemory(e){let r=hce();e.observe(r);}getProcessorTimeNormalized(e){if(process&&process.hrtime){let r=mce(this.lastHrTime,this.lastCpuUsage);e.observe(r),this.lastHrTime=process.hrtime.bigint(),this.lastCpuUsage=process.cpuUsage();}else Re.getInstance().debug("Getting Normalized Processor Time Failed. No process available.");}updateConfiguration(e){this.etag=e.xMsQpsConfigurationEtag||"",this.quickpulseExporter.setEtag(this.etag),this.errorTracker.clearValidationTimeErrors(),this.validDocumentFilterConjuctionGroupInfos.clear(),this.validDerivedMetrics.clear(),this.derivedMetricProjection.clearProjectionMaps(),this.seenMetricIds.clear(),this.parseDocumentFilterConfiguration(e),this.parseMetricFilterConfiguration(e);}parseDocumentFilterConfiguration(e){!e?.documentStreams||typeof e.documentStreams.forEach!="function"||e.documentStreams.forEach(r=>{r.documentFilterGroups.forEach(i=>{try{this.validator.validateTelemetryType(i.telemetryType),this.validator.validateDocumentFilters(i),this.filter.renameExceptionFieldNamesForFiltering(i.filters),this.validDocumentFilterConjuctionGroupInfos.has(i.telemetryType)||this.validDocumentFilterConjuctionGroupInfos.set(i.telemetryType,new Map);let n=this.validDocumentFilterConjuctionGroupInfos.get(i.telemetryType);n?.has(r.id)?n.get(r.id)?.push(i.filters):n?.set(r.id,[i.filters]);}catch(n){let a={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};n instanceof Xi?a.collectionConfigurationErrorType="DocumentTelemetryTypeUnsupported":n instanceof wt&&(a.collectionConfigurationErrorType=_c.DocumentStreamFailureToCreateFilterUnexpected),n instanceof Error&&(a.message=n.message,a.fullException=n.stack||"");let o=[];o.push({key:"DocumentStreamInfoId",value:r.id}),o.push({key:"ETag",value:this.etag}),a.data=o,this.errorTracker.addValidationError(a);}});});}applyDocumentFilters(e,r,i){let n=new Set;if(e.forEach((a,o)=>{a.forEach(s=>{this.filter.checkFilterConjunctionGroup(s,r)&&n.add(o);});}),n.size>0||e.size===0){let a;yc(r)||ul(r)?a=ice(r):Ec(r)&&i?a=w1(r,i):a=w1(r),a.documentStreamIds=[...n],this.addDocument(a);}}parseMetricFilterConfiguration(e){!e?.documentStreams||typeof e.documentStreams.forEach!="function"||e.metrics.forEach(r=>{try{if(!this.seenMetricIds.has(r.id))this.seenMetricIds.add(r.id),this.validator.validateTelemetryType(r.telemetryType),this.validator.checkCustomMetricProjection(r),this.validator.validateMetricFilters(r),r.filterGroups.forEach(i=>{this.filter.renameExceptionFieldNamesForFiltering(i);}),this.validDerivedMetrics.has(r.telemetryType)?this.validDerivedMetrics.get(r.telemetryType)?.push(r):this.validDerivedMetrics.set(r.telemetryType,[r]);else throw new F_(`Duplicate Metric Id: ${r.id}`);this.derivedMetricProjection.initDerivedMetricProjection(r);}catch(i){let n={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};i instanceof Xi?n.collectionConfigurationErrorType=_c.MetricTelemetryTypeUnsupported:i instanceof wt?n.collectionConfigurationErrorType=_c.MetricFailureToCreateFilterUnexpected:i instanceof F_&&(n.collectionConfigurationErrorType=_c.MetricDuplicateIds),i instanceof Error&&(n.message=i.message,n.fullException=i.stack||"");let a=[];a.push({key:"MetricId",value:r.id}),a.push({key:"ETag",value:this.etag}),n.data=a,this.errorTracker.addValidationError(n);}});}checkMetricFilterAndCreateProjection(e,r){e.forEach(i=>{if(this.filter.checkMetricFilters(i,r))try{this.derivedMetricProjection.calculateProjection(i,r);}catch(n){let a={collectionConfigurationErrorType:"",message:"",fullException:"",data:[]};if(n instanceof Ko){a.collectionConfigurationErrorType=_c.MetricFailureToCreate,n instanceof Error&&(a.message=n.message,a.fullException=n.stack||"");let o=[];o.push({key:"MetricId",value:i.id}),o.push({key:"ETag",value:this.etag}),a.data=o,this.errorTracker.addRunTimeError(a);}}});}};P();ir();var wO=class{internalConfig;collectionInterval=6e4;meterProvider;azureExporter;meter;requestDurationHistogram;requestRateGauge;requestRateGaugeCallback;memoryPrivateBytesGauge;memoryPrivateBytesGaugeCallback;memoryAvailableBytesGauge;memoryAvailableBytesGaugeCallback;processorTimeGauge;processorTimeGaugeCallback;processTimeNormalizedGauge;processTimeNormalizedGaugeCallback;processTimeGauge;processTimeGaugeCallback;exceptionCountGauge;exceptionCountGaugeCallback;lastExceptionRate={count:0,time:0};totalCount=0;intervalExecutionTime=0;lastRequestRate;lastAppCpuUsage;lastHrtime;lastCpus;lastCpusProcess;totalExceptionCount=0;constructor(e,r){this.internalConfig=e,this.lastCpus=Qp__namespace.default.cpus(),this.lastCpusProcess=Qp__namespace.default.cpus(),this.lastAppCpuUsage=ra__namespace.default.cpuUsage(),this.lastHrtime=ra__namespace.default.hrtime(),this.lastRequestRate={count:this.totalCount,time:+new Date,executionInterval:this.intervalExecutionTime},this.azureExporter=new ta(this.internalConfig.azureMonitorExporterOptions);let i={exporter:this.azureExporter,exportIntervalMillis:r?.collectionInterval||this.collectionInterval},n={readers:[new nr(i)],resource:this.internalConfig.resource};this.meterProvider=new wr(n),this.meter=this.meterProvider.getMeter("AzureMonitorPerformanceCountersMeter"),this.lastRequestRate={count:0,time:0,executionInterval:0},this.requestDurationHistogram=this.meter.createHistogram(Yi.REQUEST_DURATION,{valueType:$e.DOUBLE}),this.requestRateGauge=this.meter.createObservableGauge(Yi.REQUEST_RATE,{description:"Incoming Requests Average Execution Time",valueType:$e.DOUBLE}),this.memoryPrivateBytesGauge=this.meter.createObservableGauge(Yi.PRIVATE_BYTES,{description:"Amount of memory process has used in bytes",valueType:$e.INT}),this.memoryAvailableBytesGauge=this.meter.createObservableGauge(Yi.AVAILABLE_BYTES,{description:"Amount of available memory in bytes",valueType:$e.INT}),this.processorTimeGauge=this.meter.createObservableGauge(Yi.PROCESSOR_TIME,{description:"Processor time as a percentage",valueType:$e.DOUBLE}),this.processTimeGauge=this.meter.createObservableGauge(Yi.PROCESS_TIME_STANDARD,{description:"Process CPU usage as a percentage",valueType:$e.DOUBLE}),this.processTimeNormalizedGauge=this.meter.createObservableGauge(Yi.PROCESS_TIME_NORMALIZED,{description:"Process CPU usage normalized as a percentage",valueType:$e.DOUBLE}),this.exceptionCountGauge=this.meter.createObservableGauge(Yi.EXCEPTION_RATE,{description:"Exception Rate",valueType:$e.DOUBLE}),this.requestRateGaugeCallback=this.getRequestRate.bind(this),this.memoryPrivateBytesGaugeCallback=this.getPrivateMemory.bind(this),this.memoryAvailableBytesGaugeCallback=this.getAvailableMemory.bind(this),this.processorTimeGaugeCallback=this.getProcessorTime.bind(this),this.processTimeGaugeCallback=this.getProcessTime.bind(this),this.processTimeNormalizedGaugeCallback=this.getNormalizedProcessTime.bind(this),this.exceptionCountGaugeCallback=this.getExceptionRate.bind(this),this.memoryPrivateBytesGauge.addCallback(this.memoryPrivateBytesGaugeCallback),this.memoryAvailableBytesGauge.addCallback(this.memoryAvailableBytesGaugeCallback),this.processTimeGauge.addCallback(this.processTimeGaugeCallback),this.processTimeNormalizedGauge.addCallback(this.processTimeNormalizedGaugeCallback),this.processorTimeGauge.addCallback(this.processorTimeGaugeCallback),this.requestRateGauge.addCallback(this.requestRateGaugeCallback),this.exceptionCountGauge.addCallback(this.exceptionCountGaugeCallback);}async shutdown(){return this.meterProvider.shutdown()}async flush(){return this.meterProvider.forceFlush()}getMeterProvider(){return this.meterProvider}recordSpan(e){if(e.kind!==be.SERVER)return;this.totalCount++;let r=e.duration[0];this.intervalExecutionTime+=r,this.requestDurationHistogram.record(r),e.events&&e.events.forEach(i=>{i.attributes=i.attributes||{},i.name==="exception"&&this.totalExceptionCount++;});}recordLog(e){let r=gO(e);Ec(r)&&this.totalExceptionCount++;}getRequestRate(e){let r=+new Date,i=this.totalCount-this.lastRequestRate.count||0,n=r-this.lastRequestRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastRequestRate={count:this.totalCount,time:r,executionInterval:this.lastRequestRate.executionInterval};}getPrivateMemory(e){ra__namespace.default?.memoryUsage?e.observe(ra__namespace.default.memoryUsage().rss):Re.getInstance().debug("Couldn't report Private Memory. Process is not defined.");}getAvailableMemory(e){e.observe(Qp__namespace.default.freemem());}getTotalCombinedCpu(e,r){let i=0,n=0,a=0,o=0,s=0;for(let u=0;e&&u<e.length;u++){let l=e[u],d=r[u],p=l.times,f=d.times,_=p.user-f.user;_=_>0?_:0,i+=_;let y=p.sys-f.sys;y=y>0?y:0,n+=y;let v=p.nice-f.nice;v=v>0?v:0,a+=v;let O=p.idle-f.idle;O=O>0?O:0,o+=O;let x=p.irq-f.irq;x=x>0?x:0,s+=x;}return {combinedTotal:i+n+a+o+s,totalUser:i,totalIdle:o}}getProcessorTime(e){let r=Qp__namespace.default.cpus();if(r&&r.length&&this.lastCpus&&r.length===this.lastCpus.length){let i=this.getTotalCombinedCpu(r,this.lastCpus),n=i.combinedTotal>0?(i.combinedTotal-i.totalIdle)/i.combinedTotal*100:0;e.observe(n);}this.lastCpus=r;}getNormalizedProcessTime(e){let r=Qp__namespace.default.cpus();if(r&&r.length&&this.lastCpusProcess&&r.length===this.lastCpusProcess.length){let i,n=ra__namespace.default.cpuUsage(),a=ra__namespace.default.hrtime(),o=n.user-this.lastAppCpuUsage.user+(n.system-this.lastAppCpuUsage.system)||0;if(typeof this.lastHrtime<"u"&&this.lastHrtime.length===2){let u=(a[0]-this.lastHrtime[0])*1e6+(a[1]-this.lastHrtime[1])/1e3||0;i=100*o/(u*r.length);}this.lastAppCpuUsage=n,this.lastHrtime=a;let s=this.getTotalCombinedCpu(r,this.lastCpusProcess),c=0;i!==void 0?c=i:c=s.totalUser/s.combinedTotal*100,e.observe(c);}this.lastCpusProcess=r;}getProcessTime(e){if(ra__namespace.default){let r=Qp__namespace.default.cpus();if(r&&r.length&&this.lastCpusProcess&&r.length===this.lastCpusProcess.length){let i,n=ra__namespace.default.cpuUsage(),a=ra__namespace.default.hrtime(),o=n.user-this.lastAppCpuUsage.user+(n.system-this.lastAppCpuUsage.system)||0;if(typeof this.lastHrtime<"u"&&this.lastHrtime.length===2){let u=(a[0]-this.lastHrtime[0])*1e6+(a[1]-this.lastHrtime[1])/1e3||0;i=100*o/u;}this.lastAppCpuUsage=n,this.lastHrtime=a;let s=this.getTotalCombinedCpu(r,this.lastCpusProcess),c=0;i!==void 0?c=i:c=s.totalUser/s.combinedTotal*100,e.observe(c);}this.lastCpusProcess=r;}else Re.getInstance().debug("Couldn't report process time. Process is not defined.");}getExceptionRate(e){let r=+new Date,i=this.totalExceptionCount-this.lastExceptionRate.count||0,n=r-this.lastExceptionRate.time;if(n>0){let a=n/1e3,o=i/a;e.observe(o);}this.lastExceptionRate={count:this.totalExceptionCount,time:r};}};var H_=class{_azureExporter;_metricReader;_standardMetrics;_performanceCounters;_liveMetrics;_config;_views;constructor(e){this._config=e,this._views=[],e.instrumentationOptions.azureSdk?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-azure-sdk"}),e.instrumentationOptions.http?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-http"}),e.instrumentationOptions.mongoDb?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-mongodb"}),e.instrumentationOptions.mySql?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-mysql"}),e.instrumentationOptions.postgreSql?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-pg"}),e.instrumentationOptions.redis4?.enabled&&this._views.push({meterName:"@opentelemetry/instrumentation-redis-4"}),e.instrumentationOptions.redis?.enabled&&this._views.push({meterName:"@azure/opentelemetry-instrumentation-redis"}),this._azureExporter=new ta(this._config.azureMonitorExporterOptions);let i={exporter:this._azureExporter,exportIntervalMillis:this._config.metricExportIntervalMillis||6e4};this._metricReader=new nr(i),this._config.enableStandardMetrics&&!process.env[xae]&&(this._standardMetrics=new RO(this._config)),this._config.enableLiveMetrics&&(this._liveMetrics=new IO(this._config)),this._config.enablePerformanceCounters&&(this._performanceCounters=new wO(this._config));}getMetricReader(){return this._metricReader}getViews(){return this._views}markSpanAsProcessed(e){this._standardMetrics?.markSpanAsProcessed(e);}recordSpan(e){this._standardMetrics?.recordSpan(e),this._liveMetrics?.recordSpan(e),this._performanceCounters?.recordSpan(e);}recordLog(e){this._standardMetrics?.recordLog(e),this._liveMetrics?.recordLog(e),this._performanceCounters?.recordLog(e);}async shutdown(){this._standardMetrics?.shutdown(),this._liveMetrics?.shutdown(),this._performanceCounters?.shutdown();}};var yce=zo("opentelemetry-instrumentation-azure-sdk");var G_=class{emit(e){}},Ece=new G_;var F1=class{getLogger(e,r,i){return new G_}},MO=new F1;var LO=class{constructor(e,r,i,n){this._provider=e,this.name=r,this.version=i,this.options=n;}emit(e){this._getLogger().emit(e);}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ece}};var j_=class{getLogger(e,r,i){var n;return (n=this.getDelegateLogger(e,r,i))!==null&&n!==void 0?n:new LO(this,e,r,i)}getDelegate(){var e;return (e=this._delegate)!==null&&e!==void 0?e:MO}setDelegate(e){this._delegate=e;}getDelegateLogger(e,r,i){var n;return (n=this._delegate)===null||n===void 0?void 0:n.getLogger(e,r,i)}};var DO=typeof globalThis=="object"?globalThis:global;var q_=Symbol.for("io.opentelemetry.js.api.logs"),ef=DO;function Tce(t,e,r){return i=>i===t?e:r}var H1=1;var kO=class t{constructor(){this._proxyLoggerProvider=new j_;}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return ef[q_]?this.getLoggerProvider():(ef[q_]=Tce(H1,e,MO),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,r;return (r=(e=ef[q_])===null||e===void 0?void 0:e.call(ef,H1))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,i){return this.getLoggerProvider().getLogger(e,r,i)}disable(){delete ef[q_],this._proxyLoggerProvider=new j_;}};var vce=kO.getInstance();P();var xce=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,BGe=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,FGe={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};function Cce(t,e,r){if(!HGe(t))return E.error(`Invalid version: ${t}`),false;if(!e)return  true;e=e.replace(/([<>=~^]+)\s+/g,"$1");let i=WGe(t);if(!i)return  false;let n=[],a=Nce(i,e,n,r);return a&&!r?.includePrerelease?jGe(i,n):a}function HGe(t){return typeof t=="string"&&xce.test(t)}function Nce(t,e,r,i){if(e.includes("||")){let n=e.trim().split("||");for(let a of n)if(G1(t,a,r,i))return  true;return  false}else if(e.includes(" - "))e=hje(e,i);else if(e.includes(" ")){let n=e.trim().replace(/\s{2,}/g," ").split(" ");for(let a of n)if(!G1(t,a,r,i))return  false;return  true}return G1(t,e,r,i)}function G1(t,e,r,i){if(e=qGe(e,i),e.includes(" "))return Nce(t,e,r,i);{let n=KGe(e);return r.push(n),GGe(t,n)}}function GGe(t,e){if(e.invalid)return  false;if(!e.version||q1(e.version))return  true;let r=Rce(t.versionSegments||[],e.versionSegments||[]);if(r===0){let i=t.prereleaseSegments||[],n=e.prereleaseSegments||[];!i.length&&!n.length?r=0:!i.length&&n.length?r=1:i.length&&!n.length?r=-1:r=Rce(i,n);}return FGe[e.op]?.includes(r)}function jGe(t,e){return t.prerelease?e.some(r=>r.prerelease&&r.version===t.version):true}function qGe(t,e){return t=t.trim(),t=pje(t,e),t=dje(t),t=fje(t,e),t=t.trim(),t}function qr(t){return !t||t.toLowerCase()==="x"||t==="*"}function WGe(t){let e=t.match(xce);if(!e){E.error(`Invalid version: ${t}`);return}let r=e.groups.version,i=e.groups.prerelease,n=e.groups.build,a=r.split("."),o=i?.split(".");return {op:void 0,version:r,versionSegments:a,versionSegmentCount:a.length,prerelease:i,prereleaseSegments:o,prereleaseSegmentCount:o?o.length:0,build:n}}function KGe(t){if(!t)return {};let e=t.match(BGe);if(!e)return E.error(`Invalid range: ${t}`),{invalid:true};let r=e.groups.op,i=e.groups.version,n=e.groups.prerelease,a=e.groups.build,o=i.split("."),s=n?.split(".");return r==="=="&&(r="="),{op:r||"=",version:i,versionSegments:o,versionSegmentCount:o.length,prerelease:n,prereleaseSegments:s,prereleaseSegmentCount:s?s.length:0,build:a}}function q1(t){return t==="*"||t==="x"||t==="X"}function bce(t){let e=parseInt(t,10);return isNaN(e)?t:e}function YGe(t,e){if(typeof t==typeof e){if(typeof t=="number")return [t,e];if(typeof t=="string")return [t,e];throw new Error("Version segments can only be strings or numbers")}else return [String(t),String(e)]}function ZGe(t,e){if(q1(t)||q1(e))return 0;let[r,i]=YGe(bce(t),bce(e));return r>i?1:r<i?-1:0}function Rce(t,e){for(let r=0;r<Math.max(t.length,e.length);r++){let i=ZGe(t[r]||"0",e[r]||"0");if(i!==0)return i}return 0}var Pce="[a-zA-Z0-9-]",Ice="0|[1-9]\\d*",XGe=`\\d*[a-zA-Z-]${Pce}*`,JGe="((?:<|>)?=?)",Ace=`(?:${Ice}|${XGe})`,QGe=`(?:-(${Ace}(?:\\.${Ace})*))`,Oce=`${Pce}+`,eje=`(?:\\+(${Oce}(?:\\.${Oce})*))`,j1=`${Ice}|x|X|\\*`,W_=`[v=\\s]*(${j1})(?:\\.(${j1})(?:\\.(${j1})(?:${QGe})?${eje}?)?)?`,tje=`^${JGe}\\s*${W_}$`,rje=new RegExp(tje),nje=`^\\s*(${W_})\\s+-\\s+(${W_})\\s*$`,ije=new RegExp(nje),oje="(?:~>?)",sje=`^${oje}${W_}$`,aje=new RegExp(sje),cje="(?:\\^)",uje=`^${cje}${W_}$`,lje=new RegExp(uje);function dje(t){let e=aje;return t.replace(e,(r,i,n,a,o)=>{let s;return qr(i)?s="":qr(n)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:qr(a)?s=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:o?s=`>=${i}.${n}.${a}-${o} <${i}.${+n+1}.0-0`:s=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,s})}function pje(t,e){let r=lje,i=e?.includePrerelease?"-0":"";return t.replace(r,(n,a,o,s,c)=>{let u;return qr(a)?u="":qr(o)?u=`>=${a}.0.0${i} <${+a+1}.0.0-0`:qr(s)?a==="0"?u=`>=${a}.${o}.0${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.0${i} <${+a+1}.0.0-0`:c?a==="0"?o==="0"?u=`>=${a}.${o}.${s}-${c} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}-${c} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s}-${c} <${+a+1}.0.0-0`:a==="0"?o==="0"?u=`>=${a}.${o}.${s}${i} <${a}.${o}.${+s+1}-0`:u=`>=${a}.${o}.${s}${i} <${a}.${+o+1}.0-0`:u=`>=${a}.${o}.${s} <${+a+1}.0.0-0`,u})}function fje(t,e){let r=rje;return t.replace(r,(i,n,a,o,s,c)=>{let u=qr(a),l=u||qr(o),d=l||qr(s),p=d;return n==="="&&p&&(n=""),c=e?.includePrerelease?"-0":"",u?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&p?(l&&(o=0),s=0,n===">"?(n=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):n==="<="&&(n="<",l?a=+a+1:o=+o+1),n==="<"&&(c="-0"),i=`${n+a}.${o}.${s}${c}`):l?i=`>=${a}.0.0${c} <${+a+1}.0.0-0`:d&&(i=`>=${a}.${o}.0${c} <${a}.${+o+1}.0-0`),i})}function hje(t,e){let r=ije;return t.replace(r,(i,n,a,o,s,c,u,l,d,p,f,_)=>(qr(a)?n="":qr(o)?n=`>=${a}.0.0${e?.includePrerelease?"-0":""}`:qr(s)?n=`>=${a}.${o}.0${e?.includePrerelease?"-0":""}`:c?n=`>=${n}`:n=`>=${n}${e?.includePrerelease?"-0":""}`,qr(d)?l="":qr(p)?l=`<${+d+1}.0.0-0`:qr(f)?l=`<${d}.${+p+1}.0-0`:_?l=`<=${d}.${p}.${f}-${_}`:e?.includePrerelease?l=`<${d}.${p}.${+f+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()))}var Z_=Qe(K1());P();var vc=Qe(K1()),UO=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,r,i){this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(i),this._diag=E.createComponentLogger({namespace:e}),this._tracer=ce.getTracer(e,r),this._meter=kt.getMeter(e,r),this._logger=vce.getLogger(e,r),this._updateMetricInstruments();}_wrap=vc.wrap;_unwrap=vc.unwrap;_massWrap=vc.massWrap;_massUnwrap=vc.massUnwrap;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments();}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion);}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:true,...e};}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion);}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,i,n){if(e)try{e(i,n);}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},a);}}};var kce=Qe(Ms());var $O=class{hooks=[];children=new Map},zO=class{_trie=new $O;_counter=0;insert(e){let r=this._trie;for(let i of e.moduleName.split("/")){let n=r.children.get(i);n||(n=new $O,r.children.set(i,n)),r=n;}r.hooks.push({hook:e,insertedId:this._counter++});}search(e,{maintainInsertionOrder:r,fullOnly:i}={}){let n=this._trie,a=[],o=true;for(let s of e.split("/")){let c=n.children.get(s);if(!c){o=false;break}i||a.push(...c.hooks),n=c;}return i&&o&&a.push(...n.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((s,c)=>s.insertedId-c.insertedId),a.map(({hook:s})=>s))}};var _je=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),VO=class t{_moduleNameTrie=new zO;static _instance;constructor(){this._initialize();}_initialize(){new kce.Hook(null,{internals:true},(e,r,i)=>{let n=Sje(r),a=this._moduleNameTrie.search(n,{maintainInsertionOrder:true,fullOnly:i===void 0});for(let{onRequire:o}of a)e=o(e,r,i);return e});}register(e,r){let i={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(i),i}static getInstance(){return _je?new t:this._instance=this._instance??new t}};function Sje(t){return tl__namespace.sep!=="/"?t.split(tl__namespace.sep).join("/"):t}var Vce=Qe(Fm());P();var Bce=Qe(Ms());function Uce(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===true}var ll=class extends UO{_modules;_hooks=[];_requireInTheMiddleSingleton=VO.getInstance();_enabled=false;constructor(e,r,i){super(e,r,i);let n=this.init();n&&!Array.isArray(n)&&(n=[n]),this._modules=n||[],this._config.enabled&&this.enable();}_wrap=(e,r,i)=>{if(Uce(e[r])&&this._unwrap(e,r),jZ.types.isProxy(e)){let n=(0, Z_.wrap)(Object.assign({},e),r,i);return Object.defineProperty(e,r,{value:n}),n}else return (0, Z_.wrap)(e,r,i)};_unwrap=(e,r)=>jZ.types.isProxy(e)?Object.defineProperty(e,r,{value:e[r]}):(0, Z_.unwrap)(e,r);_massWrap=(e,r,i)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(n=>{r.forEach(a=>{this._wrap(n,a,i);});});};_massUnwrap=(e,r)=>{if(e)Array.isArray(e)||(e=[e]);else {E.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){E.error("must provide one or more functions to wrap on modules");return}e.forEach(i=>{r.forEach(n=>{this._unwrap(i,n);});});};_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let i=L.resolve(r);L.cache[i]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`);}catch{}});}_extractPackageVersion(e){try{let r=Zs.readFileSync(tl__namespace.join(e,"package.json"),{encoding:"utf8"}),i=JSON.parse(r).version;return typeof i=="string"?i:void 0}catch{E.warn("Failed extracting version",e);}}_onRequire(e,r,i,n){if(!n)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(r)):r;let a=this._extractPackageVersion(n);if(e.moduleVersion=a,e.name===i)return zce(e.supportedVersions,a,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:n}),e.patch(r,e.moduleVersion)):r;let o=e.files??[],s=tl__namespace.normalize(i);return o.filter(u=>u.name===s).filter(u=>zce(u.supportedVersions,a,e.includePrerelease)).reduce((u,l)=>(l.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:l.name,baseDir:n}),l.patch(u,e.moduleVersion)):u),r)}enable(){if(!this._enabled){if(this._enabled=true,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,e.moduleVersion));}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(o,s,c)=>{if(!c&&tl__namespace.isAbsolute(s)){let u=tl__namespace.parse(s);s=u.name,c=u.dir;}return this._onRequire(e,o,s,c)},i=(o,s,c)=>this._onRequire(e,o,s,c),n=tl__namespace.isAbsolute(e.name)?new Bce.Hook([e.name],{internals:true},i):this._requireInTheMiddleSingleton.register(e.name,i);this._hooks.push(n);let a=new Vce.Hook([e.name],{internals:false},r);this._hooks.push(a);}}}disable(){if(this._enabled){this._enabled=false;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let r of e.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,e.moduleVersion));}}}isEnabled(){return this._enabled}};function zce(t,e,r){return typeof e>"u"?t.includes("*"):t.some(i=>Cce(e,i,{includePrerelease:r}))}var X_=class{name;supportedVersions;patch;unpatch;files;constructor(e,r,i,n,a){this.name=e,this.supportedVersions=r,this.patch=i,this.unpatch=n,this.files=a||[];}};P();Q();P();Q();var BO=class{constructor(e){this._span=e;}setStatus(e){e.status==="error"&&Eje(e.error)?e.error?(this._span.setStatus({code:ut.ERROR,message:e.error.toString()}),this.recordException(e.error)):this._span.setStatus({code:ut.ERROR}):e.status==="success"&&yce.verbose("Leaving span with status UNSET per OpenTelemetry spec.");}setAttribute(e,r){r!=null&&oo(r)&&this._span.setAttribute(e,r);}end(){this._span.end();}recordException(e){this._span.recordException(e);}isRecording(){return this._span.isRecording()}addEvent(e,r={}){this._span.addEvent(e,Pn(r.attributes),r.startTime);}unwrap(){return this._span}};function Eje(t){return t!==null&&typeof t=="object"&&"statusCode"in t?t.statusCode!==304:true}var Fce="1.0.0-beta.9",Z1=new Map;function X1(t){var e;Z1.has(t)||Tje(t);let r=((e=Z1.get(t))!==null&&e!==void 0?e:"").toLowerCase();return r!=="false"&&r!=="0"&&!!r}function Tje(t){var e;if(typeof process<"u"&&process.env){let r=(e=process.env[t])!==null&&e!==void 0?e:process.env[t.toLowerCase()];Z1.set(t,r);}}P();Q();function vje(t){let e=(t||"internal").toUpperCase();return be[e]}function bje(t=[]){return t.reduce((e,r)=>{let i=ce.getSpanContext(r.tracingContext);return i&&e.push({context:i,attributes:Pn(r.attributes)}),e},[])}function Hce(t){let{spanAttributes:e,spanLinks:r,spanKind:i}=t||{},n=Pn(e),a=vje(i),o=bje(r);return {attributes:n,kind:a,links:o}}var Gce=new ed,FO=class{startSpan(e,r){let i=r?.tracingContext||Te.active(),n;return X1("AZURE_TRACING_DISABLED")?n=ce.wrapSpanContext(Sa):(n=ce.getTracer(r.packageName,r.packageVersion).startSpan(e,Hce(r),i),X1("AZURE_HTTP_TRACING_CHILDREN_DISABLED")&&e.toUpperCase().startsWith("HTTP")&&(i=qt(i))),{span:new BO(n),tracingContext:ce.setSpan(i,n)}}withContext(e,r,...i){return Te.with(e,r,void 0,...i)}parseTraceparentHeader(e){return Gce.extract(Te.active(),{traceparent:e},ql)}createRequestHeaders(e){let r={};return Gce.inject(e||Te.active(),r,Wl),r}};var J1=class extends ll{constructor(e={}){super("@azure/opentelemetry-instrumentation-azure-sdk",Fce,Object.assign({},e));}init(){let e=new X_("@azure/core-tracing",["^1.0.0-preview.14","^1.0.0"],r=>(typeof r.useInstrumenter=="function"&&r.useInstrumenter(new FO),r));return e.includePrerelease=true,e}};function jce(t={}){return new J1(t)}Eo();var ide=Qe(hue(),1),ode=Qe(Tue(),1),sde=Qe(Cue(),1),ade=Qe(jue(),1),cde=Qe(ile(),1),ude=Qe(nde(),1);var Nx=class{_metricHandler;constructor(e){this._metricHandler=e;}forceFlush(){return Promise.resolve()}onStart(e,r){this._metricHandler.markSpanAsProcessed(e);}onEnd(e){try{this._metricHandler.recordSpan(e);}catch(r){Re.getInstance().warn("Error while recording span",r);}}shutdown(){return Promise.resolve()}};P();var Px=class{_functionsCoreModule;_preInvocationHook;constructor(){try{this._functionsCoreModule=Pie(),this._functionsCoreModule?this._addPreInvocationHook():Re.getInstance().debug("@azure/functions-core failed to load, not running in Azure Functions");}catch{Re.getInstance().debug("@azure/functions-core failed to load, not running in Azure Functions");}}shutdown(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._functionsCoreModule=void 0;}_addPreInvocationHook(){this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",async e=>{let i=e.invocationContext.traceContext,n=null;try{i&&(n=rn.extract(Te.active(),{traceparent:i.traceparent||i.traceParent,tracestate:i.tracestate||i.traceState}));let a=n||Te.active();e.functionCallback=Te.bind(a,e.functionCallback);}catch(a){Re.getInstance().error("Failed to propagate context in Azure Functions",a);}}));}};P();Eo();var Ix=class{_sampleRate;_samplingRatio;constructor(e=1){this._samplingRatio=e,(this._samplingRatio>1||this._samplingRatio<0||!Number.isFinite(this._samplingRatio))&&E.warn("Invalid sampling rate, sampling rate must be a value in the range [0,1]."),this._sampleRate=Math.round(this._samplingRatio*100);}shouldSample(e,r,i,n,a,o){let s=false;return this._sampleRate===100?s=true:this._sampleRate===0?s=false:s=this._getSamplingHashCode(r)<this._sampleRate,a=a||{},this._sampleRate!==100&&(a[qae]=this._sampleRate),s?{decision:_r.RECORD_AND_SAMPLED,attributes:a}:{decision:_r.RECORD,attributes:a}}toString(){return `ApplicationInsightsSampler{${this._samplingRatio}}`}_getSamplingHashCode(e){let n=5381;if(!e)return 0;for(;e.length<8;)e=e+e;for(let a=0;a<e.length;a++)n=((n<<5)+n|0)+e.charCodeAt(a)|0;return n=n<=-2147483648?2147483647:Math.abs(n),n/2147483647*100}};var wx=class{_batchSpanProcessor;_azureSpanProcessor;_azureExporter;_instrumentations;_config;_metricHandler;_azureFunctionsHook;_sampler;constructor(e,r){this._config=e,this._metricHandler=r,this._instrumentations=[],this._config.tracesPerSecond&&this._config.tracesPerSecond>=0?this._sampler=new d_(this._config.tracesPerSecond):this._sampler=new Ix(this._config.samplingRatio),this._azureExporter=new L_(this._config.azureMonitorExporterOptions);let i={maxExportBatchSize:512,scheduledDelayMillis:5e3,exportTimeoutMillis:3e4,maxQueueSize:2048};this._batchSpanProcessor=new Ma(this._azureExporter,i),this._azureSpanProcessor=new Nx(this._metricHandler),this._azureFunctionsHook=new Px,this._initializeInstrumentations();}getSampler(){return this._sampler}getBatchSpanProcessor(){return this._batchSpanProcessor}getAzureMonitorSpanProcessor(){return this._azureSpanProcessor}getInstrumentations(){return this._instrumentations}async shutdown(){this._azureFunctionsHook.shutdown();}_initializeInstrumentations(){if(this._config.instrumentationOptions.http?.enabled){let e=this._config.instrumentationOptions.http,r=e.ignoreOutgoingRequestHook,i=n=>{let a=$k(n);return !a&&r?r(n):a};e.ignoreOutgoingRequestHook=i,this._instrumentations.push(new ide.HttpInstrumentation(this._config.instrumentationOptions.http));}this._config.instrumentationOptions.azureSdk?.enabled&&this._instrumentations.push(jce(this._config.instrumentationOptions.azureSdk)),this._config.instrumentationOptions.mongoDb?.enabled&&this._instrumentations.push(new ode.MongoDBInstrumentation(this._config.instrumentationOptions.mongoDb)),this._config.instrumentationOptions.mySql?.enabled&&this._instrumentations.push(new sde.MySQLInstrumentation(this._config.instrumentationOptions.mySql)),this._config.instrumentationOptions.postgreSql?.enabled&&this._instrumentations.push(new ade.PgInstrumentation(this._config.instrumentationOptions.postgreSql)),this._config.instrumentationOptions.redis?.enabled&&this._instrumentations.push(new cde.RedisInstrumentation(this._config.instrumentationOptions.redis)),this._config.instrumentationOptions.redis4?.enabled&&this._instrumentations.push(new ude.RedisInstrumentation(this._config.instrumentationOptions.redis4));}};var Bpe=Qe(vde(),1),Fpe=Qe(Vpe(),1);var eC=class{_metricHandler;constructor(e){this._metricHandler=e;}onEmit(e){try{this._metricHandler.recordLog(e);}catch(r){Re.getInstance().warn("Error while recording log",r);}}forceFlush(){return Promise.resolve()}shutdown(){return Promise.resolve()}};P();bE();var tC=class extends Ca{_options;constructor(e,r){super(e),this._options=r;}onEmit(e){this._options.enableTraceBasedSamplingForLogs&&e.spanContext&&e.spanContext.spanId&&e.spanContext.traceFlags!==Ve.SAMPLED||super.onEmit(e);}};ei();function bz(t){let e=Qn.UNSPECIFIED;switch(t){case "ALL":e=Qn.UNSPECIFIED;break;case "DEBUG":e=Qn.DEBUG;break;case "ERROR":e=Qn.ERROR;break;case "INFO":e=Qn.INFO;break;case "VERBOSE":e=Qn.TRACE;break;case "WARN":e=Qn.WARN;break}return e}var CS=class{_azureExporter;_azureLogRecordProcessor;_azureBatchLogRecordProcessor;_metricHandler;_config;_instrumentations;constructor(e,r){this._config=e,this._metricHandler=r,this._azureExporter=new D_(e.azureMonitorExporterOptions),this._azureBatchLogRecordProcessor=new tC(this._azureExporter,{enableTraceBasedSamplingForLogs:this._config.enableTraceBasedSamplingForLogs}),this._azureLogRecordProcessor=new eC(this._metricHandler),this._instrumentations=[],this._initializeInstrumentations();}getAzureLogRecordProcessor(){return this._azureLogRecordProcessor}getBatchLogRecordProcessor(){return this._azureBatchLogRecordProcessor}getInstrumentations(){return this._instrumentations}_initializeInstrumentations(){let e=process.env.APPLICATIONINSIGHTS_INSTRUMENTATION_LOGGING_LEVEL;this._config.instrumentationOptions.bunyan?.enabled&&this._instrumentations.push(new Bpe.BunyanInstrumentation({...this._config.instrumentationOptions.bunyan,logSeverity:e?bz(e):void 0})),this._config.instrumentationOptions.winston?.enabled&&this._instrumentations.push(new Fpe.WinstonInstrumentation({...this._config.instrumentationOptions.winston,logSeverity:e?bz(e):void 0}));}};var Hpe=`!(function (cfg){var k,x,D,E,L,C,b,U,O,A,e,t="track",n="TrackPage",i="TrackEvent",I=[t+"Event",t+"Exception",t+"PageView",t+"PageViewPerformance","addTelemetryInitializer",t+"Trace",t+"DependencyData",t+"Metric","start"+n,"stop"+n,"start"+i,"stop"+i,"setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"];function a(){cfg.onInit&&cfg.onInit(e)}k=window,x=document,D=k.location,E="script",L="ingestionendpoint",C="disableExceptionTracking",b="crossOrigin",U="POST",O=cfg.pn||"aiPolicy",t="appInsightsSDK",A=cfg.name||"appInsights",(cfg.name||k[t])&&(k[t]=A),e=k[A]||function(u){var n=u.url||cfg.src,s=!1,p=!1,l={initialize:!0,queue:[],sv:"10",config:u,version:2,extensions:void 0};function d(e){var t,n,i,a,r,o,c,s;!0!==cfg.dle&&(o=(t=function(){var e,t={},n=u.connectionString;if("string"==typeof n&&n)for(var i=n.split(";"),a=0;a<i.length;a++){var r=i[a].split("=");2===r.length&&(t[r[0].toLowerCase()]=r[1])}return t[L]||(e=(n=t.endpointsuffix)?t.location:null,t[L]="https://"+(e?e+".":"")+"dc."+(n||"services.visualstudio.com")),t}()).instrumentationkey||u.instrumentationKey||"",t=(t=(t=t[L])&&"/"===t.slice(-1)?t.slice(0,-1):t)?t+"/v2/track":u.endpointUrl,t=u.userOverrideEndpointUrl||t,(n=[]).push((i="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=e,c=t,(s=(r=f(o,"Exception")).data).baseType="ExceptionData",s.baseData.exceptions=[{typeName:"SDKLoadFailed",message:i.replace(/\\./g,"-"),hasFullStack:!1,stack:i+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(D&&D.pathname||"_unknown_")+"\\nEndpoint: "+c,parsedStack:[]}],r)),n.push((s=e,i=t,(c=(a=f(o,"Message")).data).baseType="MessageData",(r=c.baseData).message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+s+")").replace(/\\"/g,"")+'"',r.properties={endpoint:i},a)),e=n,o=t,JSON&&((c=k.fetch)&&!cfg.useXhr?c(o,{method:U,body:JSON.stringify(e),mode:"cors"}):XMLHttpRequest&&((s=new XMLHttpRequest).open(U,o),s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify(e)))))}function f(e,t){return e=e,t=t,i=l.sv,a=l.version,r=D,(o={})["ai.device."+"id"]="browser",o["ai.device.type"]="Browser",o["ai.operation.name"]=r&&r.pathname||"_unknown_",o["ai.internal.sdkVersion"]="javascript:snippet_"+(i||a),{time:(r=new Date).getUTCFullYear()+"-"+n(1+r.getUTCMonth())+"-"+n(r.getUTCDate())+"T"+n(r.getUTCHours())+":"+n(r.getUTCMinutes())+":"+n(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z",iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:o,data:{baseData:{ver:2}},ver:undefined,seq:"1",aiDataContract:undefined};function n(e){e=""+e;return 1===e.length?"0"+e:e}var i,a,r,o}var i,a,t,r,g=-1,h=0,m=["js.monitor.azure.com","js.cdn.applicationinsights.io","js.cdn.monitor.azure.com","js0.cdn.applicationinsights.io","js0.cdn.monitor.azure.com","js2.cdn.applicationinsights.io","js2.cdn.monitor.azure.com","az416426.vo.msecnd.net"],o=function(){return c(n,null)};function c(t,r){if((n=navigator)&&(~(n=(n.userAgent||"").toLowerCase()).indexOf("msie")||~n.indexOf("trident/"))&&~t.indexOf("ai.3")&&(t=t.replace(/(\\/)(ai\\.3\\.)([^\\d]*)$/,function(e,t,n){return t+"ai.2"+n})),!1!==cfg.cr)for(var e=0;e<m.length;e++)if(0<t.indexOf(m[e])){g=e;break}var n,o=function(e){var a;l.queue=[],p||(0<=g&&h+1<m.length?(a=(g+h+1)%m.length,i(t.replace(/^(.*\\/\\/)([\\w\\.]*)(\\/.*)$/,function(e,t,n,i){return t+m[a]+i})),h+=1):(s=p=!0,d(t)))},c=function(e,t){p||setTimeout(function(){t&&!l.core&&o()},500),s=!1},i=function(e){var n,i=x.createElement(E),e=(cfg.pl?cfg.ttp&&cfg.ttp.createScript?i.src=cfg.ttp.createScriptURL(e):i.src=(null==(n=window.trustedTypes)?void 0:n.createPolicy(O,{createScriptURL:function(e){try{var t=new URL(e);if(t.host&&"js.monitor.azure.com"===t.host)return e;a(e)}catch(n){a(e)}}})).createScriptURL(e):i.src=e,cfg.nt&&i.setAttribute("nonce",cfg.nt),r&&(i.integrity=r),i.setAttribute("data-ai-name",A),cfg[b]);function a(e){d("AI policy blocked URL: "+e)}return!e&&""!==e||"undefined"==i[b]||(i[b]=e),i.onload=c,i.onerror=o,i.onreadystatechange=function(e,t){"loaded"!==i.readyState&&"complete"!==i.readyState||c(0,t)},cfg.ld&&cfg.ld<0?x.getElementsByTagName("head")[0].appendChild(i):setTimeout(function(){x.getElementsByTagName(E)[0].parentNode.appendChild(i)},cfg.ld||0),i};i(t)}cfg.sri&&(i=n.match(/^((http[s]?:\\/\\/.*\\/)\\w+(\\.\\d+){1,5})\\.(([\\w]+\\.){0,2}js)$/))&&6===i.length?(T="".concat(i[1],".integrity.json"),a="@".concat(i[4]),S=window.fetch,t=function(e){if(!e.ext||!e.ext[a]||!e.ext[a].file)throw Error("Error Loading JSON response");var t=e.ext[a].integrity||null;c(n=i[2]+e.ext[a].file,t)},S&&!cfg.useXhr?S(T,{method:"GET",mode:"cors"}).then(function(e){return e.json()["catch"](function(){return{}})}).then(t)["catch"](o):XMLHttpRequest&&((r=new XMLHttpRequest).open("GET",T),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status)try{t(JSON.parse(r.responseText))}catch(e){o()}else o()},r.send())):n&&o();try{l.cookie=x.cookie}catch(w){}function e(e){for(;e.length;)!function(t){l[t]=function(){var e=arguments;s||l.queue.push(function(){l[t].apply(l,e)})}}(e.pop())}e(I);var v,y,S=!(l.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),T=(u.extensionConfig||{}).ApplicationInsightsAnalytics||{};return(S=!0!==u[C]&&!0!==T[C]||S)&&(e(["_"+(v="onerror")]),y=k[v],k[v]=function(e,t,n,i,a){var r=y&&y(e,t,n,i,a);return!0!==r&&l["_"+v]({message:e,url:t,lineNumber:n,columnNumber:i,error:a,evt:k.event}),r},u.autoExceptionInstrumented=!0),l}(cfg.cfg),(k[A]=e).queue&&0===e.queue.length?(e.queue.push(a),e.trackPageView({})):a();})({\r
    src: "https://js.monitor.azure.com/scripts/b/ai.3.gbl.min.js",\r
    // name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
    // ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
    // useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
    // dle: true, // Prevent the SDK from reporting load failure log\r
    crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
    // onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
    // sri: false, // Custom optional value to specify whether fetching the snippet from integrity file and do integrity check \r
    // pl: false, // Custom optional value to specify whether to enable the trusted type policy check on snippet\r
    // pn: "aiPolicy", // Custom optional value to specify the name of the trusted type policy that would be implemented on the snippet, default is "aiPolicy"\r
    // ttp: null, // Custom optional value to specify the trusted type policy that would be applied on the snippet src\r
    // nt: null, // Custom optional value to specify the nounce tag value that would be applied on the script when we drop it on the page\r
    cfg: { // Application Insights Configuration\r
            connectionString: "InstrumentationKey=INSTRUMENTATION_KEY"\r
    }\r
});
`;var ca;(function(t){t.GZIP="gzip",t.DEFLATE="deflate",t.BR="br";})(ca||(ca={}));var Gpe=()=>{let t=process.versions.node.split(".")[0];return parseInt(t)>=10};jZ.promisify(Qo__namespace.gzip);jZ.promisify(Qo__namespace.gunzip);jZ.promisify(Qo__namespace.deflate);jZ.promisify(Qo__namespace.inflate);var jpe=t=>Gpe()&&typeof t.brotliCompressSync=="function"?t.brotliCompressSync:null;var qpe=t=>Gpe()&&typeof t.brotliDecompressSync=="function"?t.brotliDecompressSync:null,Wpe=(t,e)=>{let r=e,i=false;return Buffer.isEncoding(r)&&(i=Buffer.from(t.toString(r),r).toJSON().data.toString()===t.toJSON().data.toString()),i};var X3e=t=>{let e=null;switch(t){case "gzip":e=ca.GZIP;break;case "br":e=ca.BR;break;case "deflate":e=ca.DEFLATE;break;}return e},NS=t=>{let e=[],r=t.getHeader("Content-Encoding");if(!r)return null;if(typeof r=="string"){let i=X3e(r);i&&e.push(i);}return e},Kpe=(t,e,r)=>{if(t<0)return null;let i=null,n=e.substring(0,t),a=e.substring(t);return i=n+'<script type="text/javascript">'+r+"</script>"+a,i},Ype=t=>{let e=false,r=t.getHeader("Content-Type");return r&&(typeof r=="string"?e=r.indexOf("html")>=0:e=r.toString().indexOf("html")>=0),e};P();var nC=class t{static _instance;static _sdkLoader;static _aiUrl;_isIkeyValid=true;_isInitialized=false;_browserSdkLoaderIkey;constructor(e){t._instance&&E.warn("Browser SDK Loader should be configured from the applicationInsights object"),t._instance=this,t._aiUrl=Gae;let r;e.browserSdkLoaderOptions?.connectionString&&(r=this._getBrowserSdkLoaderIkey(e?.browserSdkLoaderOptions?.connectionString)),this._browserSdkLoaderIkey=r||Tc.parse(e.azureMonitorExporterOptions.connectionString).instrumentationkey,this._isIkeyValid&&this._initialize();}isInitialized(){return this._isInitialized}static getInstance(){return t._instance}_getBrowserSdkLoaderIkey(e){let r=null;try{let n=Tc.parse(e).instrumentationkey||"";Tc.validateInstrumentationKey(n)?(this._isIkeyValid=!0,r=n):(this._isIkeyValid=!1,Re.getInstance().info("Invalid browser SDK loader connection string, browser SDK loader is not enabled."));}catch(i){Re.getInstance().info(`get browser SDK loader ikey error: ${i}`);}return r}_getBrowserSdkLoaderReplacedStr(){let e=jR(),r=qR(),i=`${this._browserSdkLoaderIkey}",\r
 disableIkeyDeprecationMessage: true,\r
 sdkExtension: "${r}${e}d_n_`;return Hpe.replace("INSTRUMENTATION_KEY",i)}_initialize(){this._isInitialized=true,t._sdkLoader=this._getBrowserSdkLoaderReplacedStr();let e=fU__namespace.default.createServer,r=hU__namespace.default.createServer;fU__namespace.default.createServer=i=>{let n=i;return n&&(i=(a,o)=>{let s=o.write,c=a.method==="GET";o.write=function(d,p){try{if(c){let f=NS(o),_;if(typeof p=="string"&&(_=p),f==null)t._instance?.ValidateInjection(o,d)&&(arguments[0]=t._instance.InjectSdkLoader(o,d,void 0,_));else if(f.length){let y=f[0];arguments[0]=t._instance?.InjectSdkLoader(o,d,y);}}}catch(f){Re.getInstance().warn(`Inject browser sdk loader error: ${f}`);}return s.apply(o,arguments)};let u=o.end;return o.end=function(d,p){if(c)try{if(c){let f=NS(o),_;if(typeof p=="string"&&(_=p),f==null)t._instance?.ValidateInjection(o,d)&&(arguments[0]=t._instance.InjectSdkLoader(o,d,void 0,_));else if(f.length){let y=f[0];arguments[0]=t._instance?.InjectSdkLoader(o,d,y);}}}catch(f){Re.getInstance().warn(`Inject browser sdk loader error: ${f}`);}return u.apply(o,arguments)},n(a,o)}),e(i)},hU__namespace.default.createServer=function(i,n){let a=n;if(a)return n=function(o,s){let c=o.method==="GET",u=s.write,l=s.end;return s.write=function(p,f){try{if(c){let _=NS(s),y;if(typeof f=="string"&&(y=f),_==null)t._instance?.ValidateInjection(s,p)&&(arguments[0]=this.InjectSdkLoader(s,p,void 0,y));else if(_.length){let v=_[0];arguments[0]=t._instance?.InjectSdkLoader(s,p,v);}}}catch(_){Re.getInstance().warn(`Inject SDK loader error: ${_}`);}return u.apply(s,arguments)},s.end=function(p,f){try{if(c){let _=NS(s),y;if(typeof f=="string"&&(y=f),_==null)t._instance?.ValidateInjection(s,p)&&(arguments[0]=t._instance.InjectSdkLoader(s,p,void 0,y));else if(_.length){let v=_[0];arguments[0]=t._instance?.InjectSdkLoader(s,p,v);}}}catch(_){Re.getInstance().warn(`Inject SDK loader error: ${_}`);}return l.apply(s,arguments)},a(o,s)},r(i,n)};}ValidateInjection(e,r){try{if(!e||!r||e.statusCode!==200||!Ype(e))return !1;let n=r.slice().toString();if(n.indexOf("<head>")>=0&&n.indexOf("</head>")>=0&&n.indexOf(t._aiUrl)<0)return !0}catch(i){Re.getInstance().info(`validate injections error: ${i}`);}return  false}InjectSdkLoader(e,r,i,n){try{if(!!i)e.removeHeader("Content-Length"),r=this._getInjectedCompressBuffer(e,r,i),e.setHeader("Content-Length",r.length);else {let o=r.toString(),s=o.indexOf("</head>");if(s<0)return r;let c=Kpe(s,o,t._sdkLoader);if(typeof r=="string")e.removeHeader("Content-Length"),c&&(r=c),e.setHeader("Content-Length",Buffer.byteLength(r));else if(Buffer.isBuffer(r)){let u=n||"utf8";if(Wpe(r,u)&&c){e.removeHeader("Content-Length");let d=Buffer.from(c).toString(u);r=Buffer.from(d,u),e.setHeader("Content-Length",r.length);}}}}catch(a){Re.getInstance().warn(`Failed to inject browser sdk loader and change content-length headers. Exception:${a}`);}return r}_getInjectedCompressBuffer(e,r,i){try{switch(i){case ca.GZIP:{let n=Qo__namespace.gunzipSync(r);if(this.ValidateInjection(e,n)){let a=this.InjectSdkLoader(e,n);r=Qo__namespace.gzipSync(a);}break}case ca.DEFLATE:{let n=Qo__namespace.inflateSync(r);if(this.ValidateInjection(e,n)){let a=this.InjectSdkLoader(e,n);r=Qo__namespace.deflateSync(a);}break}case ca.BR:{let n=qpe(Qo__namespace),a=jpe(Qo__namespace);if(n&&a){let o=n(r);if(this.ValidateInjection(e,o)){let s=this.InjectSdkLoader(e,o);r=a(s);}break}}}}catch(n){Re.getInstance().info(`get browser SDK loader compress buffer error: ${n}`);}return r}dispose(){t._instance=null,this._isInitialized=false;}};function Qpe(){let t=JSON.stringify({instrumentation:0,feature:0});try{L.resolve("@opentelemetry/instrumentation");let e=Jpe(),r=e.enableInstrumentations;e.enableInstrumentations=function(i){try{let n=JSON.parse(process.env[Sc]||t),a={};for(let o=0;o<i.length;o++)a={instrumentation:n.instrumentation|=Kae.get(i[o].instrumentationName)||0,feature:n.feature};process.env[Sc]=JSON.stringify(a);}catch{Re.getInstance().warn("Failed to parse the statsbeat environment variable");}return r.apply(this,arguments)};}catch{}}process.env.AZURE_MONITOR_DISTRO_VERSION=hO;var efe;function iC(t){let e=new nA(t);Qpe();let r={azureSdk:e.instrumentationOptions?.azureSdk?.enabled,mongoDb:e.instrumentationOptions?.mongoDb?.enabled,mySql:e.instrumentationOptions?.mySql?.enabled,postgreSql:e.instrumentationOptions?.postgreSql?.enabled,redis:e.instrumentationOptions?.redis?.enabled,bunyan:e.instrumentationOptions?.bunyan?.enabled,winston:e.instrumentationOptions?.winston?.enabled},i={browserSdkLoader:e.browserSdkLoaderOptions.enabled,aadHandling:!!e.azureMonitorExporterOptions?.credential,diskRetry:!e.azureMonitorExporterOptions?.disableOfflineStorage,rateLimitedSampler:!!e.tracesPerSecond,customerSdkStats:process.env[Wae]==="True"};OO().setStatsbeatFeatures(r,i),e.browserSdkLoaderOptions.enabled&&(new nC(e)),kt.disable(),ce.disable(),mu.disable();let n=new H_(e),a=new wx(e,n),o=new CS(e,n),s=a.getInstrumentations().concat(o.getInstrumentations()),c=Nie(),u=t?.spanProcessors||[],l=t?.logRecordProcessors||[],p={autoDetectResources:true,metricReaders:[n.getMetricReader(),...t?.metricReaders||[]],views:n.getViews(),instrumentations:s,logRecordProcessors:[o.getAzureLogRecordProcessor(),...l,o.getBatchLogRecordProcessor()],resource:e.resource,sampler:a.getSampler(),spanProcessors:[a.getAzureMonitorSpanProcessor(),...u,a.getBatchSpanProcessor()],resourceDetectors:c};efe=new tfe.NodeSDK(p),Qae(),efe.start();}P();$z();var she=Qe(Wfe(),1);function Kfe(t,e){if(t instanceof Promise)throw new Error(e)}function kWe(t,e){let r={},i=[];for(let n in t){let a=t[n]["~standard"].validate(e[n]);if(Kfe(a,`Validation must be synchronous, but ${n} returned a Promise.`),a.issues){i.push(...a.issues.map(o=>({...o,message:o.message,path:[n,...o.path??[]]})));continue}r[n]=a.value;}return i.length?{issues:i}:{value:r}}function Bz(t){let e=t.runtimeEnvStrict??t.runtimeEnv??process.env;if(t.emptyStringAsUndefined??false)for(let[x,I]of Object.entries(e))I===""&&delete e[x];if(!!t.skipValidation)return e;let n=typeof t.client=="object"?t.client:{},a=typeof t.server=="object"?t.server:{},o=typeof t.shared=="object"?t.shared:{},s=t.isServer??(typeof window>"u"||"Deno"in window),c=s?{...a,...o,...n}:{...n,...o},u=t.createFinalSchema?.(c,s)["~standard"].validate(e)??kWe(c,e);Kfe(u,"Validation must be synchronous");let l=t.onValidationError??(x=>{throw console.error("\u274C Invalid environment variables:",x),new Error("Invalid environment variables")}),d=t.onInvalidAccess??(()=>{throw new Error("\u274C Attempted to access a server-side environment variable on the client")});if(u.issues)return l(u.issues);let p=x=>t.clientPrefix?!x.startsWith(t.clientPrefix)&&!(x in o):true,f=x=>s||!p(x),_=x=>x==="__esModule"||x==="$$typeof",y=(t.extends??[]).reduce((x,I)=>Object.assign(x,I),{}),v=Object.assign(y,u.value);return new Proxy(v,{get(x,I){if(typeof I=="string"&&!_(I))return f(I)?Reflect.get(x,I):d(I)}})}var zf={};Pe(zf,{BRAND:()=>cKe,DIRTY:()=>El,EMPTY_PATH:()=>VWe,INVALID:()=>ge,NEVER:()=>qKe,OK:()=>Dr,ParseStatus:()=>Rr,Schema:()=>Le,ZodAny:()=>kc,ZodArray:()=>fa,ZodBigInt:()=>vl,ZodBoolean:()=>bl,ZodBranded:()=>$S,ZodCatch:()=>Ll,ZodDate:()=>Rl,ZodDefault:()=>Ml,ZodDiscriminatedUnion:()=>RC,ZodEffects:()=>Ai,ZodEnum:()=>Il,ZodError:()=>Rn,ZodFirstPartyTypeKind:()=>Ee,ZodFunction:()=>OC,ZodIntersection:()=>Cl,ZodIssueCode:()=>V,ZodLazy:()=>Nl,ZodLiteral:()=>Pl,ZodMap:()=>kf,ZodNaN:()=>$f,ZodNativeEnum:()=>wl,ZodNever:()=>eo,ZodNull:()=>Ol,ZodNullable:()=>rs,ZodNumber:()=>Tl,ZodObject:()=>An,ZodOptional:()=>bi,ZodParsedType:()=>J,ZodPipeline:()=>zS,ZodPromise:()=>Uc,ZodReadonly:()=>Dl,ZodRecord:()=>AC,ZodSchema:()=>Le,ZodSet:()=>Uf,ZodString:()=>Dc,ZodSymbol:()=>Lf,ZodTransformer:()=>Ai,ZodTuple:()=>ts,ZodType:()=>Le,ZodUndefined:()=>Al,ZodUnion:()=>xl,ZodUnknown:()=>pa,ZodVoid:()=>Df,addIssueToContext:()=>W,any:()=>_Ke,array:()=>TKe,bigint:()=>pKe,boolean:()=>ohe,coerce:()=>jKe,custom:()=>rhe,date:()=>fKe,datetimeRegex:()=>ehe,defaultErrorMap:()=>la,discriminatedUnion:()=>AKe,effect:()=>UKe,enum:()=>LKe,function:()=>IKe,getErrorMap:()=>If,getParsedType:()=>es,instanceof:()=>lKe,intersection:()=>OKe,isAborted:()=>vC,isAsync:()=>wf,isDirty:()=>bC,isValid:()=>Lc,late:()=>uKe,lazy:()=>wKe,literal:()=>MKe,makeIssue:()=>US,map:()=>NKe,nan:()=>dKe,nativeEnum:()=>DKe,never:()=>yKe,null:()=>gKe,nullable:()=>zKe,number:()=>ihe,object:()=>vKe,objectUtil:()=>Fz,oboolean:()=>GKe,onumber:()=>HKe,optional:()=>$Ke,ostring:()=>FKe,pipeline:()=>BKe,preprocess:()=>VKe,promise:()=>kKe,quotelessJson:()=>UWe,record:()=>CKe,set:()=>PKe,setErrorMap:()=>zWe,strictObject:()=>bKe,string:()=>nhe,symbol:()=>hKe,transformer:()=>UKe,tuple:()=>xKe,undefined:()=>mKe,union:()=>RKe,unknown:()=>SKe,util:()=>Be,void:()=>EKe});var Be;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{let a={};for(let o of n)a[o]=o;return a},t.getValidEnumValues=n=>{let a=t.objectKeys(n).filter(s=>typeof n[n[s]]!="number"),o={};for(let s of a)o[s]=n[s];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let a=[];for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(let o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function i(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a;})(Be||(Be={}));var Fz;(function(t){t.mergeShapes=(e,r)=>({...e,...r});})(Fz||(Fz={}));var J=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),es=t=>{switch(typeof t){case "undefined":return J.undefined;case "string":return J.string;case "number":return Number.isNaN(t)?J.nan:J.number;case "boolean":return J.boolean;case "function":return J.function;case "bigint":return J.bigint;case "symbol":return J.symbol;case "object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}};var V=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),UWe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Rn=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i];},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i];};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e;}format(e){let r=e||function(a){return a.message},i={_errors:[]},n=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)i._errors.push(r(o));else {let s=i,c=0;for(;c<o.path.length;){let u=o.path[c];c===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],c++;}}};return n(this),i}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},i=[];for(let n of this.issues)if(n.path.length>0){let a=n.path[0];r[a]=r[a]||[],r[a].push(e(n));}else i.push(e(n));return {formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}};Rn.create=t=>new Rn(t);var $We=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===J.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Be.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Be.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Be.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Be.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Be.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Be.assertNever(t);}return {message:r}},la=$We;var Yfe=la;function zWe(t){Yfe=t;}function If(){return Yfe}var US=t=>{let{data:e,path:r,errorMaps:i,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return {...n,path:a,message:n.message};let s="",c=i.filter(u=>!!u).slice().reverse();for(let u of c)s=u(o,{data:e,defaultError:s}).message;return {...n,path:a,message:s}},VWe=[];function W(t,e){let r=If(),i=US({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===la?void 0:la].filter(n=>!!n)});t.common.issues.push(i);}var Rr=class t{constructor(){this.value="valid";}dirty(){this.value==="valid"&&(this.value="dirty");}abort(){this.value!=="aborted"&&(this.value="aborted");}static mergeArray(e,r){let i=[];for(let n of r){if(n.status==="aborted")return ge;n.status==="dirty"&&e.dirty(),i.push(n.value);}return {status:e.value,value:i}}static async mergeObjectAsync(e,r){let i=[];for(let n of r){let a=await n.key,o=await n.value;i.push({key:a,value:o});}return t.mergeObjectSync(e,i)}static mergeObjectSync(e,r){let i={};for(let n of r){let{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return ge;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(i[a.value]=o.value);}return {status:e.value,value:i}}},ge=Object.freeze({status:"aborted"}),El=t=>({status:"dirty",value:t}),Dr=t=>({status:"valid",value:t}),vC=t=>t.status==="aborted",bC=t=>t.status==="dirty",Lc=t=>t.status==="valid",wf=t=>typeof Promise<"u"&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message;})(ie||(ie={}));var Ri=class{constructor(e,r,i,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=i,this._key=n;}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Zfe=(t,e)=>{if(Lc(e))return {success:true,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return {success:false,get error(){if(this._error)return this._error;let r=new Rn(t.common.issues);return this._error=r,this._error}}};function Ce(t){if(!t)return {};let{errorMap:e,invalid_type_error:r,required_error:i,description:n}=t;if(e&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,s)=>{let{message:c}=t;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:c??i??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:c??r??s.defaultError}},description:n}}var Le=class{get description(){return this._def.description}_getType(e){return es(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return {status:new Rr,ctx:{common:e.parent.common,data:e.data,parsedType:es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(wf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let i=this.safeParse(e,r);if(i.success)return i.data;throw i.error}safeParse(e,r){let i={common:{issues:[],async:r?.async??false,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:es(e)},n=this._parseSync({data:e,path:i.path,parent:i});return Zfe(i,n)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:es(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:r});return Lc(i)?{value:i.value}:{issues:r.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=true),r.common={issues:[],async:true};}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Lc(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){let i=await this.safeParseAsync(e,r);if(i.success)return i.data;throw i.error}async safeParseAsync(e,r){let i={common:{issues:[],contextualErrorMap:r?.errorMap,async:true},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:es(e)},n=this._parse({data:e,path:i.path,parent:i}),a=await(wf(n)?n:Promise.resolve(n));return Zfe(i,a)}refine(e,r){let i=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{let o=e(n),s=()=>a.addIssue({code:V.custom,...i(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?true:(s(),false)):o?true:(s(),false)})}refinement(e,r){return this._refinement((i,n)=>e(i)?true:(n.addIssue(typeof r=="function"?r(i,n):r),false))}_refinement(e){return new Ai({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)};}optional(){return bi.create(this,this._def)}nullable(){return rs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fa.create(this)}promise(){return Uc.create(this,this._def)}or(e){return xl.create([this,e],this._def)}and(e){return Cl.create(this,e,this._def)}transform(e){return new Ai({...Ce(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ml({...Ce(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new $S({typeName:Ee.ZodBranded,type:this,...Ce(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ll({...Ce(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zS.create(this,e)}readonly(){return Dl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},BWe=/^c[^\s-]{8,}$/i,FWe=/^[0-9a-z]+$/,HWe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GWe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jWe=/^[a-z0-9_-]{21}$/i,qWe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,WWe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KWe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YWe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Hz,ZWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eKe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tKe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Jfe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rKe=new RegExp(`^${Jfe}$`);function Qfe(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return `([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function nKe(t){return new RegExp(`^${Qfe(t)}$`)}function ehe(t){let e=`${Jfe}T${Qfe(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function iKe(t,e){return !!((e==="v4"||!e)&&ZWe.test(t)||(e==="v6"||!e)&&JWe.test(t))}function oKe(t,e){if(!qWe.test(t))return  false;try{let[r]=t.split(".");if(!r)return !1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));return !(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return  false}}function sKe(t,e){return !!((e==="v4"||!e)&&XWe.test(t)||(e==="v6"||!e)&&QWe.test(t))}var Dc=class t extends Le{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){let a=this._getOrReturnCtx(e);return W(a,{code:V.invalid_type,expected:J.string,received:a.parsedType}),ge}let i=new Rr,n;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),W(n,{code:V.too_small,minimum:a.value,type:"string",inclusive:true,exact:false,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),W(n,{code:V.too_big,maximum:a.value,type:"string",inclusive:true,exact:false,message:a.message}),i.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,s=e.data.length<a.value;(o||s)&&(n=this._getOrReturnCtx(e,n),o?W(n,{code:V.too_big,maximum:a.value,type:"string",inclusive:true,exact:true,message:a.message}):s&&W(n,{code:V.too_small,minimum:a.value,type:"string",inclusive:true,exact:true,message:a.message}),i.dirty());}else if(a.kind==="email")KWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"email",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Hz||(Hz=new RegExp(YWe,"u")),Hz.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"emoji",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")GWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"uuid",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")jWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"nanoid",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")BWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"cuid",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")FWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"cuid2",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")HWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"ulid",code:V.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data);}catch{n=this._getOrReturnCtx(e,n),W(n,{validation:"url",code:V.invalid_string,message:a.message}),i.dirty();}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"regex",code:V.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?ehe(a).test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?rKe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?nKe(a).test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{code:V.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?WWe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"duration",code:V.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?iKe(e.data,a.version)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"ip",code:V.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?oKe(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"jwt",code:V.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?sKe(e.data,a.version)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"cidr",code:V.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?eKe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"base64",code:V.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?tKe.test(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{validation:"base64url",code:V.invalid_string,message:a.message}),i.dirty()):Be.assertNever(a);return {status:i.value,value:e.data}}_regex(e,r,i){return this.refinement(n=>e.test(n),{validation:r,code:V.invalid_string,...ie.errToObj(i)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:false,local:false,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??false,local:e?.local??false,...ie.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ie.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ie.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ie.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ie.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ie.errToObj(r)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return !!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return !!this._def.checks.find(e=>e.kind==="date")}get isTime(){return !!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return !!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return !!this._def.checks.find(e=>e.kind==="email")}get isURL(){return !!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return !!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return !!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return !!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return !!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return !!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return !!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return !!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return !!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return !!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return !!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Dc.create=t=>new Dc({checks:[],typeName:Ee.ZodString,coerce:t?.coerce??false,...Ce(t)});function aKe(t,e){let r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=r>i?r:i,a=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return a%o/10**n}var Tl=class t extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf;}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){let a=this._getOrReturnCtx(e);return W(a,{code:V.invalid_type,expected:J.number,received:a.parsedType}),ge}let i,n=new Rr;for(let a of this._def.checks)a.kind==="int"?Be.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:V.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:false,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:false,message:a.message}),n.dirty()):a.kind==="multipleOf"?aKe(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:V.not_finite,message:a.message}),n.dirty()):Be.assertNever(a);return {status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,true,ie.toString(r))}gt(e,r){return this.setLimit("min",e,false,ie.toString(r))}lte(e,r){return this.setLimit("max",e,true,ie.toString(r))}lt(e,r){return this.setLimit("max",e,false,ie.toString(r))}setLimit(e,r,i,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:ie.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:false,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:false,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:true,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:true,message:ie.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:true,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:true,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return !!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return  true;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);}return Number.isFinite(r)&&Number.isFinite(e)}};Tl.create=t=>new Tl({checks:[],typeName:Ee.ZodNumber,coerce:t?.coerce||false,...Ce(t)});var vl=class t extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte;}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data);}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let i,n=new Rr;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),W(i,{code:V.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Be.assertNever(a);return {status:n.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return W(r,{code:V.invalid_type,expected:J.bigint,received:r.parsedType}),ge}gte(e,r){return this.setLimit("min",e,true,ie.toString(r))}gt(e,r){return this.setLimit("min",e,false,ie.toString(r))}lte(e,r){return this.setLimit("max",e,true,ie.toString(r))}lt(e,r){return this.setLimit("max",e,false,ie.toString(r))}setLimit(e,r,i,n){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:ie.toString(n)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:false,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:false,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:true,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:true,message:ie.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};vl.create=t=>new vl({checks:[],typeName:Ee.ZodBigInt,coerce:t?.coerce??false,...Ce(t)});var bl=class extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.boolean,received:i.parsedType}),ge}return Dr(e.data)}};bl.create=t=>new bl({typeName:Ee.ZodBoolean,coerce:t?.coerce||false,...Ce(t)});var Rl=class t extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){let a=this._getOrReturnCtx(e);return W(a,{code:V.invalid_type,expected:J.date,received:a.parsedType}),ge}if(Number.isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return W(a,{code:V.invalid_date}),ge}let i=new Rr,n;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),W(n,{code:V.too_small,message:a.message,inclusive:true,exact:false,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),W(n,{code:V.too_big,message:a.message,inclusive:true,exact:false,maximum:a.value,type:"date"}),i.dirty()):Be.assertNever(a);return {status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Rl.create=t=>new Rl({checks:[],coerce:t?.coerce||false,typeName:Ee.ZodDate,...Ce(t)});var Lf=class extends Le{_parse(e){if(this._getType(e)!==J.symbol){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.symbol,received:i.parsedType}),ge}return Dr(e.data)}};Lf.create=t=>new Lf({typeName:Ee.ZodSymbol,...Ce(t)});var Al=class extends Le{_parse(e){if(this._getType(e)!==J.undefined){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.undefined,received:i.parsedType}),ge}return Dr(e.data)}};Al.create=t=>new Al({typeName:Ee.ZodUndefined,...Ce(t)});var Ol=class extends Le{_parse(e){if(this._getType(e)!==J.null){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.null,received:i.parsedType}),ge}return Dr(e.data)}};Ol.create=t=>new Ol({typeName:Ee.ZodNull,...Ce(t)});var kc=class extends Le{constructor(){super(...arguments),this._any=true;}_parse(e){return Dr(e.data)}};kc.create=t=>new kc({typeName:Ee.ZodAny,...Ce(t)});var pa=class extends Le{constructor(){super(...arguments),this._unknown=true;}_parse(e){return Dr(e.data)}};pa.create=t=>new pa({typeName:Ee.ZodUnknown,...Ce(t)});var eo=class extends Le{_parse(e){let r=this._getOrReturnCtx(e);return W(r,{code:V.invalid_type,expected:J.never,received:r.parsedType}),ge}};eo.create=t=>new eo({typeName:Ee.ZodNever,...Ce(t)});var Df=class extends Le{_parse(e){if(this._getType(e)!==J.undefined){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.void,received:i.parsedType}),ge}return Dr(e.data)}};Df.create=t=>new Df({typeName:Ee.ZodVoid,...Ce(t)});var fa=class t extends Le{_parse(e){let{ctx:r,status:i}=this._processInputParams(e),n=this._def;if(r.parsedType!==J.array)return W(r,{code:V.invalid_type,expected:J.array,received:r.parsedType}),ge;if(n.exactLength!==null){let o=r.data.length>n.exactLength.value,s=r.data.length<n.exactLength.value;(o||s)&&(W(r,{code:o?V.too_big:V.too_small,minimum:s?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:true,exact:true,message:n.exactLength.message}),i.dirty());}if(n.minLength!==null&&r.data.length<n.minLength.value&&(W(r,{code:V.too_small,minimum:n.minLength.value,type:"array",inclusive:true,exact:false,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(W(r,{code:V.too_big,maximum:n.maxLength.value,type:"array",inclusive:true,exact:false,message:n.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>n.type._parseAsync(new Ri(r,o,r.path,s)))).then(o=>Rr.mergeArray(i,o));let a=[...r.data].map((o,s)=>n.type._parseSync(new Ri(r,o,r.path,s)));return Rr.mergeArray(i,a)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:ie.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:ie.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:ie.toString(r)}})}nonempty(e){return this.min(1,e)}};fa.create=(t,e)=>new fa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Ce(e)});function Mf(t){if(t instanceof An){let e={};for(let r in t.shape){let i=t.shape[r];e[r]=bi.create(Mf(i));}return new An({...t._def,shape:()=>e})}else return t instanceof fa?new fa({...t._def,type:Mf(t.element)}):t instanceof bi?bi.create(Mf(t.unwrap())):t instanceof rs?rs.create(Mf(t.unwrap())):t instanceof ts?ts.create(t.items.map(e=>Mf(e))):t}var An=class t extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend;}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Be.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==J.object){let u=this._getOrReturnCtx(e);return W(u,{code:V.invalid_type,expected:J.object,received:u.parsedType}),ge}let{status:i,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof eo&&this._def.unknownKeys==="strip"))for(let u in n.data)o.includes(u)||s.push(u);let c=[];for(let u of o){let l=a[u],d=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ri(n,d,n.path,u)),alwaysSet:u in n.data});}if(this._def.catchall instanceof eo){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of s)c.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(u==="strict")s.length>0&&(W(n,{code:V.unrecognized_keys,keys:s}),i.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else {let u=this._def.catchall;for(let l of s){let d=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ri(n,d,n.path,l)),alwaysSet:l in n.data});}}return n.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let d=await l.key,p=await l.value;u.push({key:d,value:p,alwaysSet:l.alwaysSet});}return u}).then(u=>Rr.mergeObjectSync(i,u)):Rr.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,i)=>{let n=this._def.errorMap?.(r,i).message??i.defaultError;return r.code==="unrecognized_keys"?{message:ie.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let i of Be.objectKeys(e))e[i]&&this.shape[i]&&(r[i]=this.shape[i]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let i of Be.objectKeys(this.shape))e[i]||(r[i]=this.shape[i]);return new t({...this._def,shape:()=>r})}deepPartial(){return Mf(this)}partial(e){let r={};for(let i of Be.objectKeys(this.shape)){let n=this.shape[i];e&&!e[i]?r[i]=n:r[i]=n.optional();}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let i of Be.objectKeys(this.shape))if(e&&!e[i])r[i]=this.shape[i];else {let a=this.shape[i];for(;a instanceof bi;)a=a._def.innerType;r[i]=a;}return new t({...this._def,shape:()=>r})}keyof(){return the(Be.objectKeys(this.shape))}};An.create=(t,e)=>new An({shape:()=>t,unknownKeys:"strip",catchall:eo.create(),typeName:Ee.ZodObject,...Ce(e)});An.strictCreate=(t,e)=>new An({shape:()=>t,unknownKeys:"strict",catchall:eo.create(),typeName:Ee.ZodObject,...Ce(e)});An.lazycreate=(t,e)=>new An({shape:t,unknownKeys:"strip",catchall:eo.create(),typeName:Ee.ZodObject,...Ce(e)});var xl=class extends Le{_parse(e){let{ctx:r}=this._processInputParams(e),i=this._def.options;function n(a){for(let s of a)if(s.result.status==="valid")return s.result;for(let s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(s=>new Rn(s.ctx.common.issues));return W(r,{code:V.invalid_union,unionErrors:o}),ge}if(r.common.async)return Promise.all(i.map(async a=>{let o={...r,common:{...r.common,issues:[]},parent:null};return {result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a,o=[];for(let c of i){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!a&&(a={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues);}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(c=>new Rn(c));return W(r,{code:V.invalid_union,unionErrors:s}),ge}}get options(){return this._def.options}};xl.create=(t,e)=>new xl({options:t,typeName:Ee.ZodUnion,...Ce(e)});var da=t=>t instanceof Nl?da(t.schema):t instanceof Ai?da(t.innerType()):t instanceof Pl?[t.value]:t instanceof Il?t.options:t instanceof wl?Be.objectValues(t.enum):t instanceof Ml?da(t._def.innerType):t instanceof Al?[void 0]:t instanceof Ol?[null]:t instanceof bi?[void 0,...da(t.unwrap())]:t instanceof rs?[null,...da(t.unwrap())]:t instanceof $S||t instanceof Dl?da(t.unwrap()):t instanceof Ll?da(t._def.innerType):[],RC=class t extends Le{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.object)return W(r,{code:V.invalid_type,expected:J.object,received:r.parsedType}),ge;let i=this.discriminator,n=r.data[i],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(W(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,i){let n=new Map;for(let a of r){let o=da(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of o){if(n.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);n.set(s,a);}}return new t({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...Ce(i)})}};function Gz(t,e){let r=es(t),i=es(e);if(t===e)return {valid:true,data:t};if(r===J.object&&i===J.object){let n=Be.objectKeys(e),a=Be.objectKeys(t).filter(s=>n.indexOf(s)!==-1),o={...t,...e};for(let s of a){let c=Gz(t[s],e[s]);if(!c.valid)return {valid:false};o[s]=c.data;}return {valid:true,data:o}}else if(r===J.array&&i===J.array){if(t.length!==e.length)return {valid:false};let n=[];for(let a=0;a<t.length;a++){let o=t[a],s=e[a],c=Gz(o,s);if(!c.valid)return {valid:false};n.push(c.data);}return {valid:true,data:n}}else return r===J.date&&i===J.date&&+t==+e?{valid:true,data:t}:{valid:false}}var Cl=class extends Le{_parse(e){let{status:r,ctx:i}=this._processInputParams(e),n=(a,o)=>{if(vC(a)||vC(o))return ge;let s=Gz(a.value,o.value);return s.valid?((bC(a)||bC(o))&&r.dirty(),{status:r.value,value:s.data}):(W(i,{code:V.invalid_intersection_types}),ge)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}};Cl.create=(t,e,r)=>new Cl({left:t,right:e,typeName:Ee.ZodIntersection,...Ce(r)});var ts=class t extends Le{_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==J.array)return W(i,{code:V.invalid_type,expected:J.array,received:i.parsedType}),ge;if(i.data.length<this._def.items.length)return W(i,{code:V.too_small,minimum:this._def.items.length,inclusive:true,exact:false,type:"array"}),ge;!this._def.rest&&i.data.length>this._def.items.length&&(W(i,{code:V.too_big,maximum:this._def.items.length,inclusive:true,exact:false,type:"array"}),r.dirty());let a=[...i.data].map((o,s)=>{let c=this._def.items[s]||this._def.rest;return c?c._parse(new Ri(i,o,i.path,s)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>Rr.mergeArray(r,o)):Rr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};ts.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ts({items:t,typeName:Ee.ZodTuple,rest:null,...Ce(e)})};var AC=class t extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==J.object)return W(i,{code:V.invalid_type,expected:J.object,received:i.parsedType}),ge;let n=[],a=this._def.keyType,o=this._def.valueType;for(let s in i.data)n.push({key:a._parse(new Ri(i,s,i.path,s)),value:o._parse(new Ri(i,i.data[s],i.path,s)),alwaysSet:s in i.data});return i.common.async?Rr.mergeObjectAsync(r,n):Rr.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,i){return r instanceof Le?new t({keyType:e,valueType:r,typeName:Ee.ZodRecord,...Ce(i)}):new t({keyType:Dc.create(),valueType:e,typeName:Ee.ZodRecord,...Ce(r)})}},kf=class extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==J.map)return W(i,{code:V.invalid_type,expected:J.map,received:i.parsedType}),ge;let n=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([s,c],u)=>({key:n._parse(new Ri(i,s,i.path,[u,"key"])),value:a._parse(new Ri(i,c,i.path,[u,"value"]))}));if(i.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let c of o){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return ge;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(u.value,l.value);}return {status:r.value,value:s}})}else {let s=new Map;for(let c of o){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return ge;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(u.value,l.value);}return {status:r.value,value:s}}}};kf.create=(t,e,r)=>new kf({valueType:e,keyType:t,typeName:Ee.ZodMap,...Ce(r)});var Uf=class t extends Le{_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==J.set)return W(i,{code:V.invalid_type,expected:J.set,received:i.parsedType}),ge;let n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(W(i,{code:V.too_small,minimum:n.minSize.value,type:"set",inclusive:true,exact:false,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(W(i,{code:V.too_big,maximum:n.maxSize.value,type:"set",inclusive:true,exact:false,message:n.maxSize.message}),r.dirty());let a=this._def.valueType;function o(c){let u=new Set;for(let l of c){if(l.status==="aborted")return ge;l.status==="dirty"&&r.dirty(),u.add(l.value);}return {status:r.value,value:u}}let s=[...i.data.values()].map((c,u)=>a._parse(new Ri(i,c,i.path,u)));return i.common.async?Promise.all(s).then(c=>o(c)):o(s)}min(e,r){return new t({...this._def,minSize:{value:e,message:ie.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:ie.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Uf.create=(t,e)=>new Uf({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Ce(e)});var OC=class t extends Le{constructor(){super(...arguments),this.validate=this.implement;}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.function)return W(r,{code:V.invalid_type,expected:J.function,received:r.parsedType}),ge;function i(s,c){return US({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,If(),la].filter(u=>!!u),issueData:{code:V.invalid_arguments,argumentsError:c}})}function n(s,c){return US({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,If(),la].filter(u=>!!u),issueData:{code:V.invalid_return_type,returnTypeError:c}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Uc){let s=this;return Dr(async function(...c){let u=new Rn([]),l=await s._def.args.parseAsync(c,a).catch(f=>{throw u.addIssue(i(c,f)),u}),d=await Reflect.apply(o,this,l);return await s._def.returns._def.type.parseAsync(d,a).catch(f=>{throw u.addIssue(n(d,f)),u})})}else {let s=this;return Dr(function(...c){let u=s._def.args.safeParse(c,a);if(!u.success)throw new Rn([i(c,u.error)]);let l=Reflect.apply(o,this,u.data),d=s._def.returns.safeParse(l,a);if(!d.success)throw new Rn([n(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:ts.create(e).rest(pa.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,i){return new t({args:e||ts.create([]).rest(pa.create()),returns:r||pa.create(),typeName:Ee.ZodFunction,...Ce(i)})}},Nl=class extends Le{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Nl.create=(t,e)=>new Nl({getter:t,typeName:Ee.ZodLazy,...Ce(e)});var Pl=class extends Le{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return W(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ge}return {status:"valid",value:e.data}}get value(){return this._def.value}};Pl.create=(t,e)=>new Pl({value:t,typeName:Ee.ZodLiteral,...Ce(e)});function the(t,e){return new Il({values:t,typeName:Ee.ZodEnum,...Ce(e)})}var Il=class t extends Le{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),i=this._def.values;return W(r,{expected:Be.joinValues(i),received:r.parsedType,code:V.invalid_type}),ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),i=this._def.values;return W(r,{received:r.data,code:V.invalid_enum_value,options:i}),ge}return Dr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(i=>!e.includes(i)),{...this._def,...r})}};Il.create=the;var wl=class extends Le{_parse(e){let r=Be.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==J.string&&i.parsedType!==J.number){let n=Be.objectValues(r);return W(i,{expected:Be.joinValues(n),received:i.parsedType,code:V.invalid_type}),ge}if(this._cache||(this._cache=new Set(Be.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let n=Be.objectValues(r);return W(i,{received:i.data,code:V.invalid_enum_value,options:n}),ge}return Dr(e.data)}get enum(){return this._def.values}};wl.create=(t,e)=>new wl({values:t,typeName:Ee.ZodNativeEnum,...Ce(e)});var Uc=class extends Le{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.promise&&r.common.async===false)return W(r,{code:V.invalid_type,expected:J.promise,received:r.parsedType}),ge;let i=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Dr(i.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Uc.create=(t,e)=>new Uc({type:t,typeName:Ee.ZodPromise,...Ce(e)});var Ai=class extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:i}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{W(i,o),o.fatal?r.abort():r.dirty();},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){let o=n.transform(i.data,a);if(i.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return ge;let c=await this._def.schema._parseAsync({data:s,path:i.path,parent:i});return c.status==="aborted"?ge:c.status==="dirty"?El(c.value):r.value==="dirty"?El(c.value):c});{if(r.value==="aborted")return ge;let s=this._def.schema._parseSync({data:o,path:i.path,parent:i});return s.status==="aborted"?ge:s.status==="dirty"?El(s.value):r.value==="dirty"?El(s.value):s}}if(n.type==="refinement"){let o=s=>{let c=n.refinement(s,a);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(i.common.async===false){let s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?ge:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>s.status==="aborted"?ge:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(n.type==="transform")if(i.common.async===false){let o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Lc(o))return ge;let s=n.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return {status:r.value,value:s}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Lc(o)?Promise.resolve(n.transform(o.value,a)).then(s=>({status:r.value,value:s})):ge);Be.assertNever(n);}};Ai.create=(t,e,r)=>new Ai({schema:t,typeName:Ee.ZodEffects,effect:e,...Ce(r)});Ai.createWithPreprocess=(t,e,r)=>new Ai({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Ce(r)});var bi=class extends Le{_parse(e){return this._getType(e)===J.undefined?Dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};bi.create=(t,e)=>new bi({innerType:t,typeName:Ee.ZodOptional,...Ce(e)});var rs=class extends Le{_parse(e){return this._getType(e)===J.null?Dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};rs.create=(t,e)=>new rs({innerType:t,typeName:Ee.ZodNullable,...Ce(e)});var Ml=class extends Le{_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return r.parsedType===J.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ml.create=(t,e)=>new Ml({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});var Ll=class extends Le{_parse(e){let{ctx:r}=this._processInputParams(e),i={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return wf(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Rn(i.common.issues)},input:i.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Rn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}};Ll.create=(t,e)=>new Ll({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ce(e)});var $f=class extends Le{_parse(e){if(this._getType(e)!==J.nan){let i=this._getOrReturnCtx(e);return W(i,{code:V.invalid_type,expected:J.nan,received:i.parsedType}),ge}return {status:"valid",value:e.data}}};$f.create=t=>new $f({typeName:Ee.ZodNaN,...Ce(t)});var cKe=Symbol("zod_brand"),$S=class extends Le{_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}},zS=class t extends Le{_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return (async()=>{let a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?ge:a.status==="dirty"?(r.dirty(),El(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{let n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?ge:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(e,r){return new t({in:e,out:r,typeName:Ee.ZodPipeline})}},Dl=class extends Le{_parse(e){let r=this._def.innerType._parse(e),i=n=>(Lc(n)&&(n.value=Object.freeze(n.value)),n);return wf(r)?r.then(n=>i(n)):i(r)}unwrap(){return this._def.innerType}};Dl.create=(t,e)=>new Dl({innerType:t,typeName:Ee.ZodReadonly,...Ce(e)});function Xfe(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function rhe(t,e={},r){return t?kc.create().superRefine((i,n)=>{let a=t(i);if(a instanceof Promise)return a.then(o=>{if(!o){let s=Xfe(e,i),c=s.fatal??r??true;n.addIssue({code:"custom",...s,fatal:c});}});if(!a){let o=Xfe(e,i),s=o.fatal??r??true;n.addIssue({code:"custom",...o,fatal:s});}}):kc.create()}var uKe={object:An.lazycreate},Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly";})(Ee||(Ee={}));var lKe=(t,e={message:`Input not instance of ${t.name}`})=>rhe(r=>r instanceof t,e),nhe=Dc.create,ihe=Tl.create,dKe=$f.create,pKe=vl.create,ohe=bl.create,fKe=Rl.create,hKe=Lf.create,mKe=Al.create,gKe=Ol.create,_Ke=kc.create,SKe=pa.create,yKe=eo.create,EKe=Df.create,TKe=fa.create,vKe=An.create,bKe=An.strictCreate,RKe=xl.create,AKe=RC.create,OKe=Cl.create,xKe=ts.create,CKe=AC.create,NKe=kf.create,PKe=Uf.create,IKe=OC.create,wKe=Nl.create,MKe=Pl.create,LKe=Il.create,DKe=wl.create,kKe=Uc.create,UKe=Ai.create,$Ke=bi.create,zKe=rs.create,VKe=Ai.createWithPreprocess,BKe=zS.create,FKe=()=>nhe().optional(),HKe=()=>ihe().optional(),GKe=()=>ohe().optional(),jKe={string:(t=>Dc.create({...t,coerce:true})),number:(t=>Tl.create({...t,coerce:true})),boolean:(t=>bl.create({...t,coerce:true})),bigint:(t=>vl.create({...t,coerce:true})),date:(t=>Rl.create({...t,coerce:true}))};var qKe=ge;var WKe=()=>new she.UndiciInstrumentation({requestHook:(t,e)=>{let{method:r,origin:i,path:n}=e;t.setAttributes({"http.host":i,"http.method":r,"http.target":n,"http.url":`${i}${n}`});},responseHook:(t,{response:e})=>{t.setAttribute("http.status_code",e.statusCode);}}),KKe=()=>Bz({emptyStringAsUndefined:true,onValidationError:t=>{throw new Error(t.map(e=>`Environment variable ${e.path} - ${e.message}`).join(", "))},runtimeEnv:process.env,server:{APPINSIGHTS_SAMPLING_PERCENTAGE:zf.optional(zf.coerce.number().min(0).max(100).default(5).describe("Application Insights sampling percentage between 0 and 100. If not set, defaults to 5.")).transform(t=>{let e=Number(t);return isNaN(e)?5:e}).transform(t=>t/100),APPLICATIONINSIGHTS_CONNECTION_STRING:zf.string().describe("The connection string for Application Insights.")}}),YKe=()=>{let t=KKe();return iC({azureMonitorExporterOptions:{connectionString:t.APPLICATIONINSIGHTS_CONNECTION_STRING},enableLiveMetrics:true,samplingRatio:t.APPINSIGHTS_SAMPLING_PERCENTAGE})},ahe=(t=[],e)=>{e?iC(e):YKe(),lC({instrumentations:[WKe(),...t],meterProvider:kt.getMeterProvider(),tracerProvider:ce.getTracerProvider()});};var Ue={};Pe(Ue,{$brand:()=>xC,$input:()=>lF,$output:()=>uF,NEVER:()=>jz,TimePrecision:()=>hF,ZodAny:()=>nH,ZodArray:()=>aH,ZodBase64:()=>eP,ZodBase64URL:()=>tP,ZodBigInt:()=>mh,ZodBigIntFormat:()=>iP,ZodBoolean:()=>hh,ZodCIDRv4:()=>JN,ZodCIDRv6:()=>QN,ZodCUID:()=>jN,ZodCUID2:()=>qN,ZodCatch:()=>NH,ZodCodec:()=>pP,ZodCustom:()=>_y,ZodCustomStringFormat:()=>ph,ZodDate:()=>py,ZodDefault:()=>bH,ZodDiscriminatedUnion:()=>uH,ZodE164:()=>rP,ZodEmail:()=>FN,ZodEmoji:()=>HN,ZodEnum:()=>lh,ZodError:()=>b8e,ZodExactOptional:()=>EH,ZodFile:()=>SH,ZodFirstPartyTypeKind:()=>BH,ZodFunction:()=>$H,ZodGUID:()=>ay,ZodIPv4:()=>ZN,ZodIPv6:()=>XN,ZodISODate:()=>kN,ZodISODateTime:()=>DN,ZodISODuration:()=>$N,ZodISOTime:()=>UN,ZodIntersection:()=>lH,ZodIssueCode:()=>A8e,ZodJWT:()=>nP,ZodKSUID:()=>YN,ZodLazy:()=>DH,ZodLiteral:()=>_H,ZodMAC:()=>Z2,ZodMap:()=>mH,ZodNaN:()=>IH,ZodNanoID:()=>GN,ZodNever:()=>oH,ZodNonOptional:()=>lP,ZodNull:()=>tH,ZodNullable:()=>vH,ZodNumber:()=>fh,ZodNumberFormat:()=>Hl,ZodObject:()=>hy,ZodOptional:()=>uP,ZodPipe:()=>dP,ZodPrefault:()=>AH,ZodPromise:()=>UH,ZodReadonly:()=>wH,ZodRealError:()=>Cn,ZodRecord:()=>gy,ZodSet:()=>gH,ZodString:()=>dh,ZodStringFormat:()=>ct,ZodSuccess:()=>CH,ZodSymbol:()=>Q2,ZodTemplateLiteral:()=>LH,ZodTransform:()=>yH,ZodTuple:()=>pH,ZodType:()=>Ne,ZodULID:()=>WN,ZodURL:()=>dy,ZodUUID:()=>ss,ZodUndefined:()=>eH,ZodUnion:()=>my,ZodUnknown:()=>iH,ZodVoid:()=>sH,ZodXID:()=>KN,ZodXor:()=>cH,_ZodString:()=>BN,_default:()=>RH,_function:()=>Vge,any:()=>Sge,array:()=>fy,base64:()=>tge,base64url:()=>rge,bigint:()=>fge,boolean:()=>J2,catch:()=>PH,check:()=>Bge,cidrv4:()=>Qme,cidrv6:()=>ege,clone:()=>Qr,codec:()=>Uge,coerce:()=>FH,config:()=>Dt,core:()=>ga,cuid:()=>jme,cuid2:()=>qme,custom:()=>Fge,date:()=>Ege,decode:()=>H2,decodeAsync:()=>j2,describe:()=>Hge,discriminatedUnion:()=>Oge,e164:()=>nge,email:()=>Dme,emoji:()=>Hme,encode:()=>F2,encodeAsync:()=>G2,endsWith:()=>eh,enum:()=>aP,exactOptional:()=>TH,file:()=>Mge,flattenError:()=>KS,float32:()=>uge,float64:()=>lge,formatError:()=>YS,fromJSONSchema:()=>Zge,function:()=>Vge,getErrorMap:()=>x8e,globalRegistry:()=>Ar,gt:()=>is,gte:()=>en,guid:()=>kme,hash:()=>cge,hex:()=>age,hostname:()=>sge,httpUrl:()=>Fme,includes:()=>Jf,instanceof:()=>jge,int:()=>VN,int32:()=>dge,int64:()=>hge,intersection:()=>dH,ipv4:()=>Zme,ipv6:()=>Jme,iso:()=>uh,json:()=>Wge,jwt:()=>ige,keyof:()=>Tge,ksuid:()=>Yme,lazy:()=>kH,length:()=>Bl,literal:()=>wge,locales:()=>ny,looseObject:()=>Rge,looseRecord:()=>Cge,lowercase:()=>Zf,lt:()=>ns,lte:()=>Wn,mac:()=>Xme,map:()=>Nge,maxLength:()=>Vl,maxSize:()=>Gc,meta:()=>Gge,mime:()=>th,minLength:()=>ma,minSize:()=>os,multipleOf:()=>Hc,nan:()=>kge,nanoid:()=>Gme,nativeEnum:()=>Ige,negative:()=>AN,never:()=>oP,nonnegative:()=>xN,nonoptional:()=>xH,nonpositive:()=>ON,normalize:()=>rh,null:()=>rH,nullable:()=>uy,nullish:()=>Lge,number:()=>X2,object:()=>vge,optional:()=>cy,overwrite:()=>ro,parse:()=>$2,parseAsync:()=>z2,partialRecord:()=>xge,pipe:()=>ly,positive:()=>RN,prefault:()=>OH,preprocess:()=>Kge,prettifyError:()=>nV,promise:()=>zge,property:()=>CN,readonly:()=>MH,record:()=>hH,refine:()=>zH,regex:()=>Yf,regexes:()=>xi,registry:()=>nN,safeDecode:()=>W2,safeDecodeAsync:()=>Y2,safeEncode:()=>q2,safeEncodeAsync:()=>K2,safeParse:()=>V2,safeParseAsync:()=>B2,set:()=>Pge,setErrorMap:()=>O8e,size:()=>zl,slugify:()=>sh,startsWith:()=>Qf,strictObject:()=>bge,string:()=>zN,stringFormat:()=>oge,stringbool:()=>qge,success:()=>Dge,superRefine:()=>VH,symbol:()=>gge,templateLiteral:()=>$ge,toJSONSchema:()=>wN,toLowerCase:()=>ih,toUpperCase:()=>oh,transform:()=>cP,treeifyError:()=>rV,trim:()=>nh,tuple:()=>fH,uint32:()=>pge,uint64:()=>mge,ulid:()=>Wme,undefined:()=>_ge,union:()=>sP,unknown:()=>Fl,uppercase:()=>Xf,url:()=>Bme,util:()=>j,uuid:()=>Ume,uuidv4:()=>$me,uuidv6:()=>zme,uuidv7:()=>Vme,void:()=>yge,xid:()=>Kme,xor:()=>Age});var ga={};Pe(ga,{$ZodAny:()=>IB,$ZodArray:()=>kB,$ZodAsyncError:()=>to,$ZodBase64:()=>TB,$ZodBase64URL:()=>vB,$ZodBigInt:()=>ZC,$ZodBigIntFormat:()=>xB,$ZodBoolean:()=>QS,$ZodCIDRv4:()=>SB,$ZodCIDRv6:()=>yB,$ZodCUID:()=>sB,$ZodCUID2:()=>aB,$ZodCatch:()=>eF,$ZodCheck:()=>ft,$ZodCheckBigIntFormat:()=>kV,$ZodCheckEndsWith:()=>KV,$ZodCheckGreaterThan:()=>HC,$ZodCheckIncludes:()=>qV,$ZodCheckLengthEquals:()=>FV,$ZodCheckLessThan:()=>FC,$ZodCheckLowerCase:()=>GV,$ZodCheckMaxLength:()=>VV,$ZodCheckMaxSize:()=>UV,$ZodCheckMimeType:()=>ZV,$ZodCheckMinLength:()=>BV,$ZodCheckMinSize:()=>$V,$ZodCheckMultipleOf:()=>LV,$ZodCheckNumberFormat:()=>DV,$ZodCheckOverwrite:()=>XV,$ZodCheckProperty:()=>YV,$ZodCheckRegex:()=>HV,$ZodCheckSizeEquals:()=>zV,$ZodCheckStartsWith:()=>WV,$ZodCheckStringFormat:()=>Wf,$ZodCheckUpperCase:()=>jV,$ZodCodec:()=>ty,$ZodCustom:()=>cF,$ZodCustomStringFormat:()=>AB,$ZodDate:()=>DB,$ZodDefault:()=>ZB,$ZodDiscriminatedUnion:()=>zB,$ZodE164:()=>bB,$ZodEmail:()=>rB,$ZodEmoji:()=>iB,$ZodEncodeError:()=>$c,$ZodEnum:()=>GB,$ZodError:()=>WS,$ZodExactOptional:()=>KB,$ZodFile:()=>qB,$ZodFunction:()=>oF,$ZodGUID:()=>eB,$ZodIPv4:()=>mB,$ZodIPv6:()=>gB,$ZodISODate:()=>pB,$ZodISODateTime:()=>dB,$ZodISODuration:()=>hB,$ZodISOTime:()=>fB,$ZodIntersection:()=>VB,$ZodJWT:()=>RB,$ZodKSUID:()=>lB,$ZodLazy:()=>aF,$ZodLiteral:()=>jB,$ZodMAC:()=>_B,$ZodMap:()=>FB,$ZodNaN:()=>tF,$ZodNanoID:()=>oB,$ZodNever:()=>MB,$ZodNonOptional:()=>JB,$ZodNull:()=>PB,$ZodNullable:()=>YB,$ZodNumber:()=>YC,$ZodNumberFormat:()=>OB,$ZodObject:()=>Lhe,$ZodObjectJIT:()=>UB,$ZodOptional:()=>JC,$ZodPipe:()=>rF,$ZodPrefault:()=>XB,$ZodPromise:()=>sF,$ZodReadonly:()=>nF,$ZodRealError:()=>xn,$ZodRecord:()=>BB,$ZodRegistry:()=>rN,$ZodSet:()=>HB,$ZodString:()=>$l,$ZodStringFormat:()=>at,$ZodSuccess:()=>QB,$ZodSymbol:()=>CB,$ZodTemplateLiteral:()=>iF,$ZodTransform:()=>WB,$ZodTuple:()=>XC,$ZodType:()=>ve,$ZodULID:()=>cB,$ZodURL:()=>nB,$ZodUUID:()=>tB,$ZodUndefined:()=>NB,$ZodUnion:()=>ey,$ZodUnknown:()=>wB,$ZodVoid:()=>LB,$ZodXID:()=>uB,$ZodXor:()=>$B,$brand:()=>xC,$constructor:()=>b,$input:()=>lF,$output:()=>uF,Doc:()=>JS,JSONSchema:()=>Mme,JSONSchemaGenerator:()=>MN,NEVER:()=>jz,TimePrecision:()=>hF,_any:()=>DF,_array:()=>FF,_base64:()=>EN,_base64url:()=>TN,_bigint:()=>CF,_boolean:()=>OF,_catch:()=>m8e,_check:()=>wme,_cidrv4:()=>SN,_cidrv6:()=>yN,_coercedBigint:()=>NF,_coercedBoolean:()=>xF,_coercedDate:()=>VF,_coercedNumber:()=>EF,_coercedString:()=>pF,_cuid:()=>dN,_cuid2:()=>pN,_custom:()=>GF,_date:()=>zF,_decode:()=>MC,_decodeAsync:()=>DC,_default:()=>p8e,_discriminatedUnion:()=>e8e,_e164:()=>vN,_email:()=>iN,_emoji:()=>uN,_encode:()=>wC,_encodeAsync:()=>LC,_endsWith:()=>eh,_enum:()=>s8e,_file:()=>HF,_float32:()=>vF,_float64:()=>bF,_gt:()=>is,_gte:()=>en,_guid:()=>iy,_includes:()=>Jf,_int:()=>TF,_int32:()=>RF,_int64:()=>PF,_intersection:()=>t8e,_ipv4:()=>gN,_ipv6:()=>_N,_isoDate:()=>gF,_isoDateTime:()=>mF,_isoDuration:()=>SF,_isoTime:()=>_F,_jwt:()=>bN,_ksuid:()=>mN,_lazy:()=>y8e,_length:()=>Bl,_literal:()=>c8e,_lowercase:()=>Zf,_lt:()=>ns,_lte:()=>Wn,_mac:()=>fF,_map:()=>i8e,_max:()=>Wn,_maxLength:()=>Vl,_maxSize:()=>Gc,_mime:()=>th,_min:()=>en,_minLength:()=>ma,_minSize:()=>os,_multipleOf:()=>Hc,_nan:()=>BF,_nanoid:()=>lN,_nativeEnum:()=>a8e,_negative:()=>AN,_never:()=>UF,_nonnegative:()=>xN,_nonoptional:()=>f8e,_nonpositive:()=>ON,_normalize:()=>rh,_null:()=>LF,_nullable:()=>d8e,_number:()=>yF,_optional:()=>l8e,_overwrite:()=>ro,_parse:()=>Hf,_parseAsync:()=>Gf,_pipe:()=>g8e,_positive:()=>RN,_promise:()=>E8e,_property:()=>CN,_readonly:()=>_8e,_record:()=>n8e,_refine:()=>jF,_regex:()=>Yf,_safeDecode:()=>UC,_safeDecodeAsync:()=>zC,_safeEncode:()=>kC,_safeEncodeAsync:()=>$C,_safeParse:()=>jf,_safeParseAsync:()=>qf,_set:()=>o8e,_size:()=>zl,_slugify:()=>sh,_startsWith:()=>Qf,_string:()=>dF,_stringFormat:()=>ah,_stringbool:()=>YF,_success:()=>h8e,_superRefine:()=>qF,_symbol:()=>wF,_templateLiteral:()=>S8e,_toLowerCase:()=>ih,_toUpperCase:()=>oh,_transform:()=>u8e,_trim:()=>nh,_tuple:()=>r8e,_uint32:()=>AF,_uint64:()=>IF,_ulid:()=>fN,_undefined:()=>MF,_union:()=>JZe,_unknown:()=>kF,_uppercase:()=>Xf,_url:()=>oy,_uuid:()=>oN,_uuidv4:()=>sN,_uuidv6:()=>aN,_uuidv7:()=>cN,_void:()=>$F,_xid:()=>hN,_xor:()=>QZe,clone:()=>Qr,config:()=>Dt,createStandardJSONSchemaMethod:()=>ch,createToJSONSchemaMethod:()=>ZF,decode:()=>bYe,decodeAsync:()=>AYe,describe:()=>WF,encode:()=>vYe,encodeAsync:()=>RYe,extractDefs:()=>qc,finalize:()=>Wc,flattenError:()=>KS,formatError:()=>YS,globalConfig:()=>VS,globalRegistry:()=>Ar,initializeContext:()=>jc,isValidBase64:()=>EB,isValidBase64URL:()=>Phe,isValidJWT:()=>Ihe,locales:()=>ny,meta:()=>KF,parse:()=>PC,parseAsync:()=>IC,prettifyError:()=>nV,process:()=>tt,regexes:()=>xi,registry:()=>nN,safeDecode:()=>xYe,safeDecodeAsync:()=>NYe,safeEncode:()=>OYe,safeEncodeAsync:()=>CYe,safeParse:()=>iV,safeParseAsync:()=>oV,toDotPath:()=>phe,toJSONSchema:()=>wN,treeifyError:()=>rV,util:()=>j,version:()=>JV});var jz=Object.freeze({status:"aborted"});function b(t,e,r){function i(s,c){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:false}),s._zod.traits.has(t))return;s._zod.traits.add(t),e(s,c);let u=o.prototype,l=Object.keys(u);for(let d=0;d<l.length;d++){let p=l[d];p in s||(s[p]=u[p].bind(s));}}let n=r?.Parent??Object;class a extends n{}Object.defineProperty(a,"name",{value:t});function o(s){var c;let u=r?.Parent?new a:this;i(u,s),(c=u._zod).deferred??(c.deferred=[]);for(let l of u._zod.deferred)l();return u}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?true:s?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}var xC=Symbol("zod_brand"),to=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.");}},$c=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError";}},VS={};function Dt(t){return t&&Object.assign(VS,t),VS}var j={};Pe(j,{BIGINT_FORMAT_RANGES:()=>tV,Class:()=>Wz,NUMBER_FORMAT_RANGES:()=>eV,aborted:()=>Fc,allowsEval:()=>Zz,assert:()=>eYe,assertEqual:()=>ZKe,assertIs:()=>JKe,assertNever:()=>QKe,assertNotEqual:()=>XKe,assignProp:()=>Vc,base64ToUint8Array:()=>uhe,base64urlToUint8Array:()=>_Ye,cached:()=>Bf,captureStackTrace:()=>NC,cleanEnum:()=>gYe,cleanRegex:()=>HS,clone:()=>Qr,cloneDef:()=>rYe,createTransparentProxy:()=>cYe,defineLazy:()=>De,esc:()=>CC,escapeRegex:()=>Oi,extend:()=>dYe,finalizeIssue:()=>On,floatSafeRemainder:()=>Kz,getElementAtPath:()=>nYe,getEnumValues:()=>FS,getLengthableOrigin:()=>qS,getParsedType:()=>aYe,getSizableOrigin:()=>jS,hexToUint8Array:()=>yYe,isObject:()=>kl,isPlainObject:()=>Bc,issue:()=>Ff,joinValues:()=>N,jsonStringifyReplacer:()=>Vf,merge:()=>fYe,mergeDefs:()=>ha,normalizeParams:()=>q,nullish:()=>zc,numKeys:()=>sYe,objectClone:()=>tYe,omit:()=>lYe,optionalKeys:()=>Qz,parsedType:()=>H,partial:()=>hYe,pick:()=>uYe,prefixIssues:()=>qn,primitiveTypes:()=>Jz,promiseAllObject:()=>iYe,propertyKeyTypes:()=>GS,randomString:()=>oYe,required:()=>mYe,safeExtend:()=>pYe,shallowClone:()=>Xz,slugify:()=>Yz,stringifyPrimitive:()=>B,uint8ArrayToBase64:()=>lhe,uint8ArrayToBase64url:()=>SYe,uint8ArrayToHex:()=>EYe,unwrapMessage:()=>BS});function ZKe(t){return t}function XKe(t){return t}function JKe(t){}function QKe(t){throw new Error("Unexpected value in exhaustive check")}function eYe(t){}function FS(t){let e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,n])=>e.indexOf(+i)===-1).map(([i,n])=>n)}function N(t,e="|"){return t.map(r=>B(r)).join(e)}function Vf(t,e){return typeof e=="bigint"?e.toString():e}function Bf(t){return {get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}}}}function zc(t){return t==null}function HS(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function Kz(t,e){let r=(t.toString().split(".")[1]||"").length,i=e.toString(),n=(i.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(i)){let c=i.match(/\d?e-(\d?)/);c?.[1]&&(n=Number.parseInt(c[1]));}let a=r>n?r:n,o=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return o%s/10**a}var che=Symbol("evaluating");function De(t,e,r){let i;Object.defineProperty(t,e,{get(){if(i!==che)return i===void 0&&(i=che,i=r()),i},set(n){Object.defineProperty(t,e,{value:n});},configurable:true});}function tYe(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Vc(t,e,r){Object.defineProperty(t,e,{value:r,writable:true,enumerable:true,configurable:true});}function ha(...t){let e={};for(let r of t){let i=Object.getOwnPropertyDescriptors(r);Object.assign(e,i);}return Object.defineProperties({},e)}function rYe(t){return ha(t._zod.def)}function nYe(t,e){return e?e.reduce((r,i)=>r?.[i],t):t}function iYe(t){let e=Object.keys(t),r=e.map(i=>t[i]);return Promise.all(r).then(i=>{let n={};for(let a=0;a<e.length;a++)n[e[a]]=i[a];return n})}function oYe(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<t;i++)r+=e[Math.floor(Math.random()*e.length)];return r}function CC(t){return JSON.stringify(t)}function Yz(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var NC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function kl(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Zz=Bf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return  false;try{let t=Function;return new t(""),!0}catch{return  false}});function Bc(t){if(kl(t)===false)return  false;let e=t.constructor;if(e===void 0||typeof e!="function")return  true;let r=e.prototype;return !(kl(r)===false||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===false)}function Xz(t){return Bc(t)?{...t}:Array.isArray(t)?[...t]:t}function sYe(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var aYe=t=>{let e=typeof t;switch(e){case "undefined":return "undefined";case "string":return "string";case "number":return Number.isNaN(t)?"nan":"number";case "boolean":return "boolean";case "function":return "function";case "bigint":return "bigint";case "symbol":return "symbol";case "object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},GS=new Set(["string","number","symbol"]),Jz=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Oi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qr(t,e,r){let i=new t._zod.constr(e??t._zod.def);return (!e||r?.parent)&&(i._zod.parent=t),i}function q(t){let e=t;if(!e)return {};if(typeof e=="string")return {error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message;}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function cYe(t){let e;return new Proxy({},{get(r,i,n){return e??(e=t()),Reflect.get(e,i,n)},set(r,i,n,a){return e??(e=t()),Reflect.set(e,i,n,a)},has(r,i){return e??(e=t()),Reflect.has(e,i)},deleteProperty(r,i){return e??(e=t()),Reflect.deleteProperty(e,i)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,i){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(r,i,n){return e??(e=t()),Reflect.defineProperty(e,i,n)}})}function B(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Qz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var eV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},tV={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function uYe(t,e){let r=t._zod.def,i=r.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let a=ha(t._zod.def,{get shape(){let o={};for(let s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(o[s]=r.shape[s]);}return Vc(this,"shape",o),o},checks:[]});return Qr(t,a)}function lYe(t,e){let r=t._zod.def,i=r.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let a=ha(t._zod.def,{get shape(){let o={...t._zod.def.shape};for(let s in e){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete o[s];}return Vc(this,"shape",o),o},checks:[]});return Qr(t,a)}function dYe(t,e){if(!Bc(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0){let a=t._zod.def.shape;for(let o in e)if(Object.getOwnPropertyDescriptor(a,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let n=ha(t._zod.def,{get shape(){let a={...t._zod.def.shape,...e};return Vc(this,"shape",a),a}});return Qr(t,n)}function pYe(t,e){if(!Bc(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r=ha(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e};return Vc(this,"shape",i),i}});return Qr(t,r)}function fYe(t,e){let r=ha(t._zod.def,{get shape(){let i={...t._zod.def.shape,...e._zod.def.shape};return Vc(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return Qr(t,r)}function hYe(t,e,r){let n=e._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let o=ha(e._zod.def,{get shape(){let s=e._zod.def.shape,c={...s};if(r)for(let u in r){if(!(u in s))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=t?new t({type:"optional",innerType:s[u]}):s[u]);}else for(let u in s)c[u]=t?new t({type:"optional",innerType:s[u]}):s[u];return Vc(this,"shape",c),c},checks:[]});return Qr(e,o)}function mYe(t,e,r){let i=ha(e._zod.def,{get shape(){let n=e._zod.def.shape,a={...n};if(r)for(let o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(a[o]=new t({type:"nonoptional",innerType:n[o]}));}else for(let o in n)a[o]=new t({type:"nonoptional",innerType:n[o]});return Vc(this,"shape",a),a}});return Qr(e,i)}function Fc(t,e=0){if(t.aborted===true)return  true;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==true)return  true;return  false}function qn(t,e){return e.map(r=>{var i;return (i=r).path??(i.path=[]),r.path.unshift(t),r})}function BS(t){return typeof t=="string"?t:t?.message}function On(t,e,r){let i={...t,path:t.path??[]};if(!t.message){let n=BS(t.inst?._zod.def?.error?.(t))??BS(e?.error?.(t))??BS(r.customError?.(t))??BS(r.localeError?.(t))??"Invalid input";i.message=n;}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function jS(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function qS(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function H(t){let e=typeof t;switch(e){case "number":return Number.isNaN(t)?"nan":"number";case "object":{if(t===null)return "null";if(Array.isArray(t))return "array";let r=t;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return e}function Ff(...t){let[e,r,i]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:i}:{...e}}function gYe(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function uhe(t){let e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}function lhe(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function _Ye(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return uhe(e+r)}function SYe(t){return lhe(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function yYe(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)r[i/2]=Number.parseInt(e.slice(i,i+2),16);return r}function EYe(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var Wz=class{constructor(...e){}};var dhe=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:false}),Object.defineProperty(t,"issues",{value:e,enumerable:false}),t.message=JSON.stringify(e,Vf,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:false});},WS=b("$ZodError",dhe),xn=b("$ZodError",dhe,{Parent:Error});function KS(t,e=r=>r.message){let r={},i=[];for(let n of t.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):i.push(e(n));return {formErrors:i,fieldErrors:r}}function YS(t,e=r=>r.message){let r={_errors:[]},i=n=>{for(let a of n.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(o=>i({issues:o}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)r._errors.push(e(a));else {let o=r,s=0;for(;s<a.path.length;){let c=a.path[s];s===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(a))):o[c]=o[c]||{_errors:[]},o=o[c],s++;}}};return i(t),r}function rV(t,e=r=>r.message){let r={errors:[]},i=(n,a=[])=>{var o,s;for(let c of n.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>i({issues:u},c.path));else if(c.code==="invalid_key")i({issues:c.issues},c.path);else if(c.code==="invalid_element")i({issues:c.issues},c.path);else {let u=[...a,...c.path];if(u.length===0){r.errors.push(e(c));continue}let l=r,d=0;for(;d<u.length;){let p=u[d],f=d===u.length-1;typeof p=="string"?(l.properties??(l.properties={}),(o=l.properties)[p]??(o[p]={errors:[]}),l=l.properties[p]):(l.items??(l.items=[]),(s=l.items)[p]??(s[p]={errors:[]}),l=l.items[p]),f&&l.errors.push(e(c)),d++;}}};return i(t),r}function phe(t){let e=[],r=t.map(i=>typeof i=="object"?i.key:i);for(let i of r)typeof i=="number"?e.push(`[${i}]`):typeof i=="symbol"?e.push(`[${JSON.stringify(String(i))}]`):/[^\w$]/.test(i)?e.push(`[${JSON.stringify(i)}]`):(e.length&&e.push("."),e.push(i));return e.join("")}function nV(t){let e=[],r=[...t.issues].sort((i,n)=>(i.path??[]).length-(n.path??[]).length);for(let i of r)e.push(`\u2716 ${i.message}`),i.path?.length&&e.push(`  \u2192 at ${phe(i.path)}`);return e.join(`
`)}var Hf=t=>(e,r,i,n)=>{let a=i?Object.assign(i,{async:false}):{async:false},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new to;if(o.issues.length){let s=new(n?.Err??t)(o.issues.map(c=>On(c,a,Dt())));throw NC(s,n?.callee),s}return o.value},PC=Hf(xn),Gf=t=>async(e,r,i,n)=>{let a=i?Object.assign(i,{async:true}):{async:true},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new(n?.Err??t)(o.issues.map(c=>On(c,a,Dt())));throw NC(s,n?.callee),s}return o.value},IC=Gf(xn),jf=t=>(e,r,i)=>{let n=i?{...i,async:false}:{async:false},a=e._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new to;return a.issues.length?{success:false,error:new(t??WS)(a.issues.map(o=>On(o,n,Dt())))}:{success:true,data:a.value}},iV=jf(xn),qf=t=>async(e,r,i)=>{let n=i?Object.assign(i,{async:true}):{async:true},a=e._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:false,error:new t(a.issues.map(o=>On(o,n,Dt())))}:{success:true,data:a.value}},oV=qf(xn),wC=t=>(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Hf(t)(e,r,n)},vYe=wC(xn),MC=t=>(e,r,i)=>Hf(t)(e,r,i),bYe=MC(xn),LC=t=>async(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gf(t)(e,r,n)},RYe=LC(xn),DC=t=>async(e,r,i)=>Gf(t)(e,r,i),AYe=DC(xn),kC=t=>(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return jf(t)(e,r,n)},OYe=kC(xn),UC=t=>(e,r,i)=>jf(t)(e,r,i),xYe=UC(xn),$C=t=>async(e,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return qf(t)(e,r,n)},CYe=$C(xn),zC=t=>async(e,r,i)=>qf(t)(e,r,i),NYe=zC(xn);var xi={};Pe(xi,{base64:()=>TV,base64url:()=>VC,bigint:()=>xV,boolean:()=>NV,browserEmail:()=>UYe,cidrv4:()=>yV,cidrv6:()=>EV,cuid:()=>sV,cuid2:()=>aV,date:()=>bV,datetime:()=>AV,domain:()=>VYe,duration:()=>pV,e164:()=>vV,email:()=>hV,emoji:()=>mV,extendedDuration:()=>PYe,guid:()=>fV,hex:()=>BYe,hostname:()=>zYe,html5Email:()=>LYe,idnEmail:()=>kYe,integer:()=>CV,ipv4:()=>gV,ipv6:()=>_V,ksuid:()=>lV,lowercase:()=>wV,mac:()=>SV,md5_base64:()=>HYe,md5_base64url:()=>GYe,md5_hex:()=>FYe,nanoid:()=>dV,null:()=>PV,number:()=>BC,rfc5322Email:()=>DYe,sha1_base64:()=>qYe,sha1_base64url:()=>WYe,sha1_hex:()=>jYe,sha256_base64:()=>YYe,sha256_base64url:()=>ZYe,sha256_hex:()=>KYe,sha384_base64:()=>JYe,sha384_base64url:()=>QYe,sha384_hex:()=>XYe,sha512_base64:()=>tZe,sha512_base64url:()=>rZe,sha512_hex:()=>eZe,string:()=>OV,time:()=>RV,ulid:()=>cV,undefined:()=>IV,unicodeEmail:()=>fhe,uppercase:()=>MV,uuid:()=>Ul,uuid4:()=>IYe,uuid6:()=>wYe,uuid7:()=>MYe,xid:()=>uV});var sV=/^[cC][^\s-]{8,}$/,aV=/^[0-9a-z]+$/,cV=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uV=/^[0-9a-vA-V]{20}$/,lV=/^[A-Za-z0-9]{27}$/,dV=/^[a-zA-Z0-9_-]{21}$/,pV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,PYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ul=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IYe=Ul(4),wYe=Ul(6),MYe=Ul(7),hV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,LYe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,DYe=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fhe=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,kYe=fhe,UYe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$Ye="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function mV(){return new RegExp($Ye,"u")}var gV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_V=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,SV=t=>{let e=Oi(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},yV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,EV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,VC=/^[A-Za-z0-9_-]*$/,zYe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,VYe=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,vV=/^\+[1-9]\d{6,14}$/,hhe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",bV=new RegExp(`^${hhe}$`);function mhe(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function RV(t){return new RegExp(`^${mhe(t)}$`)}function AV(t){let e=mhe({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${e}(?:${r.join("|")})`;return new RegExp(`^${hhe}T(?:${i})$`)}var OV=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xV=/^-?\d+n?$/,CV=/^-?\d+$/,BC=/^-?\d+(?:\.\d+)?$/,NV=/^(?:true|false)$/i,PV=/^null$/i;var IV=/^undefined$/i;var wV=/^[^A-Z]*$/,MV=/^[^a-z]*$/,BYe=/^[0-9a-fA-F]*$/;function ZS(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function XS(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var FYe=/^[0-9a-fA-F]{32}$/,HYe=ZS(22,"=="),GYe=XS(22),jYe=/^[0-9a-fA-F]{40}$/,qYe=ZS(27,"="),WYe=XS(27),KYe=/^[0-9a-fA-F]{64}$/,YYe=ZS(43,"="),ZYe=XS(43),XYe=/^[0-9a-fA-F]{96}$/,JYe=ZS(64,""),QYe=XS(64),eZe=/^[0-9a-fA-F]{128}$/,tZe=ZS(86,"=="),rZe=XS(86);var ft=b("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[]);}),_he={number:"number",bigint:"bigint",object:"date"},FC=b("$ZodCheckLessThan",(t,e)=>{ft.init(t,e);let r=_he[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value);}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort});};}),HC=b("$ZodCheckGreaterThan",(t,e)=>{ft.init(t,e);let r=_he[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value);}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort});};}),LV=b("$ZodCheckMultipleOf",(t,e)=>{ft.init(t,e),t._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=e.value);}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):Kz(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort});};}),DV=b("$ZodCheckNumberFormat",(t,e)=>{ft.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),i=r?"int":"number",[n,a]=eV[e.format];t._zod.onattach.push(o=>{let s=o._zod.bag;s.format=e.format,s.minimum=n,s.maximum=a,r&&(s.pattern=CV);}),t._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s)){o.issues.push({expected:i,format:e.format,code:"invalid_type",continue:false,input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:true,continue:!e.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:true,continue:!e.abort});return}}s<n&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:true,inst:t,continue:!e.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inclusive:true,inst:t,continue:!e.abort});};}),kV=b("$ZodCheckBigIntFormat",(t,e)=>{ft.init(t,e);let[r,i]=tV[e.format];t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,a.minimum=r,a.maximum=i;}),t._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:true,inst:t,continue:!e.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inclusive:true,inst:t,continue:!e.abort});};}),UV=b("$ZodCheckMaxSize",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum);}),t._zod.check=i=>{let n=i.value;n.size<=e.maximum||i.issues.push({origin:jS(n),code:"too_big",maximum:e.maximum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),$V=b("$ZodCheckMinSize",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum);}),t._zod.check=i=>{let n=i.value;n.size>=e.minimum||i.issues.push({origin:jS(n),code:"too_small",minimum:e.minimum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),zV=b("$ZodCheckSizeEquals",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size;}),t._zod.check=i=>{let n=i.value,a=n.size;if(a===e.size)return;let o=a>e.size;i.issues.push({origin:jS(n),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:true,exact:true,input:i.value,inst:t,continue:!e.abort});};}),VV=b("$ZodCheckMaxLength",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum);}),t._zod.check=i=>{let n=i.value;if(n.length<=e.maximum)return;let o=qS(n);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),BV=b("$ZodCheckMinLength",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum);}),t._zod.check=i=>{let n=i.value;if(n.length>=e.minimum)return;let o=qS(n);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:true,input:n,inst:t,continue:!e.abort});};}),FV=b("$ZodCheckLengthEquals",(t,e)=>{var r;ft.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return !zc(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length;}),t._zod.check=i=>{let n=i.value,a=n.length;if(a===e.length)return;let o=qS(n),s=a>e.length;i.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:true,exact:true,input:i.value,inst:t,continue:!e.abort});};}),Wf=b("$ZodCheckStringFormat",(t,e)=>{var r,i;ft.init(t,e),t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern));}),e.pattern?(r=t._zod).check??(r.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort});}):(i=t._zod).check??(i.check=()=>{});}),HV=b("$ZodCheckRegex",(t,e)=>{Wf.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort});};}),GV=b("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=wV),Wf.init(t,e);}),jV=b("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=MV),Wf.init(t,e);}),qV=b("$ZodCheckIncludes",(t,e)=>{ft.init(t,e);let r=Oi(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=i,t._zod.onattach.push(n=>{let a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i);}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort});};}),WV=b("$ZodCheckStartsWith",(t,e)=>{ft.init(t,e);let r=new RegExp(`^${Oi(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r);}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort});};}),KV=b("$ZodCheckEndsWith",(t,e)=>{ft.init(t,e);let r=new RegExp(`.*${Oi(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r);}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort});};});function ghe(t,e,r){t.issues.length&&e.issues.push(...qn(r,t.issues));}var YV=b("$ZodCheckProperty",(t,e)=>{ft.init(t,e),t._zod.check=r=>{let i=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(n=>ghe(n,r,e.property));ghe(i,r,e.property);};}),ZV=b("$ZodCheckMimeType",(t,e)=>{ft.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=e.mime;}),t._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:t,continue:!e.abort});};}),XV=b("$ZodCheckOverwrite",(t,e)=>{ft.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value);};});var JS=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e);}indented(e){this.indent+=1,e(this),this.indent-=1;}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let i=e.split(`
`).filter(o=>o),n=Math.min(...i.map(o=>o.length-o.trimStart().length)),a=i.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(let o of a)this.content.push(o);}compile(){let e=Function,r=this?.args,n=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...r,n.join(`
`))}};var JV={major:4,minor:3,patch:6};var ve=b("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=JV;let i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(let n of i)for(let a of n._zod.onattach)a(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse;});else {let n=(o,s,c)=>{let u=Fc(o),l;for(let d of s){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(u)continue;let p=o.issues.length,f=d._zod.check(o);if(f instanceof Promise&&c?.async===false)throw new to;if(l||f instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await f,o.issues.length!==p&&(u||(u=Fc(o,p)));});else {if(o.issues.length===p)continue;u||(u=Fc(o,p));}}return l?l.then(()=>o):o},a=(o,s,c)=>{if(Fc(o))return o.aborted=true,o;let u=n(s,i,c);if(u instanceof Promise){if(c.async===false)throw new to;return u.then(l=>t._zod.parse(l,c))}return t._zod.parse(u,c)};t._zod.run=(o,s)=>{if(s.skipChecks)return t._zod.parse(o,s);if(s.direction==="backward"){let u=t._zod.parse({value:o.value,issues:[]},{...s,skipChecks:true});return u instanceof Promise?u.then(l=>a(l,o,s)):a(u,o,s)}let c=t._zod.parse(o,s);if(c instanceof Promise){if(s.async===false)throw new to;return c.then(u=>n(u,i,s))}return n(c,i,s)};}De(t,"~standard",()=>({validate:n=>{try{let a=iV(t,n);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return oV(t,n).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}));}),$l=b("$ZodString",(t,e)=>{ve.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??OV(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value);}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r};}),at=b("$ZodStringFormat",(t,e)=>{Wf.init(t,e),$l.init(t,e);}),eB=b("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=fV),at.init(t,e);}),tB=b("$ZodUUID",(t,e)=>{if(e.version){let i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Ul(i));}else e.pattern??(e.pattern=Ul());at.init(t,e);}),rB=b("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=hV),at.init(t,e);}),nB=b("$ZodURL",(t,e)=>{at.init(t,e),t._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=n.href:r.value=i;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort});}};}),iB=b("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=mV()),at.init(t,e);}),oB=b("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=dV),at.init(t,e);}),sB=b("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=sV),at.init(t,e);}),aB=b("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=aV),at.init(t,e);}),cB=b("$ZodULID",(t,e)=>{e.pattern??(e.pattern=cV),at.init(t,e);}),uB=b("$ZodXID",(t,e)=>{e.pattern??(e.pattern=uV),at.init(t,e);}),lB=b("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=lV),at.init(t,e);}),dB=b("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=AV(e)),at.init(t,e);}),pB=b("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=bV),at.init(t,e);}),fB=b("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=RV(e)),at.init(t,e);}),hB=b("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=pV),at.init(t,e);}),mB=b("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=gV),at.init(t,e),t._zod.bag.format="ipv4";}),gB=b("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=_V),at.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`);}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort});}};}),_B=b("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=SV(e.delimiter)),at.init(t,e),t._zod.bag.format="mac";}),SB=b("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=yV),at.init(t,e);}),yB=b("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=EV),at.init(t,e),t._zod.check=r=>{let i=r.value.split("/");try{if(i.length!==2)throw new Error;let[n,a]=i;if(!a)throw new Error;let o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`);}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort});}};});function EB(t){if(t==="")return  true;if(t.length%4!==0)return  false;try{return atob(t),!0}catch{return  false}}var TB=b("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=TV),at.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{EB(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort});};});function Phe(t){if(!VC.test(t))return  false;let e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return EB(r)}var vB=b("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=VC),at.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{Phe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort});};}),bB=b("$ZodE164",(t,e)=>{e.pattern??(e.pattern=vV),at.init(t,e);});function Ihe(t,e=null){try{let r=t.split(".");if(r.length!==3)return !1;let[i]=r;if(!i)return !1;let n=JSON.parse(atob(i));return !("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return  false}}var RB=b("$ZodJWT",(t,e)=>{at.init(t,e),t._zod.check=r=>{Ihe(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort});};}),AB=b("$ZodCustomStringFormat",(t,e)=>{at.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort});};}),YC=b("$ZodNumber",(t,e)=>{ve.init(t,e),t._zod.pattern=t._zod.bag.pattern??BC,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=Number(r.value);}catch{}let n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...a?{received:a}:{}}),r};}),OB=b("$ZodNumberFormat",(t,e)=>{DV.init(t,e),YC.init(t,e);}),QS=b("$ZodBoolean",(t,e)=>{ve.init(t,e),t._zod.pattern=NV,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=!!r.value;}catch{}let n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),r};}),ZC=b("$ZodBigInt",(t,e)=>{ve.init(t,e),t._zod.pattern=xV,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=BigInt(r.value);}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r};}),xB=b("$ZodBigIntFormat",(t,e)=>{kV.init(t,e),ZC.init(t,e);}),CB=b("$ZodSymbol",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:t}),r};}),NB=b("$ZodUndefined",(t,e)=>{ve.init(t,e),t._zod.pattern=IV,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:t}),r};}),PB=b("$ZodNull",(t,e)=>{ve.init(t,e),t._zod.pattern=PV,t._zod.values=new Set([null]),t._zod.parse=(r,i)=>{let n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:t}),r};}),IB=b("$ZodAny",(t,e)=>{ve.init(t,e),t._zod.parse=r=>r;}),wB=b("$ZodUnknown",(t,e)=>{ve.init(t,e),t._zod.parse=r=>r;}),MB=b("$ZodNever",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r);}),LB=b("$ZodVoid",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"void",code:"invalid_type",input:n,inst:t}),r};}),DB=b("$ZodDate",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=new Date(r.value);}catch{}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:t}),r};});function yhe(t,e,r){t.issues.length&&e.issues.push(...qn(r,t.issues)),e.value[r]=t.value;}var kB=b("$ZodArray",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),r;r.value=Array(n.length);let a=[];for(let o=0;o<n.length;o++){let s=n[o],c=e.element._zod.run({value:s,issues:[]},i);c instanceof Promise?a.push(c.then(u=>yhe(u,r,o))):yhe(c,r,o);}return a.length?Promise.all(a).then(()=>r):r};});function KC(t,e,r,i,n){if(t.issues.length){if(n&&!(r in i))return;e.issues.push(...qn(r,t.issues));}t.value===void 0?r in i&&(e.value[r]=void 0):e.value[r]=t.value;}function whe(t){let e=Object.keys(t.shape);for(let i of e)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);let r=Qz(t.shape);return {...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function Mhe(t,e,r,i,n,a){let o=[],s=n.keySet,c=n.catchall._zod,u=c.def.type,l=c.optout==="optional";for(let d in e){if(s.has(d))continue;if(u==="never"){o.push(d);continue}let p=c.run({value:e[d],issues:[]},i);p instanceof Promise?t.push(p.then(f=>KC(f,r,d,e,l))):KC(p,r,d,e,l);}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:a}),t.length?Promise.all(t).then(()=>r):r}var Lhe=b("$ZodObject",(t,e)=>{if(ve.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let s=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...s};return Object.defineProperty(e,"shape",{value:c}),c}});}let i=Bf(()=>whe(e));De(t._zod,"propValues",()=>{let s=e.shape,c={};for(let u in s){let l=s[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(let d of l.values)c[u].add(d);}}return c});let n=kl,a=e.catchall,o;t._zod.parse=(s,c)=>{o??(o=i.value);let u=s.value;if(!n(u))return s.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),s;s.value={};let l=[],d=o.shape;for(let p of o.keys){let f=d[p],_=f._zod.optout==="optional",y=f._zod.run({value:u[p],issues:[]},c);y instanceof Promise?l.push(y.then(v=>KC(v,s,p,u,_))):KC(y,s,p,u,_);}return a?Mhe(l,u,s,c,i.value,t):l.length?Promise.all(l).then(()=>s):s};}),UB=b("$ZodObjectJIT",(t,e)=>{Lhe.init(t,e);let r=t._zod.parse,i=Bf(()=>whe(e)),n=p=>{let f=new JS(["shape","payload","ctx"]),_=i.value,y=I=>{let R=CC(I);return `shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};f.write("const input = payload.value;");let v=Object.create(null),O=0;for(let I of _.keys)v[I]=`key_${O++}`;f.write("const newResult = {};");for(let I of _.keys){let R=v[I],F=CC(I),G=p[I]?._zod?.optout==="optional";f.write(`const ${R} = ${y(I)};`),G?f.write(`
        if (${R}.issues.length) {
          if (${F} in input) {
            payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${F}, ...iss.path] : [${F}]
            })));
          }
        }
        
        if (${R}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${R}.value;
        }
        
      `):f.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${R}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${R}.value;
        }
        
      `);}f.write("payload.value = newResult;"),f.write("return payload;");let x=f.compile();return (I,R)=>x(p,I,R)},a,o=kl,s=!VS.jitless,u=s&&Zz.value,l=e.catchall,d;t._zod.parse=(p,f)=>{d??(d=i.value);let _=p.value;return o(_)?s&&u&&f?.async===false&&f.jitless!==true?(a||(a=n(e.shape)),p=a(p,f),l?Mhe([],_,p,f,d,t):p):r(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),p)};});function Ehe(t,e,r,i){for(let a of t)if(a.issues.length===0)return e.value=a.value,e;let n=t.filter(a=>!Fc(a));return n.length===1?(e.value=n[0].value,n[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>On(o,i,Dt())))}),e)}var ey=b("$ZodUnion",(t,e)=>{ve.init(t,e),De(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),De(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),De(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),De(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){let n=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${n.map(a=>HS(a.source)).join("|")})$`)}});let r=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(n,a)=>{if(r)return i(n,a);let o=false,s=[];for(let c of e.options){let u=c._zod.run({value:n.value,issues:[]},a);if(u instanceof Promise)s.push(u),o=true;else {if(u.issues.length===0)return u;s.push(u);}}return o?Promise.all(s).then(c=>Ehe(c,n,t,a)):Ehe(s,n,t,a)};});function The(t,e,r,i){let n=t.filter(a=>a.issues.length===0);return n.length===1?(e.value=n[0].value,e):(n.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(o=>On(o,i,Dt())))}):e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:[],inclusive:false}),e)}var $B=b("$ZodXor",(t,e)=>{ey.init(t,e),e.inclusive=false;let r=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(n,a)=>{if(r)return i(n,a);let o=false,s=[];for(let c of e.options){let u=c._zod.run({value:n.value,issues:[]},a);u instanceof Promise?(s.push(u),o=true):s.push(u);}return o?Promise.all(s).then(c=>The(c,n,t,a)):The(s,n,t,a)};}),zB=b("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=false,ey.init(t,e);let r=t._zod.parse;De(t._zod,"propValues",()=>{let n={};for(let a of e.options){let o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let[s,c]of Object.entries(o)){n[s]||(n[s]=new Set);for(let u of c)n[s].add(u);}}return n});let i=Bf(()=>{let n=e.options,a=new Map;for(let o of n){let s=o._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let c of s){if(a.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);a.set(c,o);}}return a});t._zod.parse=(n,a)=>{let o=n.value;if(!kl(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),n;let s=i.value.get(o?.[e.discriminator]);return s?s._zod.run(n,a):e.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:t}),n)};}),VB=b("$ZodIntersection",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value,a=e.left._zod.run({value:n,issues:[]},i),o=e.right._zod.run({value:n,issues:[]},i);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([c,u])=>vhe(r,c,u)):vhe(r,a,o)};});function QV(t,e){if(t===e)return {valid:true,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return {valid:true,data:t};if(Bc(t)&&Bc(e)){let r=Object.keys(e),i=Object.keys(t).filter(a=>r.indexOf(a)!==-1),n={...t,...e};for(let a of i){let o=QV(t[a],e[a]);if(!o.valid)return {valid:false,mergeErrorPath:[a,...o.mergeErrorPath]};n[a]=o.data;}return {valid:true,data:n}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return {valid:false,mergeErrorPath:[]};let r=[];for(let i=0;i<t.length;i++){let n=t[i],a=e[i],o=QV(n,a);if(!o.valid)return {valid:false,mergeErrorPath:[i,...o.mergeErrorPath]};r.push(o.data);}return {valid:true,data:r}}return {valid:false,mergeErrorPath:[]}}function vhe(t,e,r){let i=new Map,n;for(let s of e.issues)if(s.code==="unrecognized_keys"){n??(n=s);for(let c of s.keys)i.has(c)||i.set(c,{}),i.get(c).l=true;}else t.issues.push(s);for(let s of r.issues)if(s.code==="unrecognized_keys")for(let c of s.keys)i.has(c)||i.set(c,{}),i.get(c).r=true;else t.issues.push(s);let a=[...i].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(a.length&&n&&t.issues.push({...n,keys:a}),Fc(t))return t;let o=QV(e.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}var XC=b("$ZodTuple",(t,e)=>{ve.init(t,e);let r=e.items;t._zod.parse=(i,n)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let o=[],s=[...r].reverse().findIndex(l=>l._zod.optin!=="optional"),c=s===-1?0:r.length-s;if(!e.rest){let l=a.length>r.length,d=a.length<c-1;if(l||d)return i.issues.push({...l?{code:"too_big",maximum:r.length,inclusive:true}:{code:"too_small",minimum:r.length},input:a,inst:t,origin:"array"}),i}let u=-1;for(let l of r){if(u++,u>=a.length&&u>=c)continue;let d=l._zod.run({value:a[u],issues:[]},n);d instanceof Promise?o.push(d.then(p=>GC(p,i,u))):GC(d,i,u);}if(e.rest){let l=a.slice(r.length);for(let d of l){u++;let p=e.rest._zod.run({value:d,issues:[]},n);p instanceof Promise?o.push(p.then(f=>GC(f,i,u))):GC(p,i,u);}}return o.length?Promise.all(o).then(()=>i):i};});function GC(t,e,r){t.issues.length&&e.issues.push(...qn(r,t.issues)),e.value[r]=t.value;}var BB=b("$ZodRecord",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!Bc(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),r;let a=[],o=e.keyType._zod.values;if(o){r.value={};let s=new Set;for(let u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){s.add(typeof u=="number"?u.toString():u);let l=e.valueType._zod.run({value:n[u],issues:[]},i);l instanceof Promise?a.push(l.then(d=>{d.issues.length&&r.issues.push(...qn(u,d.issues)),r.value[u]=d.value;})):(l.issues.length&&r.issues.push(...qn(u,l.issues)),r.value[u]=l.value);}let c;for(let u in n)s.has(u)||(c=c??[],c.push(u));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:c});}else {r.value={};for(let s of Reflect.ownKeys(n)){if(s==="__proto__")continue;let c=e.keyType._zod.run({value:s,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof s=="string"&&BC.test(s)&&c.issues.length){let d=e.keyType._zod.run({value:Number(s),issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d);}if(c.issues.length){e.mode==="loose"?r.value[s]=n[s]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>On(d,i,Dt())),input:s,path:[s],inst:t});continue}let l=e.valueType._zod.run({value:n[s],issues:[]},i);l instanceof Promise?a.push(l.then(d=>{d.issues.length&&r.issues.push(...qn(s,d.issues)),r.value[c.value]=d.value;})):(l.issues.length&&r.issues.push(...qn(s,l.issues)),r.value[c.value]=l.value);}}return a.length?Promise.all(a).then(()=>r):r};}),FB=b("$ZodMap",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:t}),r;let a=[];r.value=new Map;for(let[o,s]of n){let c=e.keyType._zod.run({value:o,issues:[]},i),u=e.valueType._zod.run({value:s,issues:[]},i);c instanceof Promise||u instanceof Promise?a.push(Promise.all([c,u]).then(([l,d])=>{bhe(l,d,r,o,n,t,i);})):bhe(c,u,r,o,n,t,i);}return a.length?Promise.all(a).then(()=>r):r};});function bhe(t,e,r,i,n,a,o){t.issues.length&&(GS.has(typeof i)?r.issues.push(...qn(i,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:t.issues.map(s=>On(s,o,Dt()))})),e.issues.length&&(GS.has(typeof i)?r.issues.push(...qn(i,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:e.issues.map(s=>On(s,o,Dt()))})),r.value.set(t.value,e.value);}var HB=b("$ZodSet",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:t,expected:"set",code:"invalid_type"}),r;let a=[];r.value=new Set;for(let o of n){let s=e.valueType._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(c=>Rhe(c,r))):Rhe(s,r);}return a.length?Promise.all(a).then(()=>r):r};});function Rhe(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value);}var GB=b("$ZodEnum",(t,e)=>{ve.init(t,e);let r=FS(e.entries),i=new Set(r);t._zod.values=i,t._zod.pattern=new RegExp(`^(${r.filter(n=>GS.has(typeof n)).map(n=>typeof n=="string"?Oi(n):n.toString()).join("|")})$`),t._zod.parse=(n,a)=>{let o=n.value;return i.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:t}),n};}),jB=b("$ZodLiteral",(t,e)=>{if(ve.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(i=>typeof i=="string"?Oi(i):i?Oi(i.toString()):String(i)).join("|")})$`),t._zod.parse=(i,n)=>{let a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:e.values,input:a,inst:t}),i};}),qB=b("$ZodFile",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return n instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:n,inst:t}),r};}),WB=b("$ZodTransform",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new $c(t.constructor.name);let n=e.transform(r.value,r);if(i.async)return (n instanceof Promise?n:Promise.resolve(n)).then(o=>(r.value=o,r));if(n instanceof Promise)throw new to;return r.value=n,r};});function Ahe(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var JC=b("$ZodOptional",(t,e)=>{ve.init(t,e),t._zod.optin="optional",t._zod.optout="optional",De(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),De(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${HS(r.source)})?$`):void 0}),t._zod.parse=(r,i)=>{if(e.innerType._zod.optin==="optional"){let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>Ahe(a,r.value)):Ahe(n,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,i)};}),KB=b("$ZodExactOptional",(t,e)=>{JC.init(t,e),De(t._zod,"values",()=>e.innerType._zod.values),De(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,i)=>e.innerType._zod.run(r,i);}),YB=b("$ZodNullable",(t,e)=>{ve.init(t,e),De(t._zod,"optin",()=>e.innerType._zod.optin),De(t._zod,"optout",()=>e.innerType._zod.optout),De(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${HS(r.source)}|null)$`):void 0}),De(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,i)=>r.value===null?r:e.innerType._zod.run(r,i);}),ZB=b("$ZodDefault",(t,e)=>{ve.init(t,e),t._zod.optin="optional",De(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);if(r.value===void 0)return r.value=e.defaultValue,r;let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>Ohe(a,e)):Ohe(n,e)};});function Ohe(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var XB=b("$ZodPrefault",(t,e)=>{ve.init(t,e),t._zod.optin="optional",De(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>(i.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,i));}),JB=b("$ZodNonOptional",(t,e)=>{ve.init(t,e),De(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>xhe(a,t)):xhe(n,t)};});function xhe(t,e){return !t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var QB=b("$ZodSuccess",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new $c("ZodSuccess");let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.issues.length===0,r)):(r.value=n.issues.length===0,r)};}),eF=b("$ZodCatch",(t,e)=>{ve.init(t,e),De(t._zod,"optin",()=>e.innerType._zod.optin),De(t._zod,"optout",()=>e.innerType._zod.optout),De(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>On(o,i,Dt()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=e.catchValue({...r,error:{issues:n.issues.map(a=>On(a,i,Dt()))},input:r.value}),r.issues=[]),r)};}),tF=b("$ZodNaN",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r);}),rF=b("$ZodPipe",(t,e)=>{ve.init(t,e),De(t._zod,"values",()=>e.in._zod.values),De(t._zod,"optin",()=>e.in._zod.optin),De(t._zod,"optout",()=>e.out._zod.optout),De(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,i)=>{if(i.direction==="backward"){let a=e.out._zod.run(r,i);return a instanceof Promise?a.then(o=>jC(o,e.in,i)):jC(a,e.in,i)}let n=e.in._zod.run(r,i);return n instanceof Promise?n.then(a=>jC(a,e.out,i)):jC(n,e.out,i)};});function jC(t,e,r){return t.issues.length?(t.aborted=true,t):e._zod.run({value:t.value,issues:t.issues},r)}var ty=b("$ZodCodec",(t,e)=>{ve.init(t,e),De(t._zod,"values",()=>e.in._zod.values),De(t._zod,"optin",()=>e.in._zod.optin),De(t._zod,"optout",()=>e.out._zod.optout),De(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,i)=>{if((i.direction||"forward")==="forward"){let a=e.in._zod.run(r,i);return a instanceof Promise?a.then(o=>qC(o,e,i)):qC(a,e,i)}else {let a=e.out._zod.run(r,i);return a instanceof Promise?a.then(o=>qC(o,e,i)):qC(a,e,i)}};});function qC(t,e,r){if(t.issues.length)return t.aborted=true,t;if((r.direction||"forward")==="forward"){let n=e.transform(t.value,t);return n instanceof Promise?n.then(a=>WC(t,a,e.out,r)):WC(t,n,e.out,r)}else {let n=e.reverseTransform(t.value,t);return n instanceof Promise?n.then(a=>WC(t,a,e.in,r)):WC(t,n,e.in,r)}}function WC(t,e,r,i){return t.issues.length?(t.aborted=true,t):r._zod.run({value:e,issues:t.issues},i)}var nF=b("$ZodReadonly",(t,e)=>{ve.init(t,e),De(t._zod,"propValues",()=>e.innerType._zod.propValues),De(t._zod,"values",()=>e.innerType._zod.values),De(t._zod,"optin",()=>e.innerType?._zod?.optin),De(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,i)=>{if(i.direction==="backward")return e.innerType._zod.run(r,i);let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(Che):Che(n)};});function Che(t){return t.value=Object.freeze(t.value),t}var iF=b("$ZodTemplateLiteral",(t,e)=>{ve.init(t,e);let r=[];for(let i of e.parts)if(typeof i=="object"&&i!==null){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let n=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${i._zod.traits}`);let a=n.startsWith("^")?1:0,o=n.endsWith("$")?n.length-1:n.length;r.push(n.slice(a,o));}else if(i===null||Jz.has(typeof i))r.push(Oi(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(i,n)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:t,expected:"string",code:"invalid_type"}),i):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),i);}),oF=b("$ZodFunction",(t,e)=>(ve.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...i){let n=t._def.input?PC(t._def.input,i):i,a=Reflect.apply(r,this,n);return t._def.output?PC(t._def.output,a):a}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...i){let n=t._def.input?await IC(t._def.input,i):i,a=await Reflect.apply(r,this,n);return t._def.output?await IC(t._def.output,a):a}},t._zod.parse=(r,i)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let i=t.constructor;return Array.isArray(r[0])?new i({type:"function",input:new XC({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new i({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let i=t.constructor;return new i({type:"function",input:t._def.input,output:r})},t)),sF=b("$ZodPromise",(t,e)=>{ve.init(t,e),t._zod.parse=(r,i)=>Promise.resolve(r.value).then(n=>e.innerType._zod.run({value:n,issues:[]},i));}),aF=b("$ZodLazy",(t,e)=>{ve.init(t,e),De(t._zod,"innerType",()=>e.getter()),De(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),De(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),De(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),De(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,i)=>t._zod.innerType._zod.run(r,i);}),cF=b("$ZodCustom",(t,e)=>{ft.init(t,e),ve.init(t,e),t._zod.parse=(r,i)=>r,t._zod.check=r=>{let i=r.value,n=e.fn(i);if(n instanceof Promise)return n.then(a=>Nhe(a,r,i,t));Nhe(n,r,i,t);};});function Nhe(t,e,r,i){if(!t){let n={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(n.params=i._zod.def.params),e.issues.push(Ff(n));}}var ny={};Pe(ny,{ar:()=>Dhe,az:()=>khe,be:()=>$he,bg:()=>zhe,ca:()=>Vhe,cs:()=>Bhe,da:()=>Fhe,de:()=>Hhe,en:()=>QC,eo:()=>Ghe,es:()=>jhe,fa:()=>qhe,fi:()=>Whe,fr:()=>Khe,frCA:()=>Yhe,he:()=>Zhe,hu:()=>Xhe,hy:()=>Qhe,id:()=>eme,is:()=>tme,it:()=>rme,ja:()=>nme,ka:()=>ime,kh:()=>ome,km:()=>eN,ko:()=>sme,lt:()=>cme,mk:()=>ume,ms:()=>lme,nl:()=>dme,no:()=>pme,ota:()=>fme,pl:()=>mme,ps:()=>hme,pt:()=>gme,ru:()=>Sme,sl:()=>yme,sv:()=>Eme,ta:()=>Tme,th:()=>vme,tr:()=>bme,ua:()=>Rme,uk:()=>tN,ur:()=>Ame,uz:()=>Ome,vi:()=>xme,yo:()=>Pme,zhCN:()=>Cme,zhTW:()=>Nme});var iZe=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(n){return t[n]??null}let r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${n.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${s}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${a}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${s}`}case "invalid_value":return n.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${B(n.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()} ${o.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${n.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${r[a.format]??n.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case "not_multiple_of":return `\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${n.divisor}`;case "unrecognized_keys":return `\u0645\u0639\u0631\u0641${n.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${n.keys.length>1?"\u0629":""}: ${N(n.keys,"\u060C ")}`;case "invalid_key":return `\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;case "invalid_union":return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case "invalid_element":return `\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;default:return "\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function Dhe(){return {localeError:iZe()}}var oZe=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${n.expected}, daxil olan ${s}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${a}, daxil olan ${s}`}case "invalid_value":return n.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${B(n.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()} ${o.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[a.format]??n.format}`}case "not_multiple_of":return `Yanl\u0131\u015F \u0259d\u0259d: ${n.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case "unrecognized_keys":return `Tan\u0131nmayan a\xE7ar${n.keys.length>1?"lar":""}: ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case "invalid_union":return "Yanl\u0131\u015F d\u0259y\u0259r";case "invalid_element":return `${n.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return "Yanl\u0131\u015F d\u0259y\u0259r"}}};function khe(){return {localeError:oZe()}}function Uhe(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var sZe=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(n){return t[n]??null}let r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},i={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${n.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${s}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${a}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${B(n.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=Uhe(s,o.unit.one,o.unit.few,o.unit.many);return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.maximum.toString()} ${c}`}return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=Uhe(s,o.unit.one,o.unit.few,o.unit.many);return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.minimum.toString()} ${c}`}return `\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${n.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${N(n.keys,", ")}`;case "invalid_key":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case "invalid_union":return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case "invalid_element":return `\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${n.origin}`;default:return "\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function $he(){return {localeError:sZe()}}var aZe=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${s}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${a}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${B(n.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${a}${n.minimum.toString()} ${o.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;if(a.format==="starts_with")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${a.prefix}"`;if(a.format==="ends_with")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${a.suffix}"`;if(a.format==="includes")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${a.includes}"`;if(a.format==="regex")return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${a.pattern}`;let o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return a.format==="emoji"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="datetime"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="date"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),a.format==="time"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),a.format==="duration"&&(o="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${o} ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${n.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u043E\u0432\u0435":""}: ${N(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case "invalid_element":return `\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${n.origin}`;default:return "\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function zhe(){return {localeError:aZe()}}var cZe=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(n){return t[n]??null}let r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${n.expected}, s'ha rebut ${s}`:`Tipus inv\xE0lid: s'esperava ${a}, s'ha rebut ${s}`}case "invalid_value":return n.values.length===1?`Valor inv\xE0lid: s'esperava ${B(n.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${N(n.values," o ")}`;case "too_big":{let a=n.inclusive?"com a m\xE0xim":"menys de",o=e(n.origin);return o?`Massa gran: s'esperava que ${n.origin??"el valor"} contingu\xE9s ${a} ${n.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"com a m\xEDnim":"m\xE9s de",o=e(n.origin);return o?`Massa petit: s'esperava que ${n.origin} contingu\xE9s ${a} ${n.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${r[a.format]??n.format}`}case "not_multiple_of":return `N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${n.divisor}`;case "unrecognized_keys":return `Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Clau inv\xE0lida a ${n.origin}`;case "invalid_union":return "Entrada inv\xE0lida";case "invalid_element":return `Element inv\xE0lid a ${n.origin}`;default:return "Entrada inv\xE0lida"}}};function Vhe(){return {localeError:cZe()}}var uZe=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(n){return t[n]??null}let r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},i={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${n.expected}, obdr\u017Eeno ${s}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${a}, obdr\u017Eeno ${s}`}case "invalid_value":return n.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${B(n.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.maximum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.minimum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${r[a.format]??n.format}`}case "not_multiple_of":return `Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${n.divisor}`;case "unrecognized_keys":return `Nezn\xE1m\xE9 kl\xED\u010De: ${N(n.keys,", ")}`;case "invalid_key":return `Neplatn\xFD kl\xED\u010D v ${n.origin}`;case "invalid_union":return "Neplatn\xFD vstup";case "invalid_element":return `Neplatn\xE1 hodnota v ${n.origin}`;default:return "Neplatn\xFD vstup"}}};function Bhe(){return {localeError:uZe()}}var lZe=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(n){return t[n]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ugyldigt input: forventede instanceof ${n.expected}, fik ${s}`:`Ugyldigt input: forventede ${a}, fik ${s}`}case "invalid_value":return n.values.length===1?`Ugyldig v\xE6rdi: forventede ${B(n.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=i[n.origin]??n.origin;return o?`For stor: forventede ${s??"value"} ${o.verb} ${a} ${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor: forventede ${s??"value"} havde ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=i[n.origin]??n.origin;return o?`For lille: forventede ${s} ${o.verb} ${a} ${n.minimum.toString()} ${o.unit}`:`For lille: forventede ${s} havde ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${r[a.format]??n.format}`}case "not_multiple_of":return `Ugyldigt tal: skal v\xE6re deleligt med ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${N(n.keys,", ")}`;case "invalid_key":return `Ugyldig n\xF8gle i ${n.origin}`;case "invalid_union":return "Ugyldigt input: matcher ingen af de tilladte typer";case "invalid_element":return `Ugyldig v\xE6rdi i ${n.origin}`;default:return "Ugyldigt input"}}};function Fhe(){return {localeError:lZe()}}var dZe=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(n){return t[n]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},i={nan:"NaN",number:"Zahl",array:"Array"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${n.expected}, erhalten ${s}`:`Ung\xFCltige Eingabe: erwartet ${a}, erhalten ${s}`}case "invalid_value":return n.values.length===1?`Ung\xFCltige Eingabe: erwartet ${B(n.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ist`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ist`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${r[a.format]??n.format}`}case "not_multiple_of":return `Ung\xFCltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case "unrecognized_keys":return `${n.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${N(n.keys,", ")}`;case "invalid_key":return `Ung\xFCltiger Schl\xFCssel in ${n.origin}`;case "invalid_union":return "Ung\xFCltige Eingabe";case "invalid_element":return `Ung\xFCltiger Wert in ${n.origin}`;default:return "Ung\xFCltige Eingabe"}}};function Hhe(){return {localeError:dZe()}}var pZe=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return `Invalid input: expected ${a}, received ${s}`}case "invalid_value":return n.values.length===1?`Invalid input: expected ${B(n.values[0])}`:`Invalid option: expected one of ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Too big: expected ${n.origin??"value"} to have ${a}${n.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Too small: expected ${n.origin} to have ${a}${n.minimum.toString()} ${o.unit}`:`Too small: expected ${n.origin} to be ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Invalid string: must start with "${a.prefix}"`:a.format==="ends_with"?`Invalid string: must end with "${a.suffix}"`:a.format==="includes"?`Invalid string: must include "${a.includes}"`:a.format==="regex"?`Invalid string: must match pattern ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `Invalid number: must be a multiple of ${n.divisor}`;case "unrecognized_keys":return `Unrecognized key${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Invalid key in ${n.origin}`;case "invalid_union":return "Invalid input";case "invalid_element":return `Invalid value in ${n.origin}`;default:return "Invalid input"}}};function QC(){return {localeError:pZe()}}var fZe=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(n){return t[n]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},i={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${n.expected}, ricevi\u011Dis ${s}`:`Nevalida enigo: atendi\u011Dis ${a}, ricevi\u011Dis ${s}`}case "invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${B(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()} ${o.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${a}${n.minimum.toString()} ${o.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${a.prefix}"`:a.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${a.suffix}"`:a.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${a.includes}"`:a.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${a.pattern}`:`Nevalida ${r[a.format]??n.format}`}case "not_multiple_of":return `Nevalida nombro: devas esti oblo de ${n.divisor}`;case "unrecognized_keys":return `Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Nevalida \u015Dlosilo en ${n.origin}`;case "invalid_union":return "Nevalida enigo";case "invalid_element":return `Nevalida valoro en ${n.origin}`;default:return "Nevalida enigo"}}};function Ghe(){return {localeError:fZe()}}var hZe=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(n){return t[n]??null}let r={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${n.expected}, recibido ${s}`:`Entrada inv\xE1lida: se esperaba ${a}, recibido ${s}`}case "invalid_value":return n.values.length===1?`Entrada inv\xE1lida: se esperaba ${B(n.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=i[n.origin]??n.origin;return o?`Demasiado grande: se esperaba que ${s??"valor"} tuviera ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${s??"valor"} fuera ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=i[n.origin]??n.origin;return o?`Demasiado peque\xF1o: se esperaba que ${s} tuviera ${a}${n.minimum.toString()} ${o.unit}`:`Demasiado peque\xF1o: se esperaba que ${s} fuera ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${r[a.format]??n.format}`}case "not_multiple_of":return `N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${n.divisor}`;case "unrecognized_keys":return `Llave${n.keys.length>1?"s":""} desconocida${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Llave inv\xE1lida en ${i[n.origin]??n.origin}`;case "invalid_union":return "Entrada inv\xE1lida";case "invalid_element":return `Valor inv\xE1lido en ${i[n.origin]??n.origin}`;default:return "Entrada inv\xE1lida"}}};function jhe(){return {localeError:hZe()}}var mZe=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(n){return t[n]??null}let r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},i={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${n.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${s} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${a} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${s} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case "invalid_value":return n.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${B(n.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${N(n.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0628\u0627\u0634\u062F`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0628\u0627\u0634\u062F`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[a.format]??n.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case "not_multiple_of":return `\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${n.divisor} \u0628\u0627\u0634\u062F`;case "unrecognized_keys":return `\u06A9\u0644\u06CC\u062F${n.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${N(n.keys,", ")}`;case "invalid_key":return `\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${n.origin}`;case "invalid_union":return "\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case "invalid_element":return `\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${n.origin}`;default:return "\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function qhe(){return {localeError:mZe()}}var gZe=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(n){return t[n]??null}let r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Virheellinen tyyppi: odotettiin instanceof ${n.expected}, oli ${s}`:`Virheellinen tyyppi: odotettiin ${a}, oli ${s}`}case "invalid_value":return n.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${B(n.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Liian suuri: ${o.subject} t\xE4ytyy olla ${a}${n.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Liian pieni: ${o.subject} t\xE4ytyy olla ${a}${n.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${r[a.format]??n.format}`}case "not_multiple_of":return `Virheellinen luku: t\xE4ytyy olla luvun ${n.divisor} monikerta`;case "unrecognized_keys":return `${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${N(n.keys,", ")}`;case "invalid_key":return "Virheellinen avain tietueessa";case "invalid_union":return "Virheellinen unioni";case "invalid_element":return "Virheellinen arvo joukossa";default:return "Virheellinen sy\xF6te"}}};function Whe(){return {localeError:gZe()}}var _Ze=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},i={nan:"NaN",number:"nombre",array:"tableau"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entr\xE9e invalide : instanceof ${n.expected} attendu, ${s} re\xE7u`:`Entr\xE9e invalide : ${a} attendu, ${s} re\xE7u`}case "invalid_value":return n.values.length===1?`Entr\xE9e invalide : ${B(n.values[0])} attendu`:`Option invalide : une valeur parmi ${N(n.values,"|")} attendue`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Trop grand : ${n.origin??"valeur"} doit ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit \xEAtre ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Trop petit : ${n.origin} doit ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : ${n.origin} doit \xEAtre ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${r[a.format]??n.format} invalide`}case "not_multiple_of":return `Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case "unrecognized_keys":return `Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${N(n.keys,", ")}`;case "invalid_key":return `Cl\xE9 invalide dans ${n.origin}`;case "invalid_union":return "Entr\xE9e invalide";case "invalid_element":return `Valeur invalide dans ${n.origin}`;default:return "Entr\xE9e invalide"}}};function Khe(){return {localeError:_Ze()}}var SZe=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Entr\xE9e invalide : attendu instanceof ${n.expected}, re\xE7u ${s}`:`Entr\xE9e invalide : attendu ${a}, re\xE7u ${s}`}case "invalid_value":return n.values.length===1?`Entr\xE9e invalide : attendu ${B(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"\u2264":"<",o=e(n.origin);return o?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${a}${n.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"\u2265":">",o=e(n.origin);return o?`Trop petit : attendu que ${n.origin} ait ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${n.origin} soit ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${r[a.format]??n.format} invalide`}case "not_multiple_of":return `Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case "unrecognized_keys":return `Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${N(n.keys,", ")}`;case "invalid_key":return `Cl\xE9 invalide dans ${n.origin}`;case "invalid_union":return "Entr\xE9e invalide";case "invalid_element":return `Valeur invalide dans ${n.origin}`;default:return "Entr\xE9e invalide"}}};function Yhe(){return {localeError:SZe()}}var yZe=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=u=>u?t[u]:void 0,i=u=>{let l=r(u);return l?l.label:u??t.unknown.label},n=u=>`\u05D4${i(u)}`,a=u=>(r(u)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",o=u=>u?e[u]??null:null,s={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return u=>{switch(u.code){case "invalid_type":{let l=u.expected,d=c[l??""]??i(l),p=H(u.input),f=c[p]??t[p]?.label??p;return /^[A-Z]/.test(u.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${u.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`}case "invalid_value":{if(u.values.length===1)return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${B(u.values[0])}`;let l=u.values.map(f=>B(f));if(u.values.length===2)return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${l[0]} \u05D0\u05D5 ${l[1]}`;let d=l[l.length-1];return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${l.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case "too_big":{let l=o(u.origin),d=n(u.origin??"value");if(u.origin==="string")return `${l?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${u.maximum.toString()} ${l?.unit??""} ${u.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(u.origin==="number"){let _=u.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${u.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${u.maximum}`;return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${_}`}if(u.origin==="array"||u.origin==="set"){let _=u.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",y=u.inclusive?`${u.maximum} ${l?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${u.maximum} ${l?.unit??""}`;return `\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${_} \u05DC\u05D4\u05DB\u05D9\u05DC ${y}`.trim()}let p=u.inclusive?"<=":"<",f=a(u.origin??"value");return l?.unit?`${l.longLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${u.maximum.toString()} ${l.unit}`:`${l?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${u.maximum.toString()}`}case "too_small":{let l=o(u.origin),d=n(u.origin??"value");if(u.origin==="string")return `${l?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${u.minimum.toString()} ${l?.unit??""} ${u.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(u.origin==="number"){let _=u.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${u.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${u.minimum}`;return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${_}`}if(u.origin==="array"||u.origin==="set"){let _=u.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(u.minimum===1&&u.inclusive){let v=(u.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${_} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`}let y=u.inclusive?`${u.minimum} ${l?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${u.minimum} ${l?.unit??""}`;return `\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${_} \u05DC\u05D4\u05DB\u05D9\u05DC ${y}`.trim()}let p=u.inclusive?">=":">",f=a(u.origin??"value");return l?.unit?`${l.shortLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${u.minimum.toString()} ${l.unit}`:`${l?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${u.minimum.toString()}`}case "invalid_format":{let l=u;if(l.format==="starts_with")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${l.prefix}"`;if(l.format==="ends_with")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${l.suffix}"`;if(l.format==="includes")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${l.includes}"`;if(l.format==="regex")return `\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${l.pattern}`;let d=s[l.format],p=d?.label??l.format,_=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return `${p} \u05DC\u05D0 ${_}`}case "not_multiple_of":return `\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${u.divisor}`;case "unrecognized_keys":return `\u05DE\u05E4\u05EA\u05D7${u.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${u.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${N(u.keys,", ")}`;case "invalid_key":return "\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case "invalid_union":return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case "invalid_element":return `\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${n(u.origin??"array")}`;default:return "\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function Zhe(){return {localeError:yZe()}}var EZe=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(n){return t[n]??null}let r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},i={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${n.expected}, a kapott \xE9rt\xE9k ${s}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${a}, a kapott \xE9rt\xE9k ${s}`}case "invalid_value":return n.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${B(n.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`T\xFAl nagy: ${n.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${n.maximum.toString()} ${o.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${n.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} m\xE9rete t\xFAl kicsi ${a}${n.minimum.toString()} ${o.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} t\xFAl kicsi ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[a.format]??n.format}`}case "not_multiple_of":return `\xC9rv\xE9nytelen sz\xE1m: ${n.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case "unrecognized_keys":return `Ismeretlen kulcs${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `\xC9rv\xE9nytelen kulcs ${n.origin}`;case "invalid_union":return "\xC9rv\xE9nytelen bemenet";case "invalid_element":return `\xC9rv\xE9nytelen \xE9rt\xE9k: ${n.origin}`;default:return "\xC9rv\xE9nytelen bemenet"}}};function Xhe(){return {localeError:EZe()}}function Jhe(t,e,r){return Math.abs(t)===1?e:r}function Kf(t){if(!t)return "";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],r=t[t.length-1];return t+(e.includes(r)?"\u0576":"\u0568")}var TZe=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(n){return t[n]??null}let r={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},i={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${n.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${s}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${a}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${s}`}case "invalid_value":return n.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${B(n.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=Jhe(s,o.unit.one,o.unit.many);return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Kf(n.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${a}${n.maximum.toString()} ${c}`}return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Kf(n.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=Jhe(s,o.unit.one,o.unit.many);return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Kf(n.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${a}${n.minimum.toString()} ${c}`}return `\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Kf(n.origin)} \u056C\u056B\u0576\u056B ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${a.prefix}"-\u0578\u057E`:a.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${a.suffix}"-\u0578\u057E`:a.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${a.includes}"`:a.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${a.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${r[a.format]??n.format}`}case "not_multiple_of":return `\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${n.divisor}-\u056B`;case "unrecognized_keys":return `\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${n.keys.length>1?"\u0576\u0565\u0580":""}. ${N(n.keys,", ")}`;case "invalid_key":return `\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${Kf(n.origin)}-\u0578\u0582\u0574`;case "invalid_union":return "\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case "invalid_element":return `\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${Kf(n.origin)}-\u0578\u0582\u0574`;default:return "\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function Qhe(){return {localeError:TZe()}}var vZe=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(n){return t[n]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input tidak valid: diharapkan instanceof ${n.expected}, diterima ${s}`:`Input tidak valid: diharapkan ${a}, diterima ${s}`}case "invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${B(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: diharapkan ${n.origin} memiliki ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${r[a.format]??n.format} tidak valid`}case "not_multiple_of":return `Angka tidak valid: harus kelipatan dari ${n.divisor}`;case "unrecognized_keys":return `Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Kunci tidak valid di ${n.origin}`;case "invalid_union":return "Input tidak valid";case "invalid_element":return `Nilai tidak valid di ${n.origin}`;default:return "Input tidak valid"}}};function eme(){return {localeError:vZe()}}var bZe=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(n){return t[n]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},i={nan:"NaN",number:"n\xFAmer",array:"fylki"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${s} \xFEar sem \xE1 a\xF0 vera instanceof ${n.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${s} \xFEar sem \xE1 a\xF0 vera ${a}`}case "invalid_value":return n.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${B(n.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} hafi ${a}${n.maximum.toString()} ${o.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} s\xE9 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} hafi ${a}${n.minimum.toString()} ${o.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} s\xE9 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${a.prefix}"`:a.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${a.suffix}"`:a.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${a.includes}"`:a.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${a.pattern}`:`Rangt ${r[a.format]??n.format}`}case "not_multiple_of":return `R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${n.divisor}`;case "unrecognized_keys":return `\xD3\xFEekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${N(n.keys,", ")}`;case "invalid_key":return `Rangur lykill \xED ${n.origin}`;case "invalid_union":return "Rangt gildi";case "invalid_element":return `Rangt gildi \xED ${n.origin}`;default:return "Rangt gildi"}}};function tme(){return {localeError:bZe()}}var RZe=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(n){return t[n]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"numero",array:"vettore"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input non valido: atteso instanceof ${n.expected}, ricevuto ${s}`:`Input non valido: atteso ${a}, ricevuto ${s}`}case "invalid_value":return n.values.length===1?`Input non valido: atteso ${B(n.values[0])}`:`Opzione non valida: atteso uno tra ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Troppo grande: ${n.origin??"valore"} deve avere ${a}${n.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Troppo piccolo: ${n.origin} deve avere ${a}${n.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${n.origin} deve essere ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `Numero non valido: deve essere un multiplo di ${n.divisor}`;case "unrecognized_keys":return `Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${N(n.keys,", ")}`;case "invalid_key":return `Chiave non valida in ${n.origin}`;case "invalid_union":return "Input non valido";case "invalid_element":return `Valore non valido in ${n.origin}`;default:return "Input non valido"}}};function rme(){return {localeError:RZe()}}var AZe=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(n){return t[n]??null}let r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},i={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${n.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${s}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${a}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${s}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case "invalid_value":return n.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${B(n.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${N(n.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case "too_big":{let a=n.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",o=e(n.origin);return o?`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${o.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case "too_small":{let a=n.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",o=e(n.origin);return o?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${o.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[a.format]??n.format}`}case "not_multiple_of":return `\u7121\u52B9\u306A\u6570\u5024: ${n.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case "unrecognized_keys":return `\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${n.keys.length>1?"\u7FA4":""}: ${N(n.keys,"\u3001")}`;case "invalid_key":return `${n.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case "invalid_union":return "\u7121\u52B9\u306A\u5165\u529B";case "invalid_element":return `${n.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return "\u7121\u52B9\u306A\u5165\u529B"}}};function nme(){return {localeError:AZe()}}var OZe=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(n){return t[n]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},i={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${n.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${s}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${a}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${s}`}case "invalid_value":return n.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${B(n.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${N(n.values,"|")}-\u10D3\u10D0\u10DC`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} \u10D8\u10E7\u10DD\u10E1 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${a.prefix}"-\u10D8\u10D7`:a.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${a.suffix}"-\u10D8\u10D7`:a.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${a.includes}"-\u10E1`:a.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${a.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${n.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case "unrecognized_keys":return `\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${n.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${N(n.keys,", ")}`;case "invalid_key":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${n.origin}-\u10E8\u10D8`;case "invalid_union":return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case "invalid_element":return `\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${n.origin}-\u10E8\u10D8`;default:return "\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function ime(){return {localeError:OZe()}}var xZe=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(n){return t[n]??null}let r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},i={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${n.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${s}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${a} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${s}`}case "invalid_value":return n.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${B(n.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()} ${o.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()} ${o.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${n.divisor}`;case "unrecognized_keys":return `\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${N(n.keys,", ")}`;case "invalid_key":return `\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;case "invalid_union":return "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case "invalid_element":return `\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;default:return "\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function eN(){return {localeError:xZe()}}function ome(){return eN()}var CZe=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${n.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${s}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${a}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${s}\uC785\uB2C8\uB2E4`}case "invalid_value":return n.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${B(n.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${N(n.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case "too_big":{let a=n.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",o=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),c=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()}${c} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()} ${a}${o}`}case "too_small":{let a=n.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",o=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),c=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()}${c} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()} ${a}${o}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[a.format]??n.format}`}case "not_multiple_of":return `\uC798\uBABB\uB41C \uC22B\uC790: ${n.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case "unrecognized_keys":return `\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${N(n.keys,", ")}`;case "invalid_key":return `\uC798\uBABB\uB41C \uD0A4: ${n.origin}`;case "invalid_union":return "\uC798\uBABB\uB41C \uC785\uB825";case "invalid_element":return `\uC798\uBABB\uB41C \uAC12: ${n.origin}`;default:return "\uC798\uBABB\uB41C \uC785\uB825"}}};function sme(){return {localeError:CZe()}}var ry=t=>t.charAt(0).toUpperCase()+t.slice(1);function ame(t){let e=Math.abs(t),r=e%10,i=e%100;return i>=11&&i<=19||r===0?"many":r===1?"one":"few"}var NZe=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(n,a,o,s){let c=t[n]??null;return c===null?c:{unit:c.unit[a],verb:c.verb[s][o?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},i={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Gautas tipas ${s}, o tik\u0117tasi - instanceof ${n.expected}`:`Gautas tipas ${s}, o tik\u0117tasi - ${a}`}case "invalid_value":return n.values.length===1?`Privalo b\u016Bti ${B(n.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${N(n.values,"|")} pasirinkim\u0173`;case "too_big":{let a=i[n.origin]??n.origin,o=e(n.origin,ame(Number(n.maximum)),n.inclusive??false,"smaller");if(o?.verb)return `${ry(a??n.origin??"reik\u0161m\u0117")} ${o.verb} ${n.maximum.toString()} ${o.unit??"element\u0173"}`;let s=n.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return `${ry(a??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.maximum.toString()} ${o?.unit}`}case "too_small":{let a=i[n.origin]??n.origin,o=e(n.origin,ame(Number(n.minimum)),n.inclusive??false,"bigger");if(o?.verb)return `${ry(a??n.origin??"reik\u0161m\u0117")} ${o.verb} ${n.minimum.toString()} ${o.unit??"element\u0173"}`;let s=n.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return `${ry(a??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.minimum.toString()} ${o?.unit}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${a.prefix}"`:a.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${a.suffix}"`:a.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${a.includes}"`:a.format==="regex"?`Eilut\u0117 privalo atitikti ${a.pattern}`:`Neteisingas ${r[a.format]??n.format}`}case "not_multiple_of":return `Skai\u010Dius privalo b\u016Bti ${n.divisor} kartotinis.`;case "unrecognized_keys":return `Neatpa\u017Eint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${N(n.keys,", ")}`;case "invalid_key":return "Rastas klaidingas raktas";case "invalid_union":return "Klaidinga \u012Fvestis";case "invalid_element":{let a=i[n.origin]??n.origin;return `${ry(a??n.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return "Klaidinga \u012Fvestis"}}};function cme(){return {localeError:NZe()}}var PZe=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(n){return t[n]??null}let r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},i={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${n.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${s}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${a}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`Invalid input: expected ${B(n.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.minimum.toString()} ${o.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${N(n.keys,", ")}`;case "invalid_key":return `\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${n.origin}`;case "invalid_union":return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case "invalid_element":return `\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${n.origin}`;default:return "\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function ume(){return {localeError:PZe()}}var IZe=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(n){return t[n]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"nombor"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Input tidak sah: dijangka instanceof ${n.expected}, diterima ${s}`:`Input tidak sah: dijangka ${a}, diterima ${s}`}case "invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${B(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: dijangka ${n.origin??"nilai"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: dijangka ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${r[a.format]??n.format} tidak sah`}case "not_multiple_of":return `Nombor tidak sah: perlu gandaan ${n.divisor}`;case "unrecognized_keys":return `Kunci tidak dikenali: ${N(n.keys,", ")}`;case "invalid_key":return `Kunci tidak sah dalam ${n.origin}`;case "invalid_union":return "Input tidak sah";case "invalid_element":return `Nilai tidak sah dalam ${n.origin}`;default:return "Input tidak sah"}}};function lme(){return {localeError:IZe()}}var wZe=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(n){return t[n]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},i={nan:"NaN",number:"getal"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ongeldige invoer: verwacht instanceof ${n.expected}, ontving ${s}`:`Ongeldige invoer: verwacht ${a}, ontving ${s}`}case "invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${B(n.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin),s=n.origin==="date"?"laat":n.origin==="string"?"lang":"groot";return o?`Te ${s}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} ${o.unit??"elementen"} ${o.verb}`:`Te ${s}: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} is`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin),s=n.origin==="date"?"vroeg":n.origin==="string"?"kort":"klein";return o?`Te ${s}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} ${o.unit} ${o.verb}`:`Te ${s}: verwacht dat ${n.origin} ${a}${n.minimum.toString()} is`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${r[a.format]??n.format}`}case "not_multiple_of":return `Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case "unrecognized_keys":return `Onbekende key${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Ongeldige key in ${n.origin}`;case "invalid_union":return "Ongeldige invoer";case "invalid_element":return `Ongeldige waarde in ${n.origin}`;default:return "Ongeldige invoer"}}};function dme(){return {localeError:wZe()}}var MZe=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(n){return t[n]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"tall",array:"liste"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ugyldig input: forventet instanceof ${n.expected}, fikk ${s}`:`Ugyldig input: forventet ${a}, fikk ${s}`}case "invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${B(n.values[0])}`:`Ugyldig valg: forventet en av ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${r[a.format]??n.format}`}case "not_multiple_of":return `Ugyldig tall: m\xE5 v\xE6re et multiplum av ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${N(n.keys,", ")}`;case "invalid_key":return `Ugyldig n\xF8kkel i ${n.origin}`;case "invalid_union":return "Ugyldig input";case "invalid_element":return `Ugyldig verdi i ${n.origin}`;default:return "Ugyldig input"}}};function pme(){return {localeError:MZe()}}var LZe=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},i={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`F\xE2sit giren: umulan instanceof ${n.expected}, al\u0131nan ${s}`:`F\xE2sit giren: umulan ${a}, al\u0131nan ${s}`}case "invalid_value":return n.values.length===1?`F\xE2sit giren: umulan ${B(n.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} ${o.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} olmal\u0131yd\u0131.`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} ${o.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} olmal\u0131yd\u0131.`}case "invalid_format":{let a=n;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[a.format]??n.format}`}case "not_multiple_of":return `F\xE2sit say\u0131: ${n.divisor} kat\u0131 olmal\u0131yd\u0131.`;case "unrecognized_keys":return `Tan\u0131nmayan anahtar ${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} i\xE7in tan\u0131nmayan anahtar var.`;case "invalid_union":return "Giren tan\u0131namad\u0131.";case "invalid_element":return `${n.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return "K\u0131ymet tan\u0131namad\u0131."}}};function fme(){return {localeError:LZe()}}var DZe=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(n){return t[n]??null}let r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},i={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${n.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${s} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${a} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${s} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case "invalid_value":return n.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${B(n.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${N(n.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0648\u064A`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0648\u064A`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[a.format]??n.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case "not_multiple_of":return `\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${n.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case "unrecognized_keys":return `\u0646\u0627\u0633\u0645 ${n.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${N(n.keys,", ")}`;case "invalid_key":return `\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${n.origin} \u06A9\u06D0`;case "invalid_union":return "\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case "invalid_element":return `\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${n.origin} \u06A9\u06D0`;default:return "\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function hme(){return {localeError:DZe()}}var kZe=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(n){return t[n]??null}let r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},i={nan:"NaN",number:"liczba",array:"tablica"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${n.expected}, otrzymano ${s}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${a}, otrzymano ${s}`}case "invalid_value":return n.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${B(n.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.maximum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.minimum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[a.format]??n.format}`}case "not_multiple_of":return `Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${n.divisor}`;case "unrecognized_keys":return `Nierozpoznane klucze${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Nieprawid\u0142owy klucz w ${n.origin}`;case "invalid_union":return "Nieprawid\u0142owe dane wej\u015Bciowe";case "invalid_element":return `Nieprawid\u0142owa warto\u015B\u0107 w ${n.origin}`;default:return "Nieprawid\u0142owe dane wej\u015Bciowe"}}};function mme(){return {localeError:kZe()}}var UZe=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(n){return t[n]??null}let r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},i={nan:"NaN",number:"n\xFAmero",null:"nulo"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Tipo inv\xE1lido: esperado instanceof ${n.expected}, recebido ${s}`:`Tipo inv\xE1lido: esperado ${a}, recebido ${s}`}case "invalid_value":return n.values.length===1?`Entrada inv\xE1lida: esperado ${B(n.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Muito pequeno: esperado que ${n.origin} tivesse ${a}${n.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${r[a.format]??n.format} inv\xE1lido`}case "not_multiple_of":return `N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${n.divisor}`;case "unrecognized_keys":return `Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${N(n.keys,", ")}`;case "invalid_key":return `Chave inv\xE1lida em ${n.origin}`;case "invalid_union":return "Entrada inv\xE1lida";case "invalid_element":return `Valor inv\xE1lido em ${n.origin}`;default:return "Campo inv\xE1lido"}}};function gme(){return {localeError:UZe()}}function _me(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var $Ze=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${s}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${a}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${B(n.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),c=_me(s,o.unit.one,o.unit.few,o.unit.many);return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.maximum.toString()} ${c}`}return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),c=_me(s,o.unit.one,o.unit.few,o.unit.many);return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.minimum.toString()} ${c}`}return `\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${n.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0438":""}: ${N(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case "invalid_element":return `\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${n.origin}`;default:return "\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function Sme(){return {localeError:$Ze()}}var zZe=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(n){return t[n]??null}let r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},i={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${n.expected}, prejeto ${s}`:`Neveljaven vnos: pri\u010Dakovano ${a}, prejeto ${s}`}case "invalid_value":return n.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${B(n.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} imelo ${a}${n.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Premajhno: pri\u010Dakovano, da bo ${n.origin} imelo ${a}${n.minimum.toString()} ${o.unit}`:`Premajhno: pri\u010Dakovano, da bo ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${r[a.format]??n.format}`}case "not_multiple_of":return `Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${n.divisor}`;case "unrecognized_keys":return `Neprepoznan${n.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${N(n.keys,", ")}`;case "invalid_key":return `Neveljaven klju\u010D v ${n.origin}`;case "invalid_union":return "Neveljaven vnos";case "invalid_element":return `Neveljavna vrednost v ${n.origin}`;default:return "Neveljaven vnos"}}};function yme(){return {localeError:zZe()}}var VZe=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(n){return t[n]??null}let r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},i={nan:"NaN",number:"antal",array:"lista"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${n.expected}, fick ${s}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${a}, fick ${s}`}case "invalid_value":return n.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${B(n.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`F\xF6r stor(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()} ${o.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()} ${o.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${r[a.format]??n.format}`}case "not_multiple_of":return `Ogiltigt tal: m\xE5ste vara en multipel av ${n.divisor}`;case "unrecognized_keys":return `${n.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${N(n.keys,", ")}`;case "invalid_key":return `Ogiltig nyckel i ${n.origin??"v\xE4rdet"}`;case "invalid_union":return "Ogiltig input";case "invalid_element":return `Ogiltigt v\xE4rde i ${n.origin??"v\xE4rdet"}`;default:return "Ogiltig input"}}};function Eme(){return {localeError:VZe()}}var BZe=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(n){return t[n]??null}let r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},i={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${n.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${s}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${s}`}case "invalid_value":return n.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${B(n.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${N(n.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} ${o.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} ${o.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${n.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case "unrecognized_keys":return `\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${n.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case "invalid_union":return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case "invalid_element":return `${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return "\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function Tme(){return {localeError:BZe()}}var FZe=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(n){return t[n]??null}let r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},i={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${n.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${s}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${a} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${s}`}case "invalid_value":return n.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${B(n.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()} ${o.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()} ${o.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[a.format]??n.format}`}case "not_multiple_of":return `\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${n.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case "unrecognized_keys":return `\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${N(n.keys,", ")}`;case "invalid_key":return `\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;case "invalid_union":return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case "invalid_element":return `\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;default:return "\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function vme(){return {localeError:FZe()}}var HZe=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(n){return t[n]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${n.expected}, al\u0131nan ${s}`:`Ge\xE7ersiz de\u011Fer: beklenen ${a}, al\u0131nan ${s}`}case "invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${B(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${a}${n.maximum.toString()} ${o.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Ge\xE7ersiz metin: "${a.prefix}" ile ba\u015Flamal\u0131`:a.format==="ends_with"?`Ge\xE7ersiz metin: "${a.suffix}" ile bitmeli`:a.format==="includes"?`Ge\xE7ersiz metin: "${a.includes}" i\xE7ermeli`:a.format==="regex"?`Ge\xE7ersiz metin: ${a.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[a.format]??n.format}`}case "not_multiple_of":return `Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case "unrecognized_keys":return `Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case "invalid_union":return "Ge\xE7ersiz de\u011Fer";case "invalid_element":return `${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return "Ge\xE7ersiz de\u011Fer"}}};function bme(){return {localeError:HZe()}}var GZe=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(n){return t[n]??null}let r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},i={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${n.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${s}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${a}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${s}`}case "invalid_value":return n.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${B(n.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} \u0431\u0443\u0434\u0435 ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${n.divisor}`;case "unrecognized_keys":return `\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0456":""}: ${N(n.keys,", ")}`;case "invalid_key":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case "invalid_union":return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case "invalid_element":return `\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${n.origin}`;default:return "\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function tN(){return {localeError:GZe()}}function Rme(){return tN()}var jZe=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(n){return t[n]??null}let r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},i={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${n.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${s} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${a} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${s} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case "invalid_value":return n.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${B(n.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${N(n.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${n.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u06D2 ${a}${n.minimum.toString()} ${o.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u0627 ${a}${n.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${n.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case "unrecognized_keys":return `\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${n.keys.length>1?"\u0632":""}: ${N(n.keys,"\u060C ")}`;case "invalid_key":return `${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case "invalid_union":return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case "invalid_element":return `${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return "\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function Ame(){return {localeError:jZe()}}var qZe=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(n){return t[n]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},i={nan:"NaN",number:"raqam",array:"massiv"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${n.expected}, qabul qilingan ${s}`:`Noto\u2018g\u2018ri kirish: kutilgan ${a}, qabul qilingan ${s}`}case "invalid_value":return n.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${B(n.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()} ${o.unit} ${o.verb}`:`Juda katta: kutilgan ${n.origin??"qiymat"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()} ${o.unit} ${o.verb}`:`Juda kichik: kutilgan ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${a.prefix}" bilan boshlanishi kerak`:a.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${a.suffix}" bilan tugashi kerak`:a.format==="includes"?`Noto\u2018g\u2018ri satr: "${a.includes}" ni o\u2018z ichiga olishi kerak`:a.format==="regex"?`Noto\u2018g\u2018ri satr: ${a.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${r[a.format]??n.format}`}case "not_multiple_of":return `Noto\u2018g\u2018ri raqam: ${n.divisor} ning karralisi bo\u2018lishi kerak`;case "unrecognized_keys":return `Noma\u2019lum kalit${n.keys.length>1?"lar":""}: ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} dagi kalit noto\u2018g\u2018ri`;case "invalid_union":return "Noto\u2018g\u2018ri kirish";case "invalid_element":return `${n.origin} da noto\u2018g\u2018ri qiymat`;default:return "Noto\u2018g\u2018ri kirish"}}};function Ome(){return {localeError:qZe()}}var WZe=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(n){return t[n]??null}let r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},i={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${n.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${s}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${a}, nh\u1EADn \u0111\u01B0\u1EE3c ${s}`}case "invalid_value":return n.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${B(n.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${r[a.format]??n.format} kh\xF4ng h\u1EE3p l\u1EC7`}case "not_multiple_of":return `S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${n.divisor}`;case "unrecognized_keys":return `Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${N(n.keys,", ")}`;case "invalid_key":return `Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;case "invalid_union":return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case "invalid_element":return `Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;default:return "\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function xme(){return {localeError:WZe()}}var KZe=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(n){return t[n]??null}let r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},i={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${n.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${s}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${a}\uFF0C\u5B9E\u9645\u63A5\u6536 ${s}`}case "invalid_value":return n.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${B(n.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()} ${o.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${r[a.format]??n.format}`}case "not_multiple_of":return `\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${n.divisor} \u7684\u500D\u6570`;case "unrecognized_keys":return `\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${N(n.keys,", ")}`;case "invalid_key":return `${n.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case "invalid_union":return "\u65E0\u6548\u8F93\u5165";case "invalid_element":return `${n.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return "\u65E0\u6548\u8F93\u5165"}}};function Cme(){return {localeError:KZe()}}var YZe=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(n){return t[n]??null}let r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},i={nan:"NaN"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${n.expected}\uFF0C\u4F46\u6536\u5230 ${s}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${a}\uFF0C\u4F46\u6536\u5230 ${s}`}case "invalid_value":return n.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${B(n.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()} ${o.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()} ${o.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${r[a.format]??n.format}`}case "not_multiple_of":return `\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${n.divisor} \u7684\u500D\u6578`;case "unrecognized_keys":return `\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${n.keys.length>1?"\u5011":""}\uFF1A${N(n.keys,"\u3001")}`;case "invalid_key":return `${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case "invalid_union":return "\u7121\u6548\u7684\u8F38\u5165\u503C";case "invalid_element":return `${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return "\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function Nme(){return {localeError:YZe()}}var ZZe=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(n){return t[n]??null}let r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},i={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return n=>{switch(n.code){case "invalid_type":{let a=i[n.expected]??n.expected,o=H(n.input),s=i[o]??o;return /^[A-Z]/.test(n.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${n.expected}, \xE0m\u1ECD\u0300 a r\xED ${s}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${a}, \xE0m\u1ECD\u0300 a r\xED ${s}`}case "invalid_value":return n.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${B(n.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${N(n.values,"|")}`;case "too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin??"iye"} ${o.verb} ${a}${n.maximum} ${o.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${n.maximum}`}case "too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${n.origin} ${o.verb} ${a}${n.minimum} ${o.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${n.minimum}`}case "invalid_format":{let a=n;return a.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${a.prefix}"`:a.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${a.suffix}"`:a.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${a.includes}"`:a.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${a.pattern}`:`A\u1E63\xEC\u1E63e: ${r[a.format]??n.format}`}case "not_multiple_of":return `N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${n.divisor}`;case "unrecognized_keys":return `B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${N(n.keys,", ")}`;case "invalid_key":return `B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;case "invalid_union":return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case "invalid_element":return `Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${n.origin}`;default:return "\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function Pme(){return {localeError:ZZe()}}var Ime,uF=Symbol("ZodOutput"),lF=Symbol("ZodInput"),rN=class{constructor(){this._map=new WeakMap,this._idmap=new Map;}add(e,...r){let i=r[0];return this._map.set(e,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let i={...this.get(r)??{}};delete i.id;let n={...i,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function nN(){return new rN}(Ime=globalThis).__zod_globalRegistry??(Ime.__zod_globalRegistry=nN());var Ar=globalThis.__zod_globalRegistry;function dF(t,e){return new t({type:"string",...q(e)})}function pF(t,e){return new t({type:"string",coerce:true,...q(e)})}function iN(t,e){return new t({type:"string",format:"email",check:"string_format",abort:false,...q(e)})}function iy(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:false,...q(e)})}function oN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,...q(e)})}function sN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v4",...q(e)})}function aN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v6",...q(e)})}function cN(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:false,version:"v7",...q(e)})}function oy(t,e){return new t({type:"string",format:"url",check:"string_format",abort:false,...q(e)})}function uN(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:false,...q(e)})}function lN(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:false,...q(e)})}function dN(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:false,...q(e)})}function pN(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:false,...q(e)})}function fN(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:false,...q(e)})}function hN(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:false,...q(e)})}function mN(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:false,...q(e)})}function gN(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:false,...q(e)})}function _N(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:false,...q(e)})}function fF(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:false,...q(e)})}function SN(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:false,...q(e)})}function yN(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:false,...q(e)})}function EN(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:false,...q(e)})}function TN(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:false,...q(e)})}function vN(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:false,...q(e)})}function bN(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:false,...q(e)})}var hF={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function mF(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:false,local:false,precision:null,...q(e)})}function gF(t,e){return new t({type:"string",format:"date",check:"string_format",...q(e)})}function _F(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...q(e)})}function SF(t,e){return new t({type:"string",format:"duration",check:"string_format",...q(e)})}function yF(t,e){return new t({type:"number",checks:[],...q(e)})}function EF(t,e){return new t({type:"number",coerce:true,checks:[],...q(e)})}function TF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"safeint",...q(e)})}function vF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"float32",...q(e)})}function bF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"float64",...q(e)})}function RF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"int32",...q(e)})}function AF(t,e){return new t({type:"number",check:"number_format",abort:false,format:"uint32",...q(e)})}function OF(t,e){return new t({type:"boolean",...q(e)})}function xF(t,e){return new t({type:"boolean",coerce:true,...q(e)})}function CF(t,e){return new t({type:"bigint",...q(e)})}function NF(t,e){return new t({type:"bigint",coerce:true,...q(e)})}function PF(t,e){return new t({type:"bigint",check:"bigint_format",abort:false,format:"int64",...q(e)})}function IF(t,e){return new t({type:"bigint",check:"bigint_format",abort:false,format:"uint64",...q(e)})}function wF(t,e){return new t({type:"symbol",...q(e)})}function MF(t,e){return new t({type:"undefined",...q(e)})}function LF(t,e){return new t({type:"null",...q(e)})}function DF(t){return new t({type:"any"})}function kF(t){return new t({type:"unknown"})}function UF(t,e){return new t({type:"never",...q(e)})}function $F(t,e){return new t({type:"void",...q(e)})}function zF(t,e){return new t({type:"date",...q(e)})}function VF(t,e){return new t({type:"date",coerce:true,...q(e)})}function BF(t,e){return new t({type:"nan",...q(e)})}function ns(t,e){return new FC({check:"less_than",...q(e),value:t,inclusive:false})}function Wn(t,e){return new FC({check:"less_than",...q(e),value:t,inclusive:true})}function is(t,e){return new HC({check:"greater_than",...q(e),value:t,inclusive:false})}function en(t,e){return new HC({check:"greater_than",...q(e),value:t,inclusive:true})}function RN(t){return is(0,t)}function AN(t){return ns(0,t)}function ON(t){return Wn(0,t)}function xN(t){return en(0,t)}function Hc(t,e){return new LV({check:"multiple_of",...q(e),value:t})}function Gc(t,e){return new UV({check:"max_size",...q(e),maximum:t})}function os(t,e){return new $V({check:"min_size",...q(e),minimum:t})}function zl(t,e){return new zV({check:"size_equals",...q(e),size:t})}function Vl(t,e){return new VV({check:"max_length",...q(e),maximum:t})}function ma(t,e){return new BV({check:"min_length",...q(e),minimum:t})}function Bl(t,e){return new FV({check:"length_equals",...q(e),length:t})}function Yf(t,e){return new HV({check:"string_format",format:"regex",...q(e),pattern:t})}function Zf(t){return new GV({check:"string_format",format:"lowercase",...q(t)})}function Xf(t){return new jV({check:"string_format",format:"uppercase",...q(t)})}function Jf(t,e){return new qV({check:"string_format",format:"includes",...q(e),includes:t})}function Qf(t,e){return new WV({check:"string_format",format:"starts_with",...q(e),prefix:t})}function eh(t,e){return new KV({check:"string_format",format:"ends_with",...q(e),suffix:t})}function CN(t,e,r){return new YV({check:"property",property:t,schema:e,...q(r)})}function th(t,e){return new ZV({check:"mime_type",mime:t,...q(e)})}function ro(t){return new XV({check:"overwrite",tx:t})}function rh(t){return ro(e=>e.normalize(t))}function nh(){return ro(t=>t.trim())}function ih(){return ro(t=>t.toLowerCase())}function oh(){return ro(t=>t.toUpperCase())}function sh(){return ro(t=>Yz(t))}function FF(t,e,r){return new t({type:"array",element:e,...q(r)})}function JZe(t,e,r){return new t({type:"union",options:e,...q(r)})}function QZe(t,e,r){return new t({type:"union",options:e,inclusive:false,...q(r)})}function e8e(t,e,r,i){return new t({type:"union",options:r,discriminator:e,...q(i)})}function t8e(t,e,r){return new t({type:"intersection",left:e,right:r})}function r8e(t,e,r,i){let n=r instanceof ve,a=n?i:r,o=n?r:null;return new t({type:"tuple",items:e,rest:o,...q(a)})}function n8e(t,e,r,i){return new t({type:"record",keyType:e,valueType:r,...q(i)})}function i8e(t,e,r,i){return new t({type:"map",keyType:e,valueType:r,...q(i)})}function o8e(t,e,r){return new t({type:"set",valueType:e,...q(r)})}function s8e(t,e,r){let i=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new t({type:"enum",entries:i,...q(r)})}function a8e(t,e,r){return new t({type:"enum",entries:e,...q(r)})}function c8e(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...q(r)})}function HF(t,e){return new t({type:"file",...q(e)})}function u8e(t,e){return new t({type:"transform",transform:e})}function l8e(t,e){return new t({type:"optional",innerType:e})}function d8e(t,e){return new t({type:"nullable",innerType:e})}function p8e(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():Xz(r)}})}function f8e(t,e,r){return new t({type:"nonoptional",innerType:e,...q(r)})}function h8e(t,e){return new t({type:"success",innerType:e})}function m8e(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function g8e(t,e,r){return new t({type:"pipe",in:e,out:r})}function _8e(t,e){return new t({type:"readonly",innerType:e})}function S8e(t,e,r){return new t({type:"template_literal",parts:e,...q(r)})}function y8e(t,e){return new t({type:"lazy",getter:e})}function E8e(t,e){return new t({type:"promise",innerType:e})}function GF(t,e,r){let i=q(r);return i.abort??(i.abort=true),new t({type:"custom",check:"custom",fn:e,...i})}function jF(t,e,r){return new t({type:"custom",check:"custom",fn:e,...q(r)})}function qF(t){let e=wme(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(Ff(i,r.value,e._zod.def));else {let n=i;n.fatal&&(n.continue=false),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),r.issues.push(Ff(n));}},t(r.value,r)));return e}function wme(t,e){let r=new ft({check:"custom",...q(e)});return r._zod.check=t,r}function WF(t){let e=new ft({check:"describe"});return e._zod.onattach=[r=>{let i=Ar.get(r)??{};Ar.add(r,{...i,description:t});}],e._zod.check=()=>{},e}function KF(t){let e=new ft({check:"meta"});return e._zod.onattach=[r=>{let i=Ar.get(r)??{};Ar.add(r,{...i,...t});}],e._zod.check=()=>{},e}function YF(t,e){let r=q(e),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(i=i.map(f=>typeof f=="string"?f.toLowerCase():f),n=n.map(f=>typeof f=="string"?f.toLowerCase():f));let a=new Set(i),o=new Set(n),s=t.Codec??ty,c=t.Boolean??QS,u=t.String??$l,l=new u({type:"string",error:r.error}),d=new c({type:"boolean",error:r.error}),p=new s({type:"pipe",in:l,out:d,transform:((f,_)=>{let y=f;return r.case!=="sensitive"&&(y=y.toLowerCase()),a.has(y)?true:o.has(y)?false:(_.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:_.value,inst:p,continue:false}),{})}),reverseTransform:((f,_)=>f===true?i[0]||"true":n[0]||"false"),error:r.error});return p}function ah(t,e,r,i={}){let n=q(i),a={...q(i),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:s=>r.test(s),...n};return r instanceof RegExp&&(a.pattern=r),new t(a)}function jc(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ar,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function tt(t,e,r={path:[],schemaPath:[]}){var i;let n=t._zod.def,a=e.seen.get(t);if(a)return a.count++,r.schemaPath.includes(t)&&(a.cycle=r.path),a.schema;let o={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,o);let s=t._zod.toJSONSchema?.();if(s)o.schema=s;else {let l={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,l);else {let p=o.schema,f=e.processors[n.type];if(!f)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);f(t,e,p,l);}let d=t._zod.parent;d&&(o.ref||(o.ref=d),tt(d,e,l),e.seen.get(d).isParent=true);}let c=e.metadataRegistry.get(t);return c&&Object.assign(o.schema,c),e.io==="input"&&tn(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((i=o.schema).default??(i.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function qc(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=new Map;for(let o of t.seen.entries()){let s=t.metadataRegistry.get(o[0])?.id;if(s){let c=i.get(s);if(c&&c!==o[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(s,o[0]);}}let n=o=>{let s=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(o[0])?.id,p=t.external.uri??(_=>_);if(d)return {ref:p(d)};let f=o[1].defId??o[1].schema.id??`schema${t.counter++}`;return o[1].defId=f,{defId:f,ref:`${p("__shared")}#/${s}/${f}`}}if(o[1]===r)return {ref:"#"};let u=`#/${s}/`,l=o[1].schema.id??`__schema${t.counter++}`;return {defId:l,ref:u+l}},a=o=>{if(o[1].schema.$ref)return;let s=o[1],{ref:c,defId:u}=n(o);s.def={...s.schema},u&&(s.defId=u);let l=s.schema;for(let d in l)delete l[d];l.$ref=c;};if(t.cycles==="throw")for(let o of t.seen.entries()){let s=o[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let o of t.seen.entries()){let s=o[1];if(e===o[0]){a(o);continue}if(t.external){let u=t.external.registry.get(o[0])?.id;if(e!==o[0]&&u){a(o);continue}}if(t.metadataRegistry.get(o[0])?.id){a(o);continue}if(s.cycle){a(o);continue}if(s.count>1&&t.reused==="ref"){a(o);continue}}}function Wc(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=o=>{let s=t.seen.get(o);if(s.ref===null)return;let c=s.def??s.schema,u={...c},l=s.ref;if(s.ref=null,l){i(l);let p=t.seen.get(l),f=p.schema;if(f.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(f)):Object.assign(c,f),Object.assign(c,u),o._zod.parent===l)for(let y in c)y==="$ref"||y==="allOf"||y in u||delete c[y];if(f.$ref&&p.def)for(let y in c)y==="$ref"||y==="allOf"||y in p.def&&JSON.stringify(c[y])===JSON.stringify(p.def[y])&&delete c[y];}let d=o._zod.parent;if(d&&d!==l){i(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f];}t.override({zodSchema:o,jsonSchema:c,path:s.path??[]});};for(let o of [...t.seen.entries()].reverse())i(o[0]);let n={};if(t.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");n.$id=t.external.uri(o);}Object.assign(n,r.def??r.schema);let a=t.external?.defs??{};for(let o of t.seen.entries()){let s=o[1];s.def&&s.defId&&(a[s.defId]=s.def);}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?n.$defs=a:n.definitions=a);try{let o=JSON.parse(JSON.stringify(n));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:ch(e,"input",t.processors),output:ch(e,"output",t.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function tn(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return  false;r.seen.add(t);let i=t._zod.def;if(i.type==="transform")return  true;if(i.type==="array")return tn(i.element,r);if(i.type==="set")return tn(i.valueType,r);if(i.type==="lazy")return tn(i.getter(),r);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return tn(i.innerType,r);if(i.type==="intersection")return tn(i.left,r)||tn(i.right,r);if(i.type==="record"||i.type==="map")return tn(i.keyType,r)||tn(i.valueType,r);if(i.type==="pipe")return tn(i.in,r)||tn(i.out,r);if(i.type==="object"){for(let n in i.shape)if(tn(i.shape[n],r))return  true;return  false}if(i.type==="union"){for(let n of i.options)if(tn(n,r))return  true;return  false}if(i.type==="tuple"){for(let n of i.items)if(tn(n,r))return  true;return !!(i.rest&&tn(i.rest,r))}return  false}var ZF=(t,e={})=>r=>{let i=jc({...r,processors:e});return tt(t,i),qc(i,t),Wc(i,t)},ch=(t,e,r={})=>i=>{let{libraryOptions:n,target:a}=i??{},o=jc({...n??{},target:a,io:e,processors:r});return tt(t,o),qc(o,t),Wc(o,t)};var T8e={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},XF=(t,e,r,i)=>{let n=r;n.type="string";let{minimum:a,maximum:o,format:s,patterns:c,contentEncoding:u}=t._zod.bag;if(typeof a=="number"&&(n.minLength=a),typeof o=="number"&&(n.maxLength=o),s&&(n.format=T8e[s]??s,n.format===""&&delete n.format,s==="time"&&delete n.format),u&&(n.contentEncoding=u),c&&c.size>0){let l=[...c];l.length===1?n.pattern=l[0].source:l.length>1&&(n.allOf=[...l.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))]);}},JF=(t,e,r,i)=>{let n=r,{minimum:a,maximum:o,format:s,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:l}=t._zod.bag;typeof s=="string"&&s.includes("int")?n.type="integer":n.type="number",typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.minimum=l,n.exclusiveMinimum=true):n.exclusiveMinimum=l),typeof a=="number"&&(n.minimum=a,typeof l=="number"&&e.target!=="draft-04"&&(l>=a?delete n.minimum:delete n.exclusiveMinimum)),typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(n.maximum=u,n.exclusiveMaximum=true):n.exclusiveMaximum=u),typeof o=="number"&&(n.maximum=o,typeof u=="number"&&e.target!=="draft-04"&&(u<=o?delete n.maximum:delete n.exclusiveMaximum)),typeof c=="number"&&(n.multipleOf=c);},QF=(t,e,r,i)=>{r.type="boolean";},e2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},t2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},r2=(t,e,r,i)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=true,r.enum=[null]):r.type="null";},n2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},i2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},o2=(t,e,r,i)=>{r.not={};},s2=(t,e,r,i)=>{},a2=(t,e,r,i)=>{},c2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},u2=(t,e,r,i)=>{let n=t._zod.def,a=FS(n.entries);a.every(o=>typeof o=="number")&&(r.type="number"),a.every(o=>typeof o=="string")&&(r.type="string"),r.enum=a;},l2=(t,e,r,i)=>{let n=t._zod.def,a=[];for(let o of n.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(o));}else a.push(o);if(a.length!==0)if(a.length===1){let o=a[0];r.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[o]:r.const=o;}else a.every(o=>typeof o=="number")&&(r.type="number"),a.every(o=>typeof o=="string")&&(r.type="string"),a.every(o=>typeof o=="boolean")&&(r.type="boolean"),a.every(o=>o===null)&&(r.type="null"),r.enum=a;},d2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},p2=(t,e,r,i)=>{let n=r,a=t._zod.pattern;if(!a)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=a.source;},f2=(t,e,r,i)=>{let n=r,a={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:s,mime:c}=t._zod.bag;o!==void 0&&(a.minLength=o),s!==void 0&&(a.maxLength=s),c?c.length===1?(a.contentMediaType=c[0],Object.assign(n,a)):(Object.assign(n,a),n.anyOf=c.map(u=>({contentMediaType:u}))):Object.assign(n,a);},h2=(t,e,r,i)=>{r.type="boolean";},m2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},g2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},_2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},S2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},y2=(t,e,r,i)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},E2=(t,e,r,i)=>{let n=r,a=t._zod.def,{minimum:o,maximum:s}=t._zod.bag;typeof o=="number"&&(n.minItems=o),typeof s=="number"&&(n.maxItems=s),n.type="array",n.items=tt(a.element,e,{...i,path:[...i.path,"items"]});},T2=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="object",n.properties={};let o=a.shape;for(let u in o)n.properties[u]=tt(o[u],e,{...i,path:[...i.path,"properties",u]});let s=new Set(Object.keys(o)),c=new Set([...s].filter(u=>{let l=a.shape[u]._zod;return e.io==="input"?l.optin===void 0:l.optout===void 0}));c.size>0&&(n.required=Array.from(c)),a.catchall?._zod.def.type==="never"?n.additionalProperties=false:a.catchall?a.catchall&&(n.additionalProperties=tt(a.catchall,e,{...i,path:[...i.path,"additionalProperties"]})):e.io==="output"&&(n.additionalProperties=false);},PN=(t,e,r,i)=>{let n=t._zod.def,a=n.inclusive===false,o=n.options.map((s,c)=>tt(s,e,{...i,path:[...i.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=o:r.anyOf=o;},v2=(t,e,r,i)=>{let n=t._zod.def,a=tt(n.left,e,{...i,path:[...i.path,"allOf",0]}),o=tt(n.right,e,{...i,path:[...i.path,"allOf",1]}),s=u=>"allOf"in u&&Object.keys(u).length===1,c=[...s(a)?a.allOf:[a],...s(o)?o.allOf:[o]];r.allOf=c;},b2=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="array";let o=e.target==="draft-2020-12"?"prefixItems":"items",s=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=a.items.map((p,f)=>tt(p,e,{...i,path:[...i.path,o,f]})),u=a.rest?tt(a.rest,e,{...i,path:[...i.path,s,...e.target==="openapi-3.0"?[a.items.length]:[]]}):null;e.target==="draft-2020-12"?(n.prefixItems=c,u&&(n.items=u)):e.target==="openapi-3.0"?(n.items={anyOf:c},u&&n.items.anyOf.push(u),n.minItems=c.length,u||(n.maxItems=c.length)):(n.items=c,u&&(n.additionalItems=u));let{minimum:l,maximum:d}=t._zod.bag;typeof l=="number"&&(n.minItems=l),typeof d=="number"&&(n.maxItems=d);},R2=(t,e,r,i)=>{let n=r,a=t._zod.def;n.type="object";let o=a.keyType,c=o._zod.bag?.patterns;if(a.mode==="loose"&&c&&c.size>0){let l=tt(a.valueType,e,{...i,path:[...i.path,"patternProperties","*"]});n.patternProperties={};for(let d of c)n.patternProperties[d.source]=l;}else (e.target==="draft-07"||e.target==="draft-2020-12")&&(n.propertyNames=tt(a.keyType,e,{...i,path:[...i.path,"propertyNames"]})),n.additionalProperties=tt(a.valueType,e,{...i,path:[...i.path,"additionalProperties"]});let u=o._zod.values;if(u){let l=[...u].filter(d=>typeof d=="string"||typeof d=="number");l.length>0&&(n.required=l);}},A2=(t,e,r,i)=>{let n=t._zod.def,a=tt(n.innerType,e,i),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=n.innerType,r.nullable=true):r.anyOf=[a,{type:"null"}];},O2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},x2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,r.default=JSON.parse(JSON.stringify(n.defaultValue));},C2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(n.defaultValue)));},N2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;let o;try{o=n.catchValue(void 0);}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=o;},P2=(t,e,r,i)=>{let n=t._zod.def,a=e.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;tt(a,e,i);let o=e.seen.get(t);o.ref=a;},I2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType,r.readOnly=true;},w2=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},IN=(t,e,r,i)=>{let n=t._zod.def;tt(n.innerType,e,i);let a=e.seen.get(t);a.ref=n.innerType;},M2=(t,e,r,i)=>{let n=t._zod.innerType;tt(n,e,i);let a=e.seen.get(t);a.ref=n;},NN={string:XF,number:JF,boolean:QF,bigint:e2,symbol:t2,null:r2,undefined:n2,void:i2,never:o2,any:s2,unknown:a2,date:c2,enum:u2,literal:l2,nan:d2,template_literal:p2,file:f2,success:h2,custom:m2,function:g2,transform:_2,map:S2,set:y2,array:E2,object:T2,union:PN,intersection:v2,tuple:b2,record:R2,nullable:A2,nonoptional:O2,default:x2,prefault:C2,catch:N2,pipe:P2,readonly:I2,promise:w2,optional:IN,lazy:M2};function wN(t,e){if("_idmap"in t){let i=t,n=jc({...e,processors:NN}),a={};for(let c of i._idmap.entries()){let[u,l]=c;tt(l,n);}let o={},s={registry:i,uri:e?.uri,defs:a};n.external=s;for(let c of i._idmap.entries()){let[u,l]=c;qc(n,l),o[u]=Wc(n,l);}if(Object.keys(a).length>0){let c=n.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[c]:a};}return {schemas:o}}let r=jc({...e,processors:NN});return tt(t,r),qc(r,t),Wc(r,t)}var MN=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e;}get seen(){return this.ctx.seen}constructor(e){let r=e?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=jc({processors:NN,target:r,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}});}process(e,r={path:[],schemaPath:[]}){return tt(e,this.ctx,r)}emit(e,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),qc(this.ctx,e);let i=Wc(this.ctx,e),{"~standard":n,...a}=i;return a}};var Mme={};var sy={};Pe(sy,{ZodAny:()=>nH,ZodArray:()=>aH,ZodBase64:()=>eP,ZodBase64URL:()=>tP,ZodBigInt:()=>mh,ZodBigIntFormat:()=>iP,ZodBoolean:()=>hh,ZodCIDRv4:()=>JN,ZodCIDRv6:()=>QN,ZodCUID:()=>jN,ZodCUID2:()=>qN,ZodCatch:()=>NH,ZodCodec:()=>pP,ZodCustom:()=>_y,ZodCustomStringFormat:()=>ph,ZodDate:()=>py,ZodDefault:()=>bH,ZodDiscriminatedUnion:()=>uH,ZodE164:()=>rP,ZodEmail:()=>FN,ZodEmoji:()=>HN,ZodEnum:()=>lh,ZodExactOptional:()=>EH,ZodFile:()=>SH,ZodFunction:()=>$H,ZodGUID:()=>ay,ZodIPv4:()=>ZN,ZodIPv6:()=>XN,ZodIntersection:()=>lH,ZodJWT:()=>nP,ZodKSUID:()=>YN,ZodLazy:()=>DH,ZodLiteral:()=>_H,ZodMAC:()=>Z2,ZodMap:()=>mH,ZodNaN:()=>IH,ZodNanoID:()=>GN,ZodNever:()=>oH,ZodNonOptional:()=>lP,ZodNull:()=>tH,ZodNullable:()=>vH,ZodNumber:()=>fh,ZodNumberFormat:()=>Hl,ZodObject:()=>hy,ZodOptional:()=>uP,ZodPipe:()=>dP,ZodPrefault:()=>AH,ZodPromise:()=>UH,ZodReadonly:()=>wH,ZodRecord:()=>gy,ZodSet:()=>gH,ZodString:()=>dh,ZodStringFormat:()=>ct,ZodSuccess:()=>CH,ZodSymbol:()=>Q2,ZodTemplateLiteral:()=>LH,ZodTransform:()=>yH,ZodTuple:()=>pH,ZodType:()=>Ne,ZodULID:()=>WN,ZodURL:()=>dy,ZodUUID:()=>ss,ZodUndefined:()=>eH,ZodUnion:()=>my,ZodUnknown:()=>iH,ZodVoid:()=>sH,ZodXID:()=>KN,ZodXor:()=>cH,_ZodString:()=>BN,_default:()=>RH,_function:()=>Vge,any:()=>Sge,array:()=>fy,base64:()=>tge,base64url:()=>rge,bigint:()=>fge,boolean:()=>J2,catch:()=>PH,check:()=>Bge,cidrv4:()=>Qme,cidrv6:()=>ege,codec:()=>Uge,cuid:()=>jme,cuid2:()=>qme,custom:()=>Fge,date:()=>Ege,describe:()=>Hge,discriminatedUnion:()=>Oge,e164:()=>nge,email:()=>Dme,emoji:()=>Hme,enum:()=>aP,exactOptional:()=>TH,file:()=>Mge,float32:()=>uge,float64:()=>lge,function:()=>Vge,guid:()=>kme,hash:()=>cge,hex:()=>age,hostname:()=>sge,httpUrl:()=>Fme,instanceof:()=>jge,int:()=>VN,int32:()=>dge,int64:()=>hge,intersection:()=>dH,ipv4:()=>Zme,ipv6:()=>Jme,json:()=>Wge,jwt:()=>ige,keyof:()=>Tge,ksuid:()=>Yme,lazy:()=>kH,literal:()=>wge,looseObject:()=>Rge,looseRecord:()=>Cge,mac:()=>Xme,map:()=>Nge,meta:()=>Gge,nan:()=>kge,nanoid:()=>Gme,nativeEnum:()=>Ige,never:()=>oP,nonoptional:()=>xH,null:()=>rH,nullable:()=>uy,nullish:()=>Lge,number:()=>X2,object:()=>vge,optional:()=>cy,partialRecord:()=>xge,pipe:()=>ly,prefault:()=>OH,preprocess:()=>Kge,promise:()=>zge,readonly:()=>MH,record:()=>hH,refine:()=>zH,set:()=>Pge,strictObject:()=>bge,string:()=>zN,stringFormat:()=>oge,stringbool:()=>qge,success:()=>Dge,superRefine:()=>VH,symbol:()=>gge,templateLiteral:()=>$ge,transform:()=>cP,tuple:()=>fH,uint32:()=>pge,uint64:()=>mge,ulid:()=>Wme,undefined:()=>_ge,union:()=>sP,unknown:()=>Fl,url:()=>Bme,uuid:()=>Ume,uuidv4:()=>$me,uuidv6:()=>zme,uuidv7:()=>Vme,void:()=>yge,xid:()=>Kme,xor:()=>Age});var LN={};Pe(LN,{endsWith:()=>eh,gt:()=>is,gte:()=>en,includes:()=>Jf,length:()=>Bl,lowercase:()=>Zf,lt:()=>ns,lte:()=>Wn,maxLength:()=>Vl,maxSize:()=>Gc,mime:()=>th,minLength:()=>ma,minSize:()=>os,multipleOf:()=>Hc,negative:()=>AN,nonnegative:()=>xN,nonpositive:()=>ON,normalize:()=>rh,overwrite:()=>ro,positive:()=>RN,property:()=>CN,regex:()=>Yf,size:()=>zl,slugify:()=>sh,startsWith:()=>Qf,toLowerCase:()=>ih,toUpperCase:()=>oh,trim:()=>nh,uppercase:()=>Xf});var uh={};Pe(uh,{ZodISODate:()=>kN,ZodISODateTime:()=>DN,ZodISODuration:()=>$N,ZodISOTime:()=>UN,date:()=>D2,datetime:()=>L2,duration:()=>U2,time:()=>k2});var DN=b("ZodISODateTime",(t,e)=>{dB.init(t,e),ct.init(t,e);});function L2(t){return mF(DN,t)}var kN=b("ZodISODate",(t,e)=>{pB.init(t,e),ct.init(t,e);});function D2(t){return gF(kN,t)}var UN=b("ZodISOTime",(t,e)=>{fB.init(t,e),ct.init(t,e);});function k2(t){return _F(UN,t)}var $N=b("ZodISODuration",(t,e)=>{hB.init(t,e),ct.init(t,e);});function U2(t){return SF($N,t)}var Lme=(t,e)=>{WS.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>YS(t,r)},flatten:{value:r=>KS(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Vf,2);}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Vf,2);}},isEmpty:{get(){return t.issues.length===0}}});},b8e=b("ZodError",Lme),Cn=b("ZodError",Lme,{Parent:Error});var $2=Hf(Cn),z2=Gf(Cn),V2=jf(Cn),B2=qf(Cn),F2=wC(Cn),H2=MC(Cn),G2=LC(Cn),j2=DC(Cn),q2=kC(Cn),W2=UC(Cn),K2=$C(Cn),Y2=zC(Cn);var Ne=b("ZodType",(t,e)=>(ve.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ch(t,"input"),output:ch(t,"output")}}),t.toJSONSchema=ZF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(j.mergeDefs(e,{checks:[...e.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:true}),t.with=t.check,t.clone=(r,i)=>Qr(t,r,i),t.brand=()=>t,t.register=((r,i)=>(r.add(t,i),t)),t.parse=(r,i)=>$2(t,r,i,{callee:t.parse}),t.safeParse=(r,i)=>V2(t,r,i),t.parseAsync=async(r,i)=>z2(t,r,i,{callee:t.parseAsync}),t.safeParseAsync=async(r,i)=>B2(t,r,i),t.spa=t.safeParseAsync,t.encode=(r,i)=>F2(t,r,i),t.decode=(r,i)=>H2(t,r,i),t.encodeAsync=async(r,i)=>G2(t,r,i),t.decodeAsync=async(r,i)=>j2(t,r,i),t.safeEncode=(r,i)=>q2(t,r,i),t.safeDecode=(r,i)=>W2(t,r,i),t.safeEncodeAsync=async(r,i)=>K2(t,r,i),t.safeDecodeAsync=async(r,i)=>Y2(t,r,i),t.refine=(r,i)=>t.check(zH(r,i)),t.superRefine=r=>t.check(VH(r)),t.overwrite=r=>t.check(ro(r)),t.optional=()=>cy(t),t.exactOptional=()=>TH(t),t.nullable=()=>uy(t),t.nullish=()=>cy(uy(t)),t.nonoptional=r=>xH(t,r),t.array=()=>fy(t),t.or=r=>sP([t,r]),t.and=r=>dH(t,r),t.transform=r=>ly(t,cP(r)),t.default=r=>RH(t,r),t.prefault=r=>OH(t,r),t.catch=r=>PH(t,r),t.pipe=r=>ly(t,r),t.readonly=()=>MH(t),t.describe=r=>{let i=t.clone();return Ar.add(i,{description:r}),i},Object.defineProperty(t,"description",{get(){return Ar.get(t)?.description},configurable:true}),t.meta=(...r)=>{if(r.length===0)return Ar.get(t);let i=t.clone();return Ar.add(i,r[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),BN=b("_ZodString",(t,e)=>{$l.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(i,n,a)=>XF(t,i,n);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...i)=>t.check(Yf(...i)),t.includes=(...i)=>t.check(Jf(...i)),t.startsWith=(...i)=>t.check(Qf(...i)),t.endsWith=(...i)=>t.check(eh(...i)),t.min=(...i)=>t.check(ma(...i)),t.max=(...i)=>t.check(Vl(...i)),t.length=(...i)=>t.check(Bl(...i)),t.nonempty=(...i)=>t.check(ma(1,...i)),t.lowercase=i=>t.check(Zf(i)),t.uppercase=i=>t.check(Xf(i)),t.trim=()=>t.check(nh()),t.normalize=(...i)=>t.check(rh(...i)),t.toLowerCase=()=>t.check(ih()),t.toUpperCase=()=>t.check(oh()),t.slugify=()=>t.check(sh());}),dh=b("ZodString",(t,e)=>{$l.init(t,e),BN.init(t,e),t.email=r=>t.check(iN(FN,r)),t.url=r=>t.check(oy(dy,r)),t.jwt=r=>t.check(bN(nP,r)),t.emoji=r=>t.check(uN(HN,r)),t.guid=r=>t.check(iy(ay,r)),t.uuid=r=>t.check(oN(ss,r)),t.uuidv4=r=>t.check(sN(ss,r)),t.uuidv6=r=>t.check(aN(ss,r)),t.uuidv7=r=>t.check(cN(ss,r)),t.nanoid=r=>t.check(lN(GN,r)),t.guid=r=>t.check(iy(ay,r)),t.cuid=r=>t.check(dN(jN,r)),t.cuid2=r=>t.check(pN(qN,r)),t.ulid=r=>t.check(fN(WN,r)),t.base64=r=>t.check(EN(eP,r)),t.base64url=r=>t.check(TN(tP,r)),t.xid=r=>t.check(hN(KN,r)),t.ksuid=r=>t.check(mN(YN,r)),t.ipv4=r=>t.check(gN(ZN,r)),t.ipv6=r=>t.check(_N(XN,r)),t.cidrv4=r=>t.check(SN(JN,r)),t.cidrv6=r=>t.check(yN(QN,r)),t.e164=r=>t.check(vN(rP,r)),t.datetime=r=>t.check(L2(r)),t.date=r=>t.check(D2(r)),t.time=r=>t.check(k2(r)),t.duration=r=>t.check(U2(r));});function zN(t){return dF(dh,t)}var ct=b("ZodStringFormat",(t,e)=>{at.init(t,e),BN.init(t,e);}),FN=b("ZodEmail",(t,e)=>{rB.init(t,e),ct.init(t,e);});function Dme(t){return iN(FN,t)}var ay=b("ZodGUID",(t,e)=>{eB.init(t,e),ct.init(t,e);});function kme(t){return iy(ay,t)}var ss=b("ZodUUID",(t,e)=>{tB.init(t,e),ct.init(t,e);});function Ume(t){return oN(ss,t)}function $me(t){return sN(ss,t)}function zme(t){return aN(ss,t)}function Vme(t){return cN(ss,t)}var dy=b("ZodURL",(t,e)=>{nB.init(t,e),ct.init(t,e);});function Bme(t){return oy(dy,t)}function Fme(t){return oy(dy,{protocol:/^https?$/,hostname:xi.domain,...j.normalizeParams(t)})}var HN=b("ZodEmoji",(t,e)=>{iB.init(t,e),ct.init(t,e);});function Hme(t){return uN(HN,t)}var GN=b("ZodNanoID",(t,e)=>{oB.init(t,e),ct.init(t,e);});function Gme(t){return lN(GN,t)}var jN=b("ZodCUID",(t,e)=>{sB.init(t,e),ct.init(t,e);});function jme(t){return dN(jN,t)}var qN=b("ZodCUID2",(t,e)=>{aB.init(t,e),ct.init(t,e);});function qme(t){return pN(qN,t)}var WN=b("ZodULID",(t,e)=>{cB.init(t,e),ct.init(t,e);});function Wme(t){return fN(WN,t)}var KN=b("ZodXID",(t,e)=>{uB.init(t,e),ct.init(t,e);});function Kme(t){return hN(KN,t)}var YN=b("ZodKSUID",(t,e)=>{lB.init(t,e),ct.init(t,e);});function Yme(t){return mN(YN,t)}var ZN=b("ZodIPv4",(t,e)=>{mB.init(t,e),ct.init(t,e);});function Zme(t){return gN(ZN,t)}var Z2=b("ZodMAC",(t,e)=>{_B.init(t,e),ct.init(t,e);});function Xme(t){return fF(Z2,t)}var XN=b("ZodIPv6",(t,e)=>{gB.init(t,e),ct.init(t,e);});function Jme(t){return _N(XN,t)}var JN=b("ZodCIDRv4",(t,e)=>{SB.init(t,e),ct.init(t,e);});function Qme(t){return SN(JN,t)}var QN=b("ZodCIDRv6",(t,e)=>{yB.init(t,e),ct.init(t,e);});function ege(t){return yN(QN,t)}var eP=b("ZodBase64",(t,e)=>{TB.init(t,e),ct.init(t,e);});function tge(t){return EN(eP,t)}var tP=b("ZodBase64URL",(t,e)=>{vB.init(t,e),ct.init(t,e);});function rge(t){return TN(tP,t)}var rP=b("ZodE164",(t,e)=>{bB.init(t,e),ct.init(t,e);});function nge(t){return vN(rP,t)}var nP=b("ZodJWT",(t,e)=>{RB.init(t,e),ct.init(t,e);});function ige(t){return bN(nP,t)}var ph=b("ZodCustomStringFormat",(t,e)=>{AB.init(t,e),ct.init(t,e);});function oge(t,e,r={}){return ah(ph,t,e,r)}function sge(t){return ah(ph,"hostname",xi.hostname,t)}function age(t){return ah(ph,"hex",xi.hex,t)}function cge(t,e){let r=e?.enc??"hex",i=`${t}_${r}`,n=xi[i];if(!n)throw new Error(`Unrecognized hash format: ${i}`);return ah(ph,i,n,e)}var fh=b("ZodNumber",(t,e)=>{YC.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(i,n,a)=>JF(t,i,n),t.gt=(i,n)=>t.check(is(i,n)),t.gte=(i,n)=>t.check(en(i,n)),t.min=(i,n)=>t.check(en(i,n)),t.lt=(i,n)=>t.check(ns(i,n)),t.lte=(i,n)=>t.check(Wn(i,n)),t.max=(i,n)=>t.check(Wn(i,n)),t.int=i=>t.check(VN(i)),t.safe=i=>t.check(VN(i)),t.positive=i=>t.check(is(0,i)),t.nonnegative=i=>t.check(en(0,i)),t.negative=i=>t.check(ns(0,i)),t.nonpositive=i=>t.check(Wn(0,i)),t.multipleOf=(i,n)=>t.check(Hc(i,n)),t.step=(i,n)=>t.check(Hc(i,n)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=true,t.format=r.format??null;});function X2(t){return yF(fh,t)}var Hl=b("ZodNumberFormat",(t,e)=>{OB.init(t,e),fh.init(t,e);});function VN(t){return TF(Hl,t)}function uge(t){return vF(Hl,t)}function lge(t){return bF(Hl,t)}function dge(t){return RF(Hl,t)}function pge(t){return AF(Hl,t)}var hh=b("ZodBoolean",(t,e)=>{QS.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>QF(t,r,i);});function J2(t){return OF(hh,t)}var mh=b("ZodBigInt",(t,e)=>{ZC.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(i,n,a)=>e2(t,i),t.gte=(i,n)=>t.check(en(i,n)),t.min=(i,n)=>t.check(en(i,n)),t.gt=(i,n)=>t.check(is(i,n)),t.gte=(i,n)=>t.check(en(i,n)),t.min=(i,n)=>t.check(en(i,n)),t.lt=(i,n)=>t.check(ns(i,n)),t.lte=(i,n)=>t.check(Wn(i,n)),t.max=(i,n)=>t.check(Wn(i,n)),t.positive=i=>t.check(is(BigInt(0),i)),t.negative=i=>t.check(ns(BigInt(0),i)),t.nonpositive=i=>t.check(Wn(BigInt(0),i)),t.nonnegative=i=>t.check(en(BigInt(0),i)),t.multipleOf=(i,n)=>t.check(Hc(i,n));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null;});function fge(t){return CF(mh,t)}var iP=b("ZodBigIntFormat",(t,e)=>{xB.init(t,e),mh.init(t,e);});function hge(t){return PF(iP,t)}function mge(t){return IF(iP,t)}var Q2=b("ZodSymbol",(t,e)=>{CB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>t2(t,r);});function gge(t){return wF(Q2,t)}var eH=b("ZodUndefined",(t,e)=>{NB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>n2(t,r);});function _ge(t){return MF(eH,t)}var tH=b("ZodNull",(t,e)=>{PB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>r2(t,r,i);});function rH(t){return LF(tH,t)}var nH=b("ZodAny",(t,e)=>{IB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>s2();});function Sge(){return DF(nH)}var iH=b("ZodUnknown",(t,e)=>{wB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>a2();});function Fl(){return kF(iH)}var oH=b("ZodNever",(t,e)=>{MB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>o2(t,r,i);});function oP(t){return UF(oH,t)}var sH=b("ZodVoid",(t,e)=>{LB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>i2(t,r);});function yge(t){return $F(sH,t)}var py=b("ZodDate",(t,e)=>{DB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(i,n,a)=>c2(t,i),t.min=(i,n)=>t.check(en(i,n)),t.max=(i,n)=>t.check(Wn(i,n));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null;});function Ege(t){return zF(py,t)}var aH=b("ZodArray",(t,e)=>{kB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>E2(t,r,i,n),t.element=e.element,t.min=(r,i)=>t.check(ma(r,i)),t.nonempty=r=>t.check(ma(1,r)),t.max=(r,i)=>t.check(Vl(r,i)),t.length=(r,i)=>t.check(Bl(r,i)),t.unwrap=()=>t.element;});function fy(t,e){return FF(aH,t,e)}function Tge(t){let e=t._zod.def.shape;return aP(Object.keys(e))}var hy=b("ZodObject",(t,e)=>{UB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>T2(t,r,i,n),j.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>aP(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Fl()}),t.loose=()=>t.clone({...t._zod.def,catchall:Fl()}),t.strict=()=>t.clone({...t._zod.def,catchall:oP()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>j.extend(t,r),t.safeExtend=r=>j.safeExtend(t,r),t.merge=r=>j.merge(t,r),t.pick=r=>j.pick(t,r),t.omit=r=>j.omit(t,r),t.partial=(...r)=>j.partial(uP,t,r[0]),t.required=(...r)=>j.required(lP,t,r[0]);});function vge(t,e){let r={type:"object",shape:t??{},...j.normalizeParams(e)};return new hy(r)}function bge(t,e){return new hy({type:"object",shape:t,catchall:oP(),...j.normalizeParams(e)})}function Rge(t,e){return new hy({type:"object",shape:t,catchall:Fl(),...j.normalizeParams(e)})}var my=b("ZodUnion",(t,e)=>{ey.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>PN(t,r,i,n),t.options=e.options;});function sP(t,e){return new my({type:"union",options:t,...j.normalizeParams(e)})}var cH=b("ZodXor",(t,e)=>{my.init(t,e),$B.init(t,e),t._zod.processJSONSchema=(r,i,n)=>PN(t,r,i,n),t.options=e.options;});function Age(t,e){return new cH({type:"union",options:t,inclusive:false,...j.normalizeParams(e)})}var uH=b("ZodDiscriminatedUnion",(t,e)=>{my.init(t,e),zB.init(t,e);});function Oge(t,e,r){return new uH({type:"union",options:e,discriminator:t,...j.normalizeParams(r)})}var lH=b("ZodIntersection",(t,e)=>{VB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>v2(t,r,i,n);});function dH(t,e){return new lH({type:"intersection",left:t,right:e})}var pH=b("ZodTuple",(t,e)=>{XC.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>b2(t,r,i,n),t.rest=r=>t.clone({...t._zod.def,rest:r});});function fH(t,e,r){let i=e instanceof ve,n=i?r:e,a=i?e:null;return new pH({type:"tuple",items:t,rest:a,...j.normalizeParams(n)})}var gy=b("ZodRecord",(t,e)=>{BB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>R2(t,r,i,n),t.keyType=e.keyType,t.valueType=e.valueType;});function hH(t,e,r){return new gy({type:"record",keyType:t,valueType:e,...j.normalizeParams(r)})}function xge(t,e,r){let i=Qr(t);return i._zod.values=void 0,new gy({type:"record",keyType:i,valueType:e,...j.normalizeParams(r)})}function Cge(t,e,r){return new gy({type:"record",keyType:t,valueType:e,mode:"loose",...j.normalizeParams(r)})}var mH=b("ZodMap",(t,e)=>{FB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>S2(t,r),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...r)=>t.check(os(...r)),t.nonempty=r=>t.check(os(1,r)),t.max=(...r)=>t.check(Gc(...r)),t.size=(...r)=>t.check(zl(...r));});function Nge(t,e,r){return new mH({type:"map",keyType:t,valueType:e,...j.normalizeParams(r)})}var gH=b("ZodSet",(t,e)=>{HB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>y2(t,r),t.min=(...r)=>t.check(os(...r)),t.nonempty=r=>t.check(os(1,r)),t.max=(...r)=>t.check(Gc(...r)),t.size=(...r)=>t.check(zl(...r));});function Pge(t,e){return new gH({type:"set",valueType:t,...j.normalizeParams(e)})}var lh=b("ZodEnum",(t,e)=>{GB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(i,n,a)=>u2(t,i,n),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(i,n)=>{let a={};for(let o of i)if(r.has(o))a[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new lh({...e,checks:[],...j.normalizeParams(n),entries:a})},t.exclude=(i,n)=>{let a={...e.entries};for(let o of i)if(r.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new lh({...e,checks:[],...j.normalizeParams(n),entries:a})};});function aP(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new lh({type:"enum",entries:r,...j.normalizeParams(e)})}function Ige(t,e){return new lh({type:"enum",entries:t,...j.normalizeParams(e)})}var _H=b("ZodLiteral",(t,e)=>{jB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>l2(t,r,i),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}});});function wge(t,e){return new _H({type:"literal",values:Array.isArray(t)?t:[t],...j.normalizeParams(e)})}var SH=b("ZodFile",(t,e)=>{qB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>f2(t,r,i),t.min=(r,i)=>t.check(os(r,i)),t.max=(r,i)=>t.check(Gc(r,i)),t.mime=(r,i)=>t.check(th(Array.isArray(r)?r:[r],i));});function Mge(t){return HF(SH,t)}var yH=b("ZodTransform",(t,e)=>{WB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>_2(t,r),t._zod.parse=(r,i)=>{if(i.direction==="backward")throw new $c(t.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(j.issue(a,r.value,e));else {let o=a;o.fatal&&(o.continue=false),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),r.issues.push(j.issue(o));}};let n=e.transform(r.value,r);return n instanceof Promise?n.then(a=>(r.value=a,r)):(r.value=n,r)};});function cP(t){return new yH({type:"transform",transform:t})}var uP=b("ZodOptional",(t,e)=>{JC.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>IN(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function cy(t){return new uP({type:"optional",innerType:t})}var EH=b("ZodExactOptional",(t,e)=>{KB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>IN(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function TH(t){return new EH({type:"optional",innerType:t})}var vH=b("ZodNullable",(t,e)=>{YB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>A2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function uy(t){return new vH({type:"nullable",innerType:t})}function Lge(t){return cy(uy(t))}var bH=b("ZodDefault",(t,e)=>{ZB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>x2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap;});function RH(t,e){return new bH({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():j.shallowClone(e)}})}var AH=b("ZodPrefault",(t,e)=>{XB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>C2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function OH(t,e){return new AH({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():j.shallowClone(e)}})}var lP=b("ZodNonOptional",(t,e)=>{JB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>O2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function xH(t,e){return new lP({type:"nonoptional",innerType:t,...j.normalizeParams(e)})}var CH=b("ZodSuccess",(t,e)=>{QB.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>h2(t,r,i),t.unwrap=()=>t._zod.def.innerType;});function Dge(t){return new CH({type:"success",innerType:t})}var NH=b("ZodCatch",(t,e)=>{eF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>N2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap;});function PH(t,e){return new NH({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var IH=b("ZodNaN",(t,e)=>{tF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>d2(t,r);});function kge(t){return BF(IH,t)}var dP=b("ZodPipe",(t,e)=>{rF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>P2(t,r,i,n),t.in=e.in,t.out=e.out;});function ly(t,e){return new dP({type:"pipe",in:t,out:e})}var pP=b("ZodCodec",(t,e)=>{dP.init(t,e),ty.init(t,e);});function Uge(t,e,r){return new pP({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}var wH=b("ZodReadonly",(t,e)=>{nF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>I2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function MH(t){return new wH({type:"readonly",innerType:t})}var LH=b("ZodTemplateLiteral",(t,e)=>{iF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>p2(t,r,i);});function $ge(t,e){return new LH({type:"template_literal",parts:t,...j.normalizeParams(e)})}var DH=b("ZodLazy",(t,e)=>{aF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>M2(t,r,i,n),t.unwrap=()=>t._zod.def.getter();});function kH(t){return new DH({type:"lazy",getter:t})}var UH=b("ZodPromise",(t,e)=>{sF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>w2(t,r,i,n),t.unwrap=()=>t._zod.def.innerType;});function zge(t){return new UH({type:"promise",innerType:t})}var $H=b("ZodFunction",(t,e)=>{oF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>g2(t,r);});function Vge(t){return new $H({type:"function",input:Array.isArray(t?.input)?fH(t?.input):t?.input??fy(Fl()),output:t?.output??Fl()})}var _y=b("ZodCustom",(t,e)=>{cF.init(t,e),Ne.init(t,e),t._zod.processJSONSchema=(r,i,n)=>m2(t,r);});function Bge(t){let e=new ft({check:"custom"});return e._zod.check=t,e}function Fge(t,e){return GF(_y,t??(()=>true),e)}function zH(t,e={}){return jF(_y,t,e)}function VH(t){return qF(t)}var Hge=WF,Gge=KF;function jge(t,e={}){let r=new _y({type:"custom",check:"custom",fn:i=>i instanceof t,abort:true,...j.normalizeParams(e)});return r._zod.bag.Class=t,r._zod.check=i=>{i.value instanceof t||i.issues.push({code:"invalid_type",expected:t.name,input:i.value,inst:r,path:[...r._zod.def.path??[]]});},r}var qge=(...t)=>YF({Codec:pP,Boolean:hh,String:dh},...t);function Wge(t){let e=kH(()=>sP([zN(t),X2(),J2(),rH(),fy(e),hH(zN(),e)]));return e}function Kge(t,e){return ly(cP(t),e)}var A8e={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function O8e(t){Dt({customError:t});}function x8e(){return Dt().customError}var BH;BH||(BH={});var K={...sy,...LN,iso:uh},C8e=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function N8e(t,e){let r=t.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function P8e(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let r=t.slice(1).split("/").filter(Boolean);if(r.length===0)return e.rootSchema;let i=e.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===i){let n=r[1];if(!n||!e.defs[n])throw new Error(`Reference not found: ${t}`);return e.defs[n]}throw new Error(`Reference not found: ${t}`)}function Yge(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return K.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let n=t.$ref;if(e.refs.has(n))return e.refs.get(n);if(e.processing.has(n))return K.lazy(()=>{if(!e.refs.has(n))throw new Error(`Circular reference not resolved: ${n}`);return e.refs.get(n)});e.processing.add(n);let a=P8e(n,e),o=kr(a,e);return e.refs.set(n,o),e.processing.delete(n),o}if(t.enum!==void 0){let n=t.enum;if(e.version==="openapi-3.0"&&t.nullable===true&&n.length===1&&n[0]===null)return K.null();if(n.length===0)return K.never();if(n.length===1)return K.literal(n[0]);if(n.every(o=>typeof o=="string"))return K.enum(n);let a=n.map(o=>K.literal(o));return a.length<2?a[0]:K.union([a[0],a[1],...a.slice(2)])}if(t.const!==void 0)return K.literal(t.const);let r=t.type;if(Array.isArray(r)){let n=r.map(a=>{let o={...t,type:a};return Yge(o,e)});return n.length===0?K.never():n.length===1?n[0]:K.union(n)}if(!r)return K.any();let i;switch(r){case "string":{let n=K.string();if(t.format){let a=t.format;a==="email"?n=n.check(K.email()):a==="uri"||a==="uri-reference"?n=n.check(K.url()):a==="uuid"||a==="guid"?n=n.check(K.uuid()):a==="date-time"?n=n.check(K.iso.datetime()):a==="date"?n=n.check(K.iso.date()):a==="time"?n=n.check(K.iso.time()):a==="duration"?n=n.check(K.iso.duration()):a==="ipv4"?n=n.check(K.ipv4()):a==="ipv6"?n=n.check(K.ipv6()):a==="mac"?n=n.check(K.mac()):a==="cidr"?n=n.check(K.cidrv4()):a==="cidr-v6"?n=n.check(K.cidrv6()):a==="base64"?n=n.check(K.base64()):a==="base64url"?n=n.check(K.base64url()):a==="e164"?n=n.check(K.e164()):a==="jwt"?n=n.check(K.jwt()):a==="emoji"?n=n.check(K.emoji()):a==="nanoid"?n=n.check(K.nanoid()):a==="cuid"?n=n.check(K.cuid()):a==="cuid2"?n=n.check(K.cuid2()):a==="ulid"?n=n.check(K.ulid()):a==="xid"?n=n.check(K.xid()):a==="ksuid"&&(n=n.check(K.ksuid()));}typeof t.minLength=="number"&&(n=n.min(t.minLength)),typeof t.maxLength=="number"&&(n=n.max(t.maxLength)),t.pattern&&(n=n.regex(new RegExp(t.pattern))),i=n;break}case "number":case "integer":{let n=r==="integer"?K.number().int():K.number();typeof t.minimum=="number"&&(n=n.min(t.minimum)),typeof t.maximum=="number"&&(n=n.max(t.maximum)),typeof t.exclusiveMinimum=="number"?n=n.gt(t.exclusiveMinimum):t.exclusiveMinimum===true&&typeof t.minimum=="number"&&(n=n.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?n=n.lt(t.exclusiveMaximum):t.exclusiveMaximum===true&&typeof t.maximum=="number"&&(n=n.lt(t.maximum)),typeof t.multipleOf=="number"&&(n=n.multipleOf(t.multipleOf)),i=n;break}case "boolean":{i=K.boolean();break}case "null":{i=K.null();break}case "object":{let n={},a=t.properties||{},o=new Set(t.required||[]);for(let[c,u]of Object.entries(a)){let l=kr(u,e);n[c]=o.has(c)?l:l.optional();}if(t.propertyNames){let c=kr(t.propertyNames,e),u=t.additionalProperties&&typeof t.additionalProperties=="object"?kr(t.additionalProperties,e):K.any();if(Object.keys(n).length===0){i=K.record(c,u);break}let l=K.object(n).passthrough(),d=K.looseRecord(c,u);i=K.intersection(l,d);break}if(t.patternProperties){let c=t.patternProperties,u=Object.keys(c),l=[];for(let p of u){let f=kr(c[p],e),_=K.string().regex(new RegExp(p));l.push(K.looseRecord(_,f));}let d=[];if(Object.keys(n).length>0&&d.push(K.object(n).passthrough()),d.push(...l),d.length===0)i=K.object({}).passthrough();else if(d.length===1)i=d[0];else {let p=K.intersection(d[0],d[1]);for(let f=2;f<d.length;f++)p=K.intersection(p,d[f]);i=p;}break}let s=K.object(n);t.additionalProperties===false?i=s.strict():typeof t.additionalProperties=="object"?i=s.catchall(kr(t.additionalProperties,e)):i=s.passthrough();break}case "array":{let n=t.prefixItems,a=t.items;if(n&&Array.isArray(n)){let o=n.map(c=>kr(c,e)),s=a&&typeof a=="object"&&!Array.isArray(a)?kr(a,e):void 0;s?i=K.tuple(o).rest(s):i=K.tuple(o),typeof t.minItems=="number"&&(i=i.check(K.minLength(t.minItems))),typeof t.maxItems=="number"&&(i=i.check(K.maxLength(t.maxItems)));}else if(Array.isArray(a)){let o=a.map(c=>kr(c,e)),s=t.additionalItems&&typeof t.additionalItems=="object"?kr(t.additionalItems,e):void 0;s?i=K.tuple(o).rest(s):i=K.tuple(o),typeof t.minItems=="number"&&(i=i.check(K.minLength(t.minItems))),typeof t.maxItems=="number"&&(i=i.check(K.maxLength(t.maxItems)));}else if(a!==void 0){let o=kr(a,e),s=K.array(o);typeof t.minItems=="number"&&(s=s.min(t.minItems)),typeof t.maxItems=="number"&&(s=s.max(t.maxItems)),i=s;}else i=K.array(K.any());break}default:throw new Error(`Unsupported type: ${r}`)}return t.description&&(i=i.describe(t.description)),t.default!==void 0&&(i=i.default(t.default)),i}function kr(t,e){if(typeof t=="boolean")return t?K.any():K.never();let r=Yge(t,e),i=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let s=t.anyOf.map(u=>kr(u,e)),c=K.union(s);r=i?K.intersection(r,c):c;}if(t.oneOf&&Array.isArray(t.oneOf)){let s=t.oneOf.map(u=>kr(u,e)),c=K.xor(s);r=i?K.intersection(r,c):c;}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)r=i?r:K.any();else {let s=i?r:kr(t.allOf[0],e),c=i?0:1;for(let u=c;u<t.allOf.length;u++)s=K.intersection(s,kr(t.allOf[u],e));r=s;}t.nullable===true&&e.version==="openapi-3.0"&&(r=K.nullable(r)),t.readOnly===true&&(r=K.readonly(r));let n={},a=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let s of a)s in t&&(n[s]=t[s]);let o=["contentEncoding","contentMediaType","contentSchema"];for(let s of o)s in t&&(n[s]=t[s]);for(let s of Object.keys(t))C8e.has(s)||(n[s]=t[s]);return Object.keys(n).length>0&&e.registry.add(r,n),r}function Zge(t,e){if(typeof t=="boolean")return t?K.any():K.never();let r=N8e(t,e?.defaultTarget),i=t.$defs||t.definitions||{},n={version:r,defs:i,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??Ar};return kr(t,n)}var FH={};Pe(FH,{bigint:()=>L8e,boolean:()=>M8e,date:()=>D8e,number:()=>w8e,string:()=>I8e});function I8e(t){return pF(dh,t)}function w8e(t){return EF(fh,t)}function M8e(t){return xF(hh,t)}function L8e(t){return NF(mh,t)}function D8e(t){return VF(py,t)}Dt(QC());var U8e=process.env.ACTIONS_RUNNER_DEBUG==="true",$8e=Ue.object({attributes:Ue.record(Ue.string(),Ue.string()).optional(),body:Ue.string().optional(),endSpan:Ue.undefined().optional(),exception:Ue.boolean().optional(),name:Ue.string(),span:Ue.undefined().optional(),startSpan:Ue.undefined().optional()}),Xge=Ue.object({endSpan:Ue.string(),span:Ue.string(),startSpan:Ue.undefined().optional()}),Jge=Ue.object({endSpan:Ue.undefined().optional(),span:Ue.string(),startSpan:Ue.string()}),z8e=Ue.union([$8e,Xge,Jge]),V8e=Ue.object({APPLICATIONINSIGHTS_CONNECTION_STRING:Ue.string().optional(),CSP_LIST:Ue.string().default(""),GITHUB_ACTION_PATH:Ue.string().default(""),GITHUB_ACTOR:Ue.string().default(""),GITHUB_EVENT_NAME:Ue.string().default(""),GITHUB_REPOSITORY:Ue.string().default(""),GITHUB_RUN_ATTEMPT:Ue.string().default(""),GITHUB_RUN_ID:Ue.string().default(""),GITHUB_SERVER_URL:Ue.string().default(""),GITHUB_WORKFLOW:Ue.string().default("github-workflow"),GITHUB_WORKFLOW_REF:Ue.string().default(""),NODE_PACKAGE_MANAGER:Ue.string().default(""),OTEL_EVENT_FILE:Ue.string().optional(),OTEL_SESSION_START:Ue.string().default("0"),PIPELINE_RESULT:Ue.string().default("success"),TERRAFORM_VERSION:Ue.string().default("")});function B8e(t,e,r){for(let[i,n]of Object.entries(t))for(let a of n){if(!a.start||!a.end)continue;if(a.end<a.start){console.warn(`[setup-telemetry] Skipping span "${i}" due to end time (${a.end.toISOString()}) before start time (${a.start.toISOString()})`);continue}e.startSpan(i,{kind:be.INTERNAL,startTime:a.start},ce.setSpan(Te.active(),r)).end(a.end);}}function F8e(t,e,r,i,n,a,o){let s={"ci.pipeline.repo":i,"ci.pipeline.run.id":n,"enduser.id":r,...t.attributes};if(t.exception===true){console.debug(`Processing exception event: ${t.name}`);let c=t.name||"Exception";o.add(c),e.recordException({message:t.body||t.name,name:c}),e.setStatus({code:ut.ERROR,message:t.body||t.name}),e.setAttribute("cicd.pipeline.result","error");}else console.debug(`Processing custom event: ${t.name}, body: ${t.body}`),a.emit({attributes:{"microsoft.custom_event.name":t.name||"CustomEvent",...s},body:t.body||t.name});}function H8e(t,e){let r=e[t.span]=e[t.span]||[],i=r[r.length-1];(!i||i.start&&i.end)&&(i={},r.push(i)),"startSpan"in t&&t.startSpan&&(i.start=new Date(t.startSpan)),"endSpan"in t&&t.endSpan&&(i.start?i.end=new Date(t.endSpan):(i={end:new Date(t.endSpan)},r.push(i)));}function G8e(t){return Xge.safeParse(t).success||Jge.safeParse(t).success}function j8e(t){try{let e=JSON.parse(t),r=z8e.safeParse(e);return r.success?(console.debug("Parsed telemetry line:",r.data),r.data):(console.debug(`Skipped non-conforming line: ${t}`,r.error),null)}catch(e){return console.warn("Skipping malformed telemetry line: "+t),console.debug("Parse error:",e),null}}async function q8e(){let t=V8e.safeParse(process.env);if(!t.success)throw console.error("Environment validation failed:",t.error.issues.map(ee=>`${ee.path.join(".")}: ${ee.message}`).join(", ")),new Error("Required environment variables are missing or invalid");let e=t.data,r=parseInt(e.OTEL_SESSION_START,10),i=e.OTEL_EVENT_FILE;console.log(`Post telemetry: file=${i}`);let n=e.GITHUB_WORKFLOW,a=e.GITHUB_WORKFLOW_REF,o=e.GITHUB_RUN_ID,s=e.GITHUB_EVENT_NAME,c=e.GITHUB_RUN_ATTEMPT,u=e.GITHUB_REPOSITORY,l=e.GITHUB_ACTOR,d=`${e.GITHUB_SERVER_URL}/${e.GITHUB_REPOSITORY}/actions/runs/${e.GITHUB_RUN_ID}`,p=e.GITHUB_ACTION_PATH,f=e.NODE_PACKAGE_MANAGER,_=e.TERRAFORM_VERSION,y=e.CSP_LIST,v=e.PIPELINE_RESULT,O=od({"enduser.id":l,"service.instance.id":o,"service.name":a,"service.namespace":"dx"});ahe([],{azureMonitorExporterOptions:{connectionString:e.APPLICATIONINSIGHTS_CONNECTION_STRING},enableLiveMetrics:false,resource:O});let x=XG.getLoggerProvider().getLogger("workflow-logger","1.0.0"),I=ce.getTracer("workflow-tracer"),R=I.startSpan(n,{attributes:{"cicd.pipeline.action.name":n,"cicd.pipeline.attempt":c,"cicd.pipeline.author":l,"cicd.pipeline.path":p,"cicd.pipeline.repository":u,"cicd.pipeline.result":v,"cicd.pipeline.run.id":o,"cicd.pipeline.run.url.full":d,"cicd.pipeline.trigger":s,"error.type":"",...f?{"node.package_manager":f}:{},..._?{"terraform.version":_}:{},...y?{"cloud_provider.enabled":y}:{}},kind:be.SERVER,startTime:new Date(r)}),F=await K8e(i);console.debug(`Read ${F.length} lines from events file`);let $=new Set;F.length?(console.debug(`Processing ${F.length} telemetry lines`),W8e(F,R,I,l,u,o,x,$)):console.log("No events file found or empty"),$.size>0&&R.setAttribute("error.type",Array.from($).join(", ")),R.end();let G=1500;await new Promise(ee=>setTimeout(ee,G)),console.log("Telemetry flushed");}function W8e(t,e,r,i,n,a,o,s){let c={},u=0,l=0,d=0;Te.with(ce.setSpan(Te.active(),e),()=>{for(let p of t){let f=j8e(p);if(!f){d++,console.debug(`Skipped unparseable line (total skipped: ${d})`);continue}if(G8e(f)){u++,console.debug(`Processing span marker #${u}: ${f.span}`),H8e(f,c);continue}l++,console.debug(`Processing event #${l}: ${f.name}`),F8e(f,e,i,n,a,o,s);}console.debug(`Processing complete: ${l} events, ${u} span markers, ${d} skipped`),B8e(c,r,e);});}async function K8e(t){if(!t)return console.debug("No events file path provided"),[];try{console.debug(`Reading events file: ${t}`);let e=await Zs.promises.readFile(t,"utf-8");U8e&&console.debug(`File content (${e.length} bytes):
${e}`);let r=e.split(/\n/).map(i=>i.trim()).filter(Boolean);return console.debug(`Extracted ${r.length} non-empty lines`),r}catch(e){return console.debug(`Failed to read events file: ${t}`,e),[]}}q8e();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/