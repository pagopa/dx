{{#with cloudAccountsByCsp.azure}}
data "azuread_group" "admins" {
  display_name = "{{resourcePrefix @root}}-adgroup-admin"
}

data "azuread_group" "developers" {
  display_name = "{{resourcePrefix @root}}-adgroup-developers"
}

data "azuread_group" "externals" {
  display_name = "{{resourcePrefix @root}}-adgroup-externals"
}
{{/with}}

{{#with includesProdIO}}
data "azurerm_subscription" "PROD_IO" {
  provider = azurerm.PROD-IO
}

data "azurerm_resource_group" "common_itn_01" {
  provider = azurerm.PROD-IO
  name     = "io-p-itn-common-rg-01"
}

data "azurerm_resource_group" "common_weu" {
  provider = azurerm.PROD-IO
  name     = "io-p-rg-common"
}

data "azurerm_resource_group" "dashboards" {
  provider = azurerm.PROD-IO
  name     = "dashboards"
}

data "azurerm_container_app_environment" "runner" {
  provider            = azurerm.PROD-IO
  name                = "io-p-itn-github-runner-cae-01"
  resource_group_name = "io-p-itn-github-runner-rg-01"
}

data "azurerm_api_management" "apim" {
  provider            = azurerm.PROD-IO
  name                = "io-p-itn-apim-01"
  resource_group_name = data.azurerm_resource_group.common_itn_01.name
}

data "azurerm_key_vault" "common" {
  provider            = azurerm.PROD-IO
  name                = "io-p-kv-common"
  resource_group_name = data.azurerm_resource_group.common_weu.name
}

data "azurerm_virtual_network" "common" {
  provider            = azurerm.PROD-IO
  name                = "io-p-itn-common-vnet-01"
  resource_group_name = data.azurerm_resource_group.common_itn_01.name
}
{{/with}}
