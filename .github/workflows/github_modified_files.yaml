on:
  workflow_call:
    inputs:
      base_branch:
        description: The base branch
        type: string
        required: false
        default: main

concurrency:
  group: ${{ github.workflow }}-cd
  cancel-in-progress: true

jobs:
  get-files-diff:
    name: Found GitHub files diff
    runs-on: ubuntu-22.04

    permissions:
      contents: read
      actions: read

    steps:
      - uses: actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332 # v4.1.7
        name: Checkout

      - name: Found modified files
        uses: ./.github/actions/github_modified_files
        id: modified_files
        with:
          base_branch: main