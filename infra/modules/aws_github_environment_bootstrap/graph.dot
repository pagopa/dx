digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.aws_iam_policy.admin_access" [label="data.aws_iam_policy.admin_access"];
  "data.aws_iam_policy.ecs_admin_access" [label="data.aws_iam_policy.ecs_admin_access"];
  "data.aws_iam_policy.lambda_admin_access" [label="data.aws_iam_policy.lambda_admin_access"];
  "data.aws_iam_policy.lambda_read_only_access" [label="data.aws_iam_policy.lambda_read_only_access"];
  "data.aws_iam_policy.read_only_access" [label="data.aws_iam_policy.read_only_access"];
  "data.aws_iam_policy_document.ecs_read_only_access" [label="data.aws_iam_policy_document.ecs_read_only_access"];
  "data.aws_iam_policy_document.github_assume_role_policy" [label="data.aws_iam_policy_document.github_assume_role_policy"];
  "aws_iam_policy.ro_ecs" [label="aws_iam_policy.ro_ecs"];
  "aws_iam_role.app_cd" [label="aws_iam_role.app_cd"];
  "aws_iam_role.app_ci" [label="aws_iam_role.app_ci"];
  "aws_iam_role.infra_cd" [label="aws_iam_role.infra_cd"];
  "aws_iam_role.infra_ci" [label="aws_iam_role.infra_ci"];
  "aws_iam_role_policy_attachment.app_cd_admin_ecs" [label="aws_iam_role_policy_attachment.app_cd_admin_ecs"];
  "aws_iam_role_policy_attachment.app_cd_admin_lambda" [label="aws_iam_role_policy_attachment.app_cd_admin_lambda"];
  "aws_iam_role_policy_attachment.app_ci_ro_ecs" [label="aws_iam_role_policy_attachment.app_ci_ro_ecs"];
  "aws_iam_role_policy_attachment.app_ci_ro_lambda" [label="aws_iam_role_policy_attachment.app_ci_ro_lambda"];
  "aws_iam_role_policy_attachment.infra_cd_admin" [label="aws_iam_role_policy_attachment.infra_cd_admin"];
  "aws_iam_role_policy_attachment.infra_ci_ro" [label="aws_iam_role_policy_attachment.infra_ci_ro"];
  "github_actions_environment_secret.app_cd" [label="github_actions_environment_secret.app_cd"];
  "github_actions_environment_secret.app_ci" [label="github_actions_environment_secret.app_ci"];
  "github_actions_environment_secret.infra_cd" [label="github_actions_environment_secret.infra_cd"];
  "github_actions_environment_secret.infra_ci" [label="github_actions_environment_secret.infra_ci"];
  "github_actions_secret.repo_secrets" [label="github_actions_secret.repo_secrets"];
  subgraph "cluster_module.github_runner" {
    label = "module.github_runner"
    fontname = "sans-serif"
    "module.github_runner.data.aws_caller_identity.current" [label="data.aws_caller_identity.current"];
    "module.github_runner.data.aws_ssm_parameter.personal_access_token" [label="data.aws_ssm_parameter.personal_access_token"];
    "module.github_runner.aws_codebuild_project.github_runner" [label="aws_codebuild_project.github_runner"];
    "module.github_runner.aws_codebuild_source_credential.codeconnection" [label="aws_codebuild_source_credential.codeconnection"];
    "module.github_runner.aws_codebuild_source_credential.ssm" [label="aws_codebuild_source_credential.ssm"];
    "module.github_runner.aws_codebuild_source_credential.string" [label="aws_codebuild_source_credential.string"];
    "module.github_runner.aws_codebuild_webhook.github_webhook" [label="aws_codebuild_webhook.github_webhook"];
    "module.github_runner.aws_iam_policy.cloudwatch" [label="aws_iam_policy.cloudwatch"];
    "module.github_runner.aws_iam_policy.github_connection" [label="aws_iam_policy.github_connection"];
    "module.github_runner.aws_iam_policy.vpc_connection" [label="aws_iam_policy.vpc_connection"];
    "module.github_runner.aws_iam_role.codebuild_role" [label="aws_iam_role.codebuild_role"];
    "module.github_runner.aws_iam_role_policy_attachment.cloudwatch" [label="aws_iam_role_policy_attachment.cloudwatch"];
    "module.github_runner.aws_iam_role_policy_attachment.codebuild_policy" [label="aws_iam_role_policy_attachment.codebuild_policy"];
    "module.github_runner.aws_iam_role_policy_attachment.github_connection" [label="aws_iam_role_policy_attachment.github_connection"];
    "module.github_runner.aws_iam_role_policy_attachment.vpc_connection" [label="aws_iam_role_policy_attachment.vpc_connection"];
    "module.github_runner.aws_security_group.codebuild" [label="aws_security_group.codebuild"];
    "module.github_runner.aws_security_group_rule.codebuild_egress" [label="aws_security_group_rule.codebuild_egress"];
  }
  "aws_iam_policy.ro_ecs" -> "data.aws_iam_policy_document.ecs_read_only_access";
  "aws_iam_role.app_cd" -> "data.aws_iam_policy_document.github_assume_role_policy";
  "aws_iam_role.app_ci" -> "data.aws_iam_policy_document.github_assume_role_policy";
  "aws_iam_role.infra_cd" -> "data.aws_iam_policy_document.github_assume_role_policy";
  "aws_iam_role.infra_ci" -> "data.aws_iam_policy_document.github_assume_role_policy";
  "aws_iam_role_policy_attachment.app_cd_admin_ecs" -> "data.aws_iam_policy.ecs_admin_access";
  "aws_iam_role_policy_attachment.app_cd_admin_ecs" -> "aws_iam_role.app_cd";
  "aws_iam_role_policy_attachment.app_cd_admin_lambda" -> "data.aws_iam_policy.lambda_admin_access";
  "aws_iam_role_policy_attachment.app_cd_admin_lambda" -> "aws_iam_role.app_cd";
  "aws_iam_role_policy_attachment.app_ci_ro_ecs" -> "aws_iam_policy.ro_ecs";
  "aws_iam_role_policy_attachment.app_ci_ro_ecs" -> "aws_iam_role.app_ci";
  "aws_iam_role_policy_attachment.app_ci_ro_lambda" -> "data.aws_iam_policy.lambda_read_only_access";
  "aws_iam_role_policy_attachment.app_ci_ro_lambda" -> "aws_iam_role.app_ci";
  "aws_iam_role_policy_attachment.infra_cd_admin" -> "data.aws_iam_policy.admin_access";
  "aws_iam_role_policy_attachment.infra_cd_admin" -> "aws_iam_role.infra_cd";
  "aws_iam_role_policy_attachment.infra_ci_ro" -> "data.aws_iam_policy.read_only_access";
  "aws_iam_role_policy_attachment.infra_ci_ro" -> "aws_iam_role.infra_ci";
  "github_actions_environment_secret.app_cd" -> "aws_iam_role.app_cd";
  "github_actions_environment_secret.app_ci" -> "aws_iam_role.app_ci";
  "github_actions_environment_secret.infra_cd" -> "aws_iam_role.infra_cd";
  "github_actions_environment_secret.infra_ci" -> "aws_iam_role.infra_ci";
  "module.github_runner.aws_codebuild_project.github_runner" -> "module.github_runner.aws_iam_role.codebuild_role";
  "module.github_runner.aws_codebuild_project.github_runner" -> "module.github_runner.aws_security_group.codebuild";
  "module.github_runner.aws_codebuild_source_credential.ssm" -> "module.github_runner.data.aws_ssm_parameter.personal_access_token";
  "module.github_runner.aws_codebuild_webhook.github_webhook" -> "module.github_runner.aws_codebuild_project.github_runner";
  "module.github_runner.aws_codebuild_webhook.github_webhook" -> "module.github_runner.aws_codebuild_source_credential.codeconnection";
  "module.github_runner.aws_codebuild_webhook.github_webhook" -> "module.github_runner.aws_codebuild_source_credential.ssm";
  "module.github_runner.aws_codebuild_webhook.github_webhook" -> "module.github_runner.aws_codebuild_source_credential.string";
  "module.github_runner.aws_codebuild_webhook.github_webhook" -> "module.github_runner.aws_iam_role_policy_attachment.github_connection";
  "module.github_runner.aws_iam_policy.cloudwatch" -> "module.github_runner.data.aws_caller_identity.current";
  "module.github_runner.aws_iam_policy.vpc_connection" -> "module.github_runner.data.aws_caller_identity.current";
  "module.github_runner.aws_iam_role_policy_attachment.cloudwatch" -> "module.github_runner.aws_iam_policy.cloudwatch";
  "module.github_runner.aws_iam_role_policy_attachment.cloudwatch" -> "module.github_runner.aws_iam_role.codebuild_role";
  "module.github_runner.aws_iam_role_policy_attachment.codebuild_policy" -> "module.github_runner.aws_iam_role.codebuild_role";
  "module.github_runner.aws_iam_role_policy_attachment.github_connection" -> "module.github_runner.aws_iam_policy.github_connection";
  "module.github_runner.aws_iam_role_policy_attachment.github_connection" -> "module.github_runner.aws_iam_role.codebuild_role";
  "module.github_runner.aws_iam_role_policy_attachment.vpc_connection" -> "module.github_runner.aws_iam_policy.vpc_connection";
  "module.github_runner.aws_iam_role_policy_attachment.vpc_connection" -> "module.github_runner.aws_iam_role.codebuild_role";
  "module.github_runner.aws_security_group_rule.codebuild_egress" -> "module.github_runner.aws_codebuild_project.github_runner";
}
