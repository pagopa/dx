digraph G {
  rankdir = "RL";
  node [shape = rect, fontname = "sans-serif"];
  "data.azurerm_client_config.current" [label="data.azurerm_client_config.current"];
  "azurerm_resource_group.common" [label="azurerm_resource_group.common"];
  "azurerm_resource_group.gh_runner" [label="azurerm_resource_group.gh_runner"];
  "azurerm_resource_group.network" [label="azurerm_resource_group.network"];
  "azurerm_resource_group.opex" [label="azurerm_resource_group.opex"];
  "azurerm_resource_group.test" [label="azurerm_resource_group.test"];
  subgraph "cluster_module.application_insights" {
    label = "module.application_insights"
    fontname = "sans-serif"
    "module.application_insights.azurerm_application_insights.appi" [label="azurerm_application_insights.appi"];
    "module.application_insights.azurerm_key_vault_secret.appinsights_instrumentation_key" [label="azurerm_key_vault_secret.appinsights_instrumentation_key"];
  }
  subgraph "cluster_module.common_log_analytics" {
    label = "module.common_log_analytics"
    fontname = "sans-serif"
    "module.common_log_analytics.azurerm_log_analytics_workspace.this" [label="azurerm_log_analytics_workspace.this"];
  }
  subgraph "cluster_module.dns" {
    label = "module.dns"
    fontname = "sans-serif"
    "module.dns.azurerm_private_dns_zone.private_dns_zones" [label="azurerm_private_dns_zone.private_dns_zones"];
    "module.dns.azurerm_private_dns_zone_virtual_network_link.private_dns_links" [label="azurerm_private_dns_zone_virtual_network_link.private_dns_links"];
  }
  subgraph "cluster_module.github_runner" {
    label = "module.github_runner"
    fontname = "sans-serif"
    "module.github_runner.azurerm_container_app_environment.cae" [label="azurerm_container_app_environment.cae"];
    "module.github_runner.azurerm_management_lock.lock_cae" [label="azurerm_management_lock.lock_cae"];
  }
  subgraph "cluster_module.key_vault" {
    label = "module.key_vault"
    fontname = "sans-serif"
    "module.key_vault.azurerm_key_vault.common" [label="azurerm_key_vault.common"];
    "module.key_vault.azurerm_private_endpoint.vault" [label="azurerm_private_endpoint.vault"];
  }
  subgraph "cluster_module.nat_gateway" {
    label = "module.nat_gateway"
    fontname = "sans-serif"
    "module.nat_gateway.azurerm_nat_gateway.this" [label="azurerm_nat_gateway.this"];
    "module.nat_gateway.azurerm_nat_gateway_public_ip_prefix_association.this_ippres" [label="azurerm_nat_gateway_public_ip_prefix_association.this_ippres"];
    "module.nat_gateway.azurerm_public_ip_prefix.ng" [label="azurerm_public_ip_prefix.ng"];
  }
  subgraph "cluster_module.network" {
    label = "module.network"
    fontname = "sans-serif"
    "module.network.azurerm_subnet.dns_forwarder_snet" [label="azurerm_subnet.dns_forwarder_snet"];
    "module.network.azurerm_subnet.pep_snet" [label="azurerm_subnet.pep_snet"];
    "module.network.azurerm_subnet.runner_snet" [label="azurerm_subnet.runner_snet"];
    "module.network.azurerm_subnet.test_snet" [label="azurerm_subnet.test_snet"];
    "module.network.azurerm_subnet.vpn_snet" [label="azurerm_subnet.vpn_snet"];
    "module.network.azurerm_virtual_network.vnet" [label="azurerm_virtual_network.vnet"];
    "module.network.dx_available_subnet_cidr.dns_forwarder_cidr" [label="dx_available_subnet_cidr.dns_forwarder_cidr"];
    "module.network.dx_available_subnet_cidr.pep_cidr" [label="dx_available_subnet_cidr.pep_cidr"];
    "module.network.dx_available_subnet_cidr.runner_cidr" [label="dx_available_subnet_cidr.runner_cidr"];
    "module.network.dx_available_subnet_cidr.test_cidr" [label="dx_available_subnet_cidr.test_cidr"];
    "module.network.dx_available_subnet_cidr.vpn_cidr" [label="dx_available_subnet_cidr.vpn_cidr"];
  }
  subgraph "cluster_module.vpn" {
    label = "module.vpn"
    fontname = "sans-serif"
    "module.vpn.data.azuread_application.vpn_app" [label="data.azuread_application.vpn_app"];
  }
  subgraph "cluster_module.vpn.module.dns_forwarder" {
    label = "module.vpn.module.dns_forwarder"
    fontname = "sans-serif"
    "module.vpn.module.dns_forwarder.data.local_file.corefile" [label="data.local_file.corefile"];
    "module.vpn.module.dns_forwarder.azurerm_container_group.this" [label="azurerm_container_group.this"];
    "module.vpn.module.dns_forwarder.null_resource.secret_trigger" [label="null_resource.secret_trigger"];
  }
  subgraph "cluster_module.vpn.module.vpn" {
    label = "module.vpn.module.vpn"
    fontname = "sans-serif"
    "module.vpn.module.vpn.azurerm_local_network_gateway.local" [label="azurerm_local_network_gateway.local"];
    "module.vpn.module.vpn.azurerm_monitor_diagnostic_setting.gw_pip" [label="azurerm_monitor_diagnostic_setting.gw_pip"];
    "module.vpn.module.vpn.azurerm_monitor_diagnostic_setting.sec_gw_logs" [label="azurerm_monitor_diagnostic_setting.sec_gw_logs"];
    "module.vpn.module.vpn.azurerm_public_ip.gw" [label="azurerm_public_ip.gw"];
    "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw" [label="azurerm_virtual_network_gateway.gw"];
    "module.vpn.module.vpn.azurerm_virtual_network_gateway_connection.local" [label="azurerm_virtual_network_gateway_connection.local"];
    "module.vpn.module.vpn.random_string.dns" [label="random_string.dns"];
  }
  "module.application_insights.azurerm_application_insights.appi" -> "module.common_log_analytics.azurerm_log_analytics_workspace.this";
  "module.application_insights.azurerm_key_vault_secret.appinsights_instrumentation_key" -> "module.application_insights.azurerm_application_insights.appi";
  "module.application_insights.azurerm_key_vault_secret.appinsights_instrumentation_key" -> "module.key_vault.azurerm_key_vault.common";
  "module.common_log_analytics.azurerm_log_analytics_workspace.this" -> "azurerm_resource_group.common";
  "module.dns.azurerm_private_dns_zone.private_dns_zones" -> "azurerm_resource_group.network";
  "module.dns.azurerm_private_dns_zone_virtual_network_link.private_dns_links" -> "module.dns.azurerm_private_dns_zone.private_dns_zones";
  "module.dns.azurerm_private_dns_zone_virtual_network_link.private_dns_links" -> "module.network.azurerm_virtual_network.vnet";
  "module.github_runner.azurerm_container_app_environment.cae" -> "azurerm_resource_group.gh_runner";
  "module.github_runner.azurerm_container_app_environment.cae" -> "module.common_log_analytics.azurerm_log_analytics_workspace.this";
  "module.github_runner.azurerm_container_app_environment.cae" -> "module.network.azurerm_subnet.runner_snet";
  "module.github_runner.azurerm_management_lock.lock_cae" -> "module.github_runner.azurerm_container_app_environment.cae";
  "module.key_vault.azurerm_key_vault.common" -> "data.azurerm_client_config.current";
  "module.key_vault.azurerm_key_vault.common" -> "azurerm_resource_group.common";
  "module.key_vault.azurerm_private_endpoint.vault" -> "module.dns.azurerm_private_dns_zone.private_dns_zones";
  "module.key_vault.azurerm_private_endpoint.vault" -> "module.key_vault.azurerm_key_vault.common";
  "module.key_vault.azurerm_private_endpoint.vault" -> "module.network.azurerm_subnet.pep_snet";
  "module.nat_gateway.azurerm_nat_gateway.this" -> "module.network.azurerm_subnet.test_snet";
  "module.nat_gateway.azurerm_nat_gateway_public_ip_prefix_association.this_ippres" -> "module.nat_gateway.azurerm_nat_gateway.this";
  "module.nat_gateway.azurerm_nat_gateway_public_ip_prefix_association.this_ippres" -> "module.nat_gateway.azurerm_public_ip_prefix.ng";
  "module.nat_gateway.azurerm_public_ip_prefix.ng" -> "module.network.azurerm_subnet.test_snet";
  "module.network.azurerm_subnet.dns_forwarder_snet" -> "module.network.dx_available_subnet_cidr.dns_forwarder_cidr";
  "module.network.azurerm_subnet.pep_snet" -> "module.network.dx_available_subnet_cidr.pep_cidr";
  "module.network.azurerm_subnet.runner_snet" -> "module.network.dx_available_subnet_cidr.runner_cidr";
  "module.network.azurerm_subnet.test_snet" -> "module.network.dx_available_subnet_cidr.test_cidr";
  "module.network.azurerm_subnet.vpn_snet" -> "module.network.dx_available_subnet_cidr.vpn_cidr";
  "module.network.azurerm_virtual_network.vnet" -> "azurerm_resource_group.network";
  "module.network.dx_available_subnet_cidr.dns_forwarder_cidr" -> "module.network.azurerm_subnet.vpn_snet";
  "module.network.dx_available_subnet_cidr.pep_cidr" -> "module.network.azurerm_virtual_network.vnet";
  "module.network.dx_available_subnet_cidr.runner_cidr" -> "module.network.azurerm_subnet.pep_snet";
  "module.network.dx_available_subnet_cidr.test_cidr" -> "module.network.azurerm_subnet.dns_forwarder_snet";
  "module.network.dx_available_subnet_cidr.vpn_cidr" -> "module.network.azurerm_subnet.runner_snet";
  "module.vpn.module.dns_forwarder.azurerm_container_group.this" -> "module.network.azurerm_subnet.dns_forwarder_snet";
  "module.vpn.module.dns_forwarder.azurerm_container_group.this" -> "module.vpn.module.dns_forwarder.null_resource.secret_trigger";
  "module.vpn.module.dns_forwarder.null_resource.secret_trigger" -> "module.vpn.module.dns_forwarder.data.local_file.corefile";
  "module.vpn.module.vpn.azurerm_local_network_gateway.local" -> "azurerm_resource_group.network";
  "module.vpn.module.vpn.azurerm_monitor_diagnostic_setting.gw_pip" -> "module.vpn.module.vpn.azurerm_public_ip.gw";
  "module.vpn.module.vpn.azurerm_monitor_diagnostic_setting.sec_gw_logs" -> "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw";
  "module.vpn.module.vpn.azurerm_public_ip.gw" -> "azurerm_resource_group.network";
  "module.vpn.module.vpn.azurerm_public_ip.gw" -> "module.vpn.module.vpn.random_string.dns";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw" -> "data.azurerm_client_config.current";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw" -> "module.network.azurerm_subnet.vpn_snet";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw" -> "module.vpn.data.azuread_application.vpn_app";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw" -> "module.vpn.module.vpn.azurerm_public_ip.gw";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway_connection.local" -> "module.vpn.module.vpn.azurerm_local_network_gateway.local";
  "module.vpn.module.vpn.azurerm_virtual_network_gateway_connection.local" -> "module.vpn.module.vpn.azurerm_virtual_network_gateway.gw";
}
